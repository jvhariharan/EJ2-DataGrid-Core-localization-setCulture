var ej = function(exports) {
    "use strict";
    function createInstance(classFunction, params) {
        var arrayParam = params;
        return arrayParam.unshift(void 0), new (Function.prototype.bind.apply(classFunction, arrayParam))();
    }
    function setImmediate(handler) {
        var unbind, num = new Uint16Array(5);
        (window.msCrypto || window.crypto).getRandomValues(num);
        var secret = "ej2" + function(num) {
            for (var ret = "", i = 0; i < 5; i++) ret += (i ? "," : "") + num[i];
            return ret;
        }(num), messageHandler = function(event) {
            event.source === window && "string" == typeof event.data && event.data.length <= 32 && event.data === secret && (handler(), 
            unbind());
        };
        return window.addEventListener("message", messageHandler, !1), window.postMessage(secret, "*"), 
        unbind = function() {
            window.removeEventListener("message", messageHandler);
        };
    }
    function getValue(nameSpace, obj) {
        for (var value = obj, splits = nameSpace.split("."), i = 0; i < splits.length && !isUndefined(value); i++) value = value[splits[i]];
        return value;
    }
    function setValue(nameSpace, value, obj) {
        var i, key, keys = nameSpace.split("."), start = obj || {}, fromObj = start, length = keys.length;
        for (i = 0; i < length; i++) key = keys[i], i + 1 === length ? fromObj[key] = void 0 === value ? {} : value : isNullOrUndefined(fromObj[key]) && (fromObj[key] = {}), 
        fromObj = fromObj[key];
        return start;
    }
    function deleteObject(obj, key) {
        delete obj[key];
    }
    function isObject(obj) {
        return !isNullOrUndefined(obj) && obj.constructor === {}.constructor;
    }
    function getEnumValue(enumObject, enumValue) {
        return enumObject[enumValue];
    }
    function merge(source, destination) {
        if (!isNullOrUndefined(destination)) for (var temrObj = source, tempProp = destination, _i = 0, keys_1 = Object.keys(destination); _i < keys_1.length; _i++) {
            var key = keys_1[_i];
            temrObj[key] = tempProp[key];
        }
    }
    function extend(copied, first, second, deep) {
        var result = copied || {}, length = arguments.length;
        deep && (length -= 1);
        for (var _loop_1 = function(i) {
            if (!arguments_1[i]) return "continue";
            var obj1 = arguments_1[i];
            Object.keys(obj1).forEach(function(key) {
                var clone, src = result[key], copy = obj1[key];
                deep && isObject(copy) ? (clone = isObject(src) ? src : {}, result[key] = extend({}, clone, copy, !0)) : result[key] = copy;
            });
        }, arguments_1 = arguments, i = 1; i < length; i++) _loop_1(i);
        return result;
    }
    function isNullOrUndefined(value) {
        return void 0 === value || null === value;
    }
    function isUndefined(value) {
        return void 0 === value;
    }
    function getUniqueID(definedName) {
        return definedName + "_" + uid++;
    }
    function debounce(eventFunction, delay) {
        var out;
        return function() {
            var _this = this, args = arguments;
            clearTimeout(out), out = setTimeout(function() {
                return out = null, eventFunction.apply(_this, args);
            }, delay);
        };
    }
    function compareElementParent(child, parent) {
        var node = child;
        return node === parent || !(node === document || !node) && compareElementParent(node.parentNode, parent);
    }
    function throwError(message) {
        try {
            throw new Error(message);
        } catch (e) {
            throw e.message + "\n" + e.stack;
        }
    }
    function print(element, printWindow) {
        var div = document.createElement("div"), links = [].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("link, style")), reference = "";
        isNullOrUndefined(printWindow) && (printWindow = window.open("", "print", "height=452,width=1024,tabbar=no")), 
        div.appendChild(element.cloneNode(!0));
        for (var i = 0, len = links.length; i < len; i++) reference += links[i].outerHTML;
        printWindow.document.write("<!DOCTYPE html> <html><head>" + reference + "</head><body>" + div.innerHTML + "<script> (function() { window.ready = true; })(); <\/script></body></html>"), 
        printWindow.document.close(), printWindow.focus();
        var interval = setInterval(function() {
            printWindow.ready && (printWindow.print(), printWindow.close(), clearInterval(interval));
        }, 500);
        return printWindow;
    }
    function formatUnit(value) {
        var result = value + "";
        return "auto" === result || -1 !== result.indexOf("%") || -1 !== result.indexOf("px") ? result : result + "px";
    }
    function getInstance(element, component) {
        var elem = "string" == typeof element ? document.querySelector(element) : element;
        if (elem[instances]) for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {
            var inst = _a[_i];
            if (inst instanceof component) return inst;
        }
        return null;
    }
    function uniqueID() {
        var num = new Uint16Array(5);
        return (window.msCrypto || window.crypto).getRandomValues(num);
    }
    function createElement(tagName, properties) {
        var element = document.createElement(tagName);
        return void 0 === properties ? element : (element.innerHTML = properties.innerHTML ? properties.innerHTML : "", 
        void 0 !== properties.className && (element.className = properties.className), void 0 !== properties.id && (element.id = properties.id), 
        void 0 !== properties.styles && element.setAttribute("style", properties.styles), 
        void 0 !== properties.attrs && attributes(element, properties.attrs), element);
    }
    function addClass(elements, classes) {
        for (var classList = getClassList(classes), _i = 0, _a = elements; _i < _a.length; _i++) for (var ele = _a[_i], _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {
            var className = classList_1[_b];
            ele.classList.contains(className) || ele.classList.add(className);
        }
        return elements;
    }
    function removeClass(elements, classes) {
        for (var classList = getClassList(classes), _i = 0, _a = elements; _i < _a.length; _i++) {
            var ele = _a[_i];
            if ("" !== ele.className) for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {
                var className = classList_2[_b];
                ele.classList.remove(className);
            }
        }
        return elements;
    }
    function getClassList(classes) {
        var classList = [];
        return "string" == typeof classes ? classList.push(classes) : classList = classes, 
        classList;
    }
    function isVisible(element) {
        var ele = element;
        return "" === ele.style.visibility && ele.offsetWidth > 0;
    }
    function prepend(fromElements, toElement) {
        for (var docFrag = document.createDocumentFragment(), _i = 0, _a = fromElements; _i < _a.length; _i++) {
            var ele = _a[_i];
            docFrag.appendChild(ele);
        }
        return toElement.insertBefore(docFrag, toElement.firstElementChild), fromElements;
    }
    function append(fromElements, toElement) {
        for (var docFrag = document.createDocumentFragment(), _i = 0, _a = fromElements; _i < _a.length; _i++) {
            var ele = _a[_i];
            docFrag.appendChild(ele);
        }
        return toElement.appendChild(docFrag), fromElements;
    }
    function detach(element) {
        return element.parentNode.removeChild(element);
    }
    function remove(element) {
        var parentNode = element.parentNode;
        EventHandler.clearEvents(element), parentNode.removeChild(element);
    }
    function attributes(element, attributes) {
        for (var ele = element, _i = 0, keys_1 = Object.keys(attributes); _i < keys_1.length; _i++) {
            var key = keys_1[_i];
            ele.setAttribute(key, attributes[key]);
        }
        return ele;
    }
    function select(selector, context) {
        return void 0 === context && (context = document), context.querySelector(selector);
    }
    function selectAll(selector, context) {
        void 0 === context && (context = document);
        return context.querySelectorAll(selector);
    }
    function closest(element, selector) {
        var el = element;
        if ("function" == typeof el.closest) return el.closest(selector);
        for (;el && 1 === el.nodeType; ) {
            if (matches(el, selector)) return el;
            el = el.parentNode;
        }
        return null;
    }
    function setStyleAttribute(element, attrs) {
        void 0 !== attrs && Object.keys(attrs).forEach(function(key) {
            element.style[key] = attrs[key];
        });
    }
    function classList(element, addClasses, removeClasses) {
        addClass([ element ], addClasses), removeClass([ element ], removeClasses);
    }
    function matches(element, selector) {
        var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;
        return matches ? matches.call(element, selector) : -1 !== [].indexOf.call(document.querySelectorAll(selector), element);
    }
    function getObject(instance, curKey, defaultValue, type) {
        return instance.properties.hasOwnProperty(curKey) || (instance.properties[curKey] = createInstance(type, [ instance, curKey, defaultValue ])), 
        instance.properties[curKey];
    }
    function getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {
        for (var result = [], len = defaultValue.length, i = 0; i < len; i++) {
            var curType = type;
            if (isFactory && (curType = type(defaultValue[i])), isSetter) {
                var inst = createInstance(curType, [ instance, curKey, {}, !0 ]);
                inst.setProperties(defaultValue[i], !0), result.push(inst);
            } else result.push(createInstance(curType, [ instance, curKey, defaultValue[i], !0 ]));
        }
        return result;
    }
    function propertyGetter(defaultValue, curKey) {
        return function() {
            return this.properties.hasOwnProperty(curKey) || (this.properties[curKey] = defaultValue), 
            this.properties[curKey];
        };
    }
    function Property(defaultValue) {
        return function(target, key) {
            var propertyDescriptor = {
                set: function(defaultValue, curKey) {
                    return function(newValue) {
                        if (this.properties[curKey] !== newValue) {
                            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;
                            this.saveChanges(curKey, newValue, oldVal), this.properties[curKey] = newValue;
                        }
                    };
                }(defaultValue, key),
                get: propertyGetter(defaultValue, key),
                enumerable: !0,
                configurable: !0
            };
            Object.defineProperty(target, key, propertyDescriptor), addPropertyCollection(target, key, "prop", defaultValue);
        };
    }
    function Complex(defaultValue, type) {
        return function(target, key) {
            var propertyDescriptor = {
                set: function(defaultValue, curKey, type) {
                    return function(newValue) {
                        getObject(this, curKey, defaultValue, type).setProperties(newValue);
                    };
                }(defaultValue, key, type),
                get: function(defaultValue, curKey, type) {
                    return function() {
                        return getObject(this, curKey, defaultValue, type);
                    };
                }(defaultValue, key, type),
                enumerable: !0,
                configurable: !0
            };
            Object.defineProperty(target, key, propertyDescriptor), addPropertyCollection(target, key, "complexProp", defaultValue, type);
        };
    }
    function Collection(defaultValue, type) {
        return function(target, key) {
            var propertyDescriptor = {
                set: function(defaultValue, curKey, type) {
                    return function(newValue) {
                        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, !1), newValCollection = getObjectArray(this, curKey, newValue, type, !0);
                        this.saveChanges(curKey, newValCollection, oldValueCollection), this.properties[curKey] = newValCollection;
                    };
                }(defaultValue, key, type),
                get: function(defaultValue, curKey, type) {
                    return function() {
                        if (!this.properties.hasOwnProperty(curKey)) {
                            var defCollection = getObjectArray(this, curKey, defaultValue, type, !1);
                            this.properties[curKey] = defCollection;
                        }
                        return this.properties[curKey];
                    };
                }(defaultValue, key, type),
                enumerable: !0,
                configurable: !0
            };
            Object.defineProperty(target, key, propertyDescriptor), addPropertyCollection(target, key, "colProp", defaultValue, type);
        };
    }
    function Event() {
        return function(target, key) {
            var eventDescriptor = {
                set: function(newValue) {
                    var oldValue = this.properties[key];
                    if (oldValue !== newValue) {
                        var finalContext = getParentContext(this, key);
                        !1 === isUndefined(oldValue) && finalContext.context.removeEventListener(finalContext.prefix, oldValue), 
                        finalContext.context.addEventListener(finalContext.prefix, newValue), this.properties[key] = newValue;
                    }
                },
                get: propertyGetter(void 0, key),
                enumerable: !0,
                configurable: !0
            };
            Object.defineProperty(target, key, eventDescriptor), addPropertyCollection(target, key, "event");
        };
    }
    function NotifyPropertyChanges(classConstructor) {}
    function addPropertyCollection(target, key, propertyType, defaultValue, type) {
        isUndefined(target.propList) && (target.propList = {
            props: [],
            complexProps: [],
            colProps: [],
            events: [],
            propNames: [],
            complexPropNames: [],
            colPropNames: [],
            eventNames: []
        }), target.propList[propertyType + "s"].push({
            propertyName: key,
            defaultValue: defaultValue,
            type: type
        }), target.propList[propertyType + "Names"].push(key);
    }
    function getBuilderProperties(component) {
        if (isUndefined(component.prototype.builderObject)) {
            component.prototype.builderObject = {
                properties: {},
                propCollections: [],
                add: function() {
                    this.isPropertyArray = !0, this.propCollections.push(extend({}, this.properties, {}));
                }
            };
            for (var rex = /complex/, _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) for (var key = _a[_i], _loop_1 = function(prop) {
                rex.test(key) ? component.prototype.builderObject[prop.propertyName] = function(value) {
                    var childType = {};
                    merge(childType, getBuilderProperties(prop.type)), value(childType);
                    var tempValue;
                    return tempValue = childType.isPropertyArray ? childType.propCollections : extend({}, childType.properties, {}), 
                    this.properties[prop.propertyName] = tempValue, childType.properties = {}, childType.propCollections = [], 
                    childType.isPropertyArray = !1, this;
                } : component.prototype.builderObject[prop.propertyName] = function(value) {
                    return this.properties[prop.propertyName] = value, this;
                };
            }, _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {
                _loop_1(_c[_b]);
            }
        }
        return component.prototype.builderObject;
    }
    function getParentContext(context, prefix) {
        if (!1 === context.hasOwnProperty("parentObj")) return {
            context: context,
            prefix: prefix
        };
        var curText = getValue("propName", context);
        return curText && (prefix = curText + "-" + prefix), getParentContext(getValue("parentObj", context), prefix);
    }
    function rippleEffect(element, rippleOptions, done) {
        var rippleModel = function(rippleOptions) {
            return {
                selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,
                ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,
                rippleFlag: rippleOptions && rippleOptions.rippleFlag,
                isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,
                duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350
            };
        }(rippleOptions);
        return !1 === rippleModel.rippleFlag || void 0 === rippleModel.rippleFlag && !isRippleEnabled ? Function : (element.setAttribute("data-ripple", "true"), 
        EventHandler.add(element, "mousedown", rippleHandler, {
            parent: element,
            rippleOptions: rippleModel
        }), EventHandler.add(element, "mouseup", rippleUpHandler, {
            parent: element,
            rippleOptions: rippleModel,
            done: done
        }), EventHandler.add(element, "mouseleave", rippleLeaveHandler, {
            parent: element,
            rippleOptions: rippleModel
        }), Browser.isPointer && EventHandler.add(element, "transitionend", rippleLeaveHandler, {
            parent: element,
            rippleOptions: rippleModel
        }), function() {
            element.removeAttribute("data-ripple"), EventHandler.remove(element, "mousedown", rippleHandler), 
            EventHandler.remove(element, "mouseup", rippleUpHandler), EventHandler.remove(element, "mouseleave", rippleLeaveHandler), 
            EventHandler.remove(element, "transitionend", rippleLeaveHandler);
        });
    }
    function rippleHandler(e) {
        var target = e.target, selector = this.rippleOptions.selector, element = selector ? closest(target, selector) : target;
        if (!(!element || this.rippleOptions && closest(target, this.rippleOptions.ignore))) {
            var offset = element.getBoundingClientRect(), offsetX = e.pageX - document.body.scrollLeft, offsetY = e.pageY - document.body.scrollTop, pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right)), pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom)), radius = Math.sqrt(pageX * pageX + pageY * pageY), diameter = 2 * radius + "px", x = offsetX - offset.left - radius, y = offsetY - offset.top - radius;
            this.rippleOptions && this.rippleOptions.isCenterRipple && (x = 0, y = 0, diameter = "100%"), 
            element.classList.add("e-ripple");
            var rippleElement = createElement("div", {
                className: "e-ripple-element",
                styles: "width: " + diameter + ";height: " + diameter + ";left: " + x + "px;top: " + y + "px;transition-duration: " + this.rippleOptions.duration.toString() + "ms;"
            });
            element.appendChild(rippleElement), window.getComputedStyle(rippleElement).getPropertyValue("opacity"), 
            rippleElement.style.transform = "scale(1)", element !== this.parent && EventHandler.add(element, "mouseleave", rippleLeaveHandler, {
                parent: this.parent,
                rippleOptions: this.rippleOptions
            });
        }
    }
    function rippleUpHandler(e) {
        removeRipple(e, this);
    }
    function rippleLeaveHandler(e) {
        removeRipple(e, this);
    }
    function removeRipple(e, eventArgs) {
        var duration = eventArgs.rippleOptions.duration, target = e.target, selector = eventArgs.rippleOptions.selector, element = selector ? closest(target, selector) : target;
        if (element && (!element || -1 !== element.className.indexOf("e-ripple"))) {
            var rippleElements = selectAll(".e-ripple-element", element), rippleElement = rippleElements[rippleElements.length - 1];
            rippleElement && (rippleElement.style.opacity = "0.5"), eventArgs.parent !== element && EventHandler.remove(element, "mouseleave", rippleLeaveHandler), 
            setTimeout(function() {
                rippleElement && rippleElement.parentNode && rippleElement.parentNode.removeChild(rippleElement), 
                element.getElementsByClassName("e-ripple-element").length || element.classList.remove("e-ripple"), 
                eventArgs.done && eventArgs.done(e);
            }, duration);
        }
    }
    function setCulture(cultureName) {
        defaultCulture = cultureName, onIntlChange.notify("notifyExternalChange", {
            locale: defaultCulture
        });
    }
    function getNumericObject(locale, type) {
        var numObject = IntlBase.getDependables(cldrData, locale, !0)[mapper[0]], dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]], numSystem = getValue("defaultNumberingSystem", numObject), symbPattern = getValue("symbols-numberSystem-" + numSystem, numObject), pattern = IntlBase.getSymbolPattern(type || "decimal", numSystem, numObject, !1);
        return extend(symbPattern, IntlBase.getFormatData(pattern, !0, "", !0), {
            dateSeparator: IntlBase.getDateSeparator(dateObject)
        });
    }
    function getDefaultDateObject() {
        return IntlBase.getDependables(cldrData, "", !1)[mapper[1]];
    }
    function compile$1(template, helper) {
        var fnCode = 'var str="' + function(str, nameSpace, helper) {
            var localKeys = [];
            return str.replace(LINES, "").replace(DBL_QUOTED_STR, "'$1'").replace(exp, function(match, cnt, offset, matchStr) {
                var matches = cnt.match(CALL_FUNCTION);
                if (matches) {
                    var rlStr = matches[1];
                    if (IF_STMT.test(cnt)) cnt = '"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function(str) {
                        return str = str.trim(), addNameSpace(str, !QUOTES.test(str) && -1 === localKeys.indexOf(str), nameSpace, localKeys);
                    })) + '{ \n str = str + "'; else if (FOR_STMT.test(cnt)) {
                        var rlStr_1 = matches[1].split(" of ");
                        cnt = '"; ' + cnt.replace(matches[1], function(mtc) {
                            return localKeys.push(rlStr_1[0]), localKeys.push(rlStr_1[0] + "Index"), "var i=0; i < " + addNameSpace(rlStr_1[1], !0, nameSpace, localKeys) + ".length; i++";
                        }) + "{ \n " + rlStr_1[0] + "= " + addNameSpace(rlStr_1[1], !0, nameSpace, localKeys) + "[i]; \n var " + rlStr_1[0] + 'Index=i; \n str = str + "';
                    } else {
                        var fnStr = cnt.split("("), fNameSpace = helper && helper.hasOwnProperty(fnStr[0]) ? "this." : "global";
                        fNameSpace = /\./.test(fnStr[0]) ? "" : fNameSpace, cnt = '" + ' + ("global" === fNameSpace ? "" : fNameSpace) + cnt.replace(rlStr, addNameSpace(matches[1].replace(",", nameSpace + "."), "global" !== fNameSpace, nameSpace, localKeys)) + '+"';
                    }
                } else cnt = ELSE_STMT.test(cnt) ? '"; ' + cnt.replace(ELSE_STMT, '} else { \n str = str + "') : cnt.match(IF_OR_FOR) ? cnt.replace(IF_OR_FOR, '"; \n } \n str = str + "') : '"+' + addNameSpace(cnt, -1 === localKeys.indexOf(cnt), nameSpace, localKeys) + '+"';
                return cnt;
            });
        }(template, "data", helper) + '"; return str;';
        return new Function("data", fnCode).bind(helper);
    }
    function addNameSpace(str, addNS, nameSpace, ignoreList) {
        return addNS && !NOT_NUMBER.test(str) && -1 === ignoreList.indexOf(str.split(".")[0]) ? nameSpace + "." + str : str;
    }
    function compile$$1(templateString, helper) {
        var compiler = engineObj.compile(templateString, helper);
        return function(data, component, propName) {
            var result = compiler(data, component, propName);
            if ("string" == typeof result) {
                return createElement(HAS_ROW.test(result) ? "table" : "div", {
                    innerHTML: result
                }).childNodes;
            }
            return result;
        };
    }
    function wrapperInitialize(tag, type, element, WRAPPER) {
        if (element.tagName === tag) {
            for (var ejInstance = getValue("ej2_instances", element), input = createElement("input", {
                attrs: {
                    type: type
                }
            }), props = [ "change", "cssClass", "label", "labelPosition" ], wrapper = createElement(tag, {
                className: WRAPPER,
                attrs: {
                    role: type,
                    "aria-checked": "false"
                }
            }), index = 0, len = element.attributes.length; index < len; index++) -1 === props.indexOf(element.attributes[index].nodeName) && input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);
            element.parentNode.insertBefore(input, element), detach(element), (element = input).parentNode.insertBefore(wrapper, element), 
            wrapper.appendChild(element), setValue("ej2_instances", ejInstance, element);
        }
        return element;
    }
    function getTextNode(element) {
        for (var node, childnode = element.childNodes, i = 0; i < childnode.length; i++) if (3 === (node = childnode[i]).nodeType) return node;
        return null;
    }
    function createCheckBox(enableRipple$$1, options) {
        void 0 === enableRipple$$1 && (enableRipple$$1 = !1), void 0 === options && (options = {});
        var wrapper = createElement("div", {
            className: "e-checkbox-wrapper e-css"
        });
        if (options.cssClass && addClass([ wrapper ], options.cssClass.split(" ")), options.enableRtl && wrapper.classList.add("e-rtl"), 
        enableRipple$$1) {
            var rippleSpan = createElement("span", {
                className: "e-ripple-container"
            });
            rippleEffect(rippleSpan, {
                isCenterRipple: !0,
                duration: 400
            }), wrapper.appendChild(rippleSpan);
        }
        var frameSpan = createElement("span", {
            className: "e-frame e-icons"
        });
        if (options.checked && frameSpan.classList.add("e-check"), wrapper.appendChild(frameSpan), 
        options.label) {
            var labelSpan = createElement("span", {
                className: "e-label",
                innerHTML: options.label
            });
            wrapper.appendChild(labelSpan);
        }
        return wrapper;
    }
    function rippleMouseHandler(e, rippleSpan) {
        if (rippleSpan) {
            var event_1 = document.createEvent("MouseEvents");
            event_1.initEvent(e.type, !1, !0), rippleSpan.dispatchEvent(event_1);
        }
    }
    function getTextNode$1(element) {
        for (var node, childnode = element.childNodes, i = 0; i < childnode.length; i++) if (3 === (node = childnode[i]).nodeType) return node;
        return null;
    }
    function calculateRelativeBasedPosition(anchor, element) {
        var fixedElement = !1, anchorPos = {
            left: 0,
            top: 0
        }, tempAnchor = anchor;
        if (!anchor || !element) return anchorPos;
        for (isNullOrUndefined(element.offsetParent) && "fixed" === element.style.position && (fixedElement = !0); (element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor; ) anchorPos.left += anchor.offsetLeft, 
        anchorPos.top += anchor.offsetTop, anchor = anchor.offsetParent;
        for (anchor = tempAnchor; (element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor; ) anchorPos.left -= anchor.scrollLeft, 
        anchorPos.top -= anchor.scrollTop, anchor = anchor.parentElement;
        return anchorPos;
    }
    function calculatePosition(currentElement, positionX, positionY, parentElement) {
        if (fixedParent = !!parentElement, !currentElement) return {
            left: 0,
            top: 0
        };
        positionX || (positionX = "left"), positionY || (positionY = "top"), parentDocument = currentElement.ownerDocument, 
        element = currentElement;
        return function(posX, posY, pos) {
            switch (elementRect = element.getBoundingClientRect(), posY + posX) {
              case "topcenter":
                setPosx(getElementHCenter(), pos), setPosy(getElementTop(), pos);
                break;

              case "topright":
                setPosx(getElementRight(), pos), setPosy(getElementTop(), pos);
                break;

              case "centercenter":
                setPosx(getElementHCenter(), pos), setPosy(getElementVCenter(), pos);
                break;

              case "centerright":
                setPosx(getElementRight(), pos), setPosy(getElementVCenter(), pos);
                break;

              case "centerleft":
                setPosx(getElementLeft(), pos), setPosy(getElementVCenter(), pos);
                break;

              case "bottomcenter":
                setPosx(getElementHCenter(), pos), setPosy(getElementBottom(), pos);
                break;

              case "bottomright":
                setPosx(getElementRight(), pos), setPosy(getElementBottom(), pos);
                break;

              case "bottomleft":
                setPosx(getElementLeft(), pos), setPosy(getElementBottom(), pos);
                break;

              default:
              case "topleft":
                setPosx(getElementLeft(), pos), setPosy(getElementTop(), pos);
            }
            return pos;
        }(positionX.toLowerCase(), positionY.toLowerCase(), {
            left: 0,
            top: 0
        });
    }
    function setPosx(value, pos) {
        pos.left = value;
    }
    function setPosy(value, pos) {
        pos.top = value;
    }
    function getBodyScrollTop() {
        return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;
    }
    function getBodyScrollLeft() {
        return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;
    }
    function getElementBottom() {
        return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();
    }
    function getElementVCenter() {
        return getElementTop() + elementRect.height / 2;
    }
    function getElementTop() {
        return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();
    }
    function getElementLeft() {
        return elementRect.left + getBodyScrollLeft();
    }
    function getElementRight() {
        return elementRect.right + getBodyScrollLeft();
    }
    function getElementHCenter() {
        return getElementLeft() + elementRect.width / 2;
    }
    function fit(element, viewPortElement, axis, position) {
        if (void 0 === viewPortElement && (viewPortElement = null), void 0 === axis && (axis = {
            X: !1,
            Y: !1
        }), !axis.Y && !axis.X) return {
            left: 0,
            top: 0
        };
        var elemData = element.getBoundingClientRect();
        if (targetContainer = viewPortElement, parentDocument$1 = element.ownerDocument, 
        position || (position = calculatePosition(element, "left", "top")), axis.X) {
            var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth(), containerLeft = ContainerLeft(), containerRight = ContainerRight(), overLeft = containerLeft - position.left, overRight = position.left + elemData.width - containerRight;
            elemData.width > containerWidth ? position.left = overLeft > 0 && overRight <= 0 ? containerRight - elemData.width : overRight > 0 && overLeft <= 0 ? containerLeft : overLeft > overRight ? containerRight - elemData.width : containerLeft : overLeft > 0 ? position.left += overLeft : overRight > 0 && (position.left -= overRight);
        }
        if (axis.Y) {
            var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight(), containerTop = ContainerTop(), containerBottom = ContainerBottom(), overTop = containerTop - position.top, overBottom = position.top + elemData.height - containerBottom;
            elemData.height > containerHeight ? position.top = overTop > 0 && overBottom <= 0 ? containerBottom - elemData.height : overBottom > 0 && overTop <= 0 ? containerTop : overTop > overBottom ? containerBottom - elemData.height : containerTop : overTop > 0 ? position.top += overTop : overBottom > 0 && (position.top -= overBottom);
        }
        return position;
    }
    function isCollide(element, viewPortElement, x, y) {
        void 0 === viewPortElement && (viewPortElement = null);
        var elemOffset = calculatePosition(element, "left", "top");
        x && (elemOffset.left = x), y && (elemOffset.top = y);
        var data = [];
        targetContainer = viewPortElement, parentDocument$1 = element.ownerDocument;
        var elementRect = element.getBoundingClientRect(), top = elemOffset.top, left = elemOffset.left, right = elemOffset.left + elementRect.width, yAxis = topCollideCheck(top, elemOffset.top + elementRect.height), xAxis = leftCollideCheck(left, right);
        return yAxis.topSide && data.push("top"), xAxis.rightSide && data.push("right"), 
        xAxis.leftSide && data.push("left"), yAxis.bottomSide && data.push("bottom"), data;
    }
    function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, axis, fixedParent) {
        if (void 0 === viewPortElement && (viewPortElement = null), void 0 === axis && (axis = {
            X: !0,
            Y: !0
        }), target && element && positionX && positionY && (axis.X || axis.Y)) {
            var tEdge = {
                TL: null,
                TR: null,
                BL: null,
                BR: null
            }, eEdge = {
                TL: null,
                TR: null,
                BL: null,
                BR: null
            }, elementRect = element.getBoundingClientRect(), pos = {
                posX: positionX,
                posY: positionY,
                offsetX: offsetX,
                offsetY: offsetY,
                position: {
                    left: 0,
                    top: 0
                }
            };
            targetContainer = viewPortElement, parentDocument$1 = target.ownerDocument, function(target, edge, pos, fixedParent) {
                pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent), edge.TL = calculatePosition(target, "left", "top", fixedParent), 
                edge.TR = calculatePosition(target, "right", "top", fixedParent), edge.BR = calculatePosition(target, "left", "bottom", fixedParent), 
                edge.BL = calculatePosition(target, "right", "bottom", fixedParent);
            }(target, tEdge, pos, fixedParent), setPosition(eEdge, pos, elementRect), axis.X && leftFlip(target, eEdge, tEdge, pos, elementRect, !0), 
            axis.Y && tEdge.TL.top > -1 && topFlip(target, eEdge, tEdge, pos, elementRect, !0), 
            function(element, pos) {
                var left = 0, top = 0;
                if (null != element.offsetParent && ("absolute" === getComputedStyle(element.offsetParent).position || "relative" === getComputedStyle(element.offsetParent).position)) {
                    var data = calculatePosition(element.offsetParent, "left", "top");
                    left = data.left, top = data.top;
                }
                element.style.top = pos.position.top + pos.offsetY - top + "px", element.style.left = pos.position.left + pos.offsetX - left + "px";
            }(element, pos);
        }
    }
    function setPosition(eStatus, pos, elementRect) {
        eStatus.TL = {
            top: pos.position.top + pos.offsetY,
            left: pos.position.left + pos.offsetX
        }, eStatus.TR = {
            top: eStatus.TL.top,
            left: eStatus.TL.left + elementRect.width
        }, eStatus.BL = {
            top: eStatus.TL.top + elementRect.height,
            left: eStatus.TL.left
        }, eStatus.BR = {
            top: eStatus.TL.top + elementRect.height,
            left: eStatus.TL.left + elementRect.width
        };
    }
    function leftCollideCheck(left, right) {
        var leftSide = !1, rightSide = !1;
        return left - getBodyScrollLeft$1() < ContainerLeft() && (leftSide = !0), right > ContainerRight() && (rightSide = !0), 
        {
            leftSide: leftSide,
            rightSide: rightSide
        };
    }
    function leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {
        var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);
        tEdge.TL.left - getBodyScrollLeft$1() <= ContainerLeft() && (collideSide.leftSide = !1), 
        tEdge.TR.left >= ContainerRight() && (collideSide.rightSide = !1), (collideSide.leftSide && !collideSide.rightSide || !collideSide.leftSide && collideSide.rightSide) && ("right" === pos.posX ? pos.posX = "left" : pos.posX = "right", 
        pos.offsetX = pos.offsetX + elementRect.width, pos.offsetX = -1 * pos.offsetX, pos.position = calculatePosition(target, pos.posX, pos.posY), 
        setPosition(edge, pos, elementRect), deepCheck && leftFlip(target, edge, tEdge, pos, elementRect, !1));
    }
    function topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {
        var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);
        tEdge.TL.top - getBodyScrollTop$1() <= ContainerTop() && (collideSide.topSide = !1), 
        tEdge.BL.top >= ContainerBottom() && (collideSide.bottomSide = !1), (collideSide.topSide && !collideSide.bottomSide || !collideSide.topSide && collideSide.bottomSide) && ("top" === pos.posY ? pos.posY = "bottom" : pos.posY = "top", 
        pos.offsetY = pos.offsetY + elementRect.height, pos.offsetY = -1 * pos.offsetY, 
        pos.position = calculatePosition(target, pos.posX, pos.posY), setPosition(edge, pos, elementRect), 
        deepCheck && topFlip(target, edge, tEdge, pos, elementRect, !1));
    }
    function topCollideCheck(top, bottom) {
        var topSide = !1, bottomSide = !1;
        return top - getBodyScrollTop$1() < ContainerTop() && (topSide = !0), bottom > ContainerBottom() && (bottomSide = !0), 
        {
            topSide: topSide,
            bottomSide: bottomSide
        };
    }
    function getTargetContainerWidth() {
        return targetContainer.getBoundingClientRect().width;
    }
    function getTargetContainerHeight() {
        return targetContainer.getBoundingClientRect().height;
    }
    function getTargetContainerLeft() {
        return targetContainer.getBoundingClientRect().left;
    }
    function getTargetContainerTop() {
        return targetContainer.getBoundingClientRect().top;
    }
    function ContainerTop() {
        return targetContainer ? getTargetContainerTop() : 0;
    }
    function ContainerLeft() {
        return targetContainer ? getTargetContainerLeft() : 0;
    }
    function ContainerRight() {
        return targetContainer ? getBodyScrollLeft$1() + getTargetContainerLeft() + getTargetContainerWidth() : getBodyScrollLeft$1() + getViewPortWidth();
    }
    function ContainerBottom() {
        return targetContainer ? getBodyScrollTop$1() + getTargetContainerTop() + getTargetContainerHeight() : getBodyScrollTop$1() + getViewPortHeight();
    }
    function getBodyScrollTop$1() {
        return parentDocument$1.documentElement.scrollTop || parentDocument$1.body.scrollTop;
    }
    function getBodyScrollLeft$1() {
        return parentDocument$1.documentElement.scrollLeft || parentDocument$1.body.scrollLeft;
    }
    function getViewPortHeight() {
        return window.innerHeight;
    }
    function getViewPortWidth() {
        return window.innerWidth;
    }
    function getScrollableParent(element, fixedParent) {
        for (var eleStyle = getComputedStyle(element), scrollParents = [], overflowRegex = /(auto|scroll)/, parent = element.parentElement; parent && "HTML" !== parent.tagName; ) {
            var parentStyle = getComputedStyle(parent);
            "absolute" === eleStyle.position && "static" === parentStyle.position || !overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX) || scrollParents.push(parent), 
            parent = parent.parentElement;
        }
        return fixedParent || scrollParents.push(document), scrollParents;
    }
    function getZindexPartial(element) {
        for (var parent = element.parentElement, parentZindex = []; parent && "BODY" !== parent.tagName; ) {
            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue("z-index"), position = document.defaultView.getComputedStyle(parent, null).getPropertyValue("position");
            "auto" !== index && "static" !== position && parentZindex.push(index), parent = parent.parentElement;
        }
        for (var childrenZindex = [], i = 0; i < document.body.children.length; i++) if (!element.isEqualNode(document.body.children[i])) {
            index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue("z-index"), 
            position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue("position");
            "auto" !== index && "static" !== position && childrenZindex.push(index);
        }
        childrenZindex.push("999");
        var finalValue = parentZindex.concat(childrenZindex);
        return Math.max.apply(Math, finalValue) + 1;
    }
    function createSpinner(args) {
        var radius, container = function(target) {
            var spinnerContainer = document.createElement("div");
            spinnerContainer.classList.add(CLS_SPINWRAP);
            var spinnerInnerContainer = document.createElement("div");
            return spinnerInnerContainer.classList.add(CLS_SPININWRAP), target.appendChild(spinnerContainer), 
            spinnerContainer.appendChild(spinnerInnerContainer), {
                wrap: spinnerContainer,
                inner_wrap: spinnerInnerContainer
            };
        }(args.target);
        if (isNullOrUndefined(args.cssClass) || container.wrap.classList.add(args.cssClass), 
        isNullOrUndefined(args.template) && isNullOrUndefined(spinTemplate)) {
            var theme = isNullOrUndefined(args.type) ? function(container) {
                return window.getComputedStyle(container, ":after").getPropertyValue("content").replace(/['"]+/g, "");
            }(container.wrap) : args.type;
            radius = function(width, theme) {
                var defaultSize = "Material" === theme ? DEFT_MAT_WIDTH : "Fabric" === theme ? DEFT_FAB_WIDTH : DEFT_BOOT_WIDTH;
                return width = width ? parseFloat(width + "") : defaultSize, "Bootstrap" === theme ? width : width / 2;
            }(isNullOrUndefined(args.width) ? void 0 : args.width, theme), setTheme(theme, container.wrap, radius), 
            isNullOrUndefined(args.label) || function(container, label) {
                var labelEle = document.createElement("div");
                labelEle.classList.add(CLS_SPINLABEL), labelEle.textContent = label, container.appendChild(labelEle);
            }(container.inner_wrap, args.label);
        } else {
            var template = isNullOrUndefined(args.template) ? spinTemplate : args.template;
            container.wrap.classList.add(CLS_SPINTEMPLATE), function(container, template, cssClass) {
                isNullOrUndefined(cssClass) || container.classList.add(cssClass);
                container.querySelector(".e-spinner-inner").innerHTML = template;
            }(container.wrap, template, spinCSSClass);
        }
        container.wrap.classList.add(CLS_HIDESPIN);
    }
    function createMaterialSpinner(container, radius) {
        var uniqueID$$1 = random_generator();
        globalTimeOut[uniqueID$$1] = {
            timeOut: 0,
            type: "Material",
            radius: radius
        }, function(innerContainer, uniqueID$$1) {
            var svgMaterial = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svgMaterial.setAttribute("class", CLS_MATERIALSPIN), svgMaterial.setAttribute("id", uniqueID$$1);
            var matCirclePath = document.createElementNS("http://www.w3.org/2000/svg", "path");
            matCirclePath.setAttribute("class", CLS_SPINCIRCLE), innerContainer.insertBefore(svgMaterial, innerContainer.firstChild), 
            svgMaterial.appendChild(matCirclePath);
        }(container, uniqueID$$1), function(radius, container) {
            var diameter = 2 * radius, svg = container.querySelector("svg.e-spin-material"), path = svg.querySelector("path.e-path-circle"), strokeSize = getStrokeSize(diameter), transformOrigin = diameter / 2 + "px";
            svg.setAttribute("viewBox", "0 0 " + diameter + " " + diameter), svg.style.width = svg.style.height = diameter + "px", 
            svg.style.transformOrigin = transformOrigin + " " + transformOrigin + " " + transformOrigin, 
            path.setAttribute("stroke-width", strokeSize + ""), path.setAttribute("d", function(diameter, strokeSize) {
                var radius = diameter / 2, offset = strokeSize / 2;
                return "M" + radius + "," + offset + "A" + (radius - offset) + "," + (radius - offset) + " 0 1 1 " + offset + "," + radius;
            }(diameter, strokeSize)), path.setAttribute("stroke-dasharray", (diameter - strokeSize) * Math.PI * .75 + ""), 
            path.setAttribute("stroke-dashoffset", getDashOffset(diameter, strokeSize, 1, 75) + "");
        }(radius, container);
    }
    function setTheme(theme, container, radius) {
        var innerContainer = container.querySelector("." + CLS_SPININWRAP), svg = innerContainer.querySelector("svg");
        switch (isNullOrUndefined(svg) || innerContainer.removeChild(svg), theme) {
          case "Material":
            createMaterialSpinner(innerContainer, radius);
            break;

          case "Fabric":
            !function(container, radius) {
                var uniqueID$$1 = random_generator();
                globalTimeOut[uniqueID$$1] = {
                    timeOut: 0,
                    type: "Fabric",
                    radius: radius
                }, create_fabric_element(container, uniqueID$$1, CLS_FABRICSPIN), fb_calculate_attributes(radius, container, CLS_FABRICSPIN);
            }(innerContainer, radius);
            break;

          case "Bootstrap":
            !function(innerContainer, radius) {
                var uniqueID$$1 = random_generator();
                globalTimeOut[uniqueID$$1] = {
                    timeOut: 0,
                    type: "Bootstrap",
                    radius: radius
                }, function(innerContainer, uniqueID$$1) {
                    var svgBoot = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    svgBoot.setAttribute("id", uniqueID$$1), svgBoot.setAttribute("class", CLS_BOOTSPIN), 
                    svgBoot.setAttribute("viewBox", "0 0 64 64"), innerContainer.insertBefore(svgBoot, innerContainer.firstChild);
                    for (var item = 0; item <= 7; item++) {
                        var bootCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                        bootCircle.setAttribute("class", CLS_SPINCIRCLE + "_" + item), bootCircle.setAttribute("r", "2"), 
                        bootCircle.setAttribute("transform", "translate(32,32)"), svgBoot.appendChild(bootCircle);
                    }
                }(innerContainer, uniqueID$$1), function(innerContainer, radius) {
                    var svg = innerContainer.querySelector("svg.e-spin-bootstrap");
                    svg.style.width = svg.style.height = radius + "px";
                    for (var startArc = 90, item = 0; item <= 7; item++) {
                        var start = defineArcPoints(0, 0, 24, startArc), circleEle = svg.querySelector("." + CLS_SPINCIRCLE + "_" + item);
                        circleEle.setAttribute("cx", start.x + ""), circleEle.setAttribute("cy", start.y + ""), 
                        startArc = startArc >= 360 ? 0 : startArc, startArc += 45;
                    }
                }(innerContainer, radius);
            }(innerContainer, radius);
            break;

          case "HighContrast":
            !function(container, radius) {
                var uniqueID$$1 = random_generator();
                globalTimeOut[uniqueID$$1] = {
                    timeOut: 0,
                    type: "HighContrast",
                    radius: radius
                }, create_fabric_element(container, uniqueID$$1, CLS_HIGHCONTRASTSPIN), fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);
            }(innerContainer, radius);
        }
    }
    function generateSeries(begin, stop) {
        function formSeries(i) {
            series.push(i), i === end && 1 !== count || (i <= start && i > 1 && !increment ? i = parseFloat((i - .2).toFixed(2)) : 1 === i ? (i = 7, 
            i = parseFloat((i + .2).toFixed(2)), increment = !0) : i < 8 && increment ? 8 === (i = parseFloat((i + .2).toFixed(2))) && (increment = !1) : i <= 8 && !increment && (i = parseFloat((i - .2).toFixed(2))), 
            ++count, formSeries(i));
        }
        var series = [], start = begin, end = stop, increment = !1, count = 1;
        return formSeries(start), series;
    }
    function random_generator() {
        for (var random = "", combine = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", i = 0; i < 5; i++) random += combine.charAt(Math.floor(Math.random() * combine.length));
        return random;
    }
    function create_fabric_element(innerContainer, uniqueID$$1, themeClass) {
        var svgFabric = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        svgFabric.setAttribute("id", uniqueID$$1), svgFabric.setAttribute("class", themeClass);
        var fabricCirclePath = document.createElementNS("http://www.w3.org/2000/svg", "path");
        fabricCirclePath.setAttribute("class", CLS_SPINCIRCLE);
        var fabricCircleArc = document.createElementNS("http://www.w3.org/2000/svg", "path");
        fabricCircleArc.setAttribute("class", CLS_SPINARC), innerContainer.insertBefore(svgFabric, innerContainer.firstChild), 
        svgFabric.appendChild(fabricCirclePath), svgFabric.appendChild(fabricCircleArc);
    }
    function animateMaterial(spinnerInfo) {
        !function(start, end, easing, duration, count, max, spinnerInfo) {
            function mat_animation(spinnerInfo) {
                var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));
                !function(value, container) {
                    if (!isNullOrUndefined(container.querySelector("svg.e-spin-material")) && !isNullOrUndefined(container.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))) {
                        var svg = container.querySelector("svg.e-spin-material"), path = svg.querySelector("path.e-path-circle");
                        path.setAttribute("stroke-dashoffset", getDashOffset(diameter, strokeSize, value, max) + ""), 
                        path.setAttribute("transform", "rotate(" + rotate + " " + diameter / 2 + " " + diameter / 2 + ")");
                    }
                }(easing(currentTime, start, change, duration), spinnerInfo.container), id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration ? globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1) : animateMaterial(spinnerInfo);
            }
            var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId, startTime = new Date().getTime(), change = end - start, diameter = function(value) {
                return parseFloat(value);
            }(2 * spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius + ""), strokeSize = getStrokeSize(diameter), rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);
            mat_animation(spinnerInfo);
        }(1, 149, easeAnimation, 1333, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, 75, spinnerInfo), 
        spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;
    }
    function getStrokeSize(diameter) {
        return .1 * diameter;
    }
    function getDashOffset(diameter, strokeSize, value, max) {
        return (diameter - strokeSize) * Math.PI * (3 * max / 100 - value / 100);
    }
    function easeAnimation(current, start, change, duration) {
        var timestamp = (current /= duration) * current, timecount = timestamp * current;
        return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);
    }
    function fb_calculate_attributes(radius, innerConainer, trgClass) {
        var centerX = radius, centerY = radius, diameter = 2 * radius, svg = innerConainer.querySelector("." + trgClass), circle = svg.querySelector(".e-path-circle"), path = svg.querySelector(".e-path-arc"), transformOrigin = diameter / 2 + "px";
        circle.setAttribute("d", function(x, y, radius) {
            return [ "M", x, y, "m", -radius, 0, "a", radius, radius, 0, 1, 0, 2 * radius, 0, "a", radius, radius, 0, 1, 0, 2 * -radius, 0 ].join(" ");
        }(centerX, centerY, radius)), path.setAttribute("d", function(x, y, radius, startArc, endArc) {
            var start = defineArcPoints(x, y, radius, endArc), end = defineArcPoints(x, y, radius, startArc);
            return [ "M", start.x, start.y, "A", radius, radius, 0, 0, 0, end.x, end.y ].join(" ");
        }(centerX, centerY, radius, 315, 45)), svg.setAttribute("viewBox", "0 0 " + diameter + " " + diameter), 
        svg.style.transformOrigin = transformOrigin + " " + transformOrigin + " " + transformOrigin, 
        svg.style.width = svg.style.height = diameter + "px";
    }
    function defineArcPoints(centerX, centerY, radius, angle) {
        var radians = (angle - 90) * Math.PI / 180;
        return {
            x: centerX + radius * Math.cos(radians),
            y: centerY + radius * Math.sin(radians)
        };
    }
    function showSpinner(container) {
        showHideSpinner(container, !1);
    }
    function showHideSpinner(container, isHide) {
        var spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container : container.querySelector("." + CLS_SPINWRAP), inner = spinnerWrap.querySelector("." + CLS_SPININWRAP);
        if (isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) : !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN)) {
            var svgEle = spinnerWrap.querySelector("svg");
            if (isNullOrUndefined(svgEle)) return;
            var id = svgEle.getAttribute("id");
            switch (globalTimeOut[id].isAnimate = !isHide, globalTimeOut[id].type) {
              case "Material":
                isHide ? clearTimeout(globalTimeOut[id].timeOut) : function(container, uniqueID$$1, radius) {
                    var globalObject = {};
                    globalTimeOut[uniqueID$$1].timeOut = 0, globalObject[uniqueID$$1] = function(id, radius, count, previousId) {
                        return {
                            radius: radius,
                            count: count,
                            previousId: previousId
                        };
                    }(0, radius, 0, 0), animateMaterial({
                        uniqueID: uniqueID$$1,
                        container: container,
                        globalInfo: globalObject,
                        timeOutVar: 0
                    });
                }(inner, id, globalTimeOut[id].radius);
                break;

              case "Bootstrap":
                isHide ? clearTimeout(globalTimeOut[id].timeOut) : function(innerContainer) {
                    for (var id = innerContainer.querySelector("svg.e-spin-bootstrap").getAttribute("id"), i = 1; i <= 8; i++) !function(circle, start, end, series, id) {
                        function boot_animate(radius) {
                            globalTimeOut[id].isAnimate && (++count, circle.setAttribute("r", radius + ""), 
                            count >= series.length && (count = 0), globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18));
                        }
                        var count = 0;
                        boot_animate(start);
                    }(innerContainer.getElementsByClassName("e-path-circle_" + (8 === i ? 0 : i))[0], i, 0, generateSeries(i, i), id);
                }(inner);
            }
        }
        isHide ? classList(spinnerWrap, [ CLS_HIDESPIN ], [ CLS_SHOWSPIN ]) : classList(spinnerWrap, [ CLS_SHOWSPIN ], [ CLS_HIDESPIN ]);
    }
    function hideSpinner(container) {
        showHideSpinner(container, !0);
    }
    function valueAccessor(field, data, column) {
        return field = isNullOrUndefined(field) ? "" : field, getValue(field, data);
    }
    function iterateArrayOrObject(collection, predicate) {
        for (var result = [], i = 0, len = collection.length; i < len; i++) {
            var pred = predicate(collection[i], i);
            isNullOrUndefined(pred) || result.push(pred);
        }
        return result;
    }
    function templateCompiler(template) {
        if (template) try {
            if (document.querySelectorAll(template).length) return compile$$1(document.querySelector(template).innerHTML.trim());
        } catch (e) {
            return compile$$1(template);
        }
    }
    function setStyleAndAttributes(node, customAttributes) {
        var copyAttr = {}, literals = [ "style", "class" ];
        extend(copyAttr, customAttributes, {}), "style" in copyAttr && (setStyleAttribute(node, copyAttr[literals[0]]), 
        delete copyAttr[literals[0]]), "class" in copyAttr && (addClass([ node ], copyAttr[literals[1]]), 
        delete copyAttr[literals[1]]), attributes(node, copyAttr);
    }
    function prepareColumns(columns, autoWidth) {
        for (var c = 0, len = columns.length; c < len; c++) {
            var column = void 0;
            "string" == typeof columns[c] ? column = new Column({
                field: columns[c]
            }) : columns[c] instanceof Column ? column = columns[c] : columns[c].columns ? (column = new Column(columns[c]), 
            columns[c].columns = prepareColumns(columns[c].columns)) : column = new Column(columns[c]), 
            column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || "" : column.headerText, 
            column.foreignKeyField = column.foreignKeyField || column.field, column.valueAccessor = column.valueAccessor || valueAccessor, 
            column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width, 
            isNullOrUndefined(column.visible) && (column.visible = !0), columns[c] = column;
        }
        return columns;
    }
    function setCssInGridPopUp(popUp, e, className) {
        var isBottomTail, popUpSpan = popUp.querySelector("span"), position = popUp.parentElement.getBoundingClientRect(), targetPosition = e.target.getBoundingClientRect();
        popUpSpan.className = className, popUp.style.display = "", isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY : e.clientY) > popUp.offsetHeight + 10, 
        popUp.style.top = targetPosition.top - position.top + (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + "px", 
        popUp.style.left = function(popup, e, targetPosition, left) {
            var width = popup.offsetWidth / 2, x = getPosition(e).x;
            return x - targetPosition.left < width ? targetPosition.left - left : targetPosition.right - x < width ? targetPosition.right - left - 2 * width : x - left - width;
        }(popUp, e, targetPosition, position.left) + "px", isBottomTail ? (popUp.querySelector(".e-downtail").style.display = "", 
        popUp.querySelector(".e-uptail").style.display = "none") : (popUp.querySelector(".e-downtail").style.display = "none", 
        popUp.querySelector(".e-uptail").style.display = "");
    }
    function getActualProperties(obj) {
        return obj instanceof ChildProperty ? getValue("properties", obj) : obj;
    }
    function parentsUntil(elem, selector, isID) {
        for (var parent = elem; parent && (isID ? parent.id !== selector : !parent.classList.contains(selector)); ) parent = parent.parentElement;
        return parent;
    }
    function getElementIndex(element, elements) {
        for (var index = -1, i = 0, len = elements.length; i < len; i++) if (elements[i].isEqualNode(element)) {
            index = i;
            break;
        }
        return index;
    }
    function inArray(value, collection) {
        for (var i = 0, len = collection.length; i < len; i++) if (collection[i] === value) return i;
        return -1;
    }
    function getActualPropFromColl(collection) {
        for (var coll = [], i = 0, len = collection.length; i < len; i++) collection[i].hasOwnProperty("properties") ? coll.push(collection[i].properties) : coll.push(collection[i]);
        return coll;
    }
    function removeElement(target, selector) {
        for (var elements = [].slice.call(target.querySelectorAll(selector)), i = 0; i < elements.length; i++) remove(elements[i]);
    }
    function getPosition(e) {
        var position = {};
        return position.x = isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX : e.clientX, 
        position.y = isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY : e.clientY, 
        position;
    }
    function getUid(prefix) {
        return prefix + uid$1++;
    }
    function appendChildren(elem, children) {
        for (var i = 0, len = children.length; i < len; i++) len === children.length ? elem.appendChild(children[i]) : elem.appendChild(children[0]);
        return elem;
    }
    function calculateAggregate(type, data, column, context) {
        return "Custom" === type ? column.customAggregate ? column.customAggregate.call(context, data, column) : "" : DataUtil.aggregates[type.toLowerCase()](data, column.field);
    }
    function getScrollBarWidth() {
        if (null !== scrollWidth) return scrollWidth;
        var divNode = document.createElement("div"), value = 0;
        return divNode.style.cssText = "width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;", 
        document.body.appendChild(divNode), value = divNode.offsetWidth - divNode.clientWidth | 0, 
        document.body.removeChild(divNode), scrollWidth = value;
    }
    function getRowHeight(element) {
        if (void 0 !== rowHeight) return rowHeight;
        var table = createElement("table", {
            className: "e-table",
            styles: "visibility: hidden"
        });
        table.innerHTML = '<tr><td class="e-rowcell">A<td></tr>', element.appendChild(table);
        var rect = table.querySelector("td").getBoundingClientRect();
        return element.removeChild(table), rowHeight = Math.ceil(rect.height);
    }
    function isEditable(col, type, elem) {
        var row = parentsUntil(elem, "e-row"), isOldRow = !row || row && !row.classList.contains("e-insertedrow");
        return "beginEdit" === type && isOldRow ? !(col.isIdentity || col.isPrimaryKey || !col.allowEditing) : ("add" !== type || !col.isIdentity || !col.isPrimaryKey) && !(isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey);
    }
    function isActionPrevent(inst) {
        var dlg = inst.element.querySelector("#" + inst.element.id + "EditConfirm");
        return "Batch" === inst.editSettings.mode && inst.element.querySelectorAll(".e-updatedtd").length && inst.editSettings.showConfirmDialog && (!dlg || dlg.classList.contains("e-popup-close"));
    }
    function wrap(elem, action) {
        elem = elem instanceof Array ? elem : [ elem ];
        for (var i = 0; i < elem.length; i++) action ? elem[i].classList.add("e-wrap") : elem[i].classList.remove("e-wrap");
    }
    function changeButtonType(target) {
        for (var _i = 0, elements_1 = [].slice.call(target.querySelectorAll("button")); _i < elements_1.length; _i++) {
            attributes(elements_1[_i], {
                type: "button"
            });
        }
    }
    function setFormatter(serviceLocator, column) {
        var fmtr = serviceLocator.getService("valueFormatter");
        switch (column.type) {
          case "date":
            column.setFormatter(fmtr.getFormatFunction({
                type: "date",
                skeleton: column.format
            })), column.setParser(fmtr.getParserFunction({
                type: "date",
                skeleton: column.format
            }));
            break;

          case "datetime":
            column.setFormatter(fmtr.getFormatFunction({
                type: "dateTime",
                skeleton: column.format
            })), column.setParser(fmtr.getParserFunction({
                type: "dateTime",
                skeleton: column.format
            }));
            break;

          case "number":
            column.setFormatter(fmtr.getFormatFunction({
                format: column.format
            })), column.setParser(fmtr.getParserFunction({
                format: column.format
            }));
        }
    }
    function addRemoveActiveClasses(cells, add) {
        for (var args = [], _i = 2; _i < arguments.length; _i++) args[_i - 2] = arguments[_i];
        for (var i = 0, len = cells.length; i < len; i++) add ? (classList(cells[i], args.slice(), []), 
        cells[i].setAttribute("aria-selected", "true")) : (classList(cells[i], [], args.slice()), 
        cells[i].removeAttribute("aria-selected"));
    }
    function getFilterMenuPostion(target, dialogObj, grid) {
        var elementVisible = dialogObj.element.style.display;
        dialogObj.element.style.display = "block";
        var newpos, dlgWidth = dialogObj.width;
        if (grid.enableRtl) {
            newpos = calculatePosition(target, "left", "bottom"), dialogObj.element.style.top = newpos.top + target.getBoundingClientRect().height - 35 + "px", 
            dialogObj.element.style.display = elementVisible;
            leftPos = newpos.left - dlgWidth + target.clientWidth;
            dialogObj.element.style.left = leftPos < 1 ? dlgWidth + leftPos + -16 + "px" : leftPos - 16 + "px";
        } else {
            newpos = calculateRelativeBasedPosition(target, dialogObj.element), dialogObj.element.style.display = elementVisible, 
            dialogObj.element.style.top = newpos.top + target.getBoundingClientRect().height - 5 + "px";
            var leftPos = newpos.left - dlgWidth + target.clientWidth;
            dialogObj.element.style.left = leftPos < 1 ? dlgWidth + leftPos - 16 + "px" : leftPos + -4 + "px";
        }
    }
    function getZIndexCalcualtion(args, dialogObj) {
        args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();
    }
    function toogleCheckbox(elem) {
        var span = elem.querySelector(".e-frame");
        span.classList.contains("e-check") ? classList(span, [ "e-uncheck" ], [ "e-check" ]) : classList(span, [ "e-check" ], [ "e-uncheck" ]);
    }
    function createCboxWithWrap(uid, elem, className) {
        var div = createElement("div", {
            className: className
        });
        return div.appendChild(elem), div.setAttribute("uid", uid), div;
    }
    function removeAddCboxClasses(elem, checked) {
        removeClass([ elem ], [ "e-check", "e-stop", "e-uncheck" ]), checked ? elem.classList.add("e-check") : elem.classList.add("e-uncheck");
    }
    function refreshForeignData(row, columns, data) {
        columns.forEach(function(col) {
            setValue(col.field, getForeignData(col, data), row.foreignKeyData);
        }), row.cells.forEach(function(cell) {
            cell.isForeignKey && setValue("foreignKeyData", getValue(cell.column.field, row.foreignKeyData), cell);
        });
    }
    function getForeignData(column, data, lValue, foreignKeyData) {
        var fField = column.foreignKeyField, key = lValue || valueAccessor(column.field, data) || "", query = new Query(), fdata = foreignKeyData || column.dataSource instanceof DataManager && column.dataSource.dataSource.offline ? column.dataSource.dataSource.json : column.columnData;
        return key.getDay ? query.where(getDatePredicate({
            field: fField,
            operator: "equal",
            value: key,
            matchCase: !1
        })) : query.where(fField, "==", key, !1), new DataManager(fdata).executeLocal(query);
    }
    function getColumnByForeignKeyValue(foreignKeyValue, columns) {
        var column;
        return columns.some(function(col) {
            return column = col, col.foreignKeyValue === foreignKeyValue;
        }) && column;
    }
    function getDatePredicate(filterObject) {
        var datePredicate, prevDate, nextDate, prevObj = extend({}, getActualProperties(filterObject)), nextObj = extend({}, getActualProperties(filterObject)), value = new Date(filterObject.value);
        if ("equal" === filterObject.operator || "notequal" === filterObject.operator) {
            prevDate = new Date(value.setHours(0) - 1), nextDate = new Date(value.setHours(24)), 
            prevObj.value = prevDate, nextObj.value = nextDate, "equal" === filterObject.operator ? (prevObj.operator = "greaterthan", 
            nextObj.operator = "lessthan") : "notequal" === filterObject.operator && (prevObj.operator = "lessthanorequal", 
            nextObj.operator = "greaterthanorequal");
            var predicateSt = new Predicate$1(prevObj.field, prevObj.operator, prevObj.value, !1), predicateEnd = new Predicate$1(nextObj.field, nextObj.operator, nextObj.value, !1);
            datePredicate = "equal" === filterObject.operator ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);
        } else {
            "string" == typeof prevObj.value && (prevObj.value = new Date(prevObj.value));
            datePredicate = new Predicate$1(prevObj.field, prevObj.operator, prevObj.value, !1);
        }
        return filterObject.ejpredicate = datePredicate, datePredicate;
    }
    function renderMovable(ele, frzCols) {
        for (var mEle = ele.cloneNode(!0), i = 0; i < frzCols; i++) mEle.removeChild(mEle.children[0]);
        i = frzCols;
        for (var len = ele.childElementCount; i < len; i++) ele.removeChild(ele.children[ele.childElementCount - 1]);
        return mEle;
    }
    function createMask() {
        if (attributes(this.element, {
            role: "textbox",
            autocomplete: "off",
            autocorrect: "off",
            autocapitalize: "off",
            spellcheck: "false",
            "aria-live": "assertive",
            "aria-valuenow": ""
        }), this.mask) {
            for (var splitMask = this.mask.split("]"), i = 0; i < splitMask.length; i++) if ("\\" === splitMask[i][splitMask[i].length - 1]) {
                splitMask[i] = splitMask[i] + "]";
                for (var splitInnerMask = splitMask[i].split("["), j = 0; j < splitInnerMask.length; j++) "\\" === splitInnerMask[j][splitInnerMask[j].length - 1] && (splitInnerMask[j] = splitInnerMask[j] + "["), 
                pushIntoRegExpCollec.call(this, splitInnerMask[j]);
            } else {
                if ((splitInnerMask = splitMask[i].split("[")).length > 1) {
                    var chkSpace = !1;
                    for (j = 0; j < splitInnerMask.length; j++) "\\" === splitInnerMask[j] ? (this.customRegExpCollec.push("["), 
                    this.hiddenMask += splitInnerMask[j] + "[") : "" === splitInnerMask[j] ? chkSpace = !0 : "" !== splitInnerMask[j] && chkSpace || j === splitInnerMask.length - 1 ? (this.customRegExpCollec.push("[" + splitInnerMask[j] + "]"), 
                    this.hiddenMask += this.promptChar, chkSpace = !1) : pushIntoRegExpCollec.call(this, splitInnerMask[j]);
                } else pushIntoRegExpCollec.call(this, splitInnerMask[0]);
            }
            if (this.escapeMaskValue = this.hiddenMask, this.promptMask = this.hiddenMask.replace(/[09?LCAa#&]/g, this.promptChar), 
            !isNullOrUndefined(this.customCharacters)) for (i = 0; i < this.promptMask.length; i++) isNullOrUndefined(this.customCharacters[this.promptMask[i]]) || (this.promptMask = this.promptMask.replace(new RegExp(this.promptMask[i], "g"), this.promptChar));
            var escapeNumber = 0;
            if (this.hiddenMask.match(new RegExp(/\\/))) for (i = 0; i < this.hiddenMask.length; i++) {
                j = 0;
                i >= 2 && (j = i), j -= escapeNumber = this.hiddenMask.length - this.promptMask.length, 
                i > 0 && "\\" !== this.hiddenMask[i - 1] && (">" === this.hiddenMask[i] || "<" === this.hiddenMask[i] || "|" === this.hiddenMask[i]) && (this.promptMask = this.promptMask.substring(0, j) + this.promptMask.substring(i + 1 - escapeNumber, this.promptMask.length), 
                this.escapeMaskValue = this.escapeMaskValue.substring(0, j) + this.escapeMaskValue.substring(i + 1 - escapeNumber, this.escapeMaskValue.length)), 
                "\\" === this.hiddenMask[i] && (this.promptMask = this.promptMask.substring(0, j) + this.hiddenMask[i + 1] + this.promptMask.substring(i + 2 - escapeNumber, this.promptMask.length), 
                this.escapeMaskValue = this.escapeMaskValue.substring(0, j) + this.escapeMaskValue[i + 1] + this.escapeMaskValue.substring(i + 2 - escapeNumber, this.escapeMaskValue.length));
            } else this.promptMask = this.promptMask.replace(/[>|<]/g, ""), this.escapeMaskValue = this.hiddenMask.replace(/[>|<]/g, "");
            attributes(this.element, {
                "aria-invalid": "false"
            });
        }
    }
    function applyMask() {
        setElementValue.call(this, this.promptMask), setMaskValue.call(this, this.value);
    }
    function wireEvents() {
        EventHandler.add(this.element, "keydown", maskInputKeyDownHandler, this), EventHandler.add(this.element, "keypress", maskInputKeyPressHandler, this), 
        EventHandler.add(this.element, "keyup", maskInputKeyUpHandler, this), EventHandler.add(this.element, "focus", maskInputFocusHandler, this), 
        EventHandler.add(this.element, "blur", maskInputBlurHandler, this), EventHandler.add(this.element, "paste", maskInputPasteHandler, this), 
        EventHandler.add(this.element, "cut", maskInputCutHandler, this), EventHandler.add(this.element, "drop", maskInputDropHandler, this);
    }
    function unwireEvents() {
        EventHandler.remove(this.element, "keydown", maskInputKeyDownHandler), EventHandler.remove(this.element, "keypress", maskInputKeyPressHandler), 
        EventHandler.remove(this.element, "keyup", maskInputKeyUpHandler), EventHandler.remove(this.element, "focus", maskInputFocusHandler), 
        EventHandler.remove(this.element, "blur", maskInputBlurHandler), EventHandler.remove(this.element, "paste", maskInputPasteHandler), 
        EventHandler.remove(this.element, "cut", maskInputCutHandler);
    }
    function unstrippedValue(element) {
        return element.value;
    }
    function strippedValue(element) {
        var value = "", k = 0, checkMask = !1;
        if (!isNullOrUndefined(element) && !isNullOrUndefined(this) && element.value !== this.promptMask) for (var i = 0; i < this.customRegExpCollec.length; i++) checkMask && (checkMask = !1), 
        ">" !== this.customRegExpCollec[k] && "<" !== this.customRegExpCollec[k] && "|" !== this.customRegExpCollec[k] && "\\" !== this.customRegExpCollec[k] || (--i, 
        checkMask = !0), checkMask || element.value[i] === this.promptChar || isNullOrUndefined(this.customRegExpCollec[k]) || isNullOrUndefined(this.regExpCollec[this.customRegExpCollec[k]]) && !(this.customRegExpCollec[k].length > 2 && "[" === this.customRegExpCollec[k][0] && "]" === this.customRegExpCollec[k][this.customRegExpCollec[k].length - 1]) && (isNullOrUndefined(this.customCharacters) || isNullOrUndefined(this.customCharacters[this.customRegExpCollec[k]])) || "" === element.value || (value += element.value[i]), 
        ++k;
        return value;
    }
    function pushIntoRegExpCollec(value) {
        for (var k = 0; k < value.length; k++) this.hiddenMask += value[k], "\\" !== value[k] && this.customRegExpCollec.push(value[k]);
    }
    function maskInputFocusHandler(event) {
        var _this = this;
        this.promptMask.length > 0 ? this.focusEventArgs = {
            selectionStart: 0,
            selectionEnd: this.promptMask.length
        } : this.focusEventArgs = {
            selectionStart: 0,
            selectionEnd: this.element.value.length
        };
        var eventArgs = {};
        merge(eventArgs, this.focusEventArgs), this.trigger("focus", eventArgs), this.focusEventArgs = eventArgs, 
        this.mask && (this.isFocus = !0, this.placeholder && "" === this.element.value ? (setElementValue.call(this, this.promptMask), 
        this.element.setSelectionRange(this.focusEventArgs.selectionStart, this.focusEventArgs.selectionEnd), 
        setTimeout(function() {
            _this.element.setSelectionRange(_this.focusEventArgs.selectionStart, _this.focusEventArgs.selectionEnd);
        }, 1)) : this.element.setSelectionRange(this.focusEventArgs.selectionStart, this.focusEventArgs.selectionEnd));
    }
    function maskInputBlurHandler(event) {
        if (this.mask && (this.isFocus = !1, this.placeholder && this.element.value === this.promptMask && "Always" !== this.floatLabelType)) {
            setElementValue.call(this, "");
            var labelElement = this.element.parentNode.querySelector(".e-float-text");
            "Auto" === this.floatLabelType && !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL) && removeClass([ labelElement ], TOPLABEL);
        }
    }
    function maskInputPasteHandler(event) {
        var _this = this;
        if (this.mask) {
            var sIndex_1 = this.element.selectionStart, eIndex_1 = this.element.selectionEnd, oldValue_1 = this.element.value;
            setElementValue.call(this, ""), setTimeout(function() {
                var value = _this.element.value;
                _this.redoCollec.length > 0 && _this.redoCollec[0].value === _this.element.value && (value = strippedValue.call(_this, _this.element)), 
                setElementValue.call(_this, oldValue_1), _this.element.selectionStart = sIndex_1, 
                _this.element.selectionEnd = eIndex_1;
                var i = 0;
                _this.maskKeyPress = !0;
                do {
                    validateValue.call(_this, value[i], !1, null), ++i;
                } while (i < value.length);
                _this.maskKeyPress = !1;
            }, 1);
        }
    }
    function maskInputCutHandler(event) {
        var _this = this;
        if (this.mask) {
            var sIndex_2 = this.element.selectionStart, eIndex = this.element.selectionEnd;
            this.undoCollec.push({
                value: this.element.value,
                startIndex: this.element.selectionStart,
                endIndex: this.element.selectionEnd
            });
            var value_1 = this.element.value.substring(0, sIndex_2) + this.promptMask.substring(sIndex_2, eIndex) + this.element.value.substring(eIndex);
            setTimeout(function() {
                setElementValue.call(_this, value_1), _this.element.selectionStart = _this.element.selectionEnd = sIndex_2;
            }, 0);
        }
    }
    function maskInputDropHandler(event) {
        event.preventDefault();
    }
    function maskInputKeyDownHandler(event) {
        var _this = this;
        if (this.mask) {
            229 !== event.keyCode ? (!event.ctrlKey || 89 !== event.keyCode && 90 !== event.keyCode || event.preventDefault(), 
            removeMaskInputValues.call(this, event)) : setTimeout(function() {
                removeMaskInputValues.call(_this, event);
            }, 0);
            var startValue = this.element.value;
            if (event.ctrlKey && (89 === event.keyCode || 90 === event.keyCode)) {
                var collec = void 0;
                90 === event.keyCode && this.undoCollec.length > 0 && startValue !== this.undoCollec[this.undoCollec.length - 1].value ? (collec = this.undoCollec[this.undoCollec.length - 1], 
                this.redoCollec.unshift({
                    value: this.element.value,
                    startIndex: this.element.selectionStart,
                    endIndex: this.element.selectionEnd
                }), setElementValue.call(this, collec.value), this.element.selectionStart = collec.startIndex, 
                this.element.selectionEnd = collec.endIndex, this.undoCollec.splice(this.undoCollec.length - 1, 1)) : 89 === event.keyCode && this.redoCollec.length > 0 && startValue !== this.redoCollec[0].value && (collec = this.redoCollec[0], 
                this.undoCollec.push({
                    value: this.element.value,
                    startIndex: this.element.selectionStart,
                    endIndex: this.element.selectionEnd
                }), setElementValue.call(this, collec.value), this.element.selectionStart = collec.startIndex, 
                this.element.selectionEnd = collec.endIndex, this.redoCollec.splice(0, 1));
            }
        }
    }
    function mobileRemoveFunction() {
        var collec, sIndex = this.element.selectionStart, eIndex = this.element.selectionEnd;
        this.redoCollec.length > 0 ? (collec = this.redoCollec[0], setElementValue.call(this, collec.value), 
        collec.startIndex - sIndex == 1 ? (this.element.selectionStart = collec.startIndex, 
        this.element.selectionEnd = collec.endIndex) : (this.element.selectionStart = sIndex + 1, 
        this.element.selectionEnd = eIndex + 1)) : (setElementValue.call(this, this.promptMask), 
        this.element.selectionStart = this.element.selectionEnd = sIndex);
    }
    function removeMaskInputValues(event) {
        var oldEventVal, isRemove = !1, isDeleted = !1;
        this.element.value.length < this.promptMask.length && (isRemove = !0, mobileRemoveFunction.call(this), 
        oldEventVal = this.element.value);
        var initStartIndex = this.element.selectionStart, initEndIndex = this.element.selectionEnd, startIndex = this.element.selectionStart, endIndex = this.element.selectionEnd, maskValue = this.hiddenMask.replace(/[>|\\<]/g, ""), curMask = maskValue[startIndex - 1];
        this.element.parentNode;
        if (isRemove || 8 === event.keyCode || 46 === event.keyCode) {
            this.undoCollec.push({
                value: this.element.value,
                startIndex: this.element.selectionStart,
                endIndex: endIndex
            });
            var multipleDel = !1;
            if (startIndex > 0 || (8 === event.keyCode || 46 === event.keyCode) && startIndex < this.element.value.length && this.element.selectionEnd - startIndex !== this.element.value.length) {
                var index = startIndex;
                startIndex !== endIndex ? (startIndex = endIndex, 46 === event.keyCode && (multipleDel = !0)) : 46 === event.keyCode ? ++index : --index;
                for (var k = startIndex; 8 === event.keyCode || isRemove || multipleDel ? k > index : k < index; 8 === event.keyCode || isRemove || multipleDel ? k-- : k++) for (var i = startIndex; 8 === event.keyCode || isRemove || multipleDel ? i > 0 : i < this.element.value.length; 8 === event.keyCode || isRemove || multipleDel ? i-- : i++) {
                    var sIndex = void 0;
                    (8 === event.keyCode || multipleDel) && (initStartIndex !== initEndIndex && initStartIndex !== startIndex || initStartIndex === initEndIndex) || isRemove ? (curMask = maskValue[i - 1], 
                    sIndex = startIndex - 1) : (curMask = maskValue[i], sIndex = startIndex, ++startIndex);
                    var oldValue = this.element.value[sIndex];
                    if (isNullOrUndefined(this.regExpCollec[curMask]) && !isNullOrUndefined(this.customCharacters) && isNullOrUndefined(this.customCharacters[curMask]) && this.hiddenMask[sIndex] !== this.promptChar && "[" !== this.customRegExpCollec[sIndex][0] && "]" !== this.customRegExpCollec[sIndex][this.customRegExpCollec[sIndex].length - 1] || this.promptMask[sIndex] !== this.promptChar && isNullOrUndefined(this.customCharacters)) this.element.selectionStart = this.element.selectionEnd = sIndex, 
                    event.preventDefault(), 46 !== event.keyCode || multipleDel || ++this.element.selectionStart; else {
                        var value = this.element.value, prompt_1 = this.promptChar, elementValue = value.substring(0, sIndex) + prompt_1 + value.substring(startIndex, value.length);
                        setElementValue.call(this, elementValue), event.preventDefault(), this.element.selectionStart = this.element.selectionEnd = sIndex, 
                        isDeleted = !0;
                    }
                    if (startIndex = this.element.selectionStart, !isDeleted && 8 === event.keyCode || multipleDel || !isDeleted && 46 !== event.keyCode ? sIndex = startIndex - 1 : (sIndex = startIndex, 
                    isDeleted = !1), oldValue = this.element.value[sIndex], initStartIndex !== initEndIndex && this.element.selectionStart === initStartIndex || this.promptMask[sIndex] === this.promptChar || oldValue !== this.promptMask[sIndex] && this.promptMask[sIndex] !== this.promptChar && !isNullOrUndefined(this.customCharacters)) break;
                }
            }
            0 === this.element.selectionStart && this.element.selectionEnd === this.element.value.length && (setElementValue.call(this, this.promptMask), 
            event.preventDefault(), this.element.selectionStart = this.element.selectionEnd = startIndex), 
            this.redoCollec.unshift({
                value: this.element.value,
                startIndex: this.element.selectionStart,
                endIndex: this.element.selectionEnd
            }), triggerMaskChangeEvent.call(this, event, oldEventVal);
        }
    }
    function maskInputKeyPressHandler(event) {
        if (this.mask) {
            var oldValue = this.element.value;
            if (!event.ctrlKey || event.ctrlKey && "KeyA" !== event.code && "KeyY" !== event.code && "KeyZ" !== event.code && "KeyX" !== event.code && "KeyC" !== event.code && "KeyV" !== event.code) {
                this.maskKeyPress = !0;
                var key = event.key;
                "Spacebar" === key && (key = String.fromCharCode(event.keyCode)), key ? key && 1 === key.length && (validateValue.call(this, key, event.ctrlKey, event), 
                event.preventDefault()) : (this.isIosInvalid = !0, validateValue.call(this, String.fromCharCode(event.keyCode), event.ctrlKey, event), 
                event.preventDefault(), this.isIosInvalid = !1);
            }
            triggerMaskChangeEvent.call(this, event, oldValue);
        }
    }
    function triggerMaskChangeEvent(event, oldValue) {
        if (!isNullOrUndefined(this.changeEventArgs)) {
            var eventArgs = {};
            this.changeEventArgs = {
                value: this.element.value,
                maskedValue: this.element.value,
                isInteraction: !1
            }, this.mask && (this.changeEventArgs.value = strippedValue.call(this, this.element)), 
            isNullOrUndefined(event) || (this.changeEventArgs.isInteraction = !0, this.changeEventArgs.event = event), 
            merge(eventArgs, this.changeEventArgs), this.trigger("change", eventArgs);
        }
        attributes(this.element, {
            "aria-valuenow": this.element.value
        });
    }
    function maskInputKeyUpHandler(event) {
        if (this.mask) {
            var collec = void 0;
            if (this.maskKeyPress || 229 !== event.keyCode) removeMaskError.call(this); else {
                var oldEventVal = void 0;
                if (1 === this.element.value.length && (this.element.value = this.element.value + this.promptMask, 
                this.element.setSelectionRange(1, 1)), this.element.value.length > this.promptMask.length) {
                    var startIndex = this.element.selectionStart, addedValues = this.element.value.length - this.promptMask.length, val_1 = this.element.value.substring(startIndex - addedValues, startIndex);
                    if (this.undoCollec.length > 0) {
                        collec = this.undoCollec[this.undoCollec.length - 1];
                        var startIndex_1 = this.element.selectionStart;
                        oldEventVal = collec.value;
                        var oldVal = collec.value.substring(startIndex_1 - addedValues, startIndex_1);
                        collec = this.redoCollec[0], val_1 = val_1.trim();
                        var isSpace = Browser.isAndroid && "" === val_1;
                        isSpace || oldVal === val_1 || collec.value.substring(startIndex_1 - addedValues, startIndex_1) === val_1 ? isSpace && preventUnsupportedValues.call(this, event, startIndex_1 - 1, this.element.selectionEnd - 1, val_1, event.ctrlKey, !1) : validateValue.call(this, val_1, event.ctrlKey, event);
                    } else oldEventVal = this.promptMask, validateValue.call(this, val_1, event.ctrlKey, event);
                    this.maskKeyPress = !1, triggerMaskChangeEvent.call(this, event, oldEventVal);
                }
            }
            var val = strippedValue.call(this, this.element);
            (0 !== this.element.selectionStart || this.promptMask !== this.element.value || "" !== val || "" === val && this.value !== val) && (this.prevValue = val, 
            this.value = val);
        } else triggerMaskChangeEvent.call(this, event), this.value = this.element.value;
    }
    function validateValue(key, isCtrlKey, event) {
        this.maskKeyPress || function(key) {
            if (key.length > 1 && this.promptMask.length + key.length < this.element.value.length) {
                var elementValue = this.redoCollec[0].value.substring(0, this.redoCollec[0].startIndex) + key + this.redoCollec[0].value.substring(this.redoCollec[0].startIndex, this.redoCollec[0].value.length);
                setElementValue.call(this, elementValue), this.element.selectionStart = this.element.selectionEnd = this.redoCollec[0].startIndex + key.length;
            }
            this.element.selectionStart = this.element.selectionStart - key.length, this.element.selectionEnd = this.element.selectionEnd - key.length;
        }.call(this, key);
        for (var curMask, eventOldVal, startIndex = this.element.selectionStart, initStartIndex = startIndex, allowText = (this.element.selectionEnd, 
        !1), value = this.element.value, prevSupport = !1, isEqualVal = !1, k = 0; k < key.length; k++) {
            var keyValue = key[k];
            if (startIndex = this.element.selectionStart, this.element.selectionEnd, this.maskKeyPress || initStartIndex !== startIndex || (startIndex += k), 
            !this.maskKeyPress || startIndex < this.promptMask.length) {
                for (var i = startIndex; i < this.promptMask.length; i++) {
                    curMask = this.escapeMaskValue[startIndex], "\\" === this.hiddenMask[startIndex] && this.hiddenMask[startIndex + 1] === key && (isEqualVal = !0), 
                    (isNullOrUndefined(this.regExpCollec[curMask]) && (isNullOrUndefined(this.customCharacters) || !isNullOrUndefined(this.customCharacters) && isNullOrUndefined(this.customCharacters[curMask])) && this.hiddenMask[startIndex] !== this.promptChar && "[" !== this.customRegExpCollec[startIndex][0] && "]" !== this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] || this.promptMask[startIndex] !== this.promptChar && isNullOrUndefined(this.customCharacters) || this.promptChar === curMask && this.escapeMaskValue === this.mask) && (this.element.selectionStart = this.element.selectionEnd = startIndex + 1, 
                    startIndex = this.element.selectionStart, curMask = this.hiddenMask[startIndex]);
                }
                if (isNullOrUndefined(this.customCharacters) || isNullOrUndefined(this.customCharacters[curMask])) !isNullOrUndefined(this.regExpCollec[curMask]) && keyValue.match(new RegExp(this.regExpCollec[curMask])) && this.promptMask[startIndex] === this.promptChar ? allowText = !0 : this.promptMask[startIndex] === this.promptChar && "[" === this.customRegExpCollec[startIndex][0] && "]" === this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] && keyValue.match(new RegExp(this.customRegExpCollec[startIndex])) && (allowText = !0); else {
                    var customValArr = this.customCharacters[curMask].split(",");
                    for (i = 0; i < customValArr.length; i++) if (keyValue.match(new RegExp("[" + customValArr[i] + "]"))) {
                        allowText = !0;
                        break;
                    }
                }
                if ((!this.maskKeyPress || startIndex < this.hiddenMask.length) && allowText) {
                    if (0 === k) if (this.maskKeyPress) this.undoCollec.push({
                        value: value,
                        startIndex: startIndex,
                        endIndex: startIndex
                    }); else {
                        var sIndex = this.element.selectionStart, eIndex = this.element.selectionEnd;
                        this.redoCollec.length > 0 ? (eventOldVal = this.redoCollec[0].value, setElementValue.call(this, eventOldVal), 
                        this.undoCollec.push(this.redoCollec[0])) : (this.undoCollec.push({
                            value: this.promptMask,
                            startIndex: startIndex,
                            endIndex: startIndex
                        }), eventOldVal = this.promptMask, setElementValue.call(this, eventOldVal)), this.element.selectionStart = sIndex, 
                        this.element.selectionEnd = eIndex;
                    }
                    startIndex = this.element.selectionStart, function(event, startIndex, keyValue, eventOldVal, isEqualVal) {
                        this.hiddenMask.length > this.promptMask.length && (keyValue = function(key, value) {
                            var promptMask, i, curVal = value, caseCount = 0;
                            for (i = 0; i < this.hiddenMask.length; i++) if ("\\" === this.hiddenMask[i] && (promptMask = curVal.substring(0, i) + "\\" + curVal.substring(i, curVal.length)), 
                            ">" !== this.hiddenMask[i] && "<" !== this.hiddenMask[i] && "|" !== this.hiddenMask[i] || (this.hiddenMask[i] !== curVal[i] && (promptMask = curVal.substring(0, i) + this.hiddenMask[i] + curVal.substring(i, curVal.length)), 
                            ++caseCount), promptMask) {
                                if (promptMask[i] === this.promptChar && i > this.element.selectionStart || this.element.value.indexOf(this.promptChar) < 0 && this.element.selectionStart + caseCount === i) {
                                    caseCount = 0;
                                    break;
                                }
                                curVal = promptMask;
                            }
                            for (;i >= 0 && promptMask; ) {
                                if (0 === i || "\\" !== promptMask[i - 1]) {
                                    this.element.value;
                                    if (">" === promptMask[i]) {
                                        key = key.toUpperCase();
                                        break;
                                    }
                                    if ("<" === promptMask[i]) {
                                        key = key.toLowerCase();
                                        break;
                                    }
                                    if ("|" === promptMask[i]) break;
                                }
                                --i;
                            }
                            return key;
                        }.call(this, keyValue, this.element.value));
                        if (!isEqualVal) {
                            var value = this.element.value, elementValue = value.substring(0, startIndex) + keyValue + value.substring(startIndex + 1, value.length);
                            setElementValue.call(this, elementValue), this.element.selectionStart = this.element.selectionEnd = startIndex + 1;
                        }
                        triggerMaskChangeEvent.call(this, event, eventOldVal);
                    }.call(this, event, startIndex, keyValue, eventOldVal, isEqualVal), prevSupport = !0, 
                    k === key.length - 1 && this.redoCollec.unshift({
                        value: this.element.value,
                        startIndex: this.element.selectionStart,
                        endIndex: this.element.selectionEnd
                    }), allowText = !1;
                } else startIndex = this.element.selectionStart, preventUnsupportedValues.call(this, event, startIndex, initStartIndex, key, isCtrlKey, prevSupport);
                k !== key.length - 1 || allowText || (!Browser.isAndroid || Browser.isAndroid && startIndex < this.promptMask.length) && this.redoCollec.unshift({
                    value: this.element.value,
                    startIndex: this.element.selectionStart,
                    endIndex: this.element.selectionEnd
                });
            } else 1 !== key.length || isCtrlKey || isNullOrUndefined(event) || addMaskErrorClass.call(this);
        }
    }
    function preventUnsupportedValues(event, sIdx, idx, key, ctrl, chkSupport) {
        if (!this.maskKeyPress) {
            var eventOldVal = void 0, value = this.element.value;
            sIdx >= this.promptMask.length ? setElementValue.call(this, value.substring(0, sIdx)) : (idx === sIdx ? setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx + 1, value.length)) : this.promptMask.length === this.element.value.length ? setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx, value.length)) : setElementValue.call(this, value.substring(0, idx) + value.substring(idx + 1, value.length)), 
            this.element.selectionStart = this.element.selectionEnd = chkSupport || this.element.value[idx] !== this.promptChar ? sIdx : idx), 
            eventOldVal = this.element.value, triggerMaskChangeEvent.call(this, event, eventOldVal), 
            addMaskErrorClass.call(this);
        }
        1 !== key.length || ctrl || isNullOrUndefined(event) || addMaskErrorClass.call(this);
    }
    function addMaskErrorClass() {
        var _this = this, parentElement = this.element.parentNode, timer = 200;
        parentElement.classList.contains(INPUTGROUP) || parentElement.classList.contains(FLOATINPUT) ? addClass([ parentElement ], ERROR$1) : addClass([ this.element ], ERROR$1), 
        !0 === this.isIosInvalid && (timer = 400), attributes(this.element, {
            "aria-invalid": "true"
        }), setTimeout(function() {
            _this.maskKeyPress || removeMaskError.call(_this);
        }, timer);
    }
    function removeMaskError() {
        removeClass([ this.element.parentNode ], ERROR$1), removeClass([ this.element ], ERROR$1), 
        attributes(this.element, {
            "aria-invalid": "false"
        });
    }
    function setMaskValue(val) {
        if (this.mask && !isNullOrUndefined(val) && ("" === val || this.prevValue !== val)) {
            this.maskKeyPress = !0, setElementValue.call(this, this.promptMask), "" !== val && (this.element.selectionStart = 0, 
            this.element.selectionEnd = 0);
            for (var i = 0; i < val.length; i++) validateValue.call(this, val[i], !1, null);
            this.value = strippedValue.call(this, this.element), this.maskKeyPress = !1;
            var labelElement = this.element.parentNode.querySelector(".e-float-text");
            this.element.value !== this.promptMask || "Auto" !== this.floatLabelType || isNullOrUndefined(labelElement) || !labelElement.classList.contains(TOPLABEL) || this.isFocus || (removeClass([ labelElement ], TOPLABEL), 
            addClass([ labelElement ], BOTTOMLABEL), setElementValue.call(this, ""));
        }
    }
    function setElementValue(val, element) {
        !this.isFocus && "Auto" === this.floatLabelType && isNullOrUndefined(this.value) && (val = ""), 
        Input.setValue(val, element || this.element, this.floatLabelType);
    }
    function getMaskInput(args) {
        addClass([ args.element ], UTILMASK);
        var inputEle = {
            element: args.element,
            mask: args.mask,
            promptMask: "",
            hiddenMask: "",
            escapeMaskValue: "",
            promptChar: args.promptChar ? args.promptChar.length > 1 ? args.promptChar = args.promptChar[0] : args.promptChar : "_",
            value: args.value ? args.value : null,
            regExpCollec: regularExpressions,
            customRegExpCollec: [],
            customCharacters: args.customCharacters,
            undoCollec: [],
            redoCollec: [],
            maskKeyPress: !1,
            prevValue: ""
        };
        return createMask.call(inputEle), inputEle;
    }
    function getUtilMaskEle(args) {
        var inputEle;
        return !isNullOrUndefined(args) && args.element.classList.contains(UTILMASK) && (inputEle = getMaskInput(args)), 
        inputEle;
    }
    function setStateAndProperties(target, attribute, value, remove) {
        remove ? target.removeAttribute(attribute) : target && target.setAttribute(attribute, value);
    }
    function getFieldValues(dataItem, fields) {
        var value, fieldData = {};
        if (isNullOrUndefined(dataItem)) return dataItem;
        if ("string" == typeof dataItem || "number" == typeof dataItem) return dataItem;
        if (isNullOrUndefined(dataItem.isHeader)) for (var _i = 0, _a = Object.keys(fields); _i < _a.length; _i++) {
            var field = _a[_i];
            if (!isNullOrUndefined(fields[field]) && "string" == typeof fields[field]) {
                var property = fields[field].split(".");
                isNullOrUndefined(dataItem[property.length > 1 ? property[0] : fields[field]]) || isNullOrUndefined(value = getValue(fields[field], dataItem)) || (fieldData[fields[field]] = value);
            }
        } else !isNullOrUndefined(dataItem.isHeader) && dataItem.isHeader && (fieldData = dataItem);
        return fieldData;
    }
    function Search$1(inputVal, items, searchType, ignoreCase) {
        var listItems = items;
        ignoreCase = void 0 === ignoreCase || null === ignoreCase || ignoreCase;
        var itemData = {
            item: null,
            index: null
        };
        if (inputVal.length) {
            for (var strLength = inputVal.length, queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal, i = 0, itemsData = listItems; i < itemsData.length; i++) {
                var item = itemsData[i], text = (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\s+|\s+$/g, "");
                if ("Equal" === searchType && text === queryStr || "StartsWith" === searchType && text.substr(0, strLength) === queryStr) return itemData.item = item, 
                itemData.index = i, {
                    item: item,
                    index: i
                };
            }
            return itemData;
        }
        return itemData;
    }
    function highlightSearch(content, query, ignoreCase, type) {
        if (function(content) {
            for (var contentElement = content.querySelectorAll(".e-highlight"), i = contentElement.length - 1; i >= 0; i--) {
                var parent_1 = contentElement[i].parentNode, text = document.createTextNode(contentElement[i].textContent);
                parent_1.replaceChild(text, contentElement[i]);
            }
        }(content), "" !== query) {
            var ignoreRegex = ignoreCase ? "gim" : "gm";
            query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
            for (var replaceQuery = "StartsWith" === type ? "^(" + query + ")" : "EndsWith" === type ? "(" + query + ")$" : "(" + query + ")", pattern = new RegExp(replaceQuery, ignoreRegex), li = content.querySelectorAll("ul li"), i = 0; i < li.length; i++) {
                var element = li[i];
                element.innerHTML = element.innerHTML.replace(pattern, '<span class="e-highlight">$1</span>');
            }
        }
    }
    function validateNullOrUndefined(value, message) {
        if (null === value || void 0 === value) throw new Error("ArgumentException: " + message + " cannot be null or undefined");
    }
    function defaultToString(item) {
        return "[object String]" === Object.prototype.toString.call(item) ? "$s" + item : "$o" + item.toString();
    }
    function Search$2(inputVal, items, searchType, ignoreCase) {
        var listItems = items;
        ignoreCase = void 0 === ignoreCase || null === ignoreCase || ignoreCase;
        var itemData = {
            item: null,
            index: null
        };
        if (inputVal.length) {
            for (var strLength = inputVal.length, queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal, i = 0, itemsData = listItems; i < itemsData.length; i++) {
                var item = itemsData[i], text = (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\s+|\s+$/g, "");
                if ("Equal" === searchType && text === queryStr || "StartsWith" === searchType && text.substr(0, strLength) === queryStr) return itemData.item = item, 
                itemData.index = i, {
                    item: item,
                    index: i
                };
            }
            return itemData;
        }
        return itemData;
    }
    function highlightSearch$1(content, query, ignoreCase, type) {
        if (function(content) {
            for (var contentElement = content.querySelectorAll(".e-highlight"), i = contentElement.length - 1; i >= 0; i--) {
                var parent_1 = contentElement[i].parentNode, text = document.createTextNode(contentElement[i].textContent);
                parent_1.replaceChild(text, contentElement[i]);
            }
        }(content), "" !== query) {
            var ignoreRegex = ignoreCase ? "gim" : "gm";
            query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
            for (var replaceQuery = "StartsWith" === type ? "^(" + query + ")" : "EndsWith" === type ? "(" + query + ")$" : "(" + query + ")", pattern = new RegExp(replaceQuery, ignoreRegex), li = content.querySelectorAll("ul li"), i = 0; i < li.length; i++) {
                var element = li[i];
                element.innerHTML = element.innerHTML.replace(pattern, '<span class="e-highlight">$1</span>');
            }
        }
    }
    var instances = "ej2_instances", uid = 0, headerRegex = /^(.*?):[ \t]*([^\r\n]*)$/gm, defaultType = "GET", Ajax = function() {
        function Ajax(options, type, async) {
            this.mode = !0, this.options = {}, "string" == typeof options ? (this.url = options, 
            this.type = type ? type.toUpperCase() : defaultType, this.mode = !!isNullOrUndefined(async) || async) : "object" == typeof options && (this.options = options, 
            merge(this, this.options)), this.type = this.type ? this.type.toUpperCase() : defaultType;
        }
        return Ajax.prototype.send = function(data) {
            var _this = this;
            this.data = isNullOrUndefined(data) ? this.data : data;
            return new Promise(function(resolve, reject) {
                _this.httpRequest = new XMLHttpRequest(), _this.httpRequest.onreadystatechange = function() {
                    _this.stateChange(resolve, reject);
                }, _this.httpRequest.open(_this.type, _this.url, _this.mode), isNullOrUndefined(_this.data) || _this.httpRequest.setRequestHeader("Content-Type", _this.contentType || "application/json; charset=utf-8"), 
                _this.beforeSend && _this.beforeSend(), _this.httpRequest.send(isNullOrUndefined(_this.data) ? null : _this.data);
            });
        }, Ajax.prototype.successHandler = function(data) {
            return this.onSuccess && this.onSuccess(data, this), data;
        }, Ajax.prototype.failureHandler = function(reason) {
            return this.onFailure && this.onFailure(this.httpRequest), reason;
        }, Ajax.prototype.stateChange = function(resolve, reject) {
            var data = this.httpRequest.responseText;
            if (this.dataType && "json" === this.dataType.toLowerCase()) if ("" === data) data = void 0; else try {
                data = JSON.parse(data);
            } catch (error) {}
            4 === this.httpRequest.readyState && (200 === this.httpRequest.status || 304 === this.httpRequest.status ? resolve(this.successHandler(data)) : reject(new Error(this.failureHandler(this.httpRequest.statusText))));
        }, Ajax.prototype.getResponseHeader = function(key) {
            var responseHeaders, header;
            responseHeaders = {};
            for (var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders()); headers; ) responseHeaders[headers[1].toLowerCase()] = headers[2], 
            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());
            return header = responseHeaders[key.toLowerCase()], isNullOrUndefined(header) ? null : header;
        }, Ajax;
    }(), EventHandler = function() {
        function EventHandler() {}
        return EventHandler.addOrGetEventData = function(element) {
            return "__eventList" in element ? element.__eventList.events : (element.__eventList = {}, 
            element.__eventList.events = []);
        }, EventHandler.add = function(element, eventName, listener, bindTo, intDebounce) {
            var debounceListener, eventData = EventHandler.addOrGetEventData(element);
            debounceListener = intDebounce ? debounce(listener, intDebounce) : listener, bindTo && (debounceListener = debounceListener.bind(bindTo));
            for (var event = eventName.split(" "), i = 0; i < event.length; i++) eventData.push({
                name: event[i],
                listener: listener,
                debounce: debounceListener
            }), element.addEventListener(event[i], debounceListener);
            return debounceListener;
        }, EventHandler.remove = function(element, eventName, listener) {
            for (var eventData = EventHandler.addOrGetEventData(element), event = eventName.split(" "), _loop_1 = function(j) {
                var debounceListener, index = -1;
                eventData && 0 !== eventData.length && eventData.some(function(x, i) {
                    return x.name === event[j] && x.listener === listener && (index = i, debounceListener = x.debounce, 
                    !0);
                }), -1 !== index && eventData.splice(index, 1), debounceListener && element.removeEventListener(event[j], debounceListener);
            }, j = 0; j < event.length; j++) _loop_1(j);
        }, EventHandler.clearEvents = function(element) {
            var eventData, copyData;
            copyData = extend([], copyData, eventData = EventHandler.addOrGetEventData(element));
            for (var i = 0; i < copyData.length; i++) element.removeEventListener(copyData[i].name, copyData[i].debounce), 
            eventData.shift();
        }, EventHandler.trigger = function(element, eventName, eventProp) {
            for (var _i = 0, eventData_1 = EventHandler.addOrGetEventData(element); _i < eventData_1.length; _i++) {
                var event_1 = eventData_1[_i];
                event_1.name === eventName && event_1.debounce.call(this, eventProp);
            }
        }, EventHandler;
    }(), Observer = function() {
        function Observer(context) {
            this.ranArray = [], this.boundedEvents = {}, isNullOrUndefined(context) || (this.context = context);
        }
        return Observer.prototype.on = function(property, handler, context, id) {
            if (!isNullOrUndefined(handler)) {
                var cntxt = context || this.context;
                this.notExist(property) ? this.boundedEvents[property] = [ {
                    handler: handler,
                    context: cntxt
                } ] : isNullOrUndefined(id) ? this.isHandlerPresent(this.boundedEvents[property], handler) || this.boundedEvents[property].push({
                    handler: handler,
                    context: cntxt
                }) : -1 === this.ranArray.indexOf(id) && (this.ranArray.push(id), this.boundedEvents[property].push({
                    handler: handler,
                    context: cntxt,
                    id: id
                }));
            }
        }, Observer.prototype.off = function(property, handler, id) {
            if (!this.notExist(property)) {
                var curObject = getValue(property, this.boundedEvents);
                if (handler) for (var i = 0; i < curObject.length; i++) {
                    if (id) {
                        curObject.splice(i, 1);
                        var indexLocation = this.ranArray.indexOf(id);
                        -1 !== indexLocation && this.ranArray.splice(indexLocation, 1);
                        break;
                    }
                    if (handler === curObject[i].handler) {
                        curObject.splice(i, 1);
                        break;
                    }
                } else delete this.boundedEvents[property];
            }
        }, Observer.prototype.notify = function(property, argument) {
            if (!this.notExist(property)) {
                argument && (argument.name = property);
                for (var _i = 0, curObject_1 = getValue(property, this.boundedEvents).slice(0); _i < curObject_1.length; _i++) {
                    var cur = curObject_1[_i];
                    cur.handler.call(cur.context, argument);
                }
            }
        }, Observer.prototype.destroy = function() {
            this.boundedEvents = this.context = void 0;
        }, Observer.prototype.notExist = function(prop) {
            return !1 === this.boundedEvents.hasOwnProperty(prop);
        }, Observer.prototype.isHandlerPresent = function(boundedEvents, handler) {
            for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {
                if (boundedEvents_1[_i].handler === handler) return !0;
            }
            return !1;
        }, Observer;
    }(), Base = function() {
        function Base(options, element) {
            this.isProtectedOnChange = !0, this.properties = {}, this.changedProperties = {}, 
            this.oldProperties = {}, this.refreshing = !1, this.finalUpdate = function() {}, 
            this.childChangedProperties = {}, this.modelObserver = new Observer(this), isUndefined(element) || (this.element = "string" == typeof element ? document.querySelector(element) : element, 
            isNullOrUndefined(this.element) || (this.isProtectedOnChange = !1, this.addInstance())), 
            isUndefined(options) || this.setProperties(options, !0), this.isDestroyed = !1;
        }
        return Base.prototype.setProperties = function(prop, muteOnChange) {
            var prevDetection = this.isProtectedOnChange;
            this.isProtectedOnChange = !!muteOnChange, merge(this, prop), !0 !== muteOnChange && (merge(this.changedProperties, prop), 
            this.dataBind()), this.finalUpdate(), this.changedProperties = {}, this.oldProperties = {}, 
            this.isProtectedOnChange = prevDetection;
        }, Base.callChildDataBind = function(obj, parent) {
            for (var _i = 0, keys_1 = Object.keys(obj); _i < keys_1.length; _i++) {
                var key = keys_1[_i];
                if (parent[key] instanceof Array) for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {
                    var obj_1 = _b[_a];
                    void 0 !== obj_1.dataBind && obj_1.dataBind();
                } else parent[key].dataBind();
            }
        }, Base.prototype.clearChanges = function() {
            this.finalUpdate(), this.changedProperties = {}, this.oldProperties = {}, this.childChangedProperties = {};
        }, Base.prototype.dataBind = function() {
            if (Base.callChildDataBind(this.childChangedProperties, this), Object.getOwnPropertyNames(this.changedProperties).length) {
                var prevDetection = this.isProtectedOnChange, newChanges = this.changedProperties, oldChanges = this.oldProperties;
                this.clearChanges(), this.isProtectedOnChange = !0, this.onPropertyChanged(newChanges, oldChanges), 
                this.isProtectedOnChange = prevDetection;
            }
        }, Base.prototype.saveChanges = function(key, newValue, oldValue) {
            this.isProtectedOnChange || (this.oldProperties[key] = oldValue, this.changedProperties[key] = newValue, 
            this.finalUpdate(), this.finalUpdate = setImmediate(this.dataBind.bind(this)));
        }, Base.prototype.addEventListener = function(eventName, handler) {
            this.modelObserver.on(eventName, handler);
        }, Base.prototype.removeEventListener = function(eventName, handler) {
            this.modelObserver.off(eventName, handler);
        }, Base.prototype.trigger = function(eventName, eventProp) {
            if (!0 !== this.isDestroyed) {
                var prevDetection = this.isProtectedOnChange;
                this.isProtectedOnChange = !1, this.modelObserver.notify(eventName, eventProp), 
                this.isProtectedOnChange = prevDetection;
            }
        }, Base.prototype.addInstance = function() {
            var moduleClass = "e-" + this.getModuleName().toLowerCase();
            addClass([ this.element ], [ "e-control", moduleClass ]), isNullOrUndefined(this.element.ej2_instances) ? setValue("ej2_instances", [ this ], this.element) : this.element.ej2_instances.push(this);
        }, Base.prototype.destroy = function() {
            var _this = this;
            this.element.ej2_instances = this.element.ej2_instances.filter(function(i) {
                return i !== _this;
            }), removeClass([ this.element ], [ "e-" + this.getModuleName() ]), 0 === this.element.ej2_instances.length && removeClass([ this.element ], [ "e-control" ]), 
            this.clearChanges(), this.modelObserver.destroy(), this.isDestroyed = !0;
        }, Base;
    }(), REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i, REGX_IE = /msie|trident/i, REGX_IE11 = /Trident\/7\./, REGX_IOS = /(ipad|iphone|ipod touch)/i, REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i, REGX_ANDROID = /android/i, REGX_WINDOWS = /trident|windows phone|edge/i, REGX_VERSION = /(version)[ \/]([\w.]+)/i, REGX_BROWSER = {
        OPERA: /(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,
        EDGE: /(edge)(?:.*version|)[ \/]([\w.]+)/i,
        CHROME: /(chrome|crios)[ \/]([\w.]+)/i,
        PANTHOMEJS: /(phantomjs)[ \/]([\w.]+)/i,
        SAFARI: /(safari)[ \/]([\w.]+)/i,
        WEBKIT: /(webkit)[ \/]([\w.]+)/i,
        MSIE: /(msie|trident) ([\w.]+)/i,
        MOZILLA: /(mozilla)(?:.*? rv:([\w.]+)|)/i
    };
    "undefined" != typeof window && (window.browserDetails = window.browserDetails || {});
    var IntlBase, Browser = function() {
        function Browser() {}
        return Browser.extractBrowserDetail = function() {
            for (var browserInfo = {
                culture: {}
            }, clientInfo = [], _i = 0, keys_1 = Object.keys(REGX_BROWSER); _i < keys_1.length; _i++) {
                var key = keys_1[_i];
                if (clientInfo = Browser.userAgent.match(REGX_BROWSER[key])) {
                    if (browserInfo.name = "opr" === clientInfo[1].toLowerCase() ? "opera" : clientInfo[1].toLowerCase(), 
                    browserInfo.name = "crios" === clientInfo[1].toLowerCase() ? "chrome" : browserInfo.name, 
                    browserInfo.version = clientInfo[2], browserInfo.culture.name = browserInfo.culture.language = navigator.language, 
                    Browser.userAgent.match(REGX_IE11)) {
                        browserInfo.name = "msie";
                        break;
                    }
                    var version = Browser.userAgent.match(REGX_VERSION);
                    "safari" === browserInfo.name && version && (browserInfo.version = version[2]);
                    break;
                }
            }
            return browserInfo;
        }, Browser.getEvent = function(event) {
            var events = {
                start: {
                    isPointer: "pointerdown",
                    isTouch: "touchstart",
                    isDevice: "mousedown"
                },
                move: {
                    isPointer: "pointermove",
                    isTouch: "touchmove",
                    isDevice: "mousemove"
                },
                end: {
                    isPointer: "pointerup",
                    isTouch: "touchend",
                    isDevice: "mouseup"
                }
            };
            return Browser.isPointer ? events[event].isPointer : Browser.isTouch ? events[event].isTouch + (Browser.isDevice ? "" : " " + events[event].isDevice) : events[event].isDevice;
        }, Browser.getTouchStartEvent = function() {
            return Browser.getEvent("start");
        }, Browser.getTouchEndEvent = function() {
            return Browser.getEvent("end");
        }, Browser.getTouchMoveEvent = function() {
            return Browser.getEvent("move");
        }, Browser.getValue = function(key, regX) {
            var browserDetails = window.browserDetails;
            return void 0 === browserDetails[key] ? browserDetails[key] = regX.test(Browser.userAgent) : browserDetails[key];
        }, Object.defineProperty(Browser, "userAgent", {
            get: function() {
                return Browser.uA;
            },
            set: function(uA) {
                Browser.uA = uA, window.browserDetails = {};
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "info", {
            get: function() {
                return isUndefined(window.browserDetails.info) ? window.browserDetails.info = Browser.extractBrowserDetail() : window.browserDetails.info;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isIE", {
            get: function() {
                return Browser.getValue("isIE", REGX_IE);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isTouch", {
            get: function() {
                return isUndefined(window.browserDetails.isTouch) ? window.browserDetails.isTouch = "ontouchstart" in window : window.browserDetails.isTouch;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isPointer", {
            get: function() {
                return isUndefined(window.browserDetails.isPointer) ? window.browserDetails.isPointer = "pointerEnabled" in window.navigator : window.browserDetails.isPointer;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isMSPointer", {
            get: function() {
                return isUndefined(window.browserDetails.isMSPointer) ? window.browserDetails.isMSPointer = "msPointerEnabled" in window.navigator : window.browserDetails.isMSPointer;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isDevice", {
            get: function() {
                return Browser.getValue("isDevice", REGX_MOBILE);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isIos", {
            get: function() {
                return Browser.getValue("isIos", REGX_IOS);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isIos7", {
            get: function() {
                return Browser.getValue("isIos7", REGX_IOS7);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isAndroid", {
            get: function() {
                return Browser.getValue("isAndroid", REGX_ANDROID);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isWebView", {
            get: function() {
                return isUndefined(window.browserDetails.isWebView) ? (window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap) && isUndefined(window.phonegap) && "object" !== window.forge), 
                window.browserDetails.isWebView) : window.browserDetails.isWebView;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "isWindows", {
            get: function() {
                return Browser.getValue("isWindows", REGX_WINDOWS);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "touchStartEvent", {
            get: function() {
                return isUndefined(window.browserDetails.touchStartEvent) ? window.browserDetails.touchStartEvent = Browser.getTouchStartEvent() : window.browserDetails.touchStartEvent;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "touchMoveEvent", {
            get: function() {
                return isUndefined(window.browserDetails.touchMoveEvent) ? window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent() : window.browserDetails.touchMoveEvent;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Browser, "touchEndEvent", {
            get: function() {
                return isUndefined(window.browserDetails.touchEndEvent) ? window.browserDetails.touchEndEvent = Browser.getTouchEndEvent() : window.browserDetails.touchEndEvent;
            },
            enumerable: !0,
            configurable: !0
        }), Browser.uA = "undefined" != typeof navigator ? navigator.userAgent : "", Browser;
    }(), __extends$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$1 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, Animation = function(_super) {
        function Animation(options) {
            var _this = _super.call(this, options, void 0) || this;
            return _this.easing = {
                ease: "cubic-bezier(0.250, 0.100, 0.250, 1.000)",
                linear: "cubic-bezier(0.250, 0.250, 0.750, 0.750)",
                easeIn: "cubic-bezier(0.420, 0.000, 1.000, 1.000)",
                easeOut: "cubic-bezier(0.000, 0.000, 0.580, 1.000)",
                easeInOut: "cubic-bezier(0.420, 0.000, 0.580, 1.000)",
                elasticInOut: "cubic-bezier(0.5,-0.58,0.38,1.81)",
                elasticIn: "cubic-bezier(0.17,0.67,0.59,1.81)",
                elasticOut: "cubic-bezier(0.7,-0.75,0.99,1.01)"
            }, _this;
        }
        return __extends$1(Animation, _super), Animation_1 = Animation, Animation.prototype.animate = function(element, options) {
            options = options || {};
            var model = this.getModel(options);
            if ("string" == typeof element) for (var _i = 0, elements_1 = Array.prototype.slice.call(selectAll(element, document)); _i < elements_1.length; _i++) {
                var element_1 = elements_1[_i];
                model.element = element_1, Animation_1.delayAnimation(model);
            } else model.element = element, Animation_1.delayAnimation(model);
        }, Animation.stop = function(element, model) {
            element.style.animation = "", element.removeAttribute("e-animate");
            var animationId = element.getAttribute("e-animation-id");
            if (animationId) {
                var frameId = parseInt(animationId, 10);
                cancelAnimationFrame(frameId), element.removeAttribute("e-animation-id");
            }
            model && model.end && model.end.call(this, model);
        }, Animation.delayAnimation = function(model) {
            model.delay ? setTimeout(function() {
                Animation_1.applyAnimation(model);
            }, model.delay) : Animation_1.applyAnimation(model);
        }, Animation.applyAnimation = function(model) {
            var _this = this;
            model.timeStamp = 0;
            var step = 0, timerId = 0, prevTimeStamp = 0, duration = model.duration;
            model.element.setAttribute("e-animate", "true");
            var startAnimation = function(timeStamp) {
                try {
                    if (timeStamp) {
                        prevTimeStamp = 0 === prevTimeStamp ? timeStamp : prevTimeStamp, model.timeStamp = timeStamp + model.timeStamp - prevTimeStamp, 
                        prevTimeStamp = timeStamp, !step && model.begin && model.begin.call(_this, model), 
                        step += 1;
                        var avg = model.timeStamp / step;
                        model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute("e-animate") ? (model.element.style.animation = model.name + " " + model.duration + "ms " + model.timingFunction, 
                        model.progress && model.progress.call(_this, model), requestAnimationFrame(startAnimation)) : (cancelAnimationFrame(timerId), 
                        model.element.removeAttribute("e-animation-id"), model.element.removeAttribute("e-animate"), 
                        model.element.style.animation = "", model.end && model.end.call(_this, model));
                    } else performance.now(), timerId = requestAnimationFrame(startAnimation), model.element.setAttribute("e-animation-id", timerId.toString());
                } catch (e) {
                    cancelAnimationFrame(timerId), model.element.removeAttribute("e-animation-id"), 
                    model.fail && model.fail.call(_this, e);
                }
            };
            startAnimation();
        }, Animation.prototype.getModel = function(options) {
            return {
                name: options.name || this.name,
                delay: options.delay || this.delay,
                duration: void 0 !== options.duration ? options.duration : this.duration,
                begin: options.begin || this.begin,
                end: options.end || this.end,
                fail: options.fail || this.fail,
                progress: options.progress || this.progress,
                timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] : options.timingFunction || this.easing[this.timingFunction]
            };
        }, Animation.prototype.onPropertyChanged = function(newProp, oldProp) {}, Animation.prototype.getModuleName = function() {
            return "animation";
        }, Animation.prototype.destroy = function() {}, __decorate$1([ Property("FadeIn") ], Animation.prototype, "name", void 0), 
        __decorate$1([ Property(400) ], Animation.prototype, "duration", void 0), __decorate$1([ Property("ease") ], Animation.prototype, "timingFunction", void 0), 
        __decorate$1([ Property(0) ], Animation.prototype, "delay", void 0), __decorate$1([ Event() ], Animation.prototype, "progress", void 0), 
        __decorate$1([ Event() ], Animation.prototype, "begin", void 0), __decorate$1([ Event() ], Animation.prototype, "end", void 0), 
        __decorate$1([ Event() ], Animation.prototype, "fail", void 0), Animation = Animation_1 = __decorate$1([ NotifyPropertyChanges ], Animation);
        var Animation_1;
    }(Base), isRippleEnabled = !1, CanvasRenderer = function() {
        function CanvasRenderer(rootID) {
            this.rootId = rootID;
        }
        return CanvasRenderer.prototype.getOptionValue = function(options, key) {
            return options[key];
        }, CanvasRenderer.prototype.createCanvas = function(options) {
            var canvasObj = document.createElement("canvas");
            return canvasObj.setAttribute("id", this.rootId + "_canvas"), this.ctx = canvasObj.getContext("2d"), 
            this.canvasObj = canvasObj, this.setCanvasSize(options.width, options.height), this.canvasObj;
        }, CanvasRenderer.prototype.setCanvasSize = function(width, height) {
            var element = document.getElementById(this.rootId), size = isNullOrUndefined(element) ? null : element.getBoundingClientRect();
            isNullOrUndefined(this.width) ? this.canvasObj.setAttribute("width", width ? width.toString() : size.width.toString()) : this.canvasObj.setAttribute("width", this.width.toString()), 
            isNullOrUndefined(this.height) ? this.canvasObj.setAttribute("height", height ? height.toString() : "450") : this.canvasObj.setAttribute("height", this.height.toString());
        }, CanvasRenderer.prototype.setAttributes = function(options) {
            this.ctx.lineWidth = this.getOptionValue(options, "stroke-width");
            var dashArray = this.getOptionValue(options, "stroke-dasharray");
            if (!isNullOrUndefined(dashArray)) {
                var dashArrayString = dashArray.split(",");
                this.ctx.setLineDash([ parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10) ]);
            }
            this.ctx.strokeStyle = this.getOptionValue(options, "stroke");
        }, CanvasRenderer.prototype.drawLine = function(options) {
            this.ctx.save(), this.ctx.beginPath(), this.ctx.lineWidth = this.getOptionValue(options, "stroke-width"), 
            this.ctx.strokeStyle = options.stroke, this.ctx.moveTo(options.x1, options.y1), 
            this.ctx.lineTo(options.x2, options.y2), this.ctx.stroke(), this.ctx.restore(), 
            this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.drawRectangle = function(options) {
            var canvasCtx = this.ctx, cornerRadius = options.rx;
            this.ctx.save(), this.ctx.beginPath(), this.ctx.globalAlpha = this.getOptionValue(options, "opacity"), 
            this.setAttributes(options), this.ctx.rect(options.x, options.y, options.width, options.height), 
            null !== cornerRadius && cornerRadius >= 0 ? this.drawCornerRadius(options) : ("none" === options.fill && (options.fill = "transparent"), 
            this.ctx.fillStyle = options.fill, this.ctx.fillRect(options.x, options.y, options.width, options.height), 
            this.ctx.stroke()), this.ctx.restore(), this.ctx = canvasCtx, this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.drawCornerRadius = function(options) {
            var cornerRadius = options.rx, x = options.x, y = options.y, width = options.width, height = options.height;
            "none" === options.fill && (options.fill = "transparent"), this.ctx.fillStyle = options.fill, 
            width < 2 * cornerRadius && (cornerRadius = width / 2), height < 2 * cornerRadius && (cornerRadius = height / 2), 
            this.ctx.beginPath(), this.ctx.moveTo(x + width - cornerRadius, y), this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius), 
            this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius), this.ctx.arcTo(x, y + height, x, y, cornerRadius), 
            this.ctx.arcTo(x, y, x + width, y, cornerRadius), this.ctx.closePath(), this.ctx.fill(), 
            this.ctx.stroke(), this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.drawPath = function(options, canvasTranslate) {
            var dataSplit = options.d.split(" "), borderWidth = this.getOptionValue(options, "stroke-width"), canvasCtx = this.ctx, flag = !0;
            this.ctx.save(), this.ctx.beginPath(), canvasTranslate && this.ctx.translate(canvasTranslate[0], canvasTranslate[1]), 
            this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, "fill-opacity"), 
            this.setAttributes(options);
            for (var i = 0; i < dataSplit.length; i += 3) {
                var x1 = parseFloat(dataSplit[i + 1]), y1 = parseFloat(dataSplit[i + 2]);
                switch (dataSplit[i]) {
                  case "M":
                    options.innerR || options.cx || this.ctx.moveTo(x1, y1);
                    break;

                  case "L":
                    options.innerR || this.ctx.lineTo(x1, y1);
                    break;

                  case "C":
                    var c1 = parseFloat(dataSplit[i + 3]), c2 = parseFloat(dataSplit[i + 4]), c3 = parseFloat(dataSplit[i + 5]), c4 = parseFloat(dataSplit[i + 6]);
                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4), i += 4;
                    break;

                  case "A":
                    options.innerR ? flag && (this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise), 
                    this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise), 
                    flag = !1) : options.cx ? this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise) : (this.ctx.moveTo(options.x, options.y), 
                    this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise), 
                    this.ctx.lineTo(options.x, options.y)), i += 5;
                    break;

                  case "z":
                    this.ctx.closePath();
                }
            }
            "none" !== options.fill && void 0 !== options.fill && (this.ctx.fillStyle = options.fill, 
            this.ctx.fill()), borderWidth > 0 && this.ctx.stroke(), this.ctx.restore(), this.ctx = canvasCtx, 
            this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.drawText = function(options, label) {
            var fontWeight = this.getOptionValue(options, "font-weight");
            isNullOrUndefined(fontWeight) || "regular" !== fontWeight.toLowerCase() || (fontWeight = "normal");
            var fontSize = this.getOptionValue(options, "font-size"), fontFamily = this.getOptionValue(options, "font-family"), font = this.getOptionValue(options, "font-style").toLowerCase() + " " + fontWeight + " " + fontSize + " " + fontFamily, anchor = this.getOptionValue(options, "text-anchor"), opacity = void 0 !== options.opacity ? options.opacity : 1;
            "middle" === anchor && (anchor = "center"), this.ctx.save(), this.ctx.fillStyle = options.fill, 
            this.ctx.font = font, this.ctx.textAlign = anchor, this.ctx.globalAlpha = opacity, 
            options.baseline && (this.ctx.textBaseline = options.baseline);
            this.ctx.translate(options.x + 0, options.y), this.ctx.rotate(options.labelRotation * Math.PI / 180), 
            this.ctx.fillText(label, 0, 0), this.ctx.restore(), this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.drawCircle = function(options) {
            var canvasCtx = this.ctx;
            this.ctx.save(), this.ctx.beginPath(), this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI), 
            this.ctx.fillStyle = options.fill, this.ctx.globalAlpha = options.opacity, this.ctx.fill(), 
            this.setAttributes(options), this.ctx.stroke(), this.ctx.restore(), this.ctx = canvasCtx, 
            this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.drawPolyline = function(options) {
            this.ctx.save(), this.ctx.beginPath();
            for (var points = options.points.split(" "), i = 0; i < points.length - 1; i++) {
                var point = points[i].split(","), x = parseFloat(point[0]), y = parseFloat(point[1]);
                0 === i ? this.ctx.moveTo(x, y) : this.ctx.lineTo(x, y);
            }
            this.ctx.lineWidth = this.getOptionValue(options, "stroke-width"), this.ctx.strokeStyle = options.stroke, 
            this.ctx.stroke(), this.ctx.restore(), this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.drawEllipse = function(options) {
            var canvasCtx = this.ctx, circumference = Math.max(options.rx, options.ry), scaleX = options.rx / circumference, scaleY = options.ry / circumference;
            this.ctx.save(), this.ctx.beginPath(), this.ctx.translate(options.cx, options.cy), 
            this.ctx.save(), this.ctx.scale(scaleX, scaleY), this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, !1), 
            this.ctx.fillStyle = options.fill, this.ctx.fill(), this.ctx.restore(), this.ctx.lineWidth = this.getOptionValue(options, "stroke-width"), 
            this.ctx.strokeStyle = options.stroke, this.ctx.stroke(), this.ctx.restore(), this.ctx = canvasCtx, 
            this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.drawImage = function(options) {
            this.ctx.save();
            var imageObj = new Image();
            isNullOrUndefined(options.href) || (imageObj.src = options.href, this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height)), 
            this.ctx.restore(), this.dataUrl = this.canvasObj.toDataURL();
        }, CanvasRenderer.prototype.createLinearGradient = function(colors) {
            var myGradient;
            isNullOrUndefined(colors[0].colorStop) || (myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height));
            return this.setGradientValues(colors, myGradient);
        }, CanvasRenderer.prototype.createRadialGradient = function(colors) {
            var myGradient;
            isNullOrUndefined(colors[0].colorStop) || (myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height));
            return this.setGradientValues(colors, myGradient);
        }, CanvasRenderer.prototype.setGradientValues = function(colors, myGradient) {
            var colorName;
            if (isNullOrUndefined(colors[0].colorStop)) colorName = colors[0].color.toString(); else {
                for (var i = 0; i <= colors.length - 1; i++) {
                    var color = colors[i].color, newColorStop = colors[i].colorStop.slice(0, -1), stopColor = parseInt(newColorStop, 10) / 100;
                    myGradient.addColorStop(stopColor, color);
                }
                colorName = myGradient.toString();
            }
            return this.dataUrl = this.canvasObj.toDataURL(), colorName;
        }, CanvasRenderer.prototype.setElementAttributes = function(options, element) {
            for (var keys = Object.keys(options), values = Object.keys(options).map(function(key) {
                return options[key];
            }), i = 0; i < keys.length; i++) element.setAttribute(keys[i], values[i]);
            return element;
        }, CanvasRenderer.prototype.updateCanvasAttributes = function(options) {
            this.setElementAttributes(options, this.canvasObj);
            var ctx = this.ctx;
            if (!isNullOrUndefined(this.dataUrl)) {
                var img_1 = new Image();
                img_1.onload = function() {
                    ctx.drawImage(img_1, 0, 0);
                }, img_1.src = this.dataUrl;
            }
        }, CanvasRenderer;
    }(), ModuleLoader = function() {
        function ModuleLoader(parent) {
            this.loadedModules = [], this.parent = parent;
        }
        return ModuleLoader.prototype.inject = function(requiredModules, moduleList) {
            var reqLength = requiredModules.length;
            if (0 !== reqLength) {
                this.loadedModules.length && this.clearUnusedModule(requiredModules);
                for (var i = 0; i < reqLength; i++) for (var modl = requiredModules[i], _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {
                    var module = moduleList_1[_i], modName = modl.member;
                    if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {
                        var moduleObject = createInstance(module, modl.args), memberName = this.getMemberName(modName);
                        modl.isProperty ? setValue(memberName, module, this.parent) : setValue(memberName, moduleObject, this.parent);
                        var loadedModule = modl;
                        loadedModule.member = memberName, this.loadedModules.push(loadedModule);
                    }
                }
            } else this.clean();
        }, ModuleLoader.prototype.clean = function() {
            for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {
                var modules = _a[_i];
                modules.isProperty || getValue(modules.member, this.parent).destroy();
            }
            this.loadedModules = [];
        }, ModuleLoader.prototype.clearUnusedModule = function(moduleList) {
            for (var _this = this, usedModules = moduleList.map(function(arg) {
                return _this.getMemberName(arg.member);
            }), _i = 0, removableModule_1 = this.loadedModules.filter(function(module) {
                return -1 === usedModules.indexOf(module.member);
            }); _i < removableModule_1.length; _i++) {
                var mod = removableModule_1[_i];
                mod.isProperty || getValue(mod.member, this.parent).destroy(), this.loadedModules.splice(this.loadedModules.indexOf(mod), 1), 
                deleteObject(this.parent, mod.member);
            }
        }, ModuleLoader.prototype.getMemberName = function(name) {
            return name[0].toLowerCase() + name.substring(1) + "Module";
        }, ModuleLoader.prototype.isModuleLoaded = function(modName) {
            for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {
                if (_a[_i].member === this.getMemberName(modName)) return !0;
            }
            return !1;
        }, ModuleLoader;
    }(), ChildProperty = function() {
        function ChildProperty(parent, propName, defaultValue, isArray) {
            this.properties = {}, this.changedProperties = {}, this.childChangedProperties = {}, 
            this.oldProperties = {}, this.finalUpdate = function() {}, this.callChildDataBind = getValue("callChildDataBind", Base), 
            this.parentObj = parent, this.controlParent = this.parentObj.controlParent || this.parentObj, 
            this.propName = propName, this.setProperties(defaultValue, !0), this.isParentArray = isArray;
        }
        return ChildProperty.prototype.updateChange = function(val, propName) {
            !0 === val ? this.parentObj.childChangedProperties[propName] = val : delete this.parentObj.childChangedProperties[propName], 
            this.parentObj.updateChange && this.parentObj.updateChange(val, this.parentObj.propName);
        }, ChildProperty.prototype.updateTimeOut = function() {
            this.parentObj.updateTimeOut ? (this.parentObj.finalUpdate(), this.parentObj.updateTimeOut()) : this.parentObj.finalUpdate = setImmediate(this.parentObj.dataBind.bind(this.parentObj));
        }, ChildProperty.prototype.clearChanges = function() {
            this.finalUpdate(), this.updateChange(!1, this.propName), this.oldProperties = {}, 
            this.changedProperties = {};
        }, ChildProperty.prototype.setProperties = function(prop, muteOnChange) {
            !0 === muteOnChange ? (merge(this, prop), this.updateChange(!1, this.propName), 
            this.clearChanges()) : merge(this, prop);
        }, ChildProperty.prototype.dataBind = function() {
            if (this.callChildDataBind(this.childChangedProperties, this), this.isParentArray) {
                var curIndex = this.parentObj[this.propName].indexOf(this);
                Object.keys(this.changedProperties).length && (setValue(this.propName + "." + curIndex, this.changedProperties, this.parentObj.changedProperties), 
                setValue(this.propName + "." + curIndex, this.oldProperties, this.parentObj.oldProperties));
            } else this.parentObj.changedProperties[this.propName] = this.changedProperties, 
            this.parentObj.oldProperties[this.propName] = this.oldProperties;
            this.clearChanges();
        }, ChildProperty.prototype.saveChanges = function(key, newValue, oldValue) {
            this.controlParent.isProtectedOnChange || (this.oldProperties[key] = oldValue, this.changedProperties[key] = newValue, 
            this.updateChange(!0, this.propName), this.finalUpdate(), this.updateTimeOut());
        }, ChildProperty;
    }(), defaultNumberingSystem = {
        latn: {
            _digits: "0123456789",
            _type: "numeric"
        }
    }, defaultNumberSymbols = {
        decimal: ".",
        group: ",",
        percentSign: "%",
        plusSign: "+",
        minusSign: "-",
        infinity: "",
        nan: "NaN",
        exponential: "E"
    }, latnNumberSystem = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ], ParserBase = function() {
        function ParserBase() {}
        return ParserBase.getMainObject = function(obj, cName) {
            return getValue("main." + cName, obj);
        }, ParserBase.getNumberingSystem = function(obj) {
            return getValue("supplemental.numberingSystems", obj) || this.numberingSystems;
        }, ParserBase.reverseObject = function(prop, keys) {
            for (var res = {}, _i = 0, propKeys_1 = keys || Object.keys(prop); _i < propKeys_1.length; _i++) {
                var key = propKeys_1[_i];
                res.hasOwnProperty(prop[key]) || (res[prop[key]] = key);
            }
            return res;
        }, ParserBase.getSymbolRegex = function(props) {
            var regexStr = props.map(function(str) {
                return str.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1");
            }).join("|");
            return new RegExp(regexStr, "g");
        }, ParserBase.getSymbolMatch = function(prop) {
            for (var ret = {}, _i = 0, matchKeys_1 = Object.keys(defaultNumberSymbols); _i < matchKeys_1.length; _i++) {
                var key = matchKeys_1[_i];
                ret[prop[key]] = defaultNumberSymbols[key];
            }
            return ret;
        }, ParserBase.constructRegex = function(val) {
            for (var len = val.length, ret = "", i = 0; i < len; i++) ret += i !== len - 1 ? val[i] + "|" : val[i];
            return ret;
        }, ParserBase.convertValueParts = function(value, regex, obj) {
            return value.replace(regex, function(str) {
                return obj[str];
            });
        }, ParserBase.getDefaultNumberingSystem = function(obj) {
            var ret = {};
            return ret.obj = getValue("numbers", obj), ret.nSystem = getValue("defaultNumberingSystem", ret.obj), 
            ret;
        }, ParserBase.getCurrentNumericOptions = function(curObj, numberSystem, needSymbols) {
            var ret = {}, cur = this.getDefaultNumberingSystem(curObj);
            if (!isUndefined(cur.nSystem)) {
                var digits = getValue(cur.nSystem + "._digits", numberSystem);
                isUndefined(digits) || (ret.numericPair = this.reverseObject(digits, latnNumberSystem), 
                ret.numberParseRegex = new RegExp(this.constructRegex(digits), "g"), ret.numericRegex = "[" + digits[0] + "-" + digits[9] + "]", 
                needSymbols && (ret.numericRegex = digits[0] + "-" + digits[9], ret.symbolNumberSystem = getValue("symbols-numberSystem-" + cur.nSystem, cur.obj), 
                ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem), ret.numberSystem = cur.nSystem));
            }
            return ret;
        }, ParserBase.getNumberMapper = function(curObj, numberSystem, isNumber) {
            var ret = {
                mapper: {}
            }, cur = this.getDefaultNumberingSystem(curObj);
            if (!isUndefined(cur.nSystem)) {
                ret.numberSystem = cur.nSystem, ret.numberSymbols = getValue("symbols-numberSystem-" + cur.nSystem, cur.obj), 
                ret.timeSeparator = getValue("timeSeparator", ret.numberSymbols);
                var digits = getValue(cur.nSystem + "._digits", numberSystem);
                if (!isUndefined(digits)) for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {
                    var i = latnNumberSystem_1[_i];
                    ret.mapper[i] = digits[i];
                }
            }
            return ret;
        }, ParserBase.nPair = "numericPair", ParserBase.nRegex = "numericRegex", ParserBase.numberingSystems = defaultNumberingSystem, 
        ParserBase;
    }(), errorText = {
        ms: "minimumSignificantDigits",
        ls: "maximumSignificantDigits",
        mf: "minimumFractionDigits",
        lf: "maximumFractionDigits"
    }, mapper$1 = [ "infinity", "nan", "group", "decimal", "exponential" ], NumberFormat = function() {
        function NumberFormat() {}
        return NumberFormat.numberFormatter = function(culture, option, cldr) {
            var symbolPattern, _this = this, fOptions = extend({}, option), cOptions = {}, dOptions = {}, dependable = IntlBase.getDependables(cldr, culture, !0);
            dOptions.numberMapper = ParserBase.getNumberMapper(dependable.parserObject, ParserBase.getNumberingSystem(cldr), !0), 
            dOptions.currencySymbol = IntlBase.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode), 
            dOptions.percentSymbol = dOptions.numberMapper.numberSymbols.percentSign, dOptions.minusSymbol = dOptions.numberMapper.numberSymbols.minusSign;
            var symbols = dOptions.numberMapper.numberSymbols;
            if (option.format && !IntlBase.formatRegex.test(option.format)) cOptions = IntlBase.customFormat(option.format, dOptions, dependable.numericObject); else {
                extend(fOptions, IntlBase.getProperNumericSkeleton(option.format || "N")), fOptions.isCurrency = "currency" === fOptions.type, 
                fOptions.isPercent = "percent" === fOptions.type, symbolPattern = IntlBase.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount), 
                fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, !0), 
                this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, !1, !0), 
                isUndefined(fOptions.fractionDigits) || (fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits), 
                isUndefined(fOptions.useGrouping) && (fOptions.useGrouping = !0), fOptions.isCurrency && (symbolPattern = symbolPattern.replace(/\u00A4/g, IntlBase.defaultCurrency));
                var split = symbolPattern.split(";");
                cOptions.nData = IntlBase.getFormatData(split[1] || "-" + split[0], !0, dOptions.currencySymbol), 
                cOptions.pData = IntlBase.getFormatData(split[0], !1, dOptions.currencySymbol), 
                fOptions.useGrouping && (fOptions.groupSeparator = symbols[mapper$1[2]], fOptions.groupData = this.getGroupingDetails(split[0]));
                if (isUndefined(fOptions.minimumFractionDigits) && (fOptions.minimumFractionDigits = cOptions.nData.minimumFraction), 
                isUndefined(fOptions.maximumFractionDigits)) {
                    var mval = cOptions.nData.maximumFraction;
                    fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;
                }
                var mfrac = fOptions.minimumFractionDigits, lfrac = fOptions.maximumFractionDigits;
                isUndefined(mfrac) || isUndefined(lfrac) || mfrac > lfrac && (fOptions.maximumFractionDigits = mfrac);
            }
            return extend(cOptions.nData, fOptions), extend(cOptions.pData, fOptions), function(value) {
                return isNaN(value) ? symbols[mapper$1[1]] : isFinite(value) ? _this.intNumberFormatter(value, cOptions, dOptions) : symbols[mapper$1[0]];
            };
        }, NumberFormat.getGroupingDetails = function(pattern) {
            var ret = {}, match = pattern.match(IntlBase.negativeDataRegex);
            if (match && match[4]) {
                var pattern_1 = match[4], p = pattern_1.lastIndexOf(",");
                if (-1 !== p) {
                    var temp = pattern_1.split(".")[0];
                    ret.primary = temp.length - p - 1;
                    var s = pattern_1.lastIndexOf(",", p - 1);
                    -1 !== s && (ret.secondary = p - 1 - s);
                }
            }
            return ret;
        }, NumberFormat.checkValueRange = function(val1, val2, checkbothExist, isFraction) {
            var decide = isFraction ? "f" : "s", dint = 0, str1 = errorText["l" + decide], str2 = errorText["m" + decide];
            if (isUndefined(val1) || (this.checkRange(val1, str1, isFraction), dint++), isUndefined(val2) || (this.checkRange(val2, str2, isFraction), 
            dint++), 2 === dint) {
                if (!(val1 < val2)) return !0;
                throwError(str2 + "specified must be less than the" + str1);
            } else checkbothExist && 1 === dint && throwError("Both" + str2 + "and" + str2 + "must be present");
            return !1;
        }, NumberFormat.checkRange = function(val, text, isFraction) {
            var range = isFraction ? [ 0, 20 ] : [ 1, 21 ];
            (val < range[0] || val > range[1]) && throwError(text + "value must be within the range" + range[0] + "to" + range[1]);
        }, NumberFormat.intNumberFormatter = function(value, fOptions, dOptions) {
            var curData;
            if (!isUndefined(fOptions.nData.type)) {
                value < 0 ? (value *= -1, curData = fOptions.nData) : curData = 0 === value ? fOptions.zeroData || fOptions.pData : fOptions.pData;
                var fValue = "";
                return curData.isPercent && (value *= 100), curData.groupOne ? fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits) : (fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits), 
                curData.minimumIntegerDigits && (fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits))), 
                "scientific" === curData.type && (fValue = (fValue = value.toExponential(curData.maximumFractionDigits)).replace("e", dOptions.numberMapper.numberSymbols[mapper$1[4]])), 
                fValue = fValue.replace(".", dOptions.numberMapper.numberSymbols[mapper$1[3]]), 
                curData.useGrouping && (fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ",", dOptions.numberMapper.numberSymbols[mapper$1[3]] || ".", curData.groupData.secondary)), 
                fValue = ParserBase.convertValueParts(fValue, IntlBase.latnParseRegex, dOptions.numberMapper.mapper), 
                "N/A" === curData.nlead ? curData.nlead : curData.nlead + fValue + curData.nend;
            }
        }, NumberFormat.processSignificantDigits = function(value, min, max) {
            var temp = value + "";
            return temp.length < min ? value.toPrecision(min) : (temp = value.toPrecision(max), 
            +temp + "");
        }, NumberFormat.groupNumbers = function(val, level1, sep, decimalSymbol, level2) {
            for (var flag = !isNullOrUndefined(level2) && 0 !== level2, split = val.split(decimalSymbol), prefix = split[0], length = prefix.length, str = ""; length > level1; ) str = prefix.slice(length - level1, length) + (str.length ? sep + str : ""), 
            length -= level1, flag && (level1 = level2, flag = !1);
            return split[0] = prefix.slice(0, length) + (str.length ? sep : "") + str, split.join(decimalSymbol);
        }, NumberFormat.processFraction = function(value, min, max) {
            var temp = (value + "").split(".")[1], length = temp ? temp.length : 0;
            if (min && length < min) {
                var ret = "";
                if (0 !== length) {
                    ret += value;
                    for (var j = 0; j < min - length; j++) ret += "0";
                    return ret;
                }
                return ret = value.toFixed(min), value.toFixed(min);
            }
            return !isNullOrUndefined(max) && (length > max || 0 === max) ? value.toFixed(max) : value + "";
        }, NumberFormat.processMinimumIntegers = function(value, min) {
            var temp = value.split("."), lead = temp[0], len = lead.length;
            if (len < min) {
                for (var i = 0; i < min - len; i++) lead = "0" + lead;
                temp[0] = lead;
            }
            return temp.join(".");
        }, NumberFormat;
    }();
    !function(IntlBase) {
        function getResultantPattern(skeleton, dateObject, type) {
            var resPattern, iType = type || "date";
            if (-1 !== IntlBase.basicPatterns.indexOf(skeleton)) {
                if (resPattern = getValue(iType + "Formats." + skeleton, dateObject), "dateTime" === iType) {
                    var dPattern = getValue("dateFormats." + skeleton, dateObject), tPattern = getValue("timeFormats." + skeleton, dateObject);
                    resPattern = resPattern.replace("{1}", dPattern).replace("{0}", tPattern);
                }
            } else resPattern = getValue("dateTimeFormats.availableFormats." + skeleton, dateObject);
            return resPattern;
        }
        function getDependables(cldr, culture, isNumber) {
            var ret = {};
            return ret.parserObject = ParserBase.getMainObject(cldr, culture) || IntlBase.defaultObject, 
            isNumber ? ret.numericObject = getValue("numbers", ret.parserObject) : ret.dateObject = getValue("dates.calendars.gregorian", ret.parserObject), 
            ret;
        }
        function getSymbolPattern(type, numSystem, obj, isAccount) {
            return getValue(type + "Formats-numberSystem-" + numSystem + (isAccount ? ".accounting" : ".standard"), obj) || (isAccount ? getValue(type + "Formats-numberSystem-" + numSystem + ".standard", obj) : "");
        }
        function getProperNumericSkeleton(skeleton) {
            var matches = skeleton.match(IntlBase.formatRegex), ret = {}, pattern = matches[1].toUpperCase();
            return ret.isAccount = "A" === pattern, ret.type = IntlBase.patternMatcher[pattern], 
            skeleton.length > 1 && (ret.fractionDigits = parseInt(matches[2], 10)), ret;
        }
        function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {
            var nData = fractionOnly ? {} : {
                nlead: "",
                nend: ""
            }, match = pattern.match(IntlBase.customRegex);
            if (match) {
                fractionOnly || (nData.nlead = changeCurrencySymbol(match[1], cSymbol), nData.nend = changeCurrencySymbol(match[10], cSymbol), 
                nData.groupPattern = match[4]);
                var fraction = match[7];
                if (fraction && needFraction) {
                    var fmatch = fraction.match(fractionRegex);
                    isNullOrUndefined(fmatch) ? nData.minimumFraction = 0 : nData.minimumFraction = fmatch.length, 
                    nData.maximumFraction = fraction.length - 1;
                }
            }
            return nData;
        }
        function changeCurrencySymbol(val, sym) {
            return val ? val.replace(IntlBase.defaultCurrency, sym) : "";
        }
        function isCurrencyPercent(parts, actual, symbol) {
            for (var options = {
                nlead: parts[0],
                nend: parts[1]
            }, i = 0; i < 2; i++) {
                var part = parts[i], loc = part.indexOf(actual);
                if (-1 !== loc && (loc < part.indexOf("'") || loc > part.lastIndexOf("'"))) {
                    options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1), options[typeMapper[actual]] = !0, 
                    options.type = options.isCurrency ? "currency" : "percent";
                    break;
                }
            }
            return options;
        }
        IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/, 
        IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/, 
        IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;
        var fractionRegex = /[0-9]/g;
        IntlBase.defaultCurrency = "$";
        var mapper = [ "infinity", "nan", "group", "decimal" ], patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g, patternMatch = {
            G: "",
            M: "m",
            L: "m",
            H: "h",
            c: "d",
            "'": '"',
            " a": " AM/PM",
            yy: "yy",
            y: "yyyy",
            EEEE: "dddd",
            E: "ddd"
        };
        IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;
        var typeMapper = {
            $: "isCurrency",
            "%": "isPercent",
            "-": "isNegative",
            0: "nlead",
            1: "nend"
        };
        IntlBase.dateParseRegex = /([a-z])\1*|'([^']|'')+'|''|./gi, IntlBase.basicPatterns = [ "short", "medium", "long", "full" ], 
        IntlBase.defaultObject = {
            dates: {
                calendars: {
                    gregorian: {
                        months: {
                            "stand-alone": {
                                abbreviated: {
                                    "1": "Jan",
                                    "2": "Feb",
                                    "3": "Mar",
                                    "4": "Apr",
                                    "5": "May",
                                    "6": "Jun",
                                    "7": "Jul",
                                    "8": "Aug",
                                    "9": "Sep",
                                    "10": "Oct",
                                    "11": "Nov",
                                    "12": "Dec"
                                },
                                narrow: {
                                    "1": "J",
                                    "2": "F",
                                    "3": "M",
                                    "4": "A",
                                    "5": "M",
                                    "6": "J",
                                    "7": "J",
                                    "8": "A",
                                    "9": "S",
                                    "10": "O",
                                    "11": "N",
                                    "12": "D"
                                },
                                wide: {
                                    "1": "January",
                                    "2": "February",
                                    "3": "March",
                                    "4": "April",
                                    "5": "May",
                                    "6": "June",
                                    "7": "July",
                                    "8": "August",
                                    "9": "September",
                                    "10": "October",
                                    "11": "November",
                                    "12": "December"
                                }
                            }
                        },
                        days: {
                            "stand-alone": {
                                abbreviated: {
                                    sun: "Sun",
                                    mon: "Mon",
                                    tue: "Tue",
                                    wed: "Wed",
                                    thu: "Thu",
                                    fri: "Fri",
                                    sat: "Sat"
                                },
                                narrow: {
                                    sun: "S",
                                    mon: "M",
                                    tue: "T",
                                    wed: "W",
                                    thu: "T",
                                    fri: "F",
                                    sat: "S"
                                },
                                short: {
                                    sun: "Su",
                                    mon: "Mo",
                                    tue: "Tu",
                                    wed: "We",
                                    thu: "Th",
                                    fri: "Fr",
                                    sat: "Sa"
                                },
                                wide: {
                                    sun: "Sunday",
                                    mon: "Monday",
                                    tue: "Tuesday",
                                    wed: "Wednesday",
                                    thu: "Thursday",
                                    fri: "Friday",
                                    sat: "Saturday"
                                }
                            }
                        },
                        dayPeriods: {
                            format: {
                                wide: {
                                    am: "AM",
                                    pm: "PM"
                                }
                            }
                        },
                        eras: {
                            eraNames: {
                                "0": "Before Christ",
                                "0-alt-variant": "Before Common Era",
                                "1": "Anno Domini",
                                "1-alt-variant": "Common Era"
                            },
                            eraAbbr: {
                                "0": "BC",
                                "0-alt-variant": "BCE",
                                "1": "AD",
                                "1-alt-variant": "CE"
                            },
                            eraNarrow: {
                                "0": "B",
                                "0-alt-variant": "BCE",
                                "1": "A",
                                "1-alt-variant": "CE"
                            }
                        },
                        dateFormats: {
                            full: "EEEE, MMMM d, y",
                            long: "MMMM d, y",
                            medium: "MMM d, y",
                            short: "M/d/yy"
                        },
                        timeFormats: {
                            full: "h:mm:ss a zzzz",
                            long: "h:mm:ss a z",
                            medium: "h:mm:ss a",
                            short: "h:mm a"
                        },
                        dateTimeFormats: {
                            full: "{1} 'at' {0}",
                            long: "{1} 'at' {0}",
                            medium: "{1}, {0}",
                            short: "{1}, {0}",
                            availableFormats: {
                                d: "d",
                                E: "ccc",
                                Ed: "d E",
                                Ehm: "E h:mm a",
                                EHm: "E HH:mm",
                                Ehms: "E h:mm:ss a",
                                EHms: "E HH:mm:ss",
                                Gy: "y G",
                                GyMMM: "MMM y G",
                                GyMMMd: "MMM d, y G",
                                GyMMMEd: "E, MMM d, y G",
                                h: "h a",
                                H: "HH",
                                hm: "h:mm a",
                                Hm: "HH:mm",
                                hms: "h:mm:ss a",
                                Hms: "HH:mm:ss",
                                hmsv: "h:mm:ss a v",
                                Hmsv: "HH:mm:ss v",
                                hmv: "h:mm a v",
                                Hmv: "HH:mm v",
                                M: "L",
                                Md: "M/d",
                                MEd: "E, M/d",
                                MMM: "LLL",
                                MMMd: "MMM d",
                                MMMEd: "E, MMM d",
                                MMMMd: "MMMM d",
                                ms: "mm:ss",
                                y: "y",
                                yM: "M/y",
                                yMd: "M/d/y",
                                yMEd: "E, M/d/y",
                                yMMM: "MMM y",
                                yMMMd: "MMM d, y",
                                yMMMEd: "E, MMM d, y",
                                yMMMM: "MMMM y"
                            }
                        }
                    }
                },
                timeZoneNames: {
                    hourFormat: "+HH:mm;-HH:mm",
                    gmtFormat: "GMT{0}",
                    gmtZeroFormat: "GMT"
                }
            },
            numbers: {
                currencies: {
                    USD: {
                        displayName: "US Dollar",
                        symbol: "$",
                        "symbol-alt-narrow": "$"
                    },
                    EUR: {
                        displayName: "Euro",
                        symbol: "",
                        "symbol-alt-narrow": ""
                    },
                    GBP: {
                        displayName: "British Pound",
                        "symbol-alt-narrow": ""
                    }
                },
                defaultNumberingSystem: "latn",
                minimumGroupingDigits: "1",
                "symbols-numberSystem-latn": {
                    decimal: ".",
                    group: ",",
                    list: ";",
                    percentSign: "%",
                    plusSign: "+",
                    minusSign: "-",
                    exponential: "E",
                    superscriptingExponent: "",
                    perMille: "",
                    infinity: "",
                    nan: "NaN",
                    timeSeparator: ":"
                },
                "decimalFormats-numberSystem-latn": {
                    standard: "#,##0.###"
                },
                "percentFormats-numberSystem-latn": {
                    standard: "#,##0%"
                },
                "currencyFormats-numberSystem-latn": {
                    standard: "#,##0.00",
                    accounting: "#,##0.00;(#,##0.00)"
                },
                "scientificFormats-numberSystem-latn": {
                    standard: "#E0"
                }
            }
        }, IntlBase.monthIndex = {
            3: "abbreviated",
            4: "wide",
            5: "narrow",
            1: "abbreviated"
        }, IntlBase.month = "months", IntlBase.days = "days", IntlBase.patternMatcher = {
            C: "currency",
            P: "percent",
            N: "decimal",
            A: "currency",
            E: "scientific"
        }, IntlBase.getResultantPattern = getResultantPattern, IntlBase.getDependables = getDependables, 
        IntlBase.getSymbolPattern = getSymbolPattern, IntlBase.getProperNumericSkeleton = getProperNumericSkeleton, 
        IntlBase.getFormatData = getFormatData, IntlBase.getCurrencySymbol = function(numericObject, currencyCode) {
            return getValue("currencies." + currencyCode + ".symbol", numericObject) || "$";
        }, IntlBase.customFormat = function(format, dOptions, obj) {
            for (var options = {}, formatSplit = format.split(";"), data = [ "pData", "nData", "zeroData" ], i = 0; i < formatSplit.length; i++) options[data[i]] = function(format, dOptions, numObject) {
                var cOptions = {
                    type: "decimal",
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                }, pattern = format.match(IntlBase.customRegex);
                (isNullOrUndefined(pattern) || "" === pattern[5] && "N/A" !== format) && (cOptions.type = void 0), 
                cOptions.nlead = pattern[1], cOptions.nend = pattern[10];
                var integerPart = pattern[6];
                cOptions.useGrouping = -1 !== integerPart.indexOf(","), integerPart = integerPart.replace(/,/g, "");
                var fractionPart = pattern[7];
                if (-1 !== integerPart.indexOf("0") && (cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf("0")), 
                isNullOrUndefined(fractionPart) || (cOptions.minimumFractionDigits = fractionPart.lastIndexOf("0"), 
                cOptions.maximumFractionDigits = fractionPart.lastIndexOf("#"), -1 === cOptions.minimumFractionDigits && (cOptions.minimumFractionDigits = 0), 
                (-1 === cOptions.maximumFractionDigits || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) && (cOptions.maximumFractionDigits = cOptions.minimumFractionDigits)), 
                isNullOrUndefined(dOptions) ? extend(cOptions, isCurrencyPercent([ cOptions.nlead, cOptions.nend ], "%", "%")) : (extend(cOptions, isCurrencyPercent([ cOptions.nlead, cOptions.nend ], "$", dOptions.currencySymbol)), 
                cOptions.isCurrency || extend(cOptions, isCurrencyPercent([ cOptions.nlead, cOptions.nend ], "%", dOptions.percentSymbol))), 
                !isNullOrUndefined(numObject)) {
                    var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, !1);
                    cOptions.useGrouping && (cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]], 
                    cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(";")[0])), 
                    cOptions.nlead = cOptions.nlead.replace(/\'/g, ""), cOptions.nend = cOptions.nend.replace(/\'/g, "");
                }
                return cOptions;
            }(formatSplit[i], dOptions, obj);
            return isNullOrUndefined(options.nData) && (options.nData = extend({}, options.pData), 
            options.nData.nlead = isNullOrUndefined(dOptions) ? "-" + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead), 
            options;
        }, IntlBase.isCurrencyPercent = isCurrencyPercent, IntlBase.getDateSeparator = function(dateObj) {
            var value = (getValue("dateFormats.short", dateObj) || "").match(/[dM]([^dM])[dM]/i);
            return value ? value[1] : "/";
        }, IntlBase.getActualDateTimeFormat = function(culture, options, cldr, isExcelFormat) {
            var dependable = getDependables(cldr, culture), actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);
            if (isExcelFormat) {
                if (-1 !== (actualPattern = actualPattern.replace(patternRegex, function(pattern) {
                    return patternMatch[pattern];
                })).indexOf("z")) {
                    var tLength = actualPattern.match(/z/g).length, timeZonePattern = void 0, options_1 = {
                        timeZone: {}
                    };
                    options_1.numMapper = ParserBase.getNumberMapper(dependable.parserObject, ParserBase.getNumberingSystem(cldr)), 
                    options_1.timeZone = getValue("dates.timeZoneNames", dependable.parserObject);
                    var timezone = new Date().getTimezoneOffset(), pattern = tLength < 4 ? "+H;-H" : options_1.timeZone.hourFormat;
                    pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator), 0 === timezone ? timeZonePattern = options_1.timeZone.gmtZeroFormat : (timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern), 
                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\{0\}/, timeZonePattern)), 
                    actualPattern = actualPattern.replace(/[z]+/, '"' + timeZonePattern + '"');
                }
                actualPattern = actualPattern.replace(/ $/, "");
            }
            return actualPattern;
        }, IntlBase.getActualNumberFormat = function(culture, options, cldr) {
            var minFrac, dependable = getDependables(cldr, culture, !0), parseOptions = {
                custom: !0
            };
            if (/(c|a)$/gi.test(options.format) && !options.minimumFractionDigits && !options.maximumFractionDigits) {
                var dOptions = {};
                dOptions.numberMapper = ParserBase.getNumberMapper(dependable.parserObject, ParserBase.getNumberingSystem(cldr), !0), 
                minFrac = getFormatData(getSymbolPattern("currency", dOptions.numberMapper.numberSystem, dependable.numericObject, /a/i.test(options.format)).split(";")[0], !0, "", !0).minimumFraction;
            }
            var actualPattern;
            IntlBase.formatRegex.test(options.format) || !options.format ? (extend(parseOptions, getProperNumericSkeleton(options.format || "N")), 
            parseOptions.custom = !1, actualPattern = "###0", (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) && (parseOptions.fractionDigits && (options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits), 
            actualPattern = function(pattern, minDigits, maxDigits) {
                pattern += ".";
                for (var a = 0; a < minDigits; a++) pattern += "0";
                if (minDigits < maxDigits) for (var diff = maxDigits - minDigits, b = 0; b < diff; b++) pattern += "#";
                return pattern;
            }(actualPattern, minFrac || parseOptions.fractionDigits || options.minimumFractionDigits || 0, options.maximumFractionDigits || 0)), 
            options.minimumIntegerDigits && (actualPattern = function(pattern, digits) {
                for (var temp = pattern.split("."), integer = "", x = 0; x < digits; x++) integer += "0";
                return temp[1] ? integer + "." + temp[1] : integer;
            }(actualPattern, options.minimumIntegerDigits)), options.useGrouping && (actualPattern = function(pattern) {
                var temp = pattern.split("."), integer = temp[0], no = 3 - integer.length % 3;
                pattern = "";
                for (var x = (integer = (no && 1 === no ? "#" : 2 === no ? "##" : "") + integer).length - 1; x > 0; x -= 3) pattern = "," + integer[x - 2] + integer[x - 1] + integer[x] + pattern;
                return pattern = pattern.slice(1), temp[1] ? pattern + "." + temp[1] : pattern;
            }(actualPattern)), "currency" !== parseOptions.type || parseOptions.isAccount ? "currency" === parseOptions.type && parseOptions.isAccount && (actualPattern = "$ " + actualPattern + ";($ " + actualPattern + ")") : actualPattern = "$ " + actualPattern, 
            "percent" === parseOptions.type && (actualPattern += " %")) : actualPattern = options.format.replace(/\'/g, '"');
            return actualPattern;
        };
    }(IntlBase || (IntlBase = {}));
    var lastPageID, abbreviateRegexGlobal = /\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi, weekdayKey = [ "sun", "mon", "tue", "wed", "thu", "fri", "sat" ], timeSetter = {
        m: "getMinutes",
        h: "getHours",
        H: "getHours",
        s: "getSeconds",
        d: "getDate"
    }, datePartMatcher = {
        M: "month",
        d: "day",
        E: "weekday",
        c: "weekday",
        y: "year",
        m: "minute",
        h: "hour",
        H: "hour",
        s: "second",
        L: "month",
        a: "designator",
        z: "timeZone",
        Z: "timeZone",
        G: "era"
    }, DateFormat = function() {
        function DateFormat() {}
        return DateFormat.dateFormat = function(culture, option, cldr) {
            var _this = this, dependable = IntlBase.getDependables(cldr, culture), formatOptions = {}, resPattern = option.format || IntlBase.getResultantPattern(option.skeleton, dependable.dateObject, option.type);
            if (formatOptions.dateSeperator = IntlBase.getDateSeparator(dependable.dateObject), 
            isUndefined(resPattern)) throwError("Format options or type given must be invalid"); else {
                formatOptions.pattern = resPattern, formatOptions.numMapper = ParserBase.getNumberMapper(dependable.parserObject, ParserBase.getNumberingSystem(cldr));
                for (var _i = 0, patternMatch_1 = resPattern.match(abbreviateRegexGlobal) || []; _i < patternMatch_1.length; _i++) {
                    var str = patternMatch_1[_i], len = str.length, char = str[0];
                    switch ("K" === char && (char = "h"), char) {
                      case "E":
                      case "c":
                        formatOptions.weekday = dependable.dateObject[IntlBase.days]["stand-alone"][IntlBase.monthIndex[len]];
                        break;

                      case "M":
                      case "L":
                        formatOptions.month = dependable.dateObject[IntlBase.month]["stand-alone"][IntlBase.monthIndex[len]];
                        break;

                      case "a":
                        formatOptions.designator = getValue("dayPeriods.format.wide", dependable.dateObject);
                        break;

                      case "G":
                        var eText = len <= 3 ? "eraAbbr" : 4 === len ? "eraNames" : "eraNarrow";
                        formatOptions.era = getValue("eras." + eText, dependable.dateObject);
                        break;

                      case "z":
                        formatOptions.timeZone = getValue("dates.timeZoneNames", dependable.parserObject);
                    }
                }
            }
            return function(value) {
                return isNaN(value.getDate()) ? null : _this.intDateFormatter(value, formatOptions);
            };
        }, DateFormat.intDateFormatter = function(value, options) {
            for (var ret = "", _i = 0, matches_1 = options.pattern.match(IntlBase.dateParseRegex); _i < matches_1.length; _i++) {
                var match = matches_1[_i], length_1 = match.length, char = match[0];
                "K" === char && (char = "h");
                var curval = void 0, isNumber = void 0, processNumber = void 0, curstr = "";
                switch (char) {
                  case "M":
                  case "L":
                    curval = value.getMonth() + 1, length_1 > 2 ? ret += options.month[curval] : isNumber = !0;
                    break;

                  case "E":
                  case "c":
                    ret += options.weekday[weekdayKey[value.getDay()]];
                    break;

                  case "H":
                  case "h":
                  case "m":
                  case "s":
                  case "d":
                    isNumber = !0, curval = value[timeSetter[char]](), "h" === char && (curval = curval % 12 || 12);
                    break;

                  case "y":
                    processNumber = !0, curstr += value.getFullYear(), 2 === length_1 && (curstr = curstr.substr(curstr.length - 2));
                    break;

                  case "a":
                    var desig = value.getHours() < 12 ? "am" : "pm";
                    ret += options.designator[desig];
                    break;

                  case "G":
                    var dec = value.getFullYear() < 0 ? 0 : 1;
                    ret += options.era[dec];
                    break;

                  case "'":
                    ret += "''" === match ? "'" : match.replace(/\'/g, "");
                    break;

                  case "z":
                    var timezone = value.getTimezoneOffset(), pattern_1 = length_1 < 4 ? "+H;-H" : options.timeZone.hourFormat;
                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator), 0 === timezone ? ret += options.timeZone.gmtZeroFormat : (processNumber = !0, 
                    curstr = this.getTimeZoneValue(timezone, pattern_1)), curstr = options.timeZone.gmtFormat.replace(/\{0\}/, curstr);
                    break;

                  case ":":
                    ret += options.numMapper.numberSymbols.timeSeparator;
                    break;

                  case "/":
                    ret += options.dateSeperator;
                    break;

                  default:
                    ret += match;
                }
                isNumber && (processNumber = !0, curstr = this.checkTwodigitNumber(curval, length_1)), 
                processNumber && (ret += ParserBase.convertValueParts(curstr, IntlBase.latnParseRegex, options.numMapper.mapper));
            }
            return ret;
        }, DateFormat.checkTwodigitNumber = function(val, len) {
            var ret = val + "";
            return 2 === len && 2 !== ret.length ? "0" + ret : ret;
        }, DateFormat.getTimeZoneValue = function(tVal, pattern) {
            var _this = this, curPattern = pattern.split(";")[tVal > 0 ? 1 : 0], no = Math.abs(tVal);
            return curPattern = curPattern.replace(/HH?|mm/g, function(str) {
                var len = str.length, ishour = -1 !== str.indexOf("H");
                return _this.checkTwodigitNumber(Math.floor(ishour ? no / 60 : no % 60), len);
            });
        }, DateFormat;
    }(), latnRegex$1 = /^[0-9]*$/, timeSetter$1 = {
        minute: "setMinutes",
        hour: "setHours",
        second: "setSeconds",
        day: "setDate",
        month: "setMonth"
    }, DateParser = function() {
        function DateParser() {}
        return DateParser.dateParser = function(culture, option, cldr) {
            var hourOnly, _this = this, dependable = IntlBase.getDependables(cldr, culture), numOptions = ParserBase.getCurrentNumericOptions(dependable.parserObject, ParserBase.getNumberingSystem(cldr)), parseOptions = {}, resPattern = option.format || IntlBase.getResultantPattern(option.skeleton, dependable.dateObject, option.type), regexString = "";
            if (isUndefined(resPattern)) throwError("Format options or type given must be invalid"); else {
                parseOptions = {
                    pattern: resPattern,
                    evalposition: {}
                };
                for (var patternMatch = resPattern.match(IntlBase.dateParseRegex) || [], length_1 = patternMatch.length, gmtCorrection = 0, zCorrectTemp = 0, isgmtTraversed = !1, nRegx = numOptions.numericRegex, i = 0; i < length_1; i++) {
                    var str = patternMatch[i], len = str.length, char = "K" === str[0] ? "h" : str[0], isNumber = void 0, canUpdate = void 0, charKey = datePartMatcher[char], optional = 2 === len ? "" : "?";
                    switch (isgmtTraversed && (gmtCorrection = zCorrectTemp, isgmtTraversed = !1), char) {
                      case "E":
                      case "c":
                        var weekObject = ParserBase.reverseObject(dependable.dateObject[IntlBase.days]["stand-alone"][IntlBase.monthIndex[len]]);
                        regexString += "(" + Object.keys(weekObject).join("|") + ")";
                        break;

                      case "M":
                      case "L":
                      case "d":
                      case "m":
                      case "s":
                      case "h":
                      case "H":
                        canUpdate = !0, ("M" === char || "L" === char) && len > 2 ? (parseOptions[charKey] = ParserBase.reverseObject(dependable.dateObject.months["stand-alone"][IntlBase.monthIndex[len]]), 
                        regexString += "(" + Object.keys(parseOptions[charKey]).join("|") + ")") : (isNumber = !0, 
                        regexString += "(" + nRegx + nRegx + optional + ")"), "h" === char && (parseOptions.hour12 = !0);
                        break;

                      case "y":
                        canUpdate = isNumber = !0, regexString += 2 === len ? "(" + nRegx + nRegx + ")" : "(" + nRegx + "{" + len + ",})";
                        break;

                      case "a":
                        canUpdate = !0, parseOptions[charKey] = ParserBase.reverseObject(getValue("dayPeriods.format.wide", dependable.dateObject)), 
                        regexString += "(" + Object.keys(parseOptions[charKey]).join("|") + ")";
                        break;

                      case "G":
                        canUpdate = !0;
                        var eText = len <= 3 ? "eraAbbr" : 4 === len ? "eraNames" : "eraNarrow";
                        parseOptions[charKey] = ParserBase.reverseObject(getValue("eras." + eText, dependable.dateObject)), 
                        regexString += "(" + Object.keys(parseOptions[charKey]).join("|") + "?)";
                        break;

                      case "z":
                        canUpdate = 0 !== new Date().getTimezoneOffset(), parseOptions[charKey] = getValue("dates.timeZoneNames", dependable.parserObject);
                        var tzone = parseOptions[charKey], hpattern = (hourOnly = len < 4) ? "+H;-H" : tzone.hourFormat;
                        regexString += "(" + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ")?", isgmtTraversed = !0, 
                        zCorrectTemp = hourOnly ? 6 : 12;
                        break;

                      case "'":
                        regexString += "(" + str.replace(/\'/g, "") + ")?";
                        break;

                      default:
                        regexString += "(.)?";
                    }
                    canUpdate && (parseOptions.evalposition[charKey] = {
                        isNumber: isNumber,
                        pos: i + 1 + gmtCorrection,
                        hourOnly: hourOnly
                    }), i !== length_1 - 1 || isNullOrUndefined(regexString) || (parseOptions.parserRegex = new RegExp("^" + regexString + "$"));
                }
            }
            return function(value) {
                var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);
                return isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length ? null : _this.getDateObject(parsedDateParts);
            };
        }, DateParser.getDateObject = function(options, value) {
            var res = value || new Date();
            res.setMilliseconds(0);
            var y = options.year, desig = options.designator, tzone = options.timeZone;
            if (!isUndefined(y)) {
                if ((y + "").length <= 2) {
                    y += 100 * Math.floor(res.getFullYear() / 100);
                }
                res.setFullYear(y);
            }
            for (var _i = 0, tKeys_1 = [ "hour", "minute", "second", "month", "day" ]; _i < tKeys_1.length; _i++) {
                var key = tKeys_1[_i], tValue = options[key];
                if (!isUndefined(tValue)) if ("month" === key) {
                    if ((tValue -= 1) < 0 || tValue > 11) return new Date("invalid");
                    var pDate = res.getDate();
                    res.setDate(1), res[timeSetter$1[key]](tValue);
                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();
                    res.setDate(pDate < lDate ? pDate : lDate);
                } else {
                    if ("day" === key) {
                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();
                        if (tValue < 1 || tValue > lastDay) return null;
                    }
                    res[timeSetter$1[key]](tValue);
                }
            }
            if (!isUndefined(desig)) {
                var hour = res.getHours();
                "pm" === desig ? res.setHours(hour + (12 === hour ? 0 : 12)) : 12 === hour && res.setHours(0);
            }
            if (!isUndefined(tzone)) {
                var tzValue = tzone - res.getTimezoneOffset();
                0 !== tzValue && res.setMinutes(res.getMinutes() + tzValue);
            }
            return res;
        }, DateParser.internalDateParse = function(value, parseOptions, num) {
            var matches = value.match(parseOptions.parserRegex), retOptions = {
                hour: 0,
                minute: 0,
                second: 0
            };
            num.numericRegex;
            if (isNullOrUndefined(matches)) return null;
            for (var _i = 0, props_1 = Object.keys(parseOptions.evalposition); _i < props_1.length; _i++) {
                var prop = props_1[_i], curObject = parseOptions.evalposition[prop], matchString = matches[curObject.pos];
                if (curObject.isNumber) retOptions[prop] = this.internalNumberParser(matchString, num); else if ("timeZone" !== prop || isUndefined(matchString)) retOptions[prop] = parseOptions[prop][matchString]; else {
                    var pos = curObject.pos, val = void 0, tmatch = matches[pos + 1], flag = !isUndefined(tmatch);
                    curObject.hourOnly ? val = 60 * this.getZoneValue(flag, tmatch, matches[pos + 4], num) : (val = 60 * this.getZoneValue(flag, tmatch, matches[pos + 7], num), 
                    val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num)), isNullOrUndefined(val) || (retOptions[prop] = val);
                }
            }
            return parseOptions.hour12 && (retOptions.hour12 = !0), retOptions;
        }, DateParser.internalNumberParser = function(value, option) {
            return value = ParserBase.convertValueParts(value, option.numberParseRegex, option.numericPair), 
            latnRegex$1.test(value) ? +value : null;
        }, DateParser.parseTimeZoneRegx = function(hourFormat, tZone, nRegex) {
            var ret, splitStr, pattern = tZone.gmtFormat, cRegex = "(" + nRegex + ")(" + nRegex + ")";
            return ret = hourFormat.replace("+", "\\+"), ret = -1 !== hourFormat.indexOf("HH") ? ret.replace(/HH|mm/g, "(" + cRegex + ")") : ret.replace(/H|m/g, "(" + cRegex + "?)"), 
            splitStr = ret.split(";").map(function(str) {
                return pattern.replace("{0}", str);
            }), ret = splitStr.join("|") + "|" + tZone.gmtZeroFormat;
        }, DateParser.getZoneValue = function(flag, val1, val2, num) {
            var value = this.internalNumberParser(flag ? val1 : val2, num);
            return flag ? -value : value;
        }, DateParser;
    }(), parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/, groupRegex = /,/g, keys = [ "minusSign", "infinity" ], NumberParser = function() {
        function NumberParser() {}
        return NumberParser.numberParser = function(culture, option, cldr) {
            var numOptions, _this = this, dependable = IntlBase.getDependables(cldr, culture, !0), parseOptions = {
                custom: !0
            };
            IntlBase.formatRegex.test(option.format) || !option.format ? (extend(parseOptions, IntlBase.getProperNumericSkeleton(option.format || "N")), 
            parseOptions.custom = !1) : extend(parseOptions, IntlBase.customFormat(option.format, null, null)), 
            numOptions = ParserBase.getCurrentNumericOptions(dependable.parserObject, ParserBase.getNumberingSystem(cldr), !0), 
            parseOptions.symbolRegex = ParserBase.getSymbolRegex(Object.keys(numOptions.symbolMatch)), 
            parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];
            var symbolpattern = IntlBase.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);
            if (symbolpattern) {
                var split = (symbolpattern = symbolpattern.replace(/\u00A4/g, IntlBase.defaultCurrency)).split(";");
                parseOptions.nData = IntlBase.getFormatData(split[1] || "-" + split[0], !0, ""), 
                parseOptions.pData = IntlBase.getFormatData(split[0], !0, "");
            }
            return function(value) {
                return _this.getParsedNumber(value, parseOptions, numOptions);
            };
        }, NumberParser.getParsedNumber = function(value, options, numOptions) {
            var isNegative, isPercent, tempValue, lead, end, ret;
            if (-1 !== value.indexOf(options.infinity)) return 1 / 0;
            value = ParserBase.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch), 
            0 === (value = ParserBase.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair)).indexOf(".") && (value = "0" + value);
            var matches = value.match(parseRegex);
            if (isNullOrUndefined(matches)) return NaN;
            lead = matches[1], tempValue = matches[2];
            var exponent = matches[5];
            return end = matches[6], isNegative = options.custom ? lead === options.nData.nlead && end === options.nData.nend : -1 !== lead.indexOf(options.nData.nlead) && -1 !== end.indexOf(options.nData.nend), 
            isPercent = isNegative ? options.nData.isPercent : options.pData.isPercent, tempValue = tempValue.replace(groupRegex, ""), 
            exponent && (tempValue += exponent), ret = +tempValue, ("percent" === options.type || isPercent) && (ret /= 100), 
            (options.custom || options.fractionDigits) && (ret = parseFloat(ret.toFixed(options.custom ? isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits : options.fractionDigits))), 
            isNegative && (ret *= -1), ret;
        }, NumberParser;
    }(), onIntlChange = new Observer(), rightToLeft = !1, cldrData = {}, defaultCulture = "en-US", defaultCurrencyCode = "USD", mapper = [ "numericObject", "dateObject" ], Internationalization = function() {
        function Internationalization(cultureName) {
            cultureName && (this.culture = cultureName);
        }
        return Internationalization.prototype.getDateFormat = function(options) {
            return DateFormat.dateFormat(this.getCulture(), options || {
                type: "date",
                skeleton: "short"
            }, cldrData);
        }, Internationalization.prototype.getNumberFormat = function(options) {
            return options && !options.currency && (options.currency = defaultCurrencyCode), 
            NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);
        }, Internationalization.prototype.getDateParser = function(options) {
            return DateParser.dateParser(this.getCulture(), options || {
                skeleton: "short",
                type: "date"
            }, cldrData);
        }, Internationalization.prototype.getNumberParser = function(options) {
            return NumberParser.numberParser(this.getCulture(), options || {
                format: "N"
            }, cldrData);
        }, Internationalization.prototype.formatNumber = function(value, option) {
            return this.getNumberFormat(option)(value);
        }, Internationalization.prototype.formatDate = function(value, option) {
            return this.getDateFormat(option)(value);
        }, Internationalization.prototype.parseDate = function(value, option) {
            return this.getDateParser(option)(value);
        }, Internationalization.prototype.parseNumber = function(value, option) {
            return this.getNumberParser(option)(value);
        }, Internationalization.prototype.getDatePattern = function(option, isExcelFormat) {
            return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);
        }, Internationalization.prototype.getNumberPattern = function(option) {
            return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);
        }, Internationalization.prototype.getCulture = function() {
            return this.culture || defaultCulture;
        }, Internationalization;
    }(), __extends$1$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$1$1 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, componentCount = 0, lastHistoryLen = 0, Component = function(_super) {
        function Component(options, selector) {
            var _this = _super.call(this, options, selector) || this;
            return _this.randomId = uniqueID(), _this.needsID = !1, isNullOrUndefined(_this.enableRtl) && _this.setProperties({
                enableRtl: rightToLeft
            }, !0), isNullOrUndefined(_this.locale) && _this.setProperties({
                locale: defaultCulture
            }, !0), _this.moduleLoader = new ModuleLoader(_this), _this.localObserver = new Observer(_this), 
            _this.detectFunction = new Function("args", "var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}"), 
            onIntlChange.on("notifyExternalChange", _this.detectFunction, _this, _this.randomId), 
            isUndefined(selector) || _this.appendTo(), _this;
        }
        return __extends$1$1(Component, _super), Component.prototype.requiredModules = function() {
            return [];
        }, Component.prototype.destroy = function() {
            this.isDestroyed || (this.enablePersistence && this.setPersistData(), this.localObserver.destroy(), 
            this.refreshing || (this.trigger("destroyed", {
                cancel: !1
            }), _super.prototype.destroy.call(this), this.moduleLoader.clean(), onIntlChange.off("notifyExternalChange", this.detectFunction, this.randomId)));
        }, Component.prototype.refresh = function() {
            this.refreshing = !0, this.moduleLoader.clean(), this.destroy(), this.clearChanges(), 
            this.localObserver = new Observer(this), this.preRender(), this.injectModules(), 
            this.render(), this.refreshing = !1;
        }, Component.prototype.appendTo = function(selector) {
            if (isNullOrUndefined(selector) || "string" != typeof selector ? isNullOrUndefined(selector) || (this.element = selector) : this.element = document.querySelector(selector), 
            !isNullOrUndefined(this.element)) {
                this.isProtectedOnChange = !1, this.needsID && !this.element.id && (this.element.id = this.getUniqueID(this.getModuleName())), 
                this.enablePersistence && (this.mergePersistData(), window.addEventListener("unload", this.setPersistData.bind(this)));
                var inst = getValue("ej2_instances", this.element);
                inst && -1 !== inst.indexOf(this) || _super.prototype.addInstance.call(this), this.preRender(), 
                this.injectModules(), this.render(), this.trigger("created");
            }
        }, Component.prototype.dataBind = function() {
            this.injectModules(), _super.prototype.dataBind.call(this);
        }, Component.prototype.on = function(event, handler, context) {
            if ("string" == typeof event) this.localObserver.on(event, handler, context); else for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {
                var arg = event_1[_i];
                this.localObserver.on(arg.event, arg.handler, arg.context);
            }
        }, Component.prototype.off = function(event, handler) {
            if ("string" == typeof event) this.localObserver.off(event, handler); else for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {
                var arg = event_2[_i];
                this.localObserver.off(arg.event, arg.handler);
            }
        }, Component.prototype.notify = function(property, argument) {
            !0 !== this.isDestroyed && this.localObserver.notify(property, argument);
        }, Component.prototype.getInjectedModules = function() {
            return this.injectedModules;
        }, Component.Inject = function() {
            for (var moduleList = [], _i = 0; _i < arguments.length; _i++) moduleList[_i] = arguments[_i];
            this.prototype.injectedModules || (this.prototype.injectedModules = []);
            for (var i = 0; i < moduleList.length; i++) -1 === this.prototype.injectedModules.indexOf(moduleList[i]) && this.prototype.injectedModules.push(moduleList[i]);
        }, Component.prototype.injectModules = function() {
            this.injectedModules && this.injectedModules.length && this.moduleLoader.inject(this.requiredModules(), this.injectedModules);
        }, Component.prototype.mergePersistData = function() {
            var data = window.localStorage.getItem(this.getModuleName() + this.element.id);
            isNullOrUndefined(data) || "" === data || this.setProperties(JSON.parse(data), !0);
        }, Component.prototype.setPersistData = function() {
            this.isDestroyed || window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());
        }, Component.prototype.clearTemplate = function(templateName) {}, Component.prototype.getUniqueID = function(definedName) {
            return this.isHistoryChanged() && (componentCount = 0), lastPageID = this.pageID(location.href), 
            lastHistoryLen = history.length, definedName + "_" + lastPageID + "_" + componentCount++;
        }, Component.prototype.pageID = function(url) {
            var hash = 0;
            if (0 === url.length) return hash;
            for (var i = 0; i < url.length; i++) {
                hash = (hash << 5) - hash + url.charCodeAt(i), hash &= hash;
            }
            return Math.abs(hash);
        }, Component.prototype.isHistoryChanged = function() {
            return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;
        }, Component.prototype.addOnPersist = function(options) {
            for (var _this = this, persistObj = {}, _i = 0, options_1 = options; _i < options_1.length; _i++) {
                var key = options_1[_i], objValue = void 0;
                isUndefined(objValue = getValue(key, this)) || setValue(key, this.getActualProperties(objValue), persistObj);
            }
            return JSON.stringify(persistObj, function(key, value) {
                return _this.getActualProperties(value);
            });
        }, Component.prototype.getActualProperties = function(obj) {
            return obj instanceof ChildProperty ? getValue("properties", obj) : obj;
        }, Component.prototype.ignoreOnPersist = function(options) {
            return JSON.stringify(this.iterateJsonProperties(this.properties, options));
        }, Component.prototype.iterateJsonProperties = function(obj, ignoreList) {
            for (var newObj = {}, _loop_1 = function(key) {
                if (-1 === ignoreList.indexOf(key)) {
                    var value = obj[key];
                    if ("object" != typeof value || value instanceof Array) newObj[key] = value; else {
                        var newList = ignoreList.filter(function(str) {
                            return new RegExp(key + ".").test(str);
                        }).map(function(str) {
                            return str.replace(key + ".", "");
                        });
                        newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);
                    }
                }
            }, this_1 = this, _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {
                _loop_1(_a[_i]);
            }
            return newObj;
        }, __decorate$1$1([ Property(!1) ], Component.prototype, "enablePersistence", void 0), 
        __decorate$1$1([ Property() ], Component.prototype, "enableRtl", void 0), __decorate$1$1([ Property() ], Component.prototype, "locale", void 0), 
        Component = __decorate$1$1([ NotifyPropertyChanges ], Component);
    }(Base);
    "undefined" != typeof window && window.addEventListener("popstate", function() {
        componentCount = 0;
    });
    var elementRect, element, parentDocument, parentDocument$1, targetContainer, rowHeight, CellType, __extends$2 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$2 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, defaultPosition = {
        left: 0,
        top: 0,
        bottom: 0,
        right: 0
    }, Position = function(_super) {
        function Position() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$2(Position, _super), __decorate$2([ Property(0) ], Position.prototype, "left", void 0), 
        __decorate$2([ Property(0) ], Position.prototype, "top", void 0), Position;
    }(ChildProperty), Draggable = function(_super) {
        function Draggable(element, options) {
            var _this = _super.call(this, options, element) || this;
            return _this.dragLimit = Draggable_1.getDefaultPosition(), _this.borderWidth = Draggable_1.getDefaultPosition(), 
            _this.padding = Draggable_1.getDefaultPosition(), _this.diffX = 0, _this.diffY = 0, 
            _this.droppables = {}, _this.bind(), _this;
        }
        return __extends$2(Draggable, _super), Draggable_1 = Draggable, Draggable.prototype.bind = function() {
            this.toggleEvents(), Browser.isIE && addClass([ this.element ], "e-block-touch"), 
            this.droppables[this.scope] = {};
        }, Draggable.getDefaultPosition = function() {
            return extend({}, defaultPosition);
        }, Draggable.prototype.toggleEvents = function(isUnWire) {
            var ele;
            isUndefined(this.handle) || (ele = select(this.handle, this.element)), isUnWire ? EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize) : EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);
        }, Draggable.prototype.initialize = function(evt) {
            if (this.target = evt.currentTarget, this.preventDefault && !isUndefined(evt.changedTouches) && evt.preventDefault(), 
            !this.abort || isNullOrUndefined(closest(evt.target, this.abort))) {
                this.element.setAttribute("aria-grabbed", "true");
                var intCoord = this.getCoordinates(evt);
                if (this.initialPosition = {
                    x: intCoord.pageX,
                    y: intCoord.pageY
                }, !this.clone) {
                    var pos = this.element.getBoundingClientRect();
                    this.relativeXPosition = intCoord.pageX - pos.left, this.relativeYPosition = intCoord.pageY - pos.top;
                }
                EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this), EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this), 
                this.toggleEvents(!0), document.body.classList.add("e-prevent-select"), EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);
            }
        }, Draggable.prototype.intDragStart = function(evt) {
            if (!!isUndefined(evt.changedTouches) || 1 === evt.changedTouches.length) {
                var pos, intCordinate = this.getCoordinates(evt), styleProp = getComputedStyle(this.element);
                this.margin = {
                    left: parseInt(styleProp.marginLeft, 10),
                    top: parseInt(styleProp.marginTop, 10),
                    right: parseInt(styleProp.marginRight, 10),
                    bottom: parseInt(styleProp.marginBottom, 10)
                };
                var element = this.element;
                if (this.clone && this.dragTarget) {
                    var intClosest = closest(evt.target, this.dragTarget);
                    isNullOrUndefined(intClosest) || (element = intClosest);
                }
                this.offset = this.calculateParentPosition(element), this.position = this.getMousePosition(evt);
                var x = this.initialPosition.x - intCordinate.pageX, y = this.initialPosition.y - intCordinate.pageY;
                if (Math.sqrt(x * x + y * y) >= this.distance) {
                    var ele = this.getHelperElement(evt);
                    if (!ele || isNullOrUndefined(ele)) return;
                    var dragTargetElement = this.helperElement = ele;
                    if (this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent), 
                    this.dragStart) {
                        var curTarget = this.getProperTargetElement(evt);
                        this.trigger("dragStart", {
                            event: evt,
                            element: element,
                            target: curTarget
                        });
                    }
                    this.dragArea ? this.setDragArea() : (this.dragLimit = {
                        left: 0,
                        right: 0,
                        bottom: 0,
                        top: 0
                    }, this.borderWidth = {
                        top: 0,
                        left: 0
                    }), pos = {
                        left: this.position.left - this.parentClientRect.left,
                        top: this.position.top - this.parentClientRect.top
                    }, this.clone && !this.enableTailMode && (this.diffX = this.position.left - this.offset.left, 
                    this.diffY = this.position.top - this.offset.top);
                    var posValue = this.getProcessedPositionValue({
                        top: pos.top - this.diffY + "px",
                        left: pos.left - this.diffX + "px"
                    });
                    setStyleAttribute(dragTargetElement, {
                        position: "absolute",
                        top: posValue.top,
                        left: posValue.left
                    }), EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart), EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy), 
                    isVisible(dragTargetElement) ? (EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this), 
                    EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this), this.setGlobalDroppables(!1, this.element, dragTargetElement)) : document.body.classList.remove("e-prevent-select");
                }
            }
        }, Draggable.prototype.getProcessedPositionValue = function(value) {
            return this.axis && ("x" === this.axis ? value.top = "0px" : "y" === this.axis && (value.left = "0px")), 
            this.queryPositionInfo ? this.queryPositionInfo(value) : value;
        }, Draggable.prototype.calculateParentPosition = function(ele) {
            if (isNullOrUndefined(ele)) return {
                left: 0,
                top: 0
            };
            var rect = ele.getBoundingClientRect(), style = getComputedStyle(ele);
            return {
                left: rect.left + window.pageXOffset - parseInt(style.marginLeft, 10),
                top: rect.top + window.pageYOffset - parseInt(style.marginTop, 10)
            };
        }, Draggable.prototype.intDrag = function(evt) {
            if (isUndefined(evt.changedTouches) || 1 === evt.changedTouches.length) {
                var left, top;
                this.position = this.getMousePosition(evt);
                var docHeight = this.getDocumentWidthHeight("Height");
                docHeight < this.position.top && (this.position.top = docHeight);
                var docWidth = this.getDocumentWidthHeight("Width");
                if (docWidth < this.position.left && (this.position.left = docWidth), this.drag) {
                    var curTarget = this.getProperTargetElement(evt);
                    this.trigger("drag", {
                        event: evt,
                        element: this.element,
                        target: curTarget
                    });
                }
                var eleObj = this.checkTargetElement(evt);
                eleObj.target && eleObj.instance ? (eleObj.instance.intOver(evt, eleObj.target), 
                eleObj.instance.dragData[this.scope] = this.droppables[this.scope], this.hoverObject = eleObj) : this.hoverObject && (this.hoverObject.instance.intOut(evt, eleObj.target), 
                this.hoverObject.instance.dragData[this.scope] = null, this.hoverObject = null);
                var helperElement = this.droppables[this.scope].helper;
                this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);
                var tLeft = this.parentClientRect.left, tTop = this.parentClientRect.top, intCoord = this.getCoordinates(evt), pagex = intCoord.pageX, pagey = intCoord.pageY, dLeft = this.position.left - this.diffX, dTop = this.position.top - this.diffY;
                if (this.dragArea) {
                    var styles = getComputedStyle(helperElement);
                    if (this.pageX !== pagex || this.skipDistanceCheck) {
                        var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft) + parseFloat(styles.marginRight));
                        left = this.dragLimit.left > dLeft ? this.dragLimit.left : this.dragLimit.right < dLeft + helperWidth ? this.dragLimit.right - helperWidth : dLeft;
                    }
                    if (this.pageY !== pagey || this.skipDistanceCheck) {
                        var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop) + parseFloat(styles.marginBottom));
                        top = this.dragLimit.top > dTop ? this.dragLimit.top : this.dragLimit.bottom < dTop + helperHeight ? this.dragLimit.bottom - helperHeight : dTop;
                    }
                } else left = dLeft, top = dTop;
                var iTop = tTop + this.borderWidth.top, iLeft = tLeft + this.borderWidth.left, dragValue = this.getProcessedPositionValue({
                    top: top - iTop + "px",
                    left: left - iLeft + "px"
                });
                setStyleAttribute(helperElement, {
                    left: dragValue.left,
                    top: dragValue.top
                }), this.position.left = left, this.position.top = top, this.pageX = pagex, this.pageY = pagey;
            }
        }, Draggable.prototype.getDocumentWidthHeight = function(str) {
            var docBody = document.body, docEle = document.documentElement;
            return Math.max(docBody["scroll" + str], docEle["scroll" + str], docBody["offset" + str], docEle["offset" + str], docEle["client" + str]);
        }, Draggable.prototype.intDragStop = function(evt) {
            if (isUndefined(evt.changedTouches) || 1 === evt.changedTouches.length) {
                if (-1 !== [ "touchend", "pointerup", "mouseup" ].indexOf(evt.type)) {
                    if (this.dragStop) {
                        var curTarget = this.getProperTargetElement(evt);
                        this.trigger("dragStop", {
                            event: evt,
                            element: this.element,
                            target: curTarget,
                            helper: this.helperElement
                        });
                    }
                    this.intDestroy(evt);
                } else this.element.setAttribute("aria-grabbed", "false");
                var eleObj = this.checkTargetElement(evt);
                eleObj.target && eleObj.instance && (eleObj.instance.dragStopCalled = !0, eleObj.instance.dragData[this.scope] = this.droppables[this.scope], 
                eleObj.instance.intDrop(evt, eleObj.target)), this.setGlobalDroppables(!0), document.body.classList.remove("e-prevent-select");
            }
        }, Draggable.prototype.intDestroy = function(evt) {
            this.toggleEvents(), document.body.classList.remove("e-prevent-select"), this.element.setAttribute("aria-grabbed", "false"), 
            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart), EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop), 
            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy), EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);
        }, Draggable.prototype.onPropertyChanged = function(newProp, oldProp) {}, Draggable.prototype.getModuleName = function() {
            return "draggable";
        }, Draggable.prototype.setDragArea = function() {
            var eleWidthBound, eleHeightBound, ele, top = 0, left = 0;
            if (ele = "string" === typeof this.dragArea ? select(this.dragArea) : this.dragArea) {
                var elementArea = ele.getBoundingClientRect();
                eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left, 
                eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;
                for (var keys = [ "Top", "Left", "Bottom", "Right" ], styles = getComputedStyle(ele), i = 0; i < keys.length; i++) {
                    var key = keys[i], tborder = styles["border" + key + "Width"], tpadding = styles["padding" + key], lowerKey = key.toLowerCase();
                    this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder), 
                    this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);
                }
                top = elementArea.top, left = elementArea.left, this.dragLimit.left = left + this.borderWidth.left + this.padding.left, 
                this.dragLimit.top = top + this.borderWidth.top + this.padding.top, this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right), 
                this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);
            }
        }, Draggable.prototype.getProperTargetElement = function(evt) {
            var ele, intCoord = this.getCoordinates(evt), prevStyle = this.helperElement.style.display || "";
            return compareElementParent(evt.target, this.helperElement) || -1 !== evt.type.indexOf("touch") ? (this.helperElement.style.display = "none", 
            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY), this.helperElement.style.display = prevStyle) : ele = evt.target, 
            ele;
        }, Draggable.prototype.getMousePosition = function(evt) {
            var intCoord = this.getCoordinates(evt), pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition, pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;
            return {
                left: pageX - (this.margin.left + this.cursorAt.left),
                top: pageY - (this.margin.top + this.cursorAt.top)
            };
        }, Draggable.prototype.getCoordinates = function(evt) {
            return evt.type.indexOf("touch") > -1 ? evt.changedTouches[0] : evt;
        }, Draggable.prototype.getHelperElement = function(evt) {
            var element;
            return this.clone ? this.helper ? element = this.helper({
                sender: evt,
                element: this.target
            }) : (element = createElement("div", {
                className: "e-drag-helper e-block-touch",
                innerHTML: "Draggable"
            }), document.body.appendChild(element)) : element = this.element, element;
        }, Draggable.prototype.setGlobalDroppables = function(reset, drag, helper) {
            this.droppables[this.scope] = reset ? null : {
                draggable: drag,
                helper: helper,
                draggedElement: this.element
            };
        }, Draggable.prototype.checkTargetElement = function(evt) {
            var target = this.getProperTargetElement(evt), dropIns = this.getDropInstance(target);
            if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {
                var parent_1 = closest(target.parentNode, ".e-droppable") || target.parentElement;
                parent_1 && (dropIns = this.getDropInstance(parent_1));
            }
            return {
                target: target,
                instance: dropIns
            };
        }, Draggable.prototype.getDropInstance = function(ele) {
            var drop, eleInst = ele && ele.ej2_instances;
            if (eleInst) for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {
                var inst = eleInst_1[_i];
                if ("droppable" === inst.getModuleName()) {
                    drop = inst;
                    break;
                }
            }
            return drop;
        }, Draggable.prototype.destroy = function() {
            this.toggleEvents(!0), _super.prototype.destroy.call(this);
        }, __decorate$2([ Complex({}, Position) ], Draggable.prototype, "cursorAt", void 0), 
        __decorate$2([ Property(!0) ], Draggable.prototype, "clone", void 0), __decorate$2([ Property() ], Draggable.prototype, "dragArea", void 0), 
        __decorate$2([ Event() ], Draggable.prototype, "drag", void 0), __decorate$2([ Event() ], Draggable.prototype, "dragStart", void 0), 
        __decorate$2([ Event() ], Draggable.prototype, "dragStop", void 0), __decorate$2([ Property(1) ], Draggable.prototype, "distance", void 0), 
        __decorate$2([ Property() ], Draggable.prototype, "handle", void 0), __decorate$2([ Property() ], Draggable.prototype, "abort", void 0), 
        __decorate$2([ Property() ], Draggable.prototype, "helper", void 0), __decorate$2([ Property("default") ], Draggable.prototype, "scope", void 0), 
        __decorate$2([ Property("") ], Draggable.prototype, "dragTarget", void 0), __decorate$2([ Property() ], Draggable.prototype, "axis", void 0), 
        __decorate$2([ Property() ], Draggable.prototype, "queryPositionInfo", void 0), 
        __decorate$2([ Property(!1) ], Draggable.prototype, "enableTailMode", void 0), __decorate$2([ Property(!1) ], Draggable.prototype, "skipDistanceCheck", void 0), 
        __decorate$2([ Property(!0) ], Draggable.prototype, "preventDefault", void 0), Draggable = Draggable_1 = __decorate$2([ NotifyPropertyChanges ], Draggable);
        var Draggable_1;
    }(Base), __extends$3 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$3 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, Droppable = function(_super) {
        function Droppable(element, options) {
            var _this = _super.call(this, options, element) || this;
            return _this.mouseOver = !1, _this.dragData = {}, _this.dragStopCalled = !1, _this.bind(), 
            _this;
        }
        return __extends$3(Droppable, _super), Droppable.prototype.bind = function() {
            this.wireEvents();
        }, Droppable.prototype.wireEvents = function() {
            EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);
        }, Droppable.prototype.onPropertyChanged = function(newProp, oldProp) {}, Droppable.prototype.getModuleName = function() {
            return "droppable";
        }, Droppable.prototype.intOver = function(event, element) {
            this.mouseOver || (this.trigger("over", {
                event: event,
                target: element
            }), this.mouseOver = !0);
        }, Droppable.prototype.intOut = function(event, element) {
            this.mouseOver && (this.trigger("out", {
                evt: event,
                target: element
            }), this.mouseOver = !1);
        }, Droppable.prototype.intDrop = function(evt, element) {
            if (this.dragStopCalled) {
                this.dragStopCalled = !1;
                var area, accept = !0, drag = this.dragData[this.scope], isDrag = !!drag && (drag.helper && isVisible(drag.helper));
                isDrag && (area = this.isDropArea(evt, drag.helper, element), this.accept && (accept = matches(drag.helper, this.accept))), 
                isDrag && this.drop && area.canDrop && accept && this.trigger("drop", {
                    event: evt,
                    target: area.target,
                    droppedElement: drag.helper,
                    dragData: drag
                });
            }
        }, Droppable.prototype.isDropArea = function(evt, helper, element) {
            var area = {
                canDrop: !0,
                target: element || evt.target
            }, isTouch = "touchend" === evt.type;
            if (isTouch || area.target === helper) {
                helper.style.display = "none";
                var coord = isTouch ? evt.changedTouches[0] : evt, ele = document.elementFromPoint(coord.clientX, coord.clientY);
                area.canDrop = !1, area.canDrop = compareElementParent(ele, this.element), area.canDrop && (area.target = ele), 
                helper.style.display = "";
            }
            return area;
        }, Droppable.prototype.destroy = function() {
            EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop), _super.prototype.destroy.call(this);
        }, __decorate$3([ Property() ], Droppable.prototype, "accept", void 0), __decorate$3([ Property("default") ], Droppable.prototype, "scope", void 0), 
        __decorate$3([ Event() ], Droppable.prototype, "drop", void 0), __decorate$3([ Event() ], Droppable.prototype, "over", void 0), 
        __decorate$3([ Event() ], Droppable.prototype, "out", void 0), Droppable = __decorate$3([ NotifyPropertyChanges ], Droppable);
    }(Base), __extends$4 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$4 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, keyCode = {
        backspace: 8,
        tab: 9,
        enter: 13,
        shift: 16,
        control: 17,
        alt: 18,
        pause: 19,
        capslock: 20,
        space: 32,
        escape: 27,
        pageup: 33,
        pagedown: 34,
        end: 35,
        home: 36,
        leftarrow: 37,
        uparrow: 38,
        rightarrow: 39,
        downarrow: 40,
        insert: 45,
        delete: 46,
        f1: 112,
        f2: 113,
        f3: 114,
        f4: 115,
        f5: 116,
        f6: 117,
        f7: 118,
        f8: 119,
        f9: 120,
        f10: 121,
        f11: 122,
        f12: 123,
        semicolon: 186,
        plus: 187,
        comma: 188,
        minus: 189,
        dot: 190,
        forwardslash: 191,
        graveaccent: 192,
        openbracket: 219,
        backslash: 220,
        closebracket: 221,
        singlequote: 222
    }, KeyboardEvents = function(_super) {
        function KeyboardEvents(element, options) {
            var _this = _super.call(this, options, element) || this;
            return _this.keyPressHandler = function(e) {
                for (var isAltKey = e.altKey, isCtrlKey = e.ctrlKey, isShiftKey = e.shiftKey, curkeyCode = e.which, _i = 0, keys_1 = Object.keys(_this.keyConfigs); _i < keys_1.length; _i++) for (var key = keys_1[_i], _a = 0, configCollection_1 = _this.keyConfigs[key].split(","); _a < configCollection_1.length; _a++) {
                    var rconfig = configCollection_1[_a], rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());
                    isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey && isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode && (e.action = key, 
                    _this.keyAction && _this.keyAction(e));
                }
            }, _this.bind(), _this;
        }
        return __extends$4(KeyboardEvents, _super), KeyboardEvents_1 = KeyboardEvents, KeyboardEvents.prototype.destroy = function() {
            this.unwireEvents(), _super.prototype.destroy.call(this);
        }, KeyboardEvents.prototype.onPropertyChanged = function(newProp, oldProp) {}, KeyboardEvents.prototype.bind = function() {
            this.wireEvents();
        }, KeyboardEvents.prototype.getModuleName = function() {
            return "keyboard";
        }, KeyboardEvents.prototype.wireEvents = function() {
            this.element.addEventListener(this.eventName, this.keyPressHandler);
        }, KeyboardEvents.prototype.unwireEvents = function() {
            this.element.removeEventListener(this.eventName, this.keyPressHandler);
        }, KeyboardEvents.getKeyConfigData = function(config) {
            if (config in this.configCache) return this.configCache[config];
            var keys = config.toLowerCase().split("+"), keyData = {
                altKey: -1 !== keys.indexOf("alt"),
                ctrlKey: -1 !== keys.indexOf("ctrl"),
                shiftKey: -1 !== keys.indexOf("shift"),
                keyCode: null
            };
            return keys[keys.length - 1].length > 1 && Number(keys[keys.length - 1]) ? keyData.keyCode = Number(keys[keys.length - 1]) : keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]), 
            KeyboardEvents_1.configCache[config] = keyData, keyData;
        }, KeyboardEvents.getKeyCode = function(keyVal) {
            return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);
        }, KeyboardEvents.configCache = {}, __decorate$4([ Property({}) ], KeyboardEvents.prototype, "keyConfigs", void 0), 
        __decorate$4([ Property("keyup") ], KeyboardEvents.prototype, "eventName", void 0), 
        __decorate$4([ Event() ], KeyboardEvents.prototype, "keyAction", void 0), KeyboardEvents = KeyboardEvents_1 = __decorate$4([ NotifyPropertyChanges ], KeyboardEvents);
        var KeyboardEvents_1;
    }(Base), L10n = function() {
        function L10n(controlName, localeStrings, locale) {
            this.controlName = controlName, this.localeStrings = localeStrings, this.setLocale(locale || defaultCulture);
        }
        return L10n.prototype.setLocale = function(locale) {
            var intLocale = this.intGetControlConstant(L10n.locale, locale);
            this.currentLocale = intLocale || this.localeStrings;
        }, L10n.load = function(localeObject) {
            this.locale = extend(this.locale, localeObject, {}, !0);
        }, L10n.prototype.getConstant = function(prop) {
            return this.currentLocale[prop] || this.localeStrings[prop] || "";
        }, L10n.prototype.intGetControlConstant = function(curObject, locale) {
            return curObject[locale] ? curObject[locale][this.controlName] : null;
        }, L10n.locale = {}, L10n;
    }(), SvgRenderer = function() {
        function SvgRenderer(rootID) {
            this.svgLink = "http://www.w3.org/2000/svg", this.rootId = rootID;
        }
        return SvgRenderer.prototype.getOptionValue = function(options, key) {
            return options[key];
        }, SvgRenderer.prototype.createSvg = function(options) {
            return isNullOrUndefined(options.id) && (options.id = this.rootId + "_svg"), this.svgObj = document.getElementById(options.id), 
            isNullOrUndefined(document.getElementById(options.id)) && (this.svgObj = document.createElementNS(this.svgLink, "svg")), 
            this.svgObj = this.setElementAttributes(options, this.svgObj), this.setSVGSize(options.width, options.height), 
            this.svgObj;
        }, SvgRenderer.prototype.setSVGSize = function(width, height) {
            var element = document.getElementById(this.rootId), size = isNullOrUndefined(element) ? null : element.getBoundingClientRect();
            isNullOrUndefined(this.width) || this.width <= 0 ? this.svgObj.setAttribute("width", width ? width.toString() : size.width.toString()) : this.svgObj.setAttribute("width", this.width.toString()), 
            isNullOrUndefined(this.height) || this.height <= 0 ? this.svgObj.setAttribute("height", height ? height.toString() : "450") : this.svgObj.setAttribute("height", this.height.toString());
        }, SvgRenderer.prototype.drawPath = function(options) {
            var path = document.getElementById(options.id);
            return null === path && (path = document.createElementNS(this.svgLink, "path")), 
            path = this.setElementAttributes(options, path);
        }, SvgRenderer.prototype.drawLine = function(options) {
            var line = document.getElementById(options.id);
            return null === line && (line = document.createElementNS(this.svgLink, "line")), 
            line = this.setElementAttributes(options, line);
        }, SvgRenderer.prototype.drawRectangle = function(options) {
            var rectangle = document.getElementById(options.id);
            return null === rectangle && (rectangle = document.createElementNS(this.svgLink, "rect")), 
            rectangle = this.setElementAttributes(options, rectangle);
        }, SvgRenderer.prototype.drawCircle = function(options) {
            var circle = document.getElementById(options.id);
            return null === circle && (circle = document.createElementNS(this.svgLink, "circle")), 
            circle = this.setElementAttributes(options, circle);
        }, SvgRenderer.prototype.drawPolyline = function(options) {
            var polyline = document.getElementById(options.id);
            return null === polyline && (polyline = document.createElementNS(this.svgLink, "polyline")), 
            polyline = this.setElementAttributes(options, polyline);
        }, SvgRenderer.prototype.drawEllipse = function(options) {
            var ellipse = document.getElementById(options.id);
            return null === ellipse && (ellipse = document.createElementNS(this.svgLink, "ellipse")), 
            ellipse = this.setElementAttributes(options, ellipse);
        }, SvgRenderer.prototype.drawPolygon = function(options) {
            var polygon = document.getElementById(options.id);
            return null === polygon && (polygon = document.createElementNS(this.svgLink, "polygon")), 
            polygon = this.setElementAttributes(options, polygon);
        }, SvgRenderer.prototype.drawImage = function(options) {
            var img = document.createElementNS(this.svgLink, "image");
            return img.setAttributeNS(null, "height", options.height.toString()), img.setAttributeNS(null, "width", options.width.toString()), 
            img.setAttributeNS("http://www.w3.org/1999/xlink", "href", options.href), img.setAttributeNS(null, "x", options.x.toString()), 
            img.setAttributeNS(null, "y", options.y.toString()), img.setAttributeNS(null, "id", options.id), 
            img.setAttributeNS(null, "visibility", options.visibility), isNullOrUndefined(this.getOptionValue(options, "clip-path")) || img.setAttributeNS(null, "clip-path", this.getOptionValue(options, "clip-path")), 
            isNullOrUndefined(options.preserveAspectRatio) || img.setAttributeNS(null, "preserveAspectRatio", options.preserveAspectRatio), 
            img;
        }, SvgRenderer.prototype.createText = function(options, label) {
            var text = document.createElementNS(this.svgLink, "text");
            return text = this.setElementAttributes(options, text), isNullOrUndefined(label) || (text.textContent = label), 
            text;
        }, SvgRenderer.prototype.createTSpan = function(options, label) {
            var tSpan = document.createElementNS(this.svgLink, "tspan");
            return tSpan = this.setElementAttributes(options, tSpan), isNullOrUndefined(label) || (tSpan.textContent = label), 
            tSpan;
        }, SvgRenderer.prototype.createTitle = function(text) {
            var title = document.createElementNS(this.svgLink, "title");
            return title.textContent = text, title;
        }, SvgRenderer.prototype.createDefs = function() {
            return document.createElementNS(this.svgLink, "defs");
        }, SvgRenderer.prototype.createClipPath = function(options) {
            var clipPath = document.createElementNS(this.svgLink, "clipPath");
            return clipPath = this.setElementAttributes(options, clipPath);
        }, SvgRenderer.prototype.createForeignObject = function(options) {
            var foreignObject = document.createElementNS(this.svgLink, "foreignObject");
            return foreignObject = this.setElementAttributes(options, foreignObject);
        }, SvgRenderer.prototype.createGroup = function(options) {
            var group = document.createElementNS(this.svgLink, "g");
            return group = this.setElementAttributes(options, group);
        }, SvgRenderer.prototype.createPattern = function(options, element) {
            var pattern = document.createElementNS(this.svgLink, element);
            return pattern = this.setElementAttributes(options, pattern);
        }, SvgRenderer.prototype.createRadialGradient = function(colors, name, options) {
            var colorName;
            if (isNullOrUndefined(colors[0].colorStop)) colorName = colors[0].color.toString(); else {
                var newOptions = {
                    id: this.rootId + "_" + name + "radialGradient",
                    cx: options.cx + "%",
                    cy: options.cy + "%",
                    r: options.r + "%",
                    fx: options.fx + "%",
                    fy: options.fy + "%"
                };
                this.drawGradient("radialGradient", newOptions, colors), colorName = "url(#" + this.rootId + "_" + name + "radialGradient)";
            }
            return colorName;
        }, SvgRenderer.prototype.createLinearGradient = function(colors, name, options) {
            var colorName;
            if (isNullOrUndefined(colors[0].colorStop)) colorName = colors[0].color.toString(); else {
                var newOptions = {
                    id: this.rootId + "_" + name + "linearGradient",
                    x1: options.x1 + "%",
                    y1: options.y1 + "%",
                    x2: options.x2 + "%",
                    y2: options.y2 + "%"
                };
                this.drawGradient("linearGradient", newOptions, colors), colorName = "url(#" + this.rootId + "_" + name + "linearGradient)";
            }
            return colorName;
        }, SvgRenderer.prototype.drawGradient = function(gradientType, options, colors) {
            var defs = this.createDefs(), gradient = document.createElementNS(this.svgLink, gradientType);
            gradient = this.setElementAttributes(options, gradient);
            for (var i = 0; i < colors.length; i++) {
                var stop_1 = document.createElementNS(this.svgLink, "stop");
                stop_1.setAttribute("offset", colors[i].colorStop), stop_1.setAttribute("stop-color", colors[i].color), 
                stop_1.setAttribute("stop-opacity", "1"), gradient.appendChild(stop_1);
            }
            return defs.appendChild(gradient), defs;
        }, SvgRenderer.prototype.drawClipPath = function(options) {
            var defs = this.createDefs(), clipPath = this.createClipPath({
                id: options.id
            }), rect = this.drawRectangle(options);
            return clipPath.appendChild(rect), defs.appendChild(clipPath), defs;
        }, SvgRenderer.prototype.drawCircularClipPath = function(options) {
            var defs = this.createDefs(), clipPath = this.createClipPath({
                id: options.id
            }), circle = this.drawCircle(options);
            return clipPath.appendChild(circle), defs.appendChild(clipPath), defs;
        }, SvgRenderer.prototype.setElementAttributes = function(options, element) {
            for (var keys = Object.keys(options), i = 0; i < keys.length; i++) element.setAttribute(keys[i], options[keys[i]]);
            return element;
        }, SvgRenderer;
    }(), __extends$5 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$5 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, SwipeSettings = function(_super) {
        function SwipeSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$5(SwipeSettings, _super), __decorate$5([ Property(50) ], SwipeSettings.prototype, "swipeThresholdDistance", void 0), 
        SwipeSettings;
    }(ChildProperty), swipeRegex = /(Up|Down)/, Touch = function(_super) {
        function Touch(element, options) {
            var _this = _super.call(this, options, element) || this;
            return _this.touchAction = !0, _this.tapCount = 0, _this.startEvent = function(evt) {
                if (!0 === _this.touchAction) {
                    var point = evt.changedTouches ? evt.changedTouches[0] : evt;
                    void 0 !== evt.changedTouches && (_this.touchAction = !1), _this.isTouchMoved = !1, 
                    _this.movedDirection = "", _this.startPoint = _this.lastMovedPoint = {
                        clientX: point.clientX,
                        clientY: point.clientY
                    }, _this.startEventData = point, _this.hScrollLocked = _this.vScrollLocked = !1, 
                    _this.tStampStart = Date.now(), _this.timeOutTapHold = setTimeout(function() {
                        _this.tapHoldEvent(evt);
                    }, _this.tapHoldThreshold), EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this), 
                    EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);
                }
            }, _this.moveEvent = function(evt) {
                var point = evt.changedTouches ? evt.changedTouches[0] : evt;
                _this.movedPoint = point, _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);
                var eScrollArgs = {};
                if (_this.isTouchMoved) {
                    clearTimeout(_this.timeOutTapHold), _this.calcScrollPoints(evt);
                    eScrollArgs = extend(eScrollArgs, {}, {
                        startEvents: _this.startEventData,
                        originalEvent: evt,
                        startX: _this.startPoint.clientX,
                        startY: _this.startPoint.clientY,
                        distanceX: _this.distanceX,
                        distanceY: _this.distanceY,
                        scrollDirection: _this.scrollDirection,
                        velocity: _this.getVelocity(point)
                    }), _this.trigger("scroll", eScrollArgs), _this.lastMovedPoint = {
                        clientX: point.clientX,
                        clientY: point.clientY
                    };
                }
            }, _this.endEvent = function(evt) {
                clearTimeout(_this.timeOutTapHold), clearTimeout(_this.timeOutTap);
                var point = evt;
                evt.changedTouches && (point = evt.changedTouches[0]);
                var diffX = point.clientX - _this.startPoint.clientX, diffY = point.clientY - _this.startPoint.clientY;
                diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX), diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX), 
                _this.isTouchMoved = diffX > 1 || diffY > 1, _this.endPoint = point;
                var eSwipeArgs, tDistance = _this.swipeSettings.swipeThresholdDistance;
                _this.calcPoints(evt);
                var swipeArgs = {
                    originalEvent: evt,
                    startEvents: _this.startEventData,
                    startX: _this.startPoint.clientX,
                    startY: _this.startPoint.clientY,
                    distanceX: _this.distanceX,
                    distanceY: _this.distanceY,
                    swipeDirection: _this.movedDirection,
                    velocity: _this.getVelocity(point)
                };
                if (_this.isTouchMoved) {
                    eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);
                    var canTrigger = !1, ele = _this.element, scrollBool = _this.isScrollable(ele), moved = swipeRegex.test(_this.movedDirection);
                    (tDistance < _this.distanceX && !moved || tDistance < _this.distanceY && moved) && (canTrigger = !scrollBool || _this.checkSwipe(ele, moved)), 
                    canTrigger && _this.trigger("swipe", eSwipeArgs);
                } else "function" == typeof _this.tap && (_this.trigger("tap", {
                    originalEvent: evt,
                    tapCount: ++_this.tapCount
                }), _this.timeOutTap = setTimeout(function() {
                    _this.tapCount = 0;
                }, _this.tapThreshold));
                _this.modeClear = setTimeout(function() {
                    _this.touchAction = !0;
                }, "function" != typeof _this.tap ? 0 : 10), _this.lastTapTime = new Date().getTime(), 
                EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent), EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);
            }, _this.bind(), _this;
        }
        return __extends$5(Touch, _super), Touch.prototype.onPropertyChanged = function(newProp, oldProp) {}, 
        Touch.prototype.bind = function() {
            this.wireEvents(), Browser.isIE && this.element.classList.add("e-block-touch");
        }, Touch.prototype.destroy = function() {
            this.unwireEvents(), _super.prototype.destroy.call(this);
        }, Touch.prototype.wireEvents = function() {
            EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);
        }, Touch.prototype.unwireEvents = function() {
            EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);
        }, Touch.prototype.getModuleName = function() {
            return "touch";
        }, Touch.prototype.isScrollable = function(element) {
            var eleStyle = getComputedStyle(element), style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;
            return !!/(auto|scroll)/.test(style);
        }, Touch.prototype.tapHoldEvent = function(evt) {
            this.tapCount = 0, this.touchAction = !0;
            var eTapArgs;
            EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent), EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent), 
            eTapArgs = {
                originalEvent: evt
            }, this.trigger("tapHold", eTapArgs);
        }, Touch.prototype.calcPoints = function(evt) {
            var point = evt.changedTouches ? evt.changedTouches[0] : evt;
            this.defaultArgs = {
                originalEvent: evt
            }, this.distanceX = Math.abs(Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)), 
            this.distanceY = Math.abs(Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)), 
            this.distanceX > this.distanceY ? this.movedDirection = point.clientX > this.startPoint.clientX ? "Right" : "Left" : this.movedDirection = point.clientY < this.startPoint.clientY ? "Up" : "Down";
        }, Touch.prototype.calcScrollPoints = function(evt) {
            var point = evt.changedTouches ? evt.changedTouches[0] : evt;
            this.defaultArgs = {
                originalEvent: evt
            }, this.distanceX = Math.abs(Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)), 
            this.distanceY = Math.abs(Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)), 
            (this.distanceX > this.distanceY || !0 === this.hScrollLocked) && !1 === this.vScrollLocked ? (this.scrollDirection = point.clientX > this.lastMovedPoint.clientX ? "Right" : "Left", 
            this.hScrollLocked = !0) : (this.scrollDirection = point.clientY < this.lastMovedPoint.clientY ? "Up" : "Down", 
            this.vScrollLocked = !0);
        }, Touch.prototype.getVelocity = function(pnt) {
            var newX = pnt.clientX, newY = pnt.clientY, newT = Date.now(), xDist = newX - this.startPoint.clientX, yDist = newY - this.startPoint.clientX, interval = newT - this.tStampStart;
            return Math.sqrt(xDist * xDist + yDist * yDist) / interval;
        }, Touch.prototype.checkSwipe = function(ele, flag) {
            var keys = [ "scroll", "offset" ], temp = flag ? [ "Height", "Top" ] : [ "Width", "Left" ];
            return ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]] || (0 === ele[keys[0] + temp[1]] || ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);
        }, __decorate$5([ Event() ], Touch.prototype, "tap", void 0), __decorate$5([ Event() ], Touch.prototype, "tapHold", void 0), 
        __decorate$5([ Event() ], Touch.prototype, "swipe", void 0), __decorate$5([ Event() ], Touch.prototype, "scroll", void 0), 
        __decorate$5([ Property(350) ], Touch.prototype, "tapThreshold", void 0), __decorate$5([ Property(750) ], Touch.prototype, "tapHoldThreshold", void 0), 
        __decorate$5([ Complex({}, SwipeSettings) ], Touch.prototype, "swipeSettings", void 0), 
        Touch = __decorate$5([ NotifyPropertyChanges ], Touch);
    }(Base), LINES = new RegExp("\\n|\\r|\\s\\s+", "g"), QUOTES = new RegExp(/'|"/g), IF_STMT = new RegExp("if ?\\("), ELSE_STMT = new RegExp("else"), FOR_STMT = new RegExp("for ?\\("), IF_OR_FOR = new RegExp("(/if|/for)"), CALL_FUNCTION = new RegExp("\\((.*)\\)", ""), NOT_NUMBER = new RegExp("^[0-9]+$", "g"), WORD = new RegExp("[\\w\"'.\\s+]+", "g"), DBL_QUOTED_STR = new RegExp('"(.*?)"', "g"), exp = new RegExp("\\${([^}]*)}", "g"), HAS_ROW = /^[\n\r.]+\<tr|^\<tr/, engineObj = {
        compile: new (function() {
            function Engine() {}
            return Engine.prototype.compile = function(templateString, helper) {
                return void 0 === helper && (helper = {}), compile$1(templateString, helper);
            }, Engine;
        }())().compile
    }, _base = Object.freeze({
        Ajax: Ajax,
        Animation: Animation,
        rippleEffect: rippleEffect,
        get isRippleEnabled() {
            return isRippleEnabled;
        },
        enableRipple: function(isRipple) {
            return isRippleEnabled = isRipple;
        },
        Base: Base,
        Browser: Browser,
        CanvasRenderer: CanvasRenderer,
        Component: Component,
        ChildProperty: ChildProperty,
        Position: Position,
        Draggable: Draggable,
        Droppable: Droppable,
        EventHandler: EventHandler,
        onIntlChange: onIntlChange,
        get rightToLeft() {
            return rightToLeft;
        },
        cldrData: cldrData,
        get defaultCulture() {
            return defaultCulture;
        },
        get defaultCurrencyCode() {
            return defaultCurrencyCode;
        },
        Internationalization: Internationalization,
        setCulture: setCulture,
        setCurrencyCode: function(currencyCode) {
            defaultCurrencyCode = currencyCode, onIntlChange.notify("notifyExternalChange", {
                currencyCode: defaultCurrencyCode
            });
        },
        loadCldr: function() {
            for (var data = [], _i = 0; _i < arguments.length; _i++) data[_i] = arguments[_i];
            for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {
                var obj = data_1[_a];
                extend(cldrData, obj, {}, !0);
            }
        },
        enableRtl: function(status) {
            void 0 === status && (status = !0), rightToLeft = status, onIntlChange.notify("notifyExternalChange", {
                enableRtl: rightToLeft
            });
        },
        getNumericObject: getNumericObject,
        getDefaultDateObject: getDefaultDateObject,
        KeyboardEvents: KeyboardEvents,
        L10n: L10n,
        ModuleLoader: ModuleLoader,
        Property: Property,
        Complex: Complex,
        ComplexFactory: function(type) {
            return function(target, key) {
                var propertyDescriptor = {
                    set: function(defaultValue, curKey, type) {
                        return function(newValue) {
                            var curType = type(newValue);
                            getObject(this, curKey, defaultValue, curType).setProperties(newValue);
                        };
                    }({}, key, type),
                    get: function(defaultValue, curKey, type) {
                        return function() {
                            var curType = type({});
                            return getObject(this, curKey, defaultValue, curType);
                        };
                    }({}, key, type),
                    enumerable: !0,
                    configurable: !0
                };
                Object.defineProperty(target, key, propertyDescriptor), addPropertyCollection(target, key, "complexProp", {}, type);
            };
        },
        Collection: Collection,
        CollectionFactory: function(type) {
            return function(target, key) {
                var propertyDescriptor = {
                    set: function(defaultValue, curKey, type) {
                        return function(newValue) {
                            var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, !1, !0), newValCollection = getObjectArray(this, curKey, newValue, type, !0, !0);
                            this.saveChanges(curKey, newValCollection, oldValueCollection), this.properties[curKey] = newValCollection;
                        };
                    }([], key, type),
                    get: function(defaultValue, curKey, type) {
                        return function() {
                            var curType = type({});
                            if (!this.properties.hasOwnProperty(curKey)) {
                                var defCollection = getObjectArray(this, curKey, defaultValue, curType, !1);
                                this.properties[curKey] = defCollection;
                            }
                            return this.properties[curKey];
                        };
                    }([], key, type),
                    enumerable: !0,
                    configurable: !0
                };
                Object.defineProperty(target, key, propertyDescriptor), addPropertyCollection(target, key, "colProp", {}, type);
            };
        },
        Event: Event,
        NotifyPropertyChanges: NotifyPropertyChanges,
        CreateBuilder: function(component) {
            var builderFunction = function(element) {
                return this.element = element, this;
            };
            return function(element) {
                return builderFunction.prototype.hasOwnProperty("create") || ((builderFunction.prototype = getBuilderProperties(component)).create = function() {
                    var temp = extend({}, {}, this.properties);
                    return this.properties = {}, new component(temp, this.element);
                }), new builderFunction(element);
            };
        },
        SvgRenderer: SvgRenderer,
        SwipeSettings: SwipeSettings,
        Touch: Touch,
        compile: compile$$1,
        setTemplateEngine: function(classObj) {
            engineObj.compile = classObj.compile;
        },
        getTemplateEngine: function() {
            return engineObj.compile;
        },
        createInstance: createInstance,
        setImmediate: setImmediate,
        getValue: getValue,
        setValue: setValue,
        deleteObject: deleteObject,
        isObject: isObject,
        getEnumValue: getEnumValue,
        merge: merge,
        extend: extend,
        isNullOrUndefined: isNullOrUndefined,
        isUndefined: isUndefined,
        getUniqueID: getUniqueID,
        debounce: debounce,
        queryParams: function(data) {
            for (var array = [], _i = 0, keys_2 = Object.keys(data); _i < keys_2.length; _i++) {
                var key = keys_2[_i];
                array.push(encodeURIComponent(key) + "=" + encodeURIComponent("" + data[key]));
            }
            return array.join("&");
        },
        isObjectArray: function(value) {
            var parser = Object.prototype.toString;
            return "[object Array]" === parser.call(value) && "[object Object]" === parser.call(value[0]);
        },
        compareElementParent: compareElementParent,
        throwError: throwError,
        print: print,
        formatUnit: formatUnit,
        getInstance: getInstance,
        addInstance: function(element, instance) {
            var elem = "string" == typeof element ? document.querySelector(element) : element;
            elem[instances] ? elem[instances].push(instance) : elem[instances] = [ instance ];
        },
        uniqueID: uniqueID,
        createElement: createElement,
        addClass: addClass,
        removeClass: removeClass,
        isVisible: isVisible,
        prepend: prepend,
        append: append,
        detach: detach,
        remove: remove,
        attributes: attributes,
        select: select,
        selectAll: selectAll,
        closest: closest,
        siblings: function(element) {
            for (var siblings = [], _i = 0, childNodes_1 = Array.prototype.slice.call(element.parentNode.childNodes); _i < childNodes_1.length; _i++) {
                var curNode = childNodes_1[_i];
                curNode.nodeType === Node.ELEMENT_NODE && element !== curNode && siblings.push(curNode);
            }
            return siblings;
        },
        getAttributeOrDefault: function(element, property, value) {
            var attrVal = element.getAttribute(property);
            return isNullOrUndefined(attrVal) && (element.setAttribute(property, value.toString()), 
            attrVal = value), attrVal;
        },
        setStyleAttribute: setStyleAttribute,
        classList: classList,
        matches: matches
    }), __extends = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, ROOT = "e-calendar", DISABLED = "e-disabled", OVERLAY = "e-overlay", OTHERMONTH = "e-other-month", SELECTED = "e-selected", FOCUSEDDATE = "e-focused-date", Calendar = function(_super) {
        function Calendar(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.effect = "", _this.keyConfigs = {
                controlUp: "ctrl+38",
                controlDown: "ctrl+40",
                moveDown: "downarrow",
                moveUp: "uparrow",
                moveLeft: "leftarrow",
                moveRight: "rightarrow",
                select: "enter",
                home: "home",
                end: "end",
                pageUp: "pageup",
                pageDown: "pagedown",
                shiftPageUp: "shift+pageup",
                shiftPageDown: "shift+pagedown",
                controlHome: "ctrl+home",
                controlEnd: "ctrl+end"
            }, _this;
        }
        return __extends(Calendar, _super), Calendar.prototype.render = function() {
            this.globalize = new Internationalization(this.locale), this.todayDisabled = !1, 
            this.todayDate = new Date(new Date().setHours(0, 0, 0, 0)), "calendar" === this.getModuleName() ? (this.element.classList.add(ROOT), 
            this.enableRtl && this.element.classList.add("e-rtl"), Browser.isDevice && this.element.classList.add("e-device"), 
            attributes(this.element, {
                "data-role": "calendar"
            })) : (this.calendarElement = createElement("div"), this.calendarElement.classList.add(ROOT), 
            this.enableRtl && this.calendarElement.classList.add("e-rtl"), Browser.isDevice && this.calendarElement.classList.add("e-device"), 
            attributes(this.calendarElement, {
                role: "calendar"
            })), this.processDate(), this.header(), this.content(), this.wireEvents();
        }, Calendar.prototype.processDate = function() {
            this.validateDate(), this.minMaxUpdate();
        }, Calendar.prototype.validateDate = function() {
            this.setProperties({
                value: this.checkDateValue(new Date("" + this.value))
            }, !0), this.setProperties({
                min: this.checkDateValue(new Date("" + this.min))
            }, !0), this.setProperties({
                max: this.checkDateValue(new Date("" + this.max))
            }, !0), this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0)), 
            !isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max && (this.currentDate = new Date("" + this.value)), 
            isNaN(+this.value) && this.setProperties({
                value: null
            }, !0);
        }, Calendar.prototype.minMaxUpdate = function() {
            this.min <= this.max ? removeClass([ this.element ], OVERLAY) : (this.setProperties({
                min: this.min
            }, !0), addClass([ this.element ], OVERLAY)), this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min, 
            this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max, 
            !isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max ? (this.setProperties({
                value: this.min
            }, !0), this.changedArgs = {
                value: this.value
            }) : !isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max && (this.setProperties({
                value: this.max
            }, !0), this.changedArgs = {
                value: this.value
            }), this.min <= this.max && this.value && this.value <= this.max && this.value >= this.min ? this.currentDate = new Date("" + this.value) : this.min <= this.max && !this.value && this.currentDate > this.max ? this.currentDate = new Date("" + this.max) : this.currentDate < this.min && (this.currentDate = new Date("" + this.min));
        }, Calendar.prototype.header = function() {
            this.headerElement = createElement("div", {
                className: "e-header"
            });
            var iconContainer = createElement("div", {
                className: "e-icon-container"
            });
            this.previousIcon = createElement("button", {
                className: "e-prev",
                attrs: {
                    type: "button"
                }
            }), rippleEffect(this.previousIcon, {
                duration: 400,
                selector: ".e-prev",
                isCenterRipple: !0
            }), attributes(this.previousIcon, {
                "aria-disabled": "false",
                "aria-label": "previous month"
            }), this.nextIcon = createElement("button", {
                className: "e-next",
                attrs: {
                    type: "button"
                }
            }), rippleEffect(this.nextIcon, {
                selector: ".e-next",
                duration: 400,
                isCenterRipple: !0
            }), attributes(this.nextIcon, {
                "aria-disabled": "false",
                "aria-label": "next month"
            }), this.headerTitleElement = createElement("div", {
                className: "e-day e-title"
            }), attributes(this.headerTitleElement, {
                "aria-atomic": "true",
                "aria-live": "assertive",
                "aria-label": "title"
            }), this.headerElement.appendChild(this.headerTitleElement), this.previousIcon.appendChild(createElement("span", {
                className: "e-date-icon-prev e-icons"
            })), this.nextIcon.appendChild(createElement("span", {
                className: "e-date-icon-next  e-icons"
            })), iconContainer.appendChild(this.previousIcon), iconContainer.appendChild(this.nextIcon), 
            this.headerElement.appendChild(iconContainer), "calendar" === this.getModuleName() ? this.element.appendChild(this.headerElement) : this.calendarElement.appendChild(this.headerElement);
        }, Calendar.prototype.content = function() {
            this.previousDate = this.value, this.contentElement = createElement("div", {
                className: "e-content"
            }), this.table = createElement("table", {
                attrs: {
                    tabIndex: "0",
                    role: "grid",
                    "aria-activedescendant": ""
                }
            }), "calendar" === this.getModuleName() ? this.element.appendChild(this.contentElement) : this.calendarElement.appendChild(this.contentElement), 
            this.contentElement.appendChild(this.table), this.contentHdr(), this.contentBody(), 
            this.showTodayButton && this.contentFooter();
        }, Calendar.prototype.getCultureValues = function() {
            var cldrObj, culShortNames = [];
            cldrObj = "en" === this.locale || "en-US" === this.locale ? getValue("days.stand-alone.short", getDefaultDateObject()) : this.getCultureObjects(cldrData, "" + this.locale);
            for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {
                var obj = _a[_i];
                culShortNames.push(getValue(obj, cldrObj));
            }
            return culShortNames;
        }, Calendar.prototype.contentHdr = function() {
            "calendar" === this.getModuleName() ? isNullOrUndefined(this.element.querySelectorAll(".e-content .e-week-header")[0]) || detach(this.element.querySelectorAll(".e-content .e-week-header")[0]) : isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]) || detach(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);
            var shortNames, html = "";
            (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) && this.setProperties({
                firstDayOfWeek: 0
            }, !0), this.tableHeadElement = createElement("thead", {
                className: "e-week-header"
            }), this.weekNumber && (html += '<th class="e-week-number"></th>', addClass([ this.element ], "e-week-number")), 
            shortNames = this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek);
            for (var days = 0; days <= 6; days++) html += '<th  class="">' + shortNames[days] + "</th>";
            html = "<tr>" + html + "</tr>", this.tableHeadElement.innerHTML = html, this.table.appendChild(this.tableHeadElement);
        }, Calendar.prototype.contentBody = function() {
            switch ("calendar" === this.getModuleName() ? isNullOrUndefined(this.element.querySelectorAll(".e-content tbody")[0]) || detach(this.element.querySelectorAll(".e-content tbody")[0]) : isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content tbody")[0]) || detach(this.calendarElement.querySelectorAll(".e-content tbody")[0]), 
            this.start) {
              case "Year":
                this.renderYears();
                break;

              case "Decade":
                this.renderDecades();
                break;

              default:
                this.renderMonths();
            }
        }, Calendar.prototype.updateFooter = function() {
            this.todayElement.textContent = this.l10.getConstant("today");
        }, Calendar.prototype.contentFooter = function() {
            if (this.showTodayButton) {
                var minimum = new Date(this.min.toDateString()), maximum = new Date(this.max.toDateString());
                this.globalize = new Internationalization(this.locale), this.l10 = new L10n(this.getModuleName(), {
                    today: "Today"
                }, this.locale), this.todayElement = createElement("button"), rippleEffect(this.todayElement), 
                this.updateFooter(), addClass([ this.todayElement ], [ "e-btn", "e-today", "e-flat" ]), 
                new Date(minimum.setHours(0, 0, 0, 0)) <= this.todayDate && this.todayDate <= new Date(maximum.setHours(0, 0, 0, 0)) && !this.todayDisabled || addClass([ this.todayElement ], DISABLED), 
                this.footer = createElement("div", {
                    className: "e-footer-container"
                }), this.footer.appendChild(this.todayElement), "calendar" === this.getModuleName() && this.element.appendChild(this.footer), 
                "datepicker" === this.getModuleName() && this.calendarElement.appendChild(this.footer), 
                "datetimepicker" === this.getModuleName() && this.calendarElement.appendChild(this.footer), 
                this.todayElement.classList.contains(DISABLED) || EventHandler.add(this.todayElement, "click", this.todayButtonClick, this);
            }
        }, Calendar.prototype.wireEvents = function() {
            EventHandler.add(this.headerTitleElement, "click", this.navTitle, this), "calendar" === this.getModuleName() ? this.keyboardModule = new KeyboardEvents(this.element, {
                eventName: "keydown",
                keyAction: this.keyActionHandle.bind(this),
                keyConfigs: this.keyConfigs
            }) : this.keyboardModule = new KeyboardEvents(this.calendarElement, {
                eventName: "keydown",
                keyAction: this.keyActionHandle.bind(this),
                keyConfigs: this.keyConfigs
            });
        }, Calendar.prototype.todayButtonClick = function() {
            if (this.showTodayButton) {
                var tempValue = new Date();
                this.value ? (tempValue.setHours(this.value.getHours()), tempValue.setMinutes(this.value.getMinutes()), 
                tempValue.setSeconds(this.value.getSeconds())) : tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0), 
                this.setProperties({
                    value: tempValue
                }, !0), this.getViewNumber(this.start) >= this.getViewNumber(this.depth) ? this.navigateTo(this.depth, new Date("" + this.value)) : this.navigateTo("Month", new Date("" + this.value)), 
                this.effect = "";
            }
        }, Calendar.prototype.keyActionHandle = function(e) {
            var view = this.getViewNumber(this.currentView()), focusedDate = this.tableBodyElement.querySelector("tr td.e-focused-date"), selectedDate = this.tableBodyElement.querySelector("tr td.e-selected"), depthValue = this.getViewNumber(this.depth), levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;
            switch (this.effect = "", e.action) {
              case "moveLeft":
                this.KeyboardNavigate(-1, view, e, this.max, this.min), e.preventDefault();
                break;

              case "moveRight":
                this.KeyboardNavigate(1, view, e, this.max, this.min), e.preventDefault();
                break;

              case "moveUp":
                0 === view ? this.KeyboardNavigate(-7, view, e, this.max, this.min) : this.KeyboardNavigate(-4, view, e, this.max, this.min), 
                e.preventDefault();
                break;

              case "moveDown":
                0 === view ? this.KeyboardNavigate(7, view, e, this.max, this.min) : this.KeyboardNavigate(4, view, e, this.max, this.min), 
                e.preventDefault();
                break;

              case "select":
                if (e.target === this.todayElement) this.todayButtonClick(); else {
                    var element = isNullOrUndefined(focusedDate) ? selectedDate : focusedDate;
                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) if (levelRestrict) {
                        var d = new Date(parseInt("" + element.id, 0));
                        this.selectDate(e, d, element);
                    } else this.contentClick(null, --view, element);
                }
                break;

              case "controlUp":
                this.title(), e.preventDefault();
                break;

              case "controlDown":
                isNullOrUndefined(focusedDate) && (isNullOrUndefined(selectedDate) || levelRestrict) || this.contentClick(null, --view, focusedDate || selectedDate), 
                e.preventDefault();
                break;

              case "home":
                this.currentDate = this.firstDay(this.currentDate), detach(this.tableBodyElement), 
                this.renderMonths(e), e.preventDefault();
                break;

              case "end":
                this.currentDate = this.lastDay(this.currentDate), detach(this.tableBodyElement), 
                this.renderMonths(e), e.preventDefault();
                break;

              case "pageUp":
                this.addMonths(this.currentDate, -1), this.navigateTo("Month", this.currentDate), 
                e.preventDefault();
                break;

              case "pageDown":
                this.addMonths(this.currentDate, 1), this.navigateTo("Month", this.currentDate), 
                e.preventDefault();
                break;

              case "shiftPageUp":
                this.addYears(this.currentDate, -1), this.navigateTo("Month", this.currentDate), 
                e.preventDefault();
                break;

              case "shiftPageDown":
                this.addYears(this.currentDate, 1), this.navigateTo("Month", this.currentDate), 
                e.preventDefault();
                break;

              case "controlHome":
                this.navigateTo("Month", new Date(this.currentDate.getFullYear(), 0, 1)), e.preventDefault();
                break;

              case "controlEnd":
                this.navigateTo("Month", new Date(this.currentDate.getFullYear(), 11, 31)), e.preventDefault();
            }
            "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.KeyboardNavigate = function(number, currentView, e, max, min) {
            var date = new Date("" + this.currentDate);
            switch (currentView) {
              case 2:
                this.addYears(this.currentDate, number), this.isMinMaxRange(this.currentDate) ? (detach(this.tableBodyElement), 
                this.renderDecades(e)) : this.currentDate = date;
                break;

              case 1:
                this.addMonths(this.currentDate, number), this.isMinMaxRange(this.currentDate) ? (detach(this.tableBodyElement), 
                this.renderYears(e)) : this.currentDate = date;
                break;

              case 0:
                this.addDay(this.currentDate, number, e, max, min), this.isMinMaxRange(this.currentDate) ? (detach(this.tableBodyElement), 
                this.renderMonths(e)) : this.currentDate = date;
            }
        }, Calendar.prototype.preRender = function() {
            var _this = this;
            this.navigatePreviousHandler = this.navigatePrevious.bind(this), this.navigateNextHandler = this.navigateNext.bind(this), 
            this.changeHandler = function(e) {
                _this.triggerChange(e);
            }, this.navigateHandler = function(e) {
                _this.triggerNavigate(e);
            };
        }, Calendar.prototype.minMaxDate = function(localDate) {
            var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0)), minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0)), maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));
            return +currentDate != +minDate && +currentDate != +maxDate || (+localDate < +this.min && (localDate = new Date(+this.min)), 
            +localDate > +this.max && (localDate = new Date(+this.max))), localDate;
        }, Calendar.prototype.renderMonths = function(e) {
            var numCells = this.weekNumber ? 8 : 7, tdEles = this.renderDays(this.currentDate, e);
            this.contentHdr(), this.renderTemplate(tdEles, numCells, "e-month", e);
        }, Calendar.prototype.renderDays = function(currentDate, e) {
            var minMaxDate, tdEles = [], localDate = new Date("" + currentDate), currentMonth = (this.weekNumber, 
            localDate.getMonth());
            this.titleUpdate(currentDate, "days");
            var d = localDate;
            for (localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds()); localDate.getDay() !== this.firstDayOfWeek; ) this.setTime(localDate, -864e5);
            for (var day = 0; day < 42; ++day) {
                var weekEle = createElement("td", {
                    className: "e-cell"
                }), weekAnchor = createElement("span");
                day % 7 == 0 && this.weekNumber && (weekAnchor.textContent = "" + this.getWeek(localDate), 
                weekEle.appendChild(weekAnchor), addClass([ weekEle ], "e-week-number"), tdEles.push(weekEle)), 
                minMaxDate = new Date(+localDate), localDate = this.minMaxDate(localDate);
                var dateFormatOptions = {
                    type: "dateTime",
                    skeleton: "full"
                }, date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions), tdEle = this.dayCell(localDate), title = this.globalize.formatDate(localDate, {
                    type: "date",
                    skeleton: "full"
                }), dayLink = createElement("span");
                dayLink.textContent = this.globalize.formatDate(localDate, {
                    type: "date",
                    skeleton: "d"
                });
                var disabled = this.min > localDate || this.max < localDate;
                disabled ? (addClass([ tdEle ], DISABLED), addClass([ tdEle ], OVERLAY)) : dayLink.setAttribute("title", "" + title), 
                currentMonth !== localDate.getMonth() && addClass([ tdEle ], OTHERMONTH), 0 !== localDate.getDay() && 6 !== localDate.getDay() || addClass([ tdEle ], "e-weekend"), 
                tdEle.appendChild(dayLink), this.renderDaycellArg = {
                    date: localDate,
                    isDisabled: !1,
                    element: tdEle,
                    isOutOfRange: disabled
                };
                var args = this.renderDaycellArg;
                this.renderDayCellEvent(args), args.isDisabled && this.value && +this.value == +args.date && this.setProperties({
                    value: null
                }, !0), this.renderDaycellArg.isDisabled && !tdEle.classList.contains(SELECTED) && (addClass([ tdEle ], DISABLED), 
                addClass([ tdEle ], OVERLAY), +this.renderDaycellArg.date == +this.todayDate && (this.todayDisabled = !0));
                var otherMnthBool = tdEle.classList.contains(OTHERMONTH), disabledCls = tdEle.classList.contains(DISABLED);
                disabledCls || EventHandler.add(tdEle, "click", this.clickHandler, this), args.isDisabled && +this.value == +args.date && this.setProperties({
                    value: null
                }, !0), otherMnthBool || disabledCls || !this.getDateVal(localDate) ? currentDate.getDate() !== localDate.getDate() || otherMnthBool || disabledCls ? (currentDate >= this.max && parseInt(tdEle.id, 0) === +this.max && !otherMnthBool && !disabledCls && addClass([ tdEle ], FOCUSEDDATE), 
                currentDate <= this.min && parseInt(tdEle.id, 0) === +this.min && !otherMnthBool && !disabledCls && addClass([ tdEle ], FOCUSEDDATE)) : addClass([ tdEle ], FOCUSEDDATE) : addClass([ tdEle ], SELECTED), 
                date.getMonth() === new Date().getMonth() && date.getDate() === new Date().getDate() && date.getFullYear() === new Date().getFullYear() && addClass([ tdEle ], "e-today"), 
                tdEles.push(this.renderDaycellArg.element), localDate = new Date(+minMaxDate), this.addDay(localDate, 1, null, this.max, this.min);
            }
            return tdEles;
        }, Calendar.prototype.renderYears = function(e) {
            this.removeTheadEle();
            var tdEles = [], valueUtil = isNullOrUndefined(this.value), curDate = new Date("" + this.currentDate), mon = curDate.getMonth(), yr = curDate.getFullYear(), localDate = curDate, curYrs = localDate.getFullYear(), minYr = new Date("" + this.min).getFullYear(), minMonth = new Date("" + this.min).getMonth(), maxYr = new Date("" + this.max).getFullYear(), maxMonth = new Date("" + this.max).getMonth();
            localDate.setMonth(0), this.titleUpdate(this.currentDate, "months");
            this.min > localDate || this.max;
            localDate.setDate(1);
            for (var month = 0; month < 12; ++month) {
                var tdEle = this.dayCell(localDate), dayLink = createElement("span"), localMonth = this.value && this.value.getMonth() === localDate.getMonth(), select$$1 = this.value && this.value.getFullYear() === yr && localMonth;
                dayLink.textContent = this.globalize.formatDate(localDate, {
                    type: "dateTime",
                    skeleton: "MMM"
                }), this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr) ? addClass([ tdEle ], DISABLED) : !valueUtil && select$$1 ? addClass([ tdEle ], SELECTED) : localDate.getMonth() === mon && this.currentDate.getMonth() === mon && addClass([ tdEle ], FOCUSEDDATE), 
                localDate.setDate(1), localDate.setMonth(localDate.getMonth() + 1), tdEle.classList.contains(DISABLED) || EventHandler.add(tdEle, "click", this.clickHandler, this), 
                tdEle.appendChild(dayLink), tdEles.push(tdEle);
            }
            this.renderTemplate(tdEles, 4, "e-year", e);
        }, Calendar.prototype.renderDecades = function(e) {
            this.removeTheadEle();
            var tdEles = [], localDate = new Date("" + this.currentDate);
            localDate.setMonth(0), localDate.setDate(1);
            var localYr = localDate.getFullYear(), startYr = new Date("" + (localYr - localYr % 10)), endYr = new Date("" + (localYr - localYr % 10 + 9)), startHdrYr = this.globalize.formatDate(startYr, {
                type: "dateTime",
                skeleton: "y"
            }), endHdrYr = this.globalize.formatDate(endYr, {
                type: "dateTime",
                skeleton: "y"
            });
            this.headerTitleElement.textContent = startHdrYr + " - " + endHdrYr;
            for (var startYear = new Date(localYr - localYr % 10 - 1, 0, 1).getFullYear(), rowIterator = 0; rowIterator < 12; ++rowIterator) {
                var year = startYear + rowIterator;
                localDate.setFullYear(year);
                var tdEle = this.dayCell(localDate);
                attributes(tdEle, {
                    role: "gridcell"
                });
                var dayLink = createElement("span");
                dayLink.textContent = this.globalize.formatDate(localDate, {
                    type: "dateTime",
                    skeleton: "y"
                }), year < new Date("" + this.min).getFullYear() || year > new Date("" + this.max).getFullYear() ? addClass([ tdEle ], DISABLED) : isNullOrUndefined(this.value) || localDate.getFullYear() !== this.value.getFullYear() ? localDate.getFullYear() !== this.currentDate.getFullYear() || tdEle.classList.contains(DISABLED) || addClass([ tdEle ], FOCUSEDDATE) : addClass([ tdEle ], SELECTED), 
                tdEle.classList.contains(DISABLED) || EventHandler.add(tdEle, "click", this.clickHandler, this), 
                tdEle.appendChild(dayLink), tdEles.push(tdEle);
            }
            this.renderTemplate(tdEles, 4, "e-decade", e);
        }, Calendar.prototype.dayCell = function(localDate) {
            var dateFormatOptions = {
                skeleton: "full",
                type: "dateTime"
            };
            return createElement("td", {
                className: "e-cell",
                attrs: {
                    id: "" + getUniqueID("" + this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions).valueOf()),
                    "aria-selected": "false",
                    role: "gridcell"
                }
            });
        }, Calendar.prototype.firstDay = function(date) {
            var collection = this.tableBodyElement.querySelectorAll("td:not(." + OTHERMONTH);
            if (collection.length) for (var i = 0; i < collection.length; i++) if (!collection[i].classList.contains(DISABLED)) {
                date = new Date(parseInt(collection[i].id, 0));
                break;
            }
            return date;
        }, Calendar.prototype.lastDay = function(date) {
            var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0), timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());
            return timeOffset && lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60), 
            this.findlastDay(lastDate);
        }, Calendar.prototype.checkDateValue = function(value) {
            return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;
        }, Calendar.prototype.findlastDay = function(date) {
            var collection = this.tableBodyElement.querySelectorAll("td:not(." + OTHERMONTH);
            if (collection.length) for (var i = collection.length - 1; i >= 0; i--) if (!collection[i].classList.contains(DISABLED)) {
                date = new Date(parseInt(collection[i].id, 0));
                break;
            }
            return date;
        }, Calendar.prototype.removeTheadEle = function() {
            "calendar" === this.getModuleName() ? isNullOrUndefined(this.element.querySelectorAll(".e-content table thead")[0]) || detach(this.tableHeadElement) : isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content table thead")[0]) || detach(this.tableHeadElement);
        }, Calendar.prototype.renderTemplate = function(elements, numCells, classNm, e) {
            var trEle, view = this.getViewNumber(this.currentView());
            this.tableBodyElement = createElement("tbody"), this.table.appendChild(this.tableBodyElement), 
            removeClass([ this.contentElement, this.headerElement ], [ "e-month", "e-decade", "e-year" ]), 
            addClass([ this.contentElement, this.headerElement ], [ classNm ]);
            for (var row = numCells, rowIterator = 0, dayCell = 0; dayCell < elements.length / numCells; ++dayCell) {
                for (trEle = createElement("tr", {
                    attrs: {
                        role: "row"
                    }
                }), rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) elements[rowIterator].classList.contains("e-week-number") || isNullOrUndefined(elements[rowIterator].children[0]) || (addClass([ elements[rowIterator].children[0] ], [ "e-day" ]), 
                rippleEffect(elements[rowIterator].children[0], {
                    duration: 600,
                    isCenterRipple: !0
                })), trEle.appendChild(elements[rowIterator]), !this.weekNumber && 6 === rowIterator && elements[6].classList.contains(OTHERMONTH) && addClass([ trEle ], "e-month-hide"), 
                this.weekNumber ? 41 === rowIterator && elements[41].classList.contains(OTHERMONTH) && addClass([ trEle ], "e-month-hide") : 35 === rowIterator && elements[35].classList.contains(OTHERMONTH) && addClass([ trEle ], "e-month-hide");
                row += numCells, rowIterator += 0, this.tableBodyElement.appendChild(trEle);
            }
            this.table.querySelector("tbody").className = this.effect, this.iconHandler(), this.changedArgs = {
                value: this.value
            }, (view !== this.getViewNumber(this.currentView()) || 0 === view && view !== this.getViewNumber(this.currentView())) && this.navigateHandler(e), 
            this.setAriaActivedescendant(), this.changeHandler();
        }, Calendar.prototype.clickHandler = function(e) {
            e.preventDefault();
            var eve = e.currentTarget, view = this.getViewNumber(this.currentView());
            eve.classList.contains(OTHERMONTH) ? (this.value = this.getIdValue(e, null), this.contentClick(e, 0, null)) : view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth) ? this.contentClick(e, 1, null) : 2 === view ? this.contentClick(e, 1, null) : eve.classList.contains(OTHERMONTH) || 0 !== view ? this.contentClick(e, 0, eve) : this.selectDate(e, this.getIdValue(e, null), null), 
            "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.contentClick = function(e, view, ele) {
            var currentView = this.getViewNumber(this.currentView()), d = this.getIdValue(e, ele);
            switch (view) {
              case 0:
                currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth) ? (detach(this.tableBodyElement), 
                this.currentDate = d, this.effect = "e-zoomin", this.renderMonths(e)) : (this.currentDate.setMonth(d.getMonth()), 
                d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth() && this.currentDate.setDate(0), 
                this.currentDate.setFullYear(d.getFullYear()), this.effect = "e-zoomin", detach(this.tableBodyElement), 
                this.renderMonths(e));
                break;

              case 1:
                currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth) ? this.selectDate(e, d, null) : (this.currentDate.setFullYear(d.getFullYear()), 
                this.effect = "e-zoomin", detach(this.tableBodyElement), this.renderYears(e));
            }
        }, Calendar.prototype.switchView = function(view, e) {
            switch (view) {
              case 0:
                detach(this.tableBodyElement), this.renderMonths(e);
                break;

              case 1:
                detach(this.tableBodyElement), this.renderYears(e);
                break;

              case 2:
                detach(this.tableBodyElement), this.renderDecades(e);
            }
        }, Calendar.prototype.getModuleName = function() {
            return "calendar";
        }, Calendar.prototype.getPersistData = function() {
            return this.addOnPersist([ "value" ]);
        }, Calendar.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.effect = "";
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "value":
                    this.setProperties({
                        value: new Date("" + newProp.value)
                    }, !0), isNaN(+this.value) && this.setProperties({
                        value: oldProp.value
                    }, !0), this.validateDate(), this.minMaxUpdate(), this.setvalue();
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? "calendar" === this.getModuleName() ? this.element.classList.add("e-rtl") : this.calendarElement.classList.add("e-rtl") : "calendar" === this.getModuleName() ? this.element.classList.remove("e-rtl") : this.calendarElement.classList.remove("e-rtl");
                    break;

                  case "start":
                  case "weekNumber":
                  case "firstDayOfWeek":
                    this.contentHdr(), this.contentBody();
                    break;

                  case "min":
                  case "max":
                    "min" === prop ? this.setProperties({
                        min: this.checkDateValue(new Date("" + newProp.min))
                    }, !0) : this.setProperties({
                        max: this.checkDateValue(new Date("" + newProp.max))
                    }, !0), this.setProperties({
                        start: this.currentView()
                    }, !0), detach(this.tableBodyElement), this.minMaxUpdate(), this.contentBody(), 
                    (this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement ? (this.todayElement.remove(), 
                    this.footer.remove(), this.todayElement = this.footer = void 0, this.contentFooter()) : this.todayElement.classList.contains("e-disabled") && this.footer && this.todayElement && removeClass([ this.todayElement ], DISABLED);
                    break;

                  case "locale":
                    this.globalize = new Internationalization(this.locale), this.contentHdr(), this.contentBody(), 
                    this.l10.setLocale(this.locale), this.updateFooter();
                    break;

                  case "showTodayButton":
                    newProp.showTodayButton ? this.contentFooter() : (this.todayElement.remove(), this.footer.remove(), 
                    this.todayElement = this.footer = void 0), this.setProperties({
                        showTodayButton: newProp.showTodayButton
                    }, !0);
                }
            }
        }, Calendar.prototype.setvalue = function() {
            this.tableBodyElement.remove(), this.setProperties({
                start: this.currentView()
            }, !0), this.contentBody();
        }, Calendar.prototype.titleUpdate = function(date, view) {
            var globalize = new Internationalization(this.locale);
            switch (view) {
              case "days":
                this.headerTitleElement.textContent = globalize.formatDate(date, {
                    type: "dateTime",
                    skeleton: "yMMMM"
                });
                break;

              case "months":
                this.headerTitleElement.textContent = globalize.formatDate(date, {
                    type: "dateTime",
                    skeleton: "y"
                });
            }
        }, Calendar.prototype.setActiveDescendant = function() {
            var id, focusedEle = this.tableBodyElement.querySelector("tr td.e-focused-date"), selectedEle = this.tableBodyElement.querySelector("tr td.e-selected"), title = this.globalize.formatDate(this.currentDate, {
                type: "date",
                skeleton: "full"
            });
            return (selectedEle || focusedEle) && ((focusedEle || selectedEle).setAttribute("aria-selected", "true"), 
            (focusedEle || selectedEle).setAttribute("aria-label", "The current focused date is " + title), 
            id = (focusedEle || selectedEle).getAttribute("id")), id;
        }, Calendar.prototype.iconHandler = function() {
            switch (new Date("" + this.currentDate).setDate(1), this.currentView()) {
              case "Month":
                this.previousIconHandler(this.compareMonth(new Date("" + this.currentDate), this.min) < 1), 
                this.nextIconHandler(this.compareMonth(new Date("" + this.currentDate), this.max) > -1);
                break;

              case "Year":
                this.previousIconHandler(this.compareYear(new Date("" + this.currentDate), this.min) < 1), 
                this.nextIconHandler(this.compareYear(new Date("" + this.currentDate), this.max) > -1);
                break;

              case "Decade":
                this.previousIconHandler(this.compareDecade(new Date("" + this.currentDate), this.min) < 1), 
                this.nextIconHandler(this.compareDecade(new Date("" + this.currentDate), this.max) > -1);
            }
        }, Calendar.prototype.destroy = function() {
            "calendar" === this.getModuleName() ? removeClass([ this.element ], [ ROOT ]) : this.calendarElement && removeClass([ this.element ], [ ROOT ]), 
            "calendar" === this.getModuleName() && (EventHandler.remove(this.headerTitleElement, "click", this.navTitle), 
            this.todayElement && EventHandler.remove(this.todayElement, "click", this.todayButtonClick), 
            this.previousIconHandler(!0), this.nextIconHandler(!0), this.keyboardModule.destroy()), 
            this.element.innerHTML = "", _super.prototype.destroy.call(this);
        }, Calendar.prototype.title = function(e) {
            var currentView = this.getViewNumber(this.currentView());
            this.effect = "e-zoomin", this.switchView(++currentView, e);
        }, Calendar.prototype.getViewNumber = function(stringVal) {
            return "Month" === stringVal ? 0 : "Year" === stringVal ? 1 : 2;
        }, Calendar.prototype.navTitle = function(e) {
            e.preventDefault(), this.title(e), "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.previous = function() {
            this.effect = "";
            var currentView = this.getViewNumber(this.currentView());
            switch (this.currentView()) {
              case "Month":
                this.addMonths(this.currentDate, -1), this.switchView(currentView);
                break;

              case "Year":
                this.addYears(this.currentDate, -1), this.switchView(currentView);
                break;

              case "Decade":
                this.addYears(this.currentDate, -10), this.switchView(currentView);
            }
        }, Calendar.prototype.navigatePrevious = function(e) {
            e.preventDefault(), this.previous(), this.triggerNavigate(e), "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.next = function() {
            this.effect = "";
            var currentView = this.getViewNumber(this.currentView());
            switch (this.currentView()) {
              case "Month":
                this.addMonths(this.currentDate, 1), this.switchView(currentView);
                break;

              case "Year":
                this.addYears(this.currentDate, 1), this.switchView(currentView);
                break;

              case "Decade":
                this.addYears(this.currentDate, 10), this.switchView(currentView);
            }
        }, Calendar.prototype.navigateNext = function(eve) {
            eve.preventDefault(), this.next(), this.triggerNavigate(eve), "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.navigateTo = function(view, date) {
            this.minMaxUpdate(), +date >= +this.min && +date <= +this.max && (this.currentDate = date), 
            +date <= +this.min && (this.currentDate = new Date("" + this.min)), +date >= +this.max && (this.currentDate = new Date("" + this.max)), 
            this.switchView(this.getViewNumber(view));
        }, Calendar.prototype.currentView = function() {
            return this.contentElement.classList.contains("e-year") ? "Year" : this.contentElement.classList.contains("e-decade") ? "Decade" : "Month";
        }, Calendar.prototype.getDateVal = function(date) {
            return !isNullOrUndefined(this.value) && date.getDate() === this.value.getDate() && date.getMonth() === this.value.getMonth() && date.getFullYear() === this.value.getFullYear();
        }, Calendar.prototype.getCultureObjects = function(ld, c) {
            return getValue("main." + this.locale + ".dates.calendars.gregorian.days.format.short", ld);
        }, Calendar.prototype.getWeek = function(d) {
            var currentDate = new Date("" + d).valueOf(), date = new Date(d.getFullYear(), 0, 1).valueOf(), a = currentDate - date;
            return Math.ceil((a / 864e5 + new Date(date).getDay() + 1) / 7);
        }, Calendar.prototype.setTime = function(date, time) {
            var d = new Date(date.getTime() + time);
            isNullOrUndefined(this.value) || 0 === this.value.getHours() && 0 === this.value.getSeconds() && 0 === this.value.getMinutes() ? date = new Date(date.setTime(d.getTime())) : date.setTime(d.getTime());
        }, Calendar.prototype.addMonths = function(date, i) {
            var day = date.getDate();
            date.setDate(1), date.setMonth(date.getMonth() + i), date.setDate(Math.min(day, this.getMaxDays(date)));
        }, Calendar.prototype.addYears = function(date, i) {
            var day = date.getDate();
            date.setDate(1), date.setFullYear(date.getFullYear() + i), date.setDate(Math.min(day, this.getMaxDays(date)));
        }, Calendar.prototype.getIdValue = function(e, element) {
            var eve;
            eve = e ? e.currentTarget : element;
            var dateFormatOptions = {
                type: "dateTime",
                skeleton: "full"
            }, dateString = this.globalize.formatDate(new Date(parseInt("" + eve.getAttribute("id"), 0)), dateFormatOptions), date = this.globalize.parseDate(dateString, dateFormatOptions), value = date.valueOf() - date.valueOf() % 1e3;
            return new Date(value);
        }, Calendar.prototype.selectDate = function(e, date, element) {
            var ele = element || e.currentTarget;
            "Decade" === this.currentView() ? this.setDateDecade(this.currentDate, date.getFullYear()) : "Year" === this.currentView() ? this.setDateYear(this.currentDate, date) : (this.setProperties({
                value: new Date("" + date)
            }, !0), this.currentDate = new Date("" + date));
            var tableBodyElement = closest(ele, "." + ROOT);
            isNullOrUndefined(tableBodyElement) && (tableBodyElement = this.tableBodyElement), 
            isNullOrUndefined(tableBodyElement.querySelector("." + SELECTED)) || removeClass([ tableBodyElement.querySelector("." + SELECTED) ], SELECTED), 
            isNullOrUndefined(tableBodyElement.querySelector("." + FOCUSEDDATE)) || removeClass([ tableBodyElement.querySelector("." + FOCUSEDDATE) ], FOCUSEDDATE), 
            addClass([ ele ], SELECTED), this.changedArgs = {
                value: this.value
            }, this.changeHandler(e);
        }, Calendar.prototype.setAriaActivedescendant = function() {
            attributes(this.table, {
                "aria-activedescendant": "" + this.setActiveDescendant()
            });
        }, Calendar.prototype.previousIconHandler = function(disabled) {
            disabled ? (EventHandler.remove(this.previousIcon, "click", this.navigatePreviousHandler), 
            addClass([ this.previousIcon ], "" + DISABLED), addClass([ this.previousIcon ], "" + OVERLAY), 
            this.previousIcon.setAttribute("aria-disabled", "true")) : (EventHandler.add(this.previousIcon, "click", this.navigatePreviousHandler), 
            removeClass([ this.previousIcon ], "" + DISABLED), removeClass([ this.previousIcon ], "" + OVERLAY), 
            this.previousIcon.setAttribute("aria-disabled", "false"));
        }, Calendar.prototype.renderDayCellEvent = function(args) {
            extend(this.renderDaycellArg, {
                name: "renderDayCell"
            }), this.trigger("renderDayCell", args);
        }, Calendar.prototype.navigatedEvent = function(eve) {
            extend(this.navigatedArgs, {
                name: "navigated",
                event: eve
            }), this.trigger("navigated", this.navigatedArgs);
        }, Calendar.prototype.triggerNavigate = function(event) {
            this.navigatedArgs = {
                view: this.currentView(),
                date: this.currentDate
            }, this.navigatedEvent(event);
        }, Calendar.prototype.changeEvent = function(e) {
            this.trigger("change", this.changedArgs);
        }, Calendar.prototype.triggerChange = function(e) {
            this.changedArgs.event = e, isNullOrUndefined(this.value) || this.setProperties({
                value: this.value
            }, !0), +this.value !== Number.NaN && +this.value != +this.previousDate && this.changeEvent(e), 
            this.previousDate = this.value;
        }, Calendar.prototype.nextIconHandler = function(disabled) {
            disabled ? (EventHandler.remove(this.nextIcon, "click", this.navigateNextHandler), 
            addClass([ this.nextIcon ], DISABLED), addClass([ this.nextIcon ], OVERLAY), this.nextIcon.setAttribute("aria-disabled", "true")) : (EventHandler.add(this.nextIcon, "click", this.navigateNextHandler), 
            removeClass([ this.nextIcon ], DISABLED), removeClass([ this.nextIcon ], OVERLAY), 
            this.nextIcon.setAttribute("aria-disabled", "false"));
        }, Calendar.prototype.compare = function(startDate, endDate, modifier) {
            var end, result, start = endDate.getFullYear();
            return end = start, result = 0, modifier && (end = (start -= start % modifier) - start % modifier + modifier - 1), 
            startDate.getFullYear() > end ? result = 1 : startDate.getFullYear() < start && (result = -1), 
            result;
        }, Calendar.prototype.isMinMaxRange = function(date) {
            return +date >= +this.min && +date <= +this.max;
        }, Calendar.prototype.compareYear = function(start, end) {
            return this.compare(start, end, 0);
        }, Calendar.prototype.compareDecade = function(start, end) {
            return this.compare(start, end, 10);
        }, Calendar.prototype.shiftArray = function(array, i) {
            return array.slice(i).concat(array.slice(0, i));
        }, Calendar.prototype.addDay = function(date, i, e, max, min) {
            var column = i, value = new Date(+date);
            if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {
                for (;this.findNextTD(new Date(+date), column, max, min); ) column += i;
                var rangeValue = new Date(value.setDate(value.getDate() + column));
                column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;
            }
            date.setDate(date.getDate() + column);
        }, Calendar.prototype.findNextTD = function(date, column, max, min) {
            var value = new Date(date.setDate(date.getDate() + column)), collection = [], isDisabled = !1;
            if ((!isNullOrUndefined(value) && value.getMonth()) !== (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {
                collection = this.renderDays(value, null).filter(function(ele) {
                    return ele.classList.contains(DISABLED);
                });
            } else collection = this.tableBodyElement.querySelectorAll("td." + DISABLED);
            if (+value <= +max && +value >= +min && collection.length) for (var i = 0; i < collection.length && !(isDisabled = +value == +new Date(parseInt(collection[i].id, 0))); i++) ;
            return isDisabled;
        }, Calendar.prototype.getMaxDays = function(d) {
            var date, month, tmpDate = new Date("" + d);
            for (date = 28, month = tmpDate.getMonth(); tmpDate.getMonth() === month; ) ++date, 
            tmpDate.setDate(date);
            return date - 1;
        }, Calendar.prototype.setDateDecade = function(date, year) {
            date.setFullYear(year), this.setProperties({
                value: new Date("" + date)
            }, !0);
        }, Calendar.prototype.setDateYear = function(date, value) {
            date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate()), value.getMonth() !== date.getMonth() && date.setDate(0), 
            this.setProperties({
                value: new Date("" + date)
            }, !0), this.currentDate = new Date("" + this.value);
        }, Calendar.prototype.compareMonth = function(start, end) {
            return start.getFullYear() > end.getFullYear() ? 1 : start.getFullYear() < end.getFullYear() ? -1 : start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;
        }, __decorate([ Property(null) ], Calendar.prototype, "value", void 0), __decorate([ Property(new Date(1900, 0, 1)) ], Calendar.prototype, "min", void 0), 
        __decorate([ Property(new Date(2099, 11, 31)) ], Calendar.prototype, "max", void 0), 
        __decorate([ Property(0) ], Calendar.prototype, "firstDayOfWeek", void 0), __decorate([ Property("Month") ], Calendar.prototype, "start", void 0), 
        __decorate([ Property("Month") ], Calendar.prototype, "depth", void 0), __decorate([ Property(!1) ], Calendar.prototype, "weekNumber", void 0), 
        __decorate([ Property(!0) ], Calendar.prototype, "showTodayButton", void 0), __decorate([ Event() ], Calendar.prototype, "created", void 0), 
        __decorate([ Event() ], Calendar.prototype, "destroyed", void 0), __decorate([ Event() ], Calendar.prototype, "change", void 0), 
        __decorate([ Event() ], Calendar.prototype, "navigated", void 0), __decorate([ Event() ], Calendar.prototype, "renderDayCell", void 0), 
        Calendar = __decorate([ NotifyPropertyChanges ], Calendar);
    }(Component), __extends$2$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$2$1 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, cssClassName_RTL = "e-rtl", cssClassName_BUTTON = "e-btn", cssClassName_PRIMARY = "e-primary", cssClassName_ICONBTN = "e-icon-btn", Button = function(_super) {
        function Button(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$2$1(Button, _super), Button.prototype.preRender = function() {}, 
        Button.prototype.render = function() {
            this.initialize();
        }, Button.prototype.initialize = function() {
            this.cssClass && addClass([ this.element ], this.cssClass.split(" ")), this.isPrimary && this.element.classList.add(cssClassName_PRIMARY), 
            this.content && (this.element.innerHTML = this.content), this.setIconCss(), this.enableRtl && this.element.classList.add(cssClassName_RTL), 
            this.disabled ? this.controlStatus(this.disabled) : this.wireEvents(), rippleEffect(this.element, {
                selector: "." + cssClassName_BUTTON
            });
        }, Button.prototype.controlStatus = function(disabled) {
            this.element.disabled = disabled;
        }, Button.prototype.setIconCss = function() {
            if (this.iconCss) {
                var span = createElement("span", {
                    className: "e-btn-icon " + this.iconCss
                });
                this.element.textContent.trim() ? span.classList.add("e-icon-" + this.iconPosition.toLowerCase()) : this.element.classList.add(cssClassName_ICONBTN);
                var node = this.element.childNodes[0];
                node && "Left" === this.iconPosition ? this.element.insertBefore(span, node) : this.element.appendChild(span);
            }
        }, Button.prototype.wireEvents = function() {
            this.isToggle && EventHandler.add(this.element, "click", this.btnClickHandler, this);
        }, Button.prototype.unWireEvents = function() {
            this.isToggle && EventHandler.remove(this.element, "click", this.btnClickHandler);
        }, Button.prototype.btnClickHandler = function() {
            this.element.classList.contains("e-active") ? this.element.classList.remove("e-active") : this.element.classList.add("e-active");
        }, Button.prototype.destroy = function() {
            var span, element = this.element;
            _super.prototype.destroy.call(this), removeClass([ this.element ], [ cssClassName_PRIMARY, cssClassName_RTL, cssClassName_ICONBTN, "e-success", "e-info", "e-danger", "e-warning", "e-flat", "e-outline", "e-small", "e-bigger", "e-active", "e-round" ]), 
            [ "e-ripple", "disabled" ].forEach(function(value) {
                element.removeAttribute(value);
            }), this.content && (element.innerHTML = element.innerHTML.replace(this.content, "")), 
            (span = element.querySelector("span.e-btn-icon")) && detach(span), this.unWireEvents();
        }, Button.prototype.getModuleName = function() {
            return "btn";
        }, Button.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, Button.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "isPrimary":
                    newProp.isPrimary ? this.element.classList.add(cssClassName_PRIMARY) : this.element.classList.remove(cssClassName_PRIMARY);
                    break;

                  case "disabled":
                    this.controlStatus(newProp.disabled), this.unWireEvents();
                    break;

                  case "iconCss":
                    var span = this.element.querySelector("span.e-btn-icon");
                    span ? (span.className = "e-btn-icon " + newProp.iconCss, this.element.textContent.trim() && ("Left" === this.iconPosition ? span.classList.add("e-icon-left") : span.classList.add("e-icon-right"))) : this.setIconCss();
                    break;

                  case "iconPosition":
                    (span = this.element.querySelector("span.e-btn-icon")) && detach(span), this.setIconCss();
                    break;

                  case "cssClass":
                    oldProp.cssClass && removeClass([ this.element ], oldProp.cssClass.split(" ")), 
                    addClass([ this.element ], newProp.cssClass.split(" "));
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? this.element.classList.add(cssClassName_RTL) : this.element.classList.remove(cssClassName_RTL);
                    break;

                  case "content":
                    getTextNode(this.element) || this.element.classList.remove(cssClassName_ICONBTN), 
                    this.element.innerHTML = newProp.content, this.setIconCss();
                    break;

                  case "isToggle":
                    newProp.isToggle ? EventHandler.add(this.element, "click", this.btnClickHandler, this) : (EventHandler.remove(this.element, "click", this.btnClickHandler), 
                    removeClass([ this.element ], [ "e-active" ]));
                }
            }
        }, __decorate$2$1([ Property("Left") ], Button.prototype, "iconPosition", void 0), 
        __decorate$2$1([ Property("") ], Button.prototype, "iconCss", void 0), __decorate$2$1([ Property(!1) ], Button.prototype, "disabled", void 0), 
        __decorate$2$1([ Property(!1) ], Button.prototype, "isPrimary", void 0), __decorate$2$1([ Property("") ], Button.prototype, "cssClass", void 0), 
        __decorate$2$1([ Property("") ], Button.prototype, "content", void 0), __decorate$2$1([ Property(!1) ], Button.prototype, "isToggle", void 0), 
        Button = __decorate$2$1([ NotifyPropertyChanges ], Button);
    }(Component), __extends$1$2 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$1$2 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, RIPPLE = "e-ripple-container", WRAPPER = "e-checkbox-wrapper", CheckBox = function(_super) {
        function CheckBox(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.isKeyPressed = !1, _this;
        }
        return __extends$1$2(CheckBox, _super), CheckBox.prototype.changeState = function(state) {
            var ariaState, rippleSpan, frameSpan = this.getWrapper().getElementsByClassName("e-frame")[0];
            isRippleEnabled && (rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0]), 
            "check" === state ? (frameSpan.classList.remove("e-stop"), frameSpan.classList.add("e-check"), 
            rippleSpan && (rippleSpan.classList.remove("e-ripple-stop"), rippleSpan.classList.add("e-ripple-check")), 
            ariaState = "true", this.element.checked = !0) : "uncheck" === state ? (removeClass([ frameSpan ], [ "e-check", "e-stop" ]), 
            rippleSpan && removeClass([ rippleSpan ], [ "e-ripple-check", "e-ripple-stop" ]), 
            ariaState = "false", this.element.checked = !1) : (frameSpan.classList.remove("e-check"), 
            frameSpan.classList.add("e-stop"), rippleSpan && (rippleSpan.classList.remove("e-ripple-check"), 
            rippleSpan.classList.add("e-ripple-stop")), ariaState = "mixed", this.element.indeterminate = !0), 
            this.getWrapper().setAttribute("aria-checked", ariaState);
        }, CheckBox.prototype.clickHandler = function(event) {
            this.focusOutHandler(), this.indeterminate ? (this.changeState(this.checked ? "check" : "uncheck"), 
            this.indeterminate = !1, this.element.indeterminate = !1) : this.checked ? (this.changeState("uncheck"), 
            this.checked = !1) : (this.changeState("check"), this.checked = !0);
            var changeEventArgs = {
                checked: this.element.checked,
                event: event
            };
            this.trigger("change", changeEventArgs);
        }, CheckBox.prototype.destroy = function() {
            var _this = this, wrapper = this.getWrapper();
            _super.prototype.destroy.call(this), this.disabled || this.unWireEvents(), "INPUT" === this.tagName ? (wrapper.parentNode.insertBefore(this.element, wrapper), 
            detach(wrapper), this.element.checked = !1, this.indeterminate && (this.element.indeterminate = !1), 
            [ "name", "value", "disabled" ].forEach(function(key) {
                _this.element.removeAttribute(key);
            })) : ([ "role", "aria-checked", "class" ].forEach(function(key) {
                wrapper.removeAttribute(key);
            }), this.element.id && wrapper.setAttribute("id", this.element.id), wrapper.innerHTML = "");
        }, CheckBox.prototype.focusHandler = function() {
            this.isKeyPressed && this.getWrapper().classList.add("e-focus");
        }, CheckBox.prototype.focusOutHandler = function() {
            this.getWrapper().classList.remove("e-focus");
        }, CheckBox.prototype.getModuleName = function() {
            return "checkbox";
        }, CheckBox.prototype.getPersistData = function() {
            return this.addOnPersist([ "checked", "indeterminate" ]);
        }, CheckBox.prototype.getWrapper = function() {
            return this.element.parentElement.parentElement;
        }, CheckBox.prototype.initialize = function() {
            this.name && this.element.setAttribute("name", this.name), this.value && this.element.setAttribute("value", this.value), 
            this.checked && this.changeState("check"), this.indeterminate && this.changeState(), 
            this.disabled && this.setDisabled();
        }, CheckBox.prototype.initWrapper = function() {
            var wrapper = this.element.parentElement;
            wrapper.classList.contains(WRAPPER) || (wrapper = createElement("div", {
                className: WRAPPER,
                attrs: {
                    role: "checkbox",
                    "aria-checked": "false"
                }
            }), this.element.parentNode.insertBefore(wrapper, this.element));
            var label = createElement("label", {
                attrs: {
                    for: this.element.id
                }
            }), frameSpan = createElement("span", {
                className: "e-icons e-frame"
            });
            if (this.enableRtl && wrapper.classList.add("e-rtl"), this.cssClass && addClass([ wrapper ], this.cssClass.split(" ")), 
            wrapper.appendChild(label), label.appendChild(this.element), label.appendChild(frameSpan), 
            isRippleEnabled) {
                var rippleSpan = createElement("span", {
                    className: RIPPLE
                });
                "Before" === this.labelPosition ? label.appendChild(rippleSpan) : label.insertBefore(rippleSpan, frameSpan), 
                rippleEffect(rippleSpan, {
                    duration: 400,
                    isCenterRipple: !0
                });
            }
            this.label && this.setText(this.label);
        }, CheckBox.prototype.keyDownHandler = function() {
            this.isKeyPressed = !0;
        }, CheckBox.prototype.labelMouseHandler = function(e) {
            rippleMouseHandler(e, this.getWrapper().getElementsByClassName(RIPPLE)[0]);
        }, CheckBox.prototype.mouseDownHandler = function() {
            this.isKeyPressed = !1;
        }, CheckBox.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var wrapper = this.getWrapper(), _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "checked":
                    this.indeterminate = !1, this.element.indeterminate = !1, this.changeState(newProp.checked ? "check" : "uncheck");
                    break;

                  case "indeterminate":
                    newProp.indeterminate ? this.changeState() : (this.element.indeterminate = !1, this.changeState(this.checked ? "check" : "uncheck"));
                    break;

                  case "disabled":
                    newProp.disabled ? (this.setDisabled(), this.unWireEvents()) : (this.element.disabled = !1, 
                    wrapper.classList.remove("e-checkbox-disabled"), wrapper.setAttribute("aria-disabled", "false"), 
                    this.wireEvents());
                    break;

                  case "cssClass":
                    oldProp.cssClass && wrapper.classList.remove(oldProp.cssClass), wrapper.classList.add(newProp.cssClass);
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? wrapper.classList.add("e-rtl") : wrapper.classList.remove("e-rtl");
                    break;

                  case "label":
                    this.setText(newProp.label);
                    break;

                  case "labelPosition":
                    var label = wrapper.getElementsByClassName("e-label")[0], labelWrap = wrapper.getElementsByTagName("label")[0];
                    detach(label), "After" === newProp.labelPosition ? labelWrap.appendChild(label) : labelWrap.insertBefore(label, wrapper.getElementsByClassName("e-frame")[0]);
                    break;

                  case "name":
                    this.element.setAttribute("name", newProp.name);
                    break;

                  case "value":
                    this.element.setAttribute("value", newProp.value);
                }
            }
        }, CheckBox.prototype.preRender = function() {
            var element = this.element;
            this.tagName = this.element.tagName, element = wrapperInitialize("EJS-CHECKBOX", "checkbox", element, WRAPPER), 
            this.element = element, "checkbox" !== this.element.getAttribute("type") && this.element.setAttribute("type", "checkbox"), 
            this.element.id || (this.element.id = getUniqueID("e-" + this.getModuleName()));
        }, CheckBox.prototype.render = function() {
            this.initWrapper(), this.initialize(), this.disabled || this.wireEvents();
        }, CheckBox.prototype.setDisabled = function() {
            var wrapper = this.getWrapper();
            this.element.disabled = !0, wrapper.classList.add("e-checkbox-disabled"), wrapper.setAttribute("aria-disabled", "true");
        }, CheckBox.prototype.setText = function(text) {
            var label = this.getWrapper().getElementsByClassName("e-label")[0];
            if (label) label.textContent = text; else {
                label = createElement("span", {
                    className: "e-label",
                    innerHTML: text
                });
                var labelWrap = this.getWrapper().getElementsByTagName("label")[0];
                "Before" === this.labelPosition ? labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName("e-frame")[0]) : labelWrap.appendChild(label);
            }
        }, CheckBox.prototype.unWireEvents = function() {
            var wrapper = this.getWrapper();
            EventHandler.remove(this.element, "click", this.clickHandler), EventHandler.remove(document, "keydown", this.keyDownHandler), 
            EventHandler.remove(wrapper, "mousedown", this.mouseDownHandler), EventHandler.remove(this.element, "focus", this.focusHandler), 
            EventHandler.remove(this.element, "focusout", this.focusOutHandler);
            var label = wrapper.getElementsByTagName("label")[0];
            EventHandler.remove(label, "mousedown", this.labelMouseHandler), EventHandler.remove(label, "mouseup", this.labelMouseHandler);
        }, CheckBox.prototype.wireEvents = function() {
            var wrapper = this.getWrapper();
            EventHandler.add(this.element, "click", this.clickHandler, this), EventHandler.add(document, "keydown", this.keyDownHandler, this), 
            EventHandler.add(wrapper, "mousedown", this.mouseDownHandler, this), EventHandler.add(this.element, "focus", this.focusHandler, this), 
            EventHandler.add(this.element, "focusout", this.focusOutHandler, this);
            var label = wrapper.getElementsByTagName("label")[0];
            EventHandler.add(label, "mousedown", this.labelMouseHandler, this), EventHandler.add(label, "mouseup", this.labelMouseHandler, this);
        }, __decorate$1$2([ Event() ], CheckBox.prototype, "change", void 0), __decorate$1$2([ Property(!1) ], CheckBox.prototype, "checked", void 0), 
        __decorate$1$2([ Property("") ], CheckBox.prototype, "cssClass", void 0), __decorate$1$2([ Property(!1) ], CheckBox.prototype, "disabled", void 0), 
        __decorate$1$2([ Property(!1) ], CheckBox.prototype, "indeterminate", void 0), __decorate$1$2([ Property("") ], CheckBox.prototype, "label", void 0), 
        __decorate$1$2([ Property("After") ], CheckBox.prototype, "labelPosition", void 0), 
        __decorate$1$2([ Property("") ], CheckBox.prototype, "name", void 0), __decorate$1$2([ Property("") ], CheckBox.prototype, "value", void 0), 
        CheckBox = __decorate$1$2([ NotifyPropertyChanges ], CheckBox);
    }(Component), __extends$2$2 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$2$2 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, RadioButton = function(_super) {
        function RadioButton(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.isKeyPressed = !1, _this;
        }
        return __extends$2$2(RadioButton, _super), RadioButton_1 = RadioButton, RadioButton.prototype.changeHandler = function(event) {
            this.checked = !0, this.dataBind();
            var changeEventArgs = {
                value: this.value,
                event: event
            };
            this.trigger("change", changeEventArgs);
        }, RadioButton.prototype.updateChange = function(state) {
            for (var input, name = this.element.getAttribute("name"), radioGrp = document.querySelectorAll('input.e-radio[name="' + name + '"]'), i = 0; i < radioGrp.length; i++) (input = radioGrp[i]) !== this.element && (getInstance(input, RadioButton_1).checked = !1);
        }, RadioButton.prototype.destroy = function() {
            var _this = this, radioWrap = this.element.parentElement;
            _super.prototype.destroy.call(this), this.disabled || this.unWireEvents(), "INPUT" === this.tagName ? (radioWrap.parentNode.insertBefore(this.element, radioWrap), 
            detach(radioWrap), this.element.checked = !1, [ "name", "value", "disabled" ].forEach(function(key) {
                _this.element.removeAttribute(key);
            })) : ([ "role", "aria-checked", "class" ].forEach(function(key) {
                radioWrap.removeAttribute(key);
            }), this.element.id && radioWrap.setAttribute("id", this.element.id), radioWrap.innerHTML = "");
        }, RadioButton.prototype.focusHandler = function() {
            this.isKeyPressed && this.getLabel().classList.add("e-focus");
        }, RadioButton.prototype.focusOutHandler = function() {
            this.getLabel().classList.remove("e-focus");
        }, RadioButton.prototype.getModuleName = function() {
            return "radio";
        }, RadioButton.prototype.getPersistData = function() {
            return this.addOnPersist([ "checked" ]);
        }, RadioButton.prototype.getLabel = function() {
            return this.element.nextElementSibling;
        }, RadioButton.prototype.initialize = function() {
            this.initWrapper(), this.name && this.element.setAttribute("name", this.name), this.value && this.element.setAttribute("value", this.value), 
            this.checked && (this.element.checked = !0), this.disabled && this.setDisabled();
        }, RadioButton.prototype.initWrapper = function() {
            var rippleSpan, wrapper = this.element.parentElement;
            wrapper.classList.contains("e-radio-wrapper") || (wrapper = createElement("div", {
                className: "e-radio-wrapper"
            }), this.element.parentNode.insertBefore(wrapper, this.element));
            var label = createElement("label", {
                attrs: {
                    for: this.element.id
                }
            });
            wrapper.appendChild(this.element), wrapper.appendChild(label), isRippleEnabled && (rippleSpan = createElement("span", {
                className: "e-ripple-container"
            }), label.appendChild(rippleSpan), rippleEffect(rippleSpan, {
                duration: 400,
                isCenterRipple: !0
            })), this.enableRtl && label.classList.add("e-rtl"), this.cssClass && addClass([ label ], this.cssClass.split(" ")), 
            this.label && this.setText(this.label);
        }, RadioButton.prototype.keyDownHandler = function() {
            this.isKeyPressed = !0;
        }, RadioButton.prototype.labelRippleHandler = function(e) {
            rippleMouseHandler(e, this.getLabel().getElementsByClassName("e-ripple-container")[0]);
        }, RadioButton.prototype.mouseDownHandler = function() {
            this.isKeyPressed = !1;
        }, RadioButton.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var label = this.getLabel(), _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "checked":
                    newProp.checked && this.updateChange(newProp.checked), this.element.checked = newProp.checked;
                    break;

                  case "disabled":
                    newProp.disabled ? (this.setDisabled(), this.unWireEvents()) : (this.element.disabled = !1, 
                    this.wireEvents());
                    break;

                  case "cssClass":
                    oldProp.cssClass && removeClass([ label ], oldProp.cssClass.split(" ")), addClass([ label ], newProp.cssClass.split(" "));
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? label.classList.add("e-rtl") : label.classList.remove("e-rtl");
                    break;

                  case "label":
                    this.setText(newProp.label);
                    break;

                  case "labelPosition":
                    "Before" === newProp.labelPosition ? label.classList.add("e-right") : label.classList.remove("e-right");
                    break;

                  case "name":
                    this.element.setAttribute("name", newProp.name);
                    break;

                  case "value":
                    this.element.setAttribute("value", newProp.value);
                }
            }
        }, RadioButton.prototype.preRender = function() {
            var element = this.element;
            this.tagName = this.element.tagName, element = wrapperInitialize("EJS-RADIOBUTTON", "radio", element, "e-radio-wrapper"), 
            this.element = element, "radio" !== this.element.getAttribute("type") && this.element.setAttribute("type", "radio"), 
            this.element.id || (this.element.id = getUniqueID("e-" + this.getModuleName()));
        }, RadioButton.prototype.render = function() {
            this.initialize(), this.disabled || this.wireEvents();
        }, RadioButton.prototype.setDisabled = function() {
            this.element.disabled = !0;
        }, RadioButton.prototype.setText = function(text) {
            var label = this.getLabel(), textLabel = label.getElementsByClassName("e-label")[0];
            textLabel ? textLabel.textContent = text : (textLabel = createElement("span", {
                className: "e-label",
                innerHTML: text
            }), label.appendChild(textLabel)), "Before" === this.labelPosition ? this.getLabel().classList.add("e-right") : this.getLabel().classList.remove("e-right");
        }, RadioButton.prototype.unWireEvents = function() {
            var label = this.getLabel();
            EventHandler.remove(this.element, "change", this.changeHandler), EventHandler.remove(document, "keydown", this.keyDownHandler), 
            EventHandler.remove(label, "mousedown", this.mouseDownHandler), EventHandler.remove(this.element, "focus", this.focusHandler), 
            EventHandler.remove(this.element, "focusout", this.focusOutHandler);
            var rippleLabel = label.getElementsByClassName("e-label")[0];
            rippleLabel && (EventHandler.remove(rippleLabel, "mousedown", this.labelRippleHandler), 
            EventHandler.remove(rippleLabel, "mouseup", this.labelRippleHandler));
        }, RadioButton.prototype.wireEvents = function() {
            var label = this.getLabel();
            EventHandler.add(this.element, "change", this.changeHandler, this), EventHandler.add(document, "keydown", this.keyDownHandler, this), 
            EventHandler.add(label, "mousedown", this.mouseDownHandler, this), EventHandler.add(this.element, "focus", this.focusHandler, this), 
            EventHandler.add(this.element, "focusout", this.focusOutHandler, this);
            var rippleLabel = label.getElementsByClassName("e-label")[0];
            rippleLabel && (EventHandler.add(rippleLabel, "mousedown", this.labelRippleHandler, this), 
            EventHandler.add(rippleLabel, "mouseup", this.labelRippleHandler, this));
        }, __decorate$2$2([ Event() ], RadioButton.prototype, "change", void 0), __decorate$2$2([ Property(!1) ], RadioButton.prototype, "checked", void 0), 
        __decorate$2$2([ Property("") ], RadioButton.prototype, "cssClass", void 0), __decorate$2$2([ Property(!1) ], RadioButton.prototype, "disabled", void 0), 
        __decorate$2$2([ Property("") ], RadioButton.prototype, "label", void 0), __decorate$2$2([ Property("After") ], RadioButton.prototype, "labelPosition", void 0), 
        __decorate$2$2([ Property("") ], RadioButton.prototype, "name", void 0), __decorate$2$2([ Property("") ], RadioButton.prototype, "value", void 0), 
        RadioButton = RadioButton_1 = __decorate$2$2([ NotifyPropertyChanges ], RadioButton);
        var RadioButton_1;
    }(Component), _buttons = Object.freeze({
        wrapperInitialize: wrapperInitialize,
        getTextNode: getTextNode,
        createCheckBox: createCheckBox,
        rippleMouseHandler: rippleMouseHandler,
        Button: Button,
        CheckBox: CheckBox,
        RadioButton: RadioButton
    }), __extends$3$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$3$1 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, cssClassName$__RTL = "e-rtl", cssClassName$__BUTTON = "e-btn", cssClassName$__PRIMARY = "e-primary", cssClassName$__ICONBTN = "e-icon-btn", Button$1 = function(_super) {
        function Button(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$3$1(Button, _super), Button.prototype.preRender = function() {}, 
        Button.prototype.render = function() {
            this.initialize();
        }, Button.prototype.initialize = function() {
            this.cssClass && addClass([ this.element ], this.cssClass.split(" ")), this.isPrimary && this.element.classList.add(cssClassName$__PRIMARY), 
            this.content && (this.element.innerHTML = this.content), this.setIconCss(), this.enableRtl && this.element.classList.add(cssClassName$__RTL), 
            this.disabled ? this.controlStatus(this.disabled) : this.wireEvents(), rippleEffect(this.element, {
                selector: "." + cssClassName$__BUTTON
            });
        }, Button.prototype.controlStatus = function(disabled) {
            this.element.disabled = disabled;
        }, Button.prototype.setIconCss = function() {
            if (this.iconCss) {
                var span = createElement("span", {
                    className: "e-btn-icon " + this.iconCss
                });
                this.element.textContent.trim() ? span.classList.add("e-icon-" + this.iconPosition.toLowerCase()) : this.element.classList.add(cssClassName$__ICONBTN);
                var node = this.element.childNodes[0];
                node && "Left" === this.iconPosition ? this.element.insertBefore(span, node) : this.element.appendChild(span);
            }
        }, Button.prototype.wireEvents = function() {
            this.isToggle && EventHandler.add(this.element, "click", this.btnClickHandler, this);
        }, Button.prototype.unWireEvents = function() {
            this.isToggle && EventHandler.remove(this.element, "click", this.btnClickHandler);
        }, Button.prototype.btnClickHandler = function() {
            this.element.classList.contains("e-active") ? this.element.classList.remove("e-active") : this.element.classList.add("e-active");
        }, Button.prototype.destroy = function() {
            var span, element = this.element;
            _super.prototype.destroy.call(this), removeClass([ this.element ], [ cssClassName$__PRIMARY, cssClassName$__RTL, cssClassName$__ICONBTN, "e-success", "e-info", "e-danger", "e-warning", "e-flat", "e-outline", "e-small", "e-bigger", "e-active", "e-round" ]), 
            [ "e-ripple", "disabled" ].forEach(function(value) {
                element.removeAttribute(value);
            }), this.content && (element.innerHTML = element.innerHTML.replace(this.content, "")), 
            (span = element.querySelector("span.e-btn-icon")) && detach(span), this.unWireEvents();
        }, Button.prototype.getModuleName = function() {
            return "btn";
        }, Button.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, Button.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "isPrimary":
                    newProp.isPrimary ? this.element.classList.add(cssClassName$__PRIMARY) : this.element.classList.remove(cssClassName$__PRIMARY);
                    break;

                  case "disabled":
                    this.controlStatus(newProp.disabled), this.unWireEvents();
                    break;

                  case "iconCss":
                    var span = this.element.querySelector("span.e-btn-icon");
                    span ? (span.className = "e-btn-icon " + newProp.iconCss, this.element.textContent.trim() && ("Left" === this.iconPosition ? span.classList.add("e-icon-left") : span.classList.add("e-icon-right"))) : this.setIconCss();
                    break;

                  case "iconPosition":
                    (span = this.element.querySelector("span.e-btn-icon")) && detach(span), this.setIconCss();
                    break;

                  case "cssClass":
                    oldProp.cssClass && removeClass([ this.element ], oldProp.cssClass.split(" ")), 
                    addClass([ this.element ], newProp.cssClass.split(" "));
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? this.element.classList.add(cssClassName$__RTL) : this.element.classList.remove(cssClassName$__RTL);
                    break;

                  case "content":
                    getTextNode$1(this.element) || this.element.classList.remove(cssClassName$__ICONBTN), 
                    this.element.innerHTML = newProp.content, this.setIconCss();
                    break;

                  case "isToggle":
                    newProp.isToggle ? EventHandler.add(this.element, "click", this.btnClickHandler, this) : (EventHandler.remove(this.element, "click", this.btnClickHandler), 
                    removeClass([ this.element ], [ "e-active" ]));
                }
            }
        }, __decorate$3$1([ Property("Left") ], Button.prototype, "iconPosition", void 0), 
        __decorate$3$1([ Property("") ], Button.prototype, "iconCss", void 0), __decorate$3$1([ Property(!1) ], Button.prototype, "disabled", void 0), 
        __decorate$3$1([ Property(!1) ], Button.prototype, "isPrimary", void 0), __decorate$3$1([ Property("") ], Button.prototype, "cssClass", void 0), 
        __decorate$3$1([ Property("") ], Button.prototype, "content", void 0), __decorate$3$1([ Property(!1) ], Button.prototype, "isToggle", void 0), 
        Button = __decorate$3$1([ NotifyPropertyChanges ], Button);
    }(Component), Query = function() {
        function Query(from) {
            return this.subQuery = null, this.isChild = !1, this.queries = [], this.key = "", 
            this.fKey = "", "string" == typeof from ? this.fromTable = from : from && from instanceof Array && (this.lookups = from), 
            this.expands = [], this.sortedColumns = [], this.groupedColumns = [], this.subQuery = null, 
            this.isChild = !1, this.params = [], this;
        }
        return Query.prototype.setKey = function(field) {
            return this.key = field, this;
        }, Query.prototype.using = function(dataManager) {
            return this.dataManager = dataManager, this;
        }, Query.prototype.execute = function(dataManager, done, fail, always) {
            return (dataManager = dataManager || this.dataManager) ? dataManager.executeQuery(this, done, fail, always) : DataUtil.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument');
        }, Query.prototype.executeLocal = function(dataManager) {
            return (dataManager = dataManager || this.dataManager) ? dataManager.executeLocal(this) : DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument');
        }, Query.prototype.clone = function() {
            var cloned = new Query();
            return cloned.queries = this.queries.slice(0), cloned.key = this.key, cloned.isChild = this.isChild, 
            cloned.dataManager = this.dataManager, cloned.fromTable = this.fromTable, cloned.params = this.params.slice(0), 
            cloned.expands = this.expands.slice(0), cloned.sortedColumns = this.sortedColumns.slice(0), 
            cloned.groupedColumns = this.groupedColumns.slice(0), cloned.subQuerySelector = this.subQuerySelector, 
            cloned.subQuery = this.subQuery, cloned.fKey = this.fKey, cloned.isCountRequired = this.isCountRequired, 
            cloned;
        }, Query.prototype.from = function(tableName) {
            return this.fromTable = tableName, this;
        }, Query.prototype.addParams = function(key, value) {
            return "function" == typeof value ? this.params.push({
                key: key,
                fn: value
            }) : this.params.push({
                key: key,
                value: value
            }), this;
        }, Query.prototype.expand = function(tables) {
            return this.expands = "string" == typeof tables ? [].slice.call([ tables ], 0) : tables.slice(0), 
            this;
        }, Query.prototype.where = function(fieldName, operator, value, ignoreCase, ignoreAccent) {
            operator = operator ? operator.toLowerCase() : null;
            var predicate = null;
            return "string" == typeof fieldName ? predicate = new Predicate$1(fieldName, operator, value, ignoreCase, ignoreAccent) : fieldName instanceof Predicate$1 && (predicate = fieldName), 
            this.queries.push({
                fn: "onWhere",
                e: predicate
            }), this;
        }, Query.prototype.search = function(searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {
            "string" == typeof fieldNames && (fieldNames = [ fieldNames ]), operator = operator || "contains";
            var comparer = DataUtil.fnOperators[operator];
            return this.queries.push({
                fn: "onSearch",
                e: {
                    fieldNames: fieldNames,
                    operator: operator,
                    searchKey: searchKey,
                    ignoreCase: ignoreCase,
                    ignoreAccent: ignoreAccent,
                    comparer: comparer
                }
            }), this;
        }, Query.prototype.sortBy = function(fieldName, comparer, isFromGroup) {
            var sorts, temp, order = "ascending";
            if ("string" == typeof fieldName && DataUtil.endsWith(fieldName.toLowerCase(), " desc") && (fieldName = fieldName.replace(/ desc$/i, ""), 
            comparer = "descending"), comparer && "string" != typeof comparer || (order = comparer ? comparer.toLowerCase() : "ascending", 
            comparer = DataUtil.fnSort(comparer)), isFromGroup) {
                sorts = Query.filterQueries(this.queries, "onSortBy");
                for (var i = 0; i < sorts.length; i++) if ("string" == typeof (temp = sorts[i].e.fieldName)) {
                    if (temp === fieldName) return this;
                } else if (temp instanceof Array) for (var j = 0; j < temp.length; j++) if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + " desc") return this;
            }
            return this.queries.push({
                fn: "onSortBy",
                e: {
                    fieldName: fieldName,
                    comparer: comparer,
                    direction: order
                }
            }), this;
        }, Query.prototype.sortByDesc = function(fieldName) {
            return this.sortBy(fieldName, "descending");
        }, Query.prototype.group = function(fieldName, fn, format) {
            return this.sortBy(fieldName, null, !0), this.queries.push({
                fn: "onGroup",
                e: {
                    fieldName: fieldName,
                    comparer: fn || null,
                    format: format || null
                }
            }), this;
        }, Query.prototype.page = function(pageIndex, pageSize) {
            return this.queries.push({
                fn: "onPage",
                e: {
                    pageIndex: pageIndex,
                    pageSize: pageSize
                }
            }), this;
        }, Query.prototype.range = function(start, end) {
            return this.queries.push({
                fn: "onRange",
                e: {
                    start: start,
                    end: end
                }
            }), this;
        }, Query.prototype.take = function(nos) {
            return this.queries.push({
                fn: "onTake",
                e: {
                    nos: nos
                }
            }), this;
        }, Query.prototype.skip = function(nos) {
            return this.queries.push({
                fn: "onSkip",
                e: {
                    nos: nos
                }
            }), this;
        }, Query.prototype.select = function(fieldNames) {
            return "string" == typeof fieldNames && (fieldNames = [].slice.call([ fieldNames ], 0)), 
            this.queries.push({
                fn: "onSelect",
                e: {
                    fieldNames: fieldNames
                }
            }), this;
        }, Query.prototype.hierarchy = function(query, selectorFn) {
            return this.subQuerySelector = selectorFn, this.subQuery = query, this;
        }, Query.prototype.foreignKey = function(key) {
            return this.fKey = key, this;
        }, Query.prototype.requiresCount = function() {
            return this.isCountRequired = !0, this;
        }, Query.prototype.aggregate = function(type, field) {
            return this.queries.push({
                fn: "onAggregates",
                e: {
                    field: field,
                    type: type
                }
            }), this;
        }, Query.filterQueries = function(queries, name) {
            return queries.filter(function(q) {
                return q.fn === name;
            });
        }, Query.filterQueryLists = function(queries, singles) {
            for (var filtered = queries.filter(function(q) {
                return -1 !== singles.indexOf(q.fn);
            }), res = {}, i = 0; i < filtered.length; i++) res[filtered[i].fn] || (res[filtered[i].fn] = filtered[i].e);
            return res;
        }, Query;
    }(), Predicate$1 = function() {
        function Predicate(field, operator, value, ignoreCase, ignoreAccent) {
            return void 0 === ignoreCase && (ignoreCase = !1), this.ignoreAccent = !1, this.isComplex = !1, 
            "string" == typeof field ? (this.field = field, this.operator = operator.toLowerCase(), 
            this.value = value, this.ignoreCase = ignoreCase, this.ignoreAccent = ignoreAccent, 
            this.isComplex = !1, this.comparer = DataUtil.fnOperators.processOperator(this.operator)) : (field instanceof Predicate && value instanceof Predicate || value instanceof Array) && (this.isComplex = !0, 
            this.condition = operator.toLowerCase(), this.predicates = [ field ], value instanceof Array ? [].push.apply(this.predicates, value) : this.predicates.push(value)), 
            this;
        }
        return Predicate.and = function() {
            for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
            return Predicate.combinePredicates([].slice.call(args, 0), "and");
        }, Predicate.prototype.and = function(field, operator, value, ignoreCase, ignoreAccent) {
            return Predicate.combine(this, field, operator, value, "and", ignoreCase, ignoreAccent);
        }, Predicate.or = function() {
            for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
            return Predicate.combinePredicates([].slice.call(args, 0), "or");
        }, Predicate.prototype.or = function(field, operator, value, ignoreCase, ignoreAccent) {
            return Predicate.combine(this, field, operator, value, "or", ignoreCase, ignoreAccent);
        }, Predicate.fromJson = function(json) {
            if (json instanceof Array) {
                for (var res = [], i = 0, len = json.length; i < len; i++) res.push(this.fromJSONData(json[i]));
                return res;
            }
            var pred = json;
            return this.fromJSONData(pred);
        }, Predicate.prototype.validate = function(record) {
            var isAnd, ret, predicate = this.predicates ? this.predicates : [];
            if (!this.isComplex && this.comparer) return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);
            isAnd = "and" === this.condition;
            for (var i = 0; i < predicate.length; i++) if (ret = predicate[i].validate(record), 
            isAnd) {
                if (!ret) return !1;
            } else if (ret) return !0;
            return isAnd;
        }, Predicate.prototype.toJson = function() {
            var predicates, p;
            if (this.isComplex) {
                predicates = [], p = this.predicates;
                for (var i = 0; i < p.length; i++) predicates.push(p[i].toJson());
            }
            return {
                isComplex: this.isComplex,
                field: this.field,
                operator: this.operator,
                value: this.value,
                ignoreCase: this.ignoreCase,
                ignoreAccent: this.ignoreAccent,
                condition: this.condition,
                predicates: predicates
            };
        }, Predicate.combinePredicates = function(predicates, operator) {
            if (1 === predicates.length) {
                if (!(predicates[0] instanceof Array)) return predicates[0];
                predicates = predicates[0];
            }
            return new Predicate(predicates[0], operator, predicates.slice(1));
        }, Predicate.combine = function(pred, field, operator, value, condition, ignoreCase, ignoreAccent) {
            return field instanceof Predicate ? Predicate[condition](pred, field) : "string" == typeof field ? Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent)) : DataUtil.throwError("Predicate - " + condition + " : invalid arguments");
        }, Predicate.fromJSONData = function(json) {
            for (var preds = json.predicates || [], len = preds.length, predicates = [], i = 0; i < len; i++) predicates.push(this.fromJSONData(preds[i]));
            return json.isComplex ? new Predicate(predicates[0], json.condition, predicates.slice(1)) : new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);
        }, Predicate;
    }(), consts = {
        GroupGuid: "{271bbba0-1ee7}"
    }, DataUtil = function() {
        function DataUtil() {}
        return DataUtil.getValue = function(value, inst) {
            return "function" == typeof value ? value.call(inst || {}) : value;
        }, DataUtil.endsWith = function(input, substr) {
            return input.slice(-substr.length) === substr;
        }, DataUtil.startsWith = function(input, start) {
            return input.slice(0, start.length) === start;
        }, DataUtil.fnSort = function(order) {
            return "ascending" === (order = order ? DataUtil.toLowerCase(order) : "ascending") ? this.fnAscending : this.fnDescending;
        }, DataUtil.fnAscending = function(x, y) {
            return null === y || void 0 === y ? -1 : "string" == typeof x ? x.localeCompare(y) : null === x || void 0 === x ? 1 : x - y;
        }, DataUtil.fnDescending = function(x, y) {
            return null === y || void 0 === y ? 1 : "string" == typeof x ? -1 * x.localeCompare(y) : null === x || void 0 === x ? -1 : y - x;
        }, DataUtil.extractFields = function(obj, fields) {
            for (var newObj = {}, i = 0; i < fields.length; i++) newObj = this.setValue(fields[i], this.getObject(fields[i], obj), newObj);
            return newObj;
        }, DataUtil.select = function(jsonArray, fields) {
            for (var newData = [], i = 0; i < jsonArray.length; i++) newData.push(this.extractFields(jsonArray[i], fields));
            return newData;
        }, DataUtil.group = function(jsonArray, field, aggregates, level, groupDs, format) {
            level = level || 1;
            var jsonData = jsonArray;
            if (jsonData.GroupGuid === consts.GroupGuid) {
                for (var _loop_1 = function(j) {
                    if (isNullOrUndefined(groupDs)) jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, null, format), 
                    jsonData[j].count = jsonData[j].items.length; else {
                        var indx = -1, temp = groupDs.filter(function(e) {
                            return e.key === jsonData[j].key;
                        });
                        indx = groupDs.indexOf(temp[0]), jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, groupDs[indx].items, format), 
                        jsonData[j].count = groupDs[indx].count;
                    }
                }, this_1 = this, j = 0; j < jsonData.length; j++) _loop_1(j);
                return jsonData.childLevels += 1, jsonData;
            }
            var grouped = {}, groupedArray = [];
            groupedArray.GroupGuid = consts.GroupGuid, groupedArray.level = level, groupedArray.childLevels = 0, 
            groupedArray.records = jsonData;
            for (var _loop_2 = function(i) {
                var val = this_2.getVal(jsonData, i, field);
                if (isNullOrUndefined(format) || (val = format(val, field)), !grouped[val] && (grouped[val] = {
                    key: val,
                    count: 0,
                    items: [],
                    aggregates: {},
                    field: field
                }, groupedArray.push(grouped[val]), !isNullOrUndefined(groupDs))) {
                    var tempObj = groupDs.filter(function(e) {
                        return e.key === grouped[val].key;
                    });
                    grouped[val].count = tempObj[0].count;
                }
                grouped[val].count = isNullOrUndefined(groupDs) ? grouped[val].count += 1 : grouped[val].count, 
                grouped[val].items.push(jsonData[i]);
            }, this_2 = this, i = 0; i < jsonData.length; i++) _loop_2(i);
            if (aggregates && aggregates.length) {
                var _loop_3 = function(i) {
                    for (var res = {}, fn = void 0, aggs = aggregates, j = 0; j < aggregates.length; j++) if (fn = DataUtil.aggregates[aggregates[j].type], 
                    isNullOrUndefined(groupDs)) fn && (res[aggs[j].field + " - " + aggs[j].type] = fn(groupedArray[i].items, aggs[j].field)); else {
                        var temp = groupDs.filter(function(e) {
                            return e.key === groupedArray[i].key;
                        });
                        fn && (res[aggs[j].field + " - " + aggs[j].type] = fn(temp[0].items, aggs[j].field));
                    }
                    groupedArray[i].aggregates = res;
                };
                for (i = 0; i < groupedArray.length; i++) _loop_3(i);
            }
            return jsonData.length && groupedArray || jsonData;
        }, DataUtil.buildHierarchy = function(fKey, from, source, lookup, pKey) {
            var i, grp = {};
            for (lookup.result && (lookup = lookup.result), lookup.GroupGuid && this.throwError("DataManager: Do not have support Grouping in hierarchy"), 
            i = 0; i < lookup.length; i++) {
                (grp[fKeyData = this.getObject(fKey, lookup[i])] || (grp[fKeyData] = [])).push(lookup[i]);
            }
            for (i = 0; i < source.length; i++) {
                var fKeyData = this.getObject(pKey || fKey, source[i]);
                source[i][from] = grp[fKeyData];
            }
        }, DataUtil.getFieldList = function(obj, fields, prefix) {
            if (void 0 === prefix && (prefix = ""), void 0 === fields || null === fields) return this.getFieldList(obj, [], prefix);
            for (var copyObj = obj, _i = 0, keys_1 = Object.keys(obj); _i < keys_1.length; _i++) {
                var prop = keys_1[_i];
                "object" != typeof copyObj[prop] || copyObj[prop] instanceof Array ? fields.push(prefix + prop) : this.getFieldList(copyObj[prop], fields, prefix + prop + ".");
            }
            return fields;
        }, DataUtil.getObject = function(nameSpace, from) {
            if (!nameSpace) return from;
            if (-1 === nameSpace.indexOf(".")) return from[nameSpace];
            for (var value = from, splits = nameSpace.split("."), i = 0; i < splits.length && null != value; i++) value = value[splits[i]];
            return value;
        }, DataUtil.setValue = function(nameSpace, value, obj) {
            var i, key, keys = nameSpace.toString().split("."), start = obj || {}, fromObj = start, length = keys.length;
            for (i = 0; i < length; i++) key = keys[i], i + 1 === length ? fromObj[key] = void 0 === value ? void 0 : value : isNullOrUndefined(fromObj[key]) && (fromObj[key] = {}), 
            fromObj = fromObj[key];
            return start;
        }, DataUtil.sort = function(ds, field, comparer) {
            if (ds.length <= 1) return ds;
            var middle = parseInt((ds.length / 2).toString(), 10), left = ds.slice(0, middle), right = ds.slice(middle);
            return left = this.sort(left, field, comparer), right = this.sort(right, field, comparer), 
            this.merge(left, right, field, comparer);
        }, DataUtil.ignoreDiacritics = function(value) {
            if ("string" != typeof value) return value;
            return value.split("").map(function(temp) {
                return temp in DataUtil.diacritics ? DataUtil.diacritics[temp] : temp;
            }).join("");
        }, DataUtil.merge = function(left, right, fieldName, comparer) {
            for (var current, result = []; left.length > 0 || right.length > 0; ) current = left.length > 0 && right.length > 0 ? comparer ? comparer(this.getVal(left, 0, fieldName), this.getVal(right, 0, fieldName)) <= 0 ? left : right : left[0][fieldName] < left[0][fieldName] ? left : right : left.length > 0 ? left : right, 
            result.push(current.shift());
            return result;
        }, DataUtil.getVal = function(array, index, field) {
            return field ? this.getObject(field, array[index]) : array[index];
        }, DataUtil.toLowerCase = function(val) {
            return val ? "string" == typeof val ? val.toLowerCase() : val.toString() : 0 === val || !1 === val ? val.toString() : "";
        }, DataUtil.callAdaptorFunction = function(adaptor, fnName, param1, param2) {
            if (fnName in adaptor) {
                var res = adaptor[fnName](param1, param2);
                this.fnOperators.isnull(res) || (param1 = res);
            }
            return param1;
        }, DataUtil.isPlainObject = function(obj) {
            return !!obj && obj.constructor === Object;
        }, DataUtil.isCors = function() {
            var xhr = null;
            try {
                xhr = new window.XMLHttpRequest();
            } catch (e) {}
            return !!xhr && "withCredentials" in xhr;
        }, DataUtil.getGuid = function(prefix) {
            var rand;
            return (prefix || "") + "00000000-0000-4000-0000-000000000000".replace(/0/g, function(val, i) {
                if ("crypto" in window && "getRandomValues" in crypto) {
                    var arr = new Uint8Array(1);
                    window.crypto.getRandomValues(arr), rand = arr[0] % 16 | 0;
                } else rand = 16 * Math.random() | 0;
                return "0123456789abcdef"[19 === i ? 3 & rand | 8 : rand];
            });
        }, DataUtil.isNull = function(val) {
            return void 0 === val || null === val;
        }, DataUtil.getItemFromComparer = function(array, field, comparer) {
            var keyVal, current, key, i = 0, castRequired = "string" == typeof DataUtil.getVal(array, 0, field);
            if (array.length) for (;isNullOrUndefined(keyVal) && i < array.length; ) keyVal = DataUtil.getVal(array, i, field), 
            key = array[i++];
            for (;i < array.length; i++) isNullOrUndefined(current = DataUtil.getVal(array, i, field)) || (castRequired && (keyVal = +keyVal, 
            current = +current), comparer(keyVal, current) > 0 && (keyVal = current, key = array[i]));
            return key;
        }, DataUtil.distinct = function(json, fieldName, requiresCompleteRecord) {
            requiresCompleteRecord = !isNullOrUndefined(requiresCompleteRecord) && requiresCompleteRecord;
            var val, result = [], tmp = {};
            return json.forEach(function(data, index) {
                (val = DataUtil.getVal(json, index, fieldName)) in tmp || (result.push(requiresCompleteRecord ? json[index] : val), 
                tmp[val] = 1);
            }), result;
        }, DataUtil.serverTimezoneOffset = null, DataUtil.throwError = function(error) {
            try {
                throw new Error(error);
            } catch (e) {
                throw e.message + "\n" + e.stack;
            }
        }, DataUtil.aggregates = {
            sum: function(ds, field) {
                for (var val, result = 0, castRequired = "number" != typeof DataUtil.getVal(ds, 0, field), i = 0; i < ds.length; i++) val = DataUtil.getVal(ds, i, field), 
                isNaN(val) || null === val || (castRequired && (val = +val), result += val);
                return result;
            },
            average: function(ds, field) {
                return DataUtil.aggregates.sum(ds, field) / ds.length;
            },
            min: function(ds, field) {
                var result, comparer;
                return "function" == typeof field && (comparer = field, field = null), result = DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnAscending)), 
                isNullOrUndefined(result) ? null : result;
            },
            max: function(ds, field) {
                var result, comparer;
                return "function" == typeof field && (comparer = field, field = null), result = DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnDescending)), 
                isNullOrUndefined(result) ? null : result;
            },
            truecount: function(ds, field) {
                return new DataManager(ds).executeLocal(new Query().where(field, "equal", !0, !0)).length;
            },
            falsecount: function(ds, field) {
                return new DataManager(ds).executeLocal(new Query().where(field, "equal", !1, !0)).length;
            },
            count: function(ds, field) {
                return ds.length;
            }
        }, DataUtil.operatorSymbols = {
            "<": "lessthan",
            ">": "greaterthan",
            "<=": "lessthanorequal",
            ">=": "greaterthanorequal",
            "==": "equal",
            "!=": "notequal",
            "*=": "contains",
            "$=": "endswith",
            "^=": "startswith"
        }, DataUtil.odBiOperator = {
            "<": " lt ",
            ">": " gt ",
            "<=": " le ",
            ">=": " ge ",
            "==": " eq ",
            "!=": " ne ",
            lessthan: " lt ",
            lessthanorequal: " le ",
            greaterthan: " gt ",
            greaterthanorequal: " ge ",
            equal: " eq ",
            notequal: " ne "
        }, DataUtil.odUniOperator = {
            "$=": "endswith",
            "^=": "startswith",
            "*=": "substringof",
            endswith: "endswith",
            startswith: "startswith",
            contains: "substringof"
        }, DataUtil.odv4UniOperator = {
            "$=": "endswith",
            "^=": "startswith",
            "*=": "contains",
            endswith: "endswith",
            startswith: "startswith",
            contains: "contains"
        }, DataUtil.diacritics = {
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "AA",
            "": "AE",
            "": "AE",
            "": "AE",
            "": "AO",
            "": "AU",
            "": "AV",
            "": "AV",
            "": "AY",
            "": "B",
            "": "B",
            "": "B",
            "": "B",
            "": "B",
            "": "B",
            "": "B",
            "": "B",
            "": "C",
            "": "C",
            "": "C",
            "": "C",
            "": "C",
            "": "C",
            "": "C",
            "": "C",
            "": "C",
            "": "C",
            "": "C",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "D",
            "": "DZ",
            "": "DZ",
            "": "Dz",
            "": "Dz",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "F",
            "": "F",
            "": "F",
            "": "F",
            "": "F",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "G",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "H",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "J",
            "": "J",
            "": "J",
            "": "J",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "K",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "L",
            "": "LJ",
            "": "Lj",
            "": "M",
            "": "M",
            "": "M",
            "": "M",
            "": "M",
            "": "M",
            "": "M",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "N",
            "": "NJ",
            "": "Nj",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "OI",
            "": "OO",
            "": "OU",
            "": "P",
            "": "P",
            "": "P",
            "": "P",
            "": "P",
            "": "P",
            "": "P",
            "": "P",
            "": "P",
            "": "Q",
            "": "Q",
            "": "Q",
            "": "Q",
            "": "Q",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "R",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "S",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "T",
            "": "TZ",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "V",
            "": "V",
            "": "V",
            "": "V",
            "": "V",
            "": "V",
            "": "V",
            "": "VY",
            "": "W",
            "": "W",
            "": "W",
            "": "W",
            "": "W",
            "": "W",
            "": "W",
            "": "W",
            "": "W",
            "": "X",
            "": "X",
            "": "X",
            "": "X",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Y",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "Z",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "aa",
            "": "ae",
            "": "ae",
            "": "ae",
            "": "ao",
            "": "au",
            "": "av",
            "": "av",
            "": "ay",
            "": "b",
            "": "b",
            "": "b",
            "": "b",
            "": "b",
            "": "b",
            "": "b",
            "": "b",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "c",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "d",
            "": "dz",
            "": "dz",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "f",
            "": "f",
            "": "f",
            "": "f",
            "": "f",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "g",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "h",
            "": "hv",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "j",
            "": "j",
            "": "j",
            "": "j",
            "": "j",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "k",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "l",
            "": "lj",
            "": "m",
            "": "m",
            "": "m",
            "": "m",
            "": "m",
            "": "m",
            "": "m",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "n",
            "": "nj",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "oi",
            "": "ou",
            "": "oo",
            "": "p",
            "": "p",
            "": "p",
            "": "p",
            "": "p",
            "": "p",
            "": "p",
            "": "p",
            "": "p",
            "": "q",
            "": "q",
            "": "q",
            "": "q",
            "": "q",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "r",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "s",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "t",
            "": "tz",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "v",
            "": "v",
            "": "v",
            "": "v",
            "": "v",
            "": "v",
            "": "v",
            "": "vy",
            "": "w",
            "": "w",
            "": "w",
            "": "w",
            "": "w",
            "": "w",
            "": "w",
            "": "w",
            "": "w",
            "": "w",
            "": "x",
            "": "x",
            "": "x",
            "": "x",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "y",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "z",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": "",
            "": ""
        }, DataUtil.fnOperators = {
            equal: function(actual, expected, ignoreCase, ignoreAccent) {
                return ignoreAccent && (actual = DataUtil.ignoreDiacritics(actual), expected = DataUtil.ignoreDiacritics(expected)), 
                ignoreCase ? DataUtil.toLowerCase(actual) === DataUtil.toLowerCase(expected) : actual === expected;
            },
            notequal: function(actual, expected, ignoreCase, ignoreAccent) {
                return ignoreAccent && (actual = DataUtil.ignoreDiacritics(actual), expected = DataUtil.ignoreDiacritics(expected)), 
                !DataUtil.fnOperators.equal(actual, expected, ignoreCase);
            },
            lessthan: function(actual, expected, ignoreCase) {
                return ignoreCase ? DataUtil.toLowerCase(actual) < DataUtil.toLowerCase(expected) : actual < expected;
            },
            greaterthan: function(actual, expected, ignoreCase) {
                return ignoreCase ? DataUtil.toLowerCase(actual) > DataUtil.toLowerCase(expected) : actual > expected;
            },
            lessthanorequal: function(actual, expected, ignoreCase) {
                return ignoreCase ? DataUtil.toLowerCase(actual) <= DataUtil.toLowerCase(expected) : actual <= expected;
            },
            greaterthanorequal: function(actual, expected, ignoreCase) {
                return ignoreCase ? DataUtil.toLowerCase(actual) >= DataUtil.toLowerCase(expected) : actual >= expected;
            },
            contains: function(actual, expected, ignoreCase, ignoreAccent) {
                return ignoreAccent && (actual = DataUtil.ignoreDiacritics(actual), expected = DataUtil.ignoreDiacritics(expected)), 
                ignoreCase ? !isNullOrUndefined(actual) && !isNullOrUndefined(expected) && -1 !== DataUtil.toLowerCase(actual).indexOf(DataUtil.toLowerCase(expected)) : !isNullOrUndefined(actual) && !isNullOrUndefined(expected) && -1 !== actual.toString().indexOf(expected);
            },
            notnull: function(actual) {
                return null !== actual;
            },
            isnull: function(actual) {
                return null === actual;
            },
            startswith: function(actual, expected, ignoreCase, ignoreAccent) {
                return ignoreAccent && (actual = DataUtil.ignoreDiacritics(actual), expected = DataUtil.ignoreDiacritics(expected)), 
                ignoreCase ? actual && expected && DataUtil.startsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected)) : actual && expected && DataUtil.startsWith(actual, expected);
            },
            endswith: function(actual, expected, ignoreCase, ignoreAccent) {
                return ignoreAccent && (actual = DataUtil.ignoreDiacritics(actual), expected = DataUtil.ignoreDiacritics(expected)), 
                ignoreCase ? actual && expected && DataUtil.endsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected)) : actual && expected && DataUtil.endsWith(actual, expected);
            },
            processSymbols: function(operator) {
                var fnName = DataUtil.operatorSymbols[operator];
                if (fnName) {
                    return DataUtil.fnOperators[fnName];
                }
                return DataUtil.throwError("Query - Process Operator : Invalid operator");
            },
            processOperator: function(operator) {
                var fn = DataUtil.fnOperators[operator];
                return fn || DataUtil.fnOperators.processSymbols(operator);
            }
        }, DataUtil.parse = {
            parseJson: function(jsonText) {
                return "string" == typeof jsonText ? jsonText = JSON.parse(jsonText, DataUtil.parse.jsonReviver) : jsonText instanceof Array ? DataUtil.parse.iterateAndReviveArray(jsonText) : "object" == typeof jsonText && DataUtil.parse.iterateAndReviveJson(jsonText), 
                jsonText;
            },
            iterateAndReviveArray: function(array) {
                for (var i = 0; i < array.length; i++) "object" == typeof array[i] ? DataUtil.parse.iterateAndReviveJson(array[i]) : "string" != typeof array[i] || /^[\s]*\[|^[\s]*\{|\"/g.test(array[i]) ? array[i] = DataUtil.parse.parseJson(array[i]) : array[i] = DataUtil.parse.jsonReviver("", array[i]);
            },
            iterateAndReviveJson: function(json) {
                for (var value, _i = 0, keys_2 = Object.keys(json); _i < keys_2.length; _i++) {
                    var prop = keys_2[_i];
                    DataUtil.startsWith(prop, "__") || ("object" == typeof (value = json[prop]) ? value instanceof Array ? DataUtil.parse.iterateAndReviveArray(value) : value && DataUtil.parse.iterateAndReviveJson(value) : json[prop] = DataUtil.parse.jsonReviver(json[prop], value));
                }
            },
            jsonReviver: function(field, value) {
                var dupValue = value;
                if ("string" == typeof value) {
                    var ms = /^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(value);
                    if (ms) return DataUtil.dateParse.toTimeZone(new Date(parseInt(ms[1], 10)), DataUtil.serverTimezoneOffset, !0);
                    if (/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(value)) {
                        var arr = dupValue.split(/[^0-9]/);
                        value = DataUtil.dateParse.toTimeZone(new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10)), DataUtil.serverTimezoneOffset, !0);
                    }
                }
                return value;
            },
            isJson: function(jsonData) {
                return "string" == typeof jsonData[0] ? jsonData : DataUtil.parse.parseJson(jsonData);
            },
            isGuid: function(value) {
                return null != /[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(value);
            },
            replacer: function(value, stringify) {
                return DataUtil.isPlainObject(value) ? DataUtil.parse.jsonReplacer(value, stringify) : value instanceof Array ? DataUtil.parse.arrayReplacer(value) : value instanceof Date ? DataUtil.parse.jsonReplacer({
                    val: value
                }, stringify).val : value;
            },
            jsonReplacer: function(val, stringify) {
                for (var value, _i = 0, keys_3 = Object.keys(val); _i < keys_3.length; _i++) {
                    var prop = keys_3[_i];
                    if ((value = val[prop]) instanceof Date) {
                        var d = value;
                        val[prop] = DataUtil.dateParse.toTimeZone(DataUtil.dateParse.addSelfOffset(d), DataUtil.serverTimezoneOffset).toJSON();
                    }
                }
                return val;
            },
            arrayReplacer: function(val) {
                for (var i = 0; i < val.length; i++) DataUtil.isPlainObject(val[i]) ? val[i] = DataUtil.parse.jsonReplacer(val[i]) : val[i] instanceof Date && (val[i] = DataUtil.parse.jsonReplacer({
                    date: val[i]
                }).date);
                return val;
            }
        }, DataUtil.dateParse = {
            addSelfOffset: function(input) {
                return new Date(+input - 6e4 * input.getTimezoneOffset());
            },
            toUTC: function(input) {
                return new Date(+input + 6e4 * input.getTimezoneOffset());
            },
            toTimeZone: function(input, offset, utc) {
                if (null === offset) return input;
                var unix = utc ? DataUtil.dateParse.toUTC(input) : input;
                return new Date(+unix - 36e5 * offset);
            }
        }, DataUtil;
    }(), __extends$5$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), Adaptor = function() {
        function Adaptor(ds) {
            this.options = {
                from: "table",
                requestType: "json",
                sortBy: "sorted",
                select: "select",
                skip: "skip",
                group: "group",
                take: "take",
                search: "search",
                count: "requiresCounts",
                where: "where",
                aggregates: "aggregates"
            }, this.type = Adaptor, this.dataSource = ds, this.pvt = {};
        }
        return Adaptor.prototype.processResponse = function(data, ds, query, xhr) {
            return data;
        }, Adaptor;
    }(), JsonAdaptor = function(_super) {
        function JsonAdaptor() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$5$1(JsonAdaptor, _super), JsonAdaptor.prototype.processQuery = function(dataManager, query) {
            for (var ret, key, result = dataManager.dataSource.json.slice(0), count = result.length, countFlg = !0, agg = {}, i = 0; i < query.queries.length; i++) ret = this[(key = query.queries[i]).fn].call(this, result, key.e, query), 
            "onAggregates" === key.fn ? agg[key.e.field + " - " + key.e.type] = ret : result = void 0 !== ret ? ret : result, 
            "onPage" !== key.fn && "onSkip" !== key.fn && "onTake" !== key.fn && "onRange" !== key.fn || (countFlg = !1), 
            countFlg && (count = result.length);
            return query.isCountRequired && (result = {
                result: result,
                count: count,
                aggregates: agg
            }), result;
        }, JsonAdaptor.prototype.batchRequest = function(dm, changes, e) {
            var i;
            for (i = 0; i < changes.addedRecords.length; i++) this.insert(dm, changes.addedRecords[i]);
            for (i = 0; i < changes.changedRecords.length; i++) this.update(dm, e.key, changes.changedRecords[i]);
            for (i = 0; i < changes.deletedRecords.length; i++) this.remove(dm, e.key, changes.deletedRecords[i]);
            return changes;
        }, JsonAdaptor.prototype.onWhere = function(ds, e) {
            return ds && ds.length ? ds.filter(function(obj) {
                if (e) return e.validate(obj);
            }) : ds;
        }, JsonAdaptor.prototype.onAggregates = function(ds, e) {
            var fn = DataUtil.aggregates[e.type];
            return ds && fn && 0 !== ds.length ? fn(ds, e.field) : null;
        }, JsonAdaptor.prototype.onSearch = function(ds, e) {
            return ds && ds.length ? (0 === e.fieldNames.length && DataUtil.getFieldList(ds[0], e.fieldNames), 
            ds.filter(function(obj) {
                for (var j = 0; j < e.fieldNames.length; j++) if (e.comparer.call(obj, DataUtil.getObject(e.fieldNames[j], obj), e.searchKey, e.ignoreCase)) return !0;
                return !1;
            })) : ds;
        }, JsonAdaptor.prototype.onSortBy = function(ds, e, query) {
            if (!ds || !ds.length) return ds;
            var fnCompare, field = DataUtil.getValue(e.fieldName, query);
            if (!field) return ds.sort(e.comparer);
            if (field instanceof Array) {
                for (var i = (field = field.slice(0)).length - 1; i >= 0; i--) field[i] && (fnCompare = e.comparer, 
                DataUtil.endsWith(field[i], " desc") && (fnCompare = DataUtil.fnSort("descending"), 
                field[i] = field[i].replace(" desc", "")), ds = DataUtil.sort(ds, field[i], fnCompare));
                return ds;
            }
            return DataUtil.sort(ds, field, e.comparer);
        }, JsonAdaptor.prototype.onGroup = function(ds, e, query) {
            if (!ds || !ds.length) return ds;
            var aggQuery = Query.filterQueries(query.queries, "onAggregates"), agg = [];
            if (aggQuery.length) for (var tmp = void 0, i = 0; i < aggQuery.length; i++) tmp = aggQuery[i].e, 
            agg.push({
                type: tmp.type,
                field: DataUtil.getValue(tmp.field, query)
            });
            return DataUtil.group(ds, DataUtil.getValue(e.fieldName, query), agg, null, null, e.comparer);
        }, JsonAdaptor.prototype.onPage = function(ds, e, query) {
            var size = DataUtil.getValue(e.pageSize, query), start = (DataUtil.getValue(e.pageIndex, query) - 1) * size, end = start + size;
            return ds && ds.length ? ds.slice(start, end) : ds;
        }, JsonAdaptor.prototype.onRange = function(ds, e) {
            return ds && ds.length ? ds.slice(DataUtil.getValue(e.start), DataUtil.getValue(e.end)) : ds;
        }, JsonAdaptor.prototype.onTake = function(ds, e) {
            return ds && ds.length ? ds.slice(0, DataUtil.getValue(e.nos)) : ds;
        }, JsonAdaptor.prototype.onSkip = function(ds, e) {
            return ds && ds.length ? ds.slice(DataUtil.getValue(e.nos)) : ds;
        }, JsonAdaptor.prototype.onSelect = function(ds, e) {
            return ds && ds.length ? DataUtil.select(ds, DataUtil.getValue(e.fieldNames)) : ds;
        }, JsonAdaptor.prototype.insert = function(dm, data, tableName, query, position) {
            return isNullOrUndefined(position) ? dm.dataSource.json.push(data) : dm.dataSource.json.splice(position, 0, data);
        }, JsonAdaptor.prototype.remove = function(dm, keyField, value, tableName) {
            var i, ds = dm.dataSource.json;
            for ("object" == typeof value && (value = value[keyField]), i = 0; i < ds.length && ds[i][keyField] !== value; i++) ;
            return i !== ds.length ? ds.splice(i, 1) : null;
        }, JsonAdaptor.prototype.update = function(dm, keyField, value, tableName) {
            var i, ds = dm.dataSource.json, key = value[keyField];
            for (i = 0; i < ds.length && ds[i][keyField] !== key; i++) ;
            return i < ds.length ? merge(ds[i], value) : null;
        }, JsonAdaptor;
    }(Adaptor), UrlAdaptor = function(_super) {
        function UrlAdaptor() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$5$1(UrlAdaptor, _super), UrlAdaptor.prototype.processQuery = function(dm, query, hierarchyFilters) {
            var temp, skip, queries = this.getQueryRequest(query), singles = Query.filterQueryLists(query.queries, [ "onSelect", "onPage", "onSkip", "onTake", "onRange" ]), params = query.params, url = dm.dataSource.url, take = null, options = this.options, request = {
                sorts: [],
                groups: [],
                filters: [],
                searches: [],
                aggregates: []
            };
            "onPage" in singles ? (temp = singles.onPage, skip = ((skip = DataUtil.getValue(temp.pageIndex, query)) - 1) * (take = DataUtil.getValue(temp.pageSize, query))) : "onRange" in singles && (skip = (temp = singles.onRange).start, 
            take = temp.end - temp.start);
            for (var i = 0; i < queries.sorts.length; i++) temp = DataUtil.getValue(queries.sorts[i].e.fieldName, query), 
            request.sorts.push(DataUtil.callAdaptorFunction(this, "onEachSort", {
                name: temp,
                direction: queries.sorts[i].e.direction
            }, query));
            hierarchyFilters && (temp = this.getFiltersFrom(hierarchyFilters, query)) && request.filters.push(DataUtil.callAdaptorFunction(this, "onEachWhere", temp.toJson(), query));
            for (i = 0; i < queries.filters.length; i++) {
                request.filters.push(DataUtil.callAdaptorFunction(this, "onEachWhere", queries.filters[i].e.toJson(), query));
                for (var _i = 0, keys_2 = "object" == typeof request.filters[i] ? Object.keys(request.filters[i]) : []; _i < keys_2.length; _i++) {
                    var prop = keys_2[_i];
                    DataUtil.isNull(request[prop]) && delete request[prop];
                }
            }
            for (i = 0; i < queries.searches.length; i++) temp = queries.searches[i].e, request.searches.push(DataUtil.callAdaptorFunction(this, "onEachSearch", {
                fields: temp.fieldNames,
                operator: temp.operator,
                key: temp.searchKey,
                ignoreCase: temp.ignoreCase
            }, query));
            for (i = 0; i < queries.groups.length; i++) request.groups.push(DataUtil.getValue(queries.groups[i].e.fieldName, query));
            for (i = 0; i < queries.aggregates.length; i++) temp = queries.aggregates[i].e, 
            request.aggregates.push({
                type: temp.type,
                field: DataUtil.getValue(temp.field, query)
            });
            var req = {};
            this.getRequestQuery(options, query, singles, request, req), DataUtil.callAdaptorFunction(this, "addParams", {
                dm: dm,
                query: query,
                params: params,
                reqParams: req
            });
            for (var _a = 0, keys_3 = Object.keys(req); _a < keys_3.length; _a++) {
                prop = keys_3[_a];
                (DataUtil.isNull(req[prop]) || "" === req[prop] || 0 === req[prop].length) && delete req[prop];
            }
            options.skip in req && options.take in req || null === take || (req[options.skip] = DataUtil.callAdaptorFunction(this, "onSkip", skip, query), 
            req[options.take] = DataUtil.callAdaptorFunction(this, "onTake", take, query));
            var p = this.pvt;
            return this.pvt = {}, "json" === this.options.requestType ? {
                data: JSON.stringify(req),
                url: url,
                pvtData: p,
                type: "POST",
                contentType: "application/json; charset=utf-8"
            } : (temp = this.convertToQueryString(req, query, dm), temp = (-1 !== dm.dataSource.url.indexOf("?") ? "&" : "/") + temp, 
            {
                type: "GET",
                url: temp.length ? url.replace(/\/*$/, temp) : url,
                pvtData: p
            });
        }, UrlAdaptor.prototype.getRequestQuery = function(options, query, singles, request, request1) {
            var req = request1;
            req[options.from] = query.fromTable, options.expand && (req[options.expand] = query.expands), 
            req[options.select] = "onSelect" in singles ? DataUtil.callAdaptorFunction(this, "onSelect", DataUtil.getValue(singles.onSelect.fieldNames, query), query) : "", 
            req[options.count] = query.isCountRequired ? DataUtil.callAdaptorFunction(this, "onCount", query.isCountRequired, query) : "", 
            req[options.search] = request.searches.length ? DataUtil.callAdaptorFunction(this, "onSearch", request.searches, query) : "", 
            req[options.skip] = "onSkip" in singles ? DataUtil.callAdaptorFunction(this, "onSkip", DataUtil.getValue(singles.onSkip.nos, query), query) : "", 
            req[options.take] = "onTake" in singles ? DataUtil.callAdaptorFunction(this, "onTake", DataUtil.getValue(singles.onTake.nos, query), query) : "", 
            req[options.where] = request.filters.length || request.searches.length ? DataUtil.callAdaptorFunction(this, "onWhere", request.filters, query) : "", 
            req[options.sortBy] = request.sorts.length ? DataUtil.callAdaptorFunction(this, "onSortBy", request.sorts, query) : "", 
            req[options.group] = request.groups.length ? DataUtil.callAdaptorFunction(this, "onGroup", request.groups, query) : "", 
            req[options.aggregates] = request.aggregates.length ? DataUtil.callAdaptorFunction(this, "onAggregates", request.aggregates, query) : "", 
            req.param = [];
        }, UrlAdaptor.prototype.convertToQueryString = function(request, query, dm) {
            return "";
        }, UrlAdaptor.prototype.processResponse = function(data, ds, query, xhr, request, changes) {
            var requests = request, pvt = requests.pvtData || {}, groupDs = data.groupDs;
            if (xhr && xhr.getResponseHeader("Content-Type") && -1 !== xhr.getResponseHeader("Content-Type").indexOf("xml")) return query.isCountRequired ? {
                result: [],
                count: 0
            } : [];
            var d = JSON.parse(requests.data);
            if (d && "batch" === d.action && data.addedRecords) return changes.addedRecords = data.addedRecords, 
            changes;
            data.d && (data = data.d);
            var args = {};
            return "count" in data && (args.count = data.count), args.result = data.result ? data.result : data, 
            this.getAggregateResult(pvt, data, args, groupDs), DataUtil.isNull(args.count) ? args.result : {
                result: args.result,
                count: args.count,
                aggregates: args.aggregates
            };
        }, UrlAdaptor.prototype.onGroup = function(e) {
            return this.pvt.groups = e, e;
        }, UrlAdaptor.prototype.onAggregates = function(e) {
            this.pvt.aggregates = e;
        }, UrlAdaptor.prototype.batchRequest = function(dm, changes, e) {
            return {
                type: "POST",
                url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.removeUrl || dm.dataSource.url,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: JSON.stringify({
                    changed: changes.changedRecords,
                    added: changes.addedRecords,
                    deleted: changes.deletedRecords,
                    action: "batch",
                    table: e[void 0],
                    key: e[void 0]
                })
            };
        }, UrlAdaptor.prototype.beforeSend = function(dm, request) {}, UrlAdaptor.prototype.insert = function(dm, data, tableName) {
            return {
                url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,
                data: JSON.stringify({
                    value: data,
                    table: tableName,
                    action: "insert"
                })
            };
        }, UrlAdaptor.prototype.remove = function(dm, keyField, value, tableName) {
            return {
                type: "POST",
                url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,
                data: JSON.stringify({
                    key: value,
                    keyColumn: keyField,
                    table: tableName,
                    action: "remove"
                })
            };
        }, UrlAdaptor.prototype.update = function(dm, keyField, value, tableName) {
            return {
                type: "POST",
                url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,
                data: JSON.stringify({
                    value: value,
                    action: "update",
                    keyColumn: keyField,
                    key: value[keyField],
                    table: tableName
                })
            };
        }, UrlAdaptor.prototype.getFiltersFrom = function(data, query) {
            var value, key = query.fKey, prop = key, pKey = query.key, predicats = [];
            "object" != typeof data[0] && (prop = null);
            for (var i = 0; i < data.length; i++) value = "object" == typeof data[0] ? DataUtil.getObject(pKey || prop, data[i]) : data[i], 
            predicats.push(new Predicate$1(key, "equal", value));
            return Predicate$1.or(predicats);
        }, UrlAdaptor.prototype.getAggregateResult = function(pvt, data, args, groupDs) {
            var pData = data;
            if (data && data.result && (pData = data.result), pvt && pvt.aggregates && pvt.aggregates.length) {
                var agg = pvt.aggregates, fn = void 0, aggregateData = pData, res = {};
                data.aggregate && (aggregateData = data.aggregate);
                for (var i = 0; i < agg.length; i++) (fn = DataUtil.aggregates[agg[i].type]) && (res[agg[i].field + " - " + agg[i].type] = fn(aggregateData, agg[i].field));
                args.aggregates = res;
            }
            if (pvt && pvt.groups && pvt.groups.length) {
                var groups = pvt.groups;
                for (i = 0; i < groups.length; i++) {
                    isNullOrUndefined(groupDs) || (groupDs = DataUtil.group(groupDs, groups[i])), pData = DataUtil.group(pData, groups[i], pvt.aggregates, null, groupDs);
                }
                args.result = pData;
            }
            return args;
        }, UrlAdaptor.prototype.getQueryRequest = function(query) {
            var req = {
                sorts: [],
                groups: [],
                filters: [],
                searches: [],
                aggregates: []
            };
            return req.sorts = Query.filterQueries(query.queries, "onSortBy"), req.groups = Query.filterQueries(query.queries, "onGroup"), 
            req.filters = Query.filterQueries(query.queries, "onWhere"), req.searches = Query.filterQueries(query.queries, "onSearch"), 
            req.aggregates = Query.filterQueries(query.queries, "onAggregates"), req;
        }, UrlAdaptor.prototype.addParams = function(options) {
            var req = options.reqParams;
            options.params.length && (req.params = {});
            for (var _i = 0, _a = options.params; _i < _a.length; _i++) {
                var tmp = _a[_i];
                if (req[tmp.key]) throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");
                req[tmp.key] = tmp.value, tmp.fn && (req[tmp.key] = tmp.fn.call(options.query, tmp.key, options.query, options.dm)), 
                req.params[tmp.key] = req[tmp.key];
            }
        }, UrlAdaptor;
    }(Adaptor), ODataAdaptor = function(_super) {
        function ODataAdaptor() {
            var _this = _super.call(this) || this;
            return _this.options = extend({}, _this.options, {
                requestType: "get",
                accept: "application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",
                multipartAccept: "multipart/mixed",
                sortBy: "$orderby",
                select: "$select",
                skip: "$skip",
                take: "$top",
                count: "$inlinecount",
                where: "$filter",
                expand: "$expand",
                batch: "$batch",
                changeSet: "--changeset_",
                batchPre: "batch_",
                contentId: "Content-Id: ",
                batchContent: "Content-Type: multipart/mixed; boundary=",
                changeSetContent: "Content-Type: application/http\nContent-Transfer-Encoding: binary ",
                batchChangeSetContentType: "Content-Type: application/json; charset=utf-8 "
            }), _this.getModuleName = getValue("getModulename", _this), _this;
        }
        return __extends$5$1(ODataAdaptor, _super), ODataAdaptor.prototype.onPredicate = function(predicate, query, requiresCast) {
            var operator, guid, returnValue = "", val = predicate.value, type = typeof val, field = predicate.field ? ODataAdaptor.getField(predicate.field) : null;
            if (val instanceof Date && (val = "datetime'" + DataUtil.parse.replacer(val) + "'"), 
            "string" === type && (val = "'" + val + "'", requiresCast && (field = "cast(" + field + ", 'Edm.String')"), 
            DataUtil.parse.isGuid(val) && (guid = "guid"), predicate.ignoreCase && (guid || (field = "tolower(" + field + ")"), 
            val = val.toLowerCase())), operator = DataUtil.odBiOperator[predicate.operator]) return returnValue += field, 
            returnValue += operator, guid && (returnValue += guid), returnValue + val;
            if (isNullOrUndefined(this.getModuleName) ? operator = DataUtil.odUniOperator[predicate.operator] : "ODataV4Adaptor" === this.getModuleName() && (operator = DataUtil.odv4UniOperator[predicate.operator]), 
            "substringof" === operator) {
                var temp = val;
                val = field, field = temp;
            }
            return returnValue += operator + "(", returnValue += field + ",", guid && (returnValue += guid), 
            returnValue += val + ")";
        }, ODataAdaptor.prototype.onComplexPredicate = function(predicate, query, requiresCast) {
            for (var res = [], i = 0; i < predicate.predicates.length; i++) res.push("(" + this.onEachWhere(predicate.predicates[i], query, requiresCast) + ")");
            return res.join(" " + predicate.condition + " ");
        }, ODataAdaptor.prototype.onEachWhere = function(filter, query, requiresCast) {
            return filter.isComplex ? this.onComplexPredicate(filter, query, requiresCast) : this.onPredicate(filter, query, requiresCast);
        }, ODataAdaptor.prototype.onWhere = function(filters) {
            return this.pvt.search && filters.push(this.onEachWhere(this.pvt.search, null, !0)), 
            filters.join(" and ");
        }, ODataAdaptor.prototype.onEachSearch = function(e) {
            e.fields && 0 === e.fields.length && DataUtil.throwError("Query() - Search : oData search requires list of field names to search");
            for (var filter = this.pvt.search || [], i = 0; i < e.fields.length; i++) filter.push(new Predicate$1(e.fields[i], e.operator, e.key, e.ignoreCase));
            this.pvt.search = filter;
        }, ODataAdaptor.prototype.onSearch = function(e) {
            return this.pvt.search = Predicate$1.or(this.pvt.search), "";
        }, ODataAdaptor.prototype.onEachSort = function(e) {
            var res = [];
            if (e.name instanceof Array) for (var i = 0; i < e.name.length; i++) res.push(ODataAdaptor.getField(e.name[i]) + ("descending" === e.direction ? " desc" : "")); else res.push(ODataAdaptor.getField(e.name) + ("descending" === e.direction ? " desc" : ""));
            return res.join(",");
        }, ODataAdaptor.prototype.onSortBy = function(e) {
            return e.reverse().join(",");
        }, ODataAdaptor.prototype.onGroup = function(e) {
            return this.pvt.groups = e, [];
        }, ODataAdaptor.prototype.onSelect = function(e) {
            for (var i = 0; i < e.length; i++) e[i] = ODataAdaptor.getField(e[i]);
            return e.join(",");
        }, ODataAdaptor.prototype.onAggregates = function(e) {
            return this.pvt.aggregates = e, "";
        }, ODataAdaptor.prototype.onCount = function(e) {
            return !0 === e ? "allpages" : "";
        }, ODataAdaptor.prototype.beforeSend = function(dm, request, settings) {
            DataUtil.endsWith(settings.url, this.options.batch) && "post" === settings.type.toLowerCase() ? (request.setRequestHeader("Accept", this.options.multipartAccept), 
            request.setRequestHeader("DataServiceVersion", "2.0"), request.overrideMimeType("text/plain; charset=x-user-defined")) : request.setRequestHeader("Accept", this.options.accept), 
            request.setRequestHeader("DataServiceVersion", "2.0"), request.setRequestHeader("MaxDataServiceVersion", "2.0");
        }, ODataAdaptor.prototype.processResponse = function(data, ds, query, xhr, request, changes) {
            if (!isNullOrUndefined(data.d)) {
                var dataCopy = query && query.isCountRequired ? data.d.results : data.d;
                if (!isNullOrUndefined(dataCopy)) for (var i = 0; i < dataCopy.length; i++) isNullOrUndefined(dataCopy[i].__metadata) || delete dataCopy[i].__metadata;
            }
            var pvt = request && request.pvtData, emptyAndBatch = this.processBatchResponse(data, query, xhr, request, changes);
            if (emptyAndBatch) return emptyAndBatch;
            var versionCheck = xhr && request.getResponseHeader("DataServiceVersion"), count = null, version = versionCheck && parseInt(versionCheck, 10) || 2;
            if (query && query.isCountRequired) {
                (data.__count || data["odata.count"]) && (count = data.__count || data["odata.count"]), 
                data.d && (data = data.d), (data.__count || data["odata.count"]) && (count = data.__count || data["odata.count"]);
            }
            3 === version && data.value && (data = data.value), data.d && (data = data.d), version < 3 && data.results && (data = data.results);
            var args = {};
            return args.count = count, args.result = data, this.getAggregateResult(pvt, data, args), 
            DataUtil.isNull(count) ? args.result : {
                result: args.result,
                count: args.count,
                aggregates: args.aggregates
            };
        }, ODataAdaptor.prototype.convertToQueryString = function(request, query, dm) {
            var res = [], tableName = request.table || "";
            delete request.table, dm.dataSource.requiresFormat && (request.$format = "json");
            for (var _i = 0, keys_4 = Object.keys(request); _i < keys_4.length; _i++) {
                var prop = keys_4[_i];
                res.push(prop + "=" + request[prop]);
            }
            return res = res.join("&"), dm.dataSource.url && -1 !== dm.dataSource.url.indexOf("?") && !tableName ? res : res.length ? tableName + "?" + res : tableName || "";
        }, ODataAdaptor.prototype.insert = function(dm, data, tableName) {
            return {
                url: dm.dataSource.url.replace(/\/*$/, tableName ? "/" + tableName : ""),
                data: JSON.stringify(data)
            };
        }, ODataAdaptor.prototype.remove = function(dm, keyField, value, tableName) {
            return {
                type: "DELETE",
                url: dm.dataSource.url.replace(/\/*$/, tableName ? "/" + tableName : "") + "(" + value + ")"
            };
        }, ODataAdaptor.prototype.update = function(dm, keyField, value, tableName) {
            return {
                type: "PUT",
                url: dm.dataSource.url.replace(/\/*$/, tableName ? "/" + tableName : "") + "(" + value[keyField] + ")",
                data: JSON.stringify(value),
                accept: this.options.accept
            };
        }, ODataAdaptor.prototype.batchRequest = function(dm, changes, e) {
            var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre), url = dm.dataSource.url.replace(/\/*$/, "/" + this.options.batch), args = {
                url: e.url,
                key: e.key,
                cid: 1,
                cSet: DataUtil.getGuid(this.options.changeSet)
            }, req = "--" + initialGuid + "\n";
            return req += "Content-Type: multipart/mixed; boundary=" + args.cSet.replace("--", "") + "\n", 
            this.pvt.changeSet = 0, req += this.generateInsertRequest(changes.addedRecords, args), 
            req += this.generateUpdateRequest(changes.changedRecords, args), req += this.generateDeleteRequest(changes.deletedRecords, args), 
            req += args.cSet + "--\n", req += "--" + initialGuid + "--", {
                type: "POST",
                url: url,
                dataType: "json",
                contentType: "multipart/mixed; charset=UTF-8;boundary=" + initialGuid,
                data: req
            };
        }, ODataAdaptor.prototype.generateDeleteRequest = function(arr, e) {
            if (!arr) return "";
            return this.generateBodyContent(arr, e, {
                method: "DELETE ",
                url: function(data, i, key) {
                    return "(" + data[i][key] + ")";
                },
                data: function(data, i) {
                    return "";
                }
            }) + "\n";
        }, ODataAdaptor.prototype.generateInsertRequest = function(arr, e) {
            if (!arr) return "";
            var stat = {
                method: "POST ",
                url: function(data, i, key) {
                    return "";
                },
                data: function(data, i) {
                    return JSON.stringify(data[i]) + "\n\n";
                }
            };
            return this.generateBodyContent(arr, e, stat);
        }, ODataAdaptor.prototype.generateUpdateRequest = function(arr, e) {
            if (!arr) return "";
            var stat = {
                method: "PUT ",
                url: function(data, i, key) {
                    return "(" + data[i][key] + ")";
                },
                data: function(data, i) {
                    return JSON.stringify(data[i]) + "\n\n";
                }
            };
            return this.generateBodyContent(arr, e, stat);
        }, ODataAdaptor.getField = function(prop) {
            return prop.replace(/\./g, "/");
        }, ODataAdaptor.prototype.generateBodyContent = function(arr, e, stat) {
            for (var req = "", i = 0; i < arr.length; i++) req += "\n" + e.cSet + "\n", req += this.options.changeSetContent + "\n\n", 
            req += stat.method, req += e.url + stat.url(arr, i, e.key) + " HTTP/1.1\n", req += "Accept: " + this.options.accept + "\n", 
            req += "Content-Id: " + this.pvt.changeSet++ + "\n", req += this.options.batchChangeSetContentType + "\n\n", 
            req += stat.data(arr, i);
            return req;
        }, ODataAdaptor.prototype.processBatchResponse = function(data, query, xhr, request, changes) {
            if (xhr && xhr.getResponseHeader("Content-Type") && -1 !== xhr.getResponseHeader("Content-Type").indexOf("xml")) return query.isCountRequired ? {
                result: [],
                count: 0
            } : [];
            if (request && this.options.batch && DataUtil.endsWith(request.url, this.options.batch) && "post" === request.type.toLowerCase()) {
                var guid = xhr.getResponseHeader("Content-Type"), cIdx = void 0, jsonObj = void 0, d = data + "";
                if (guid = guid.substring(guid.indexOf("=batchresponse") + 1), (d = d.split(guid)).length < 2) return {};
                d = d[1];
                var exVal = /(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);
                exVal && d.replace(exVal[0], "");
                for (var changeGuid = exVal ? exVal[1] : "", i = (d = d.split(changeGuid)).length; i > -1; i--) /\bContent-ID:/i.test(d[i]) && /\bHTTP.+201/.test(d[i]) && (cIdx = parseInt(/\bContent-ID: (\d+)/i.exec(d[i])[1], 10), 
                changes.addedRecords[cIdx] && (jsonObj = DataUtil.parse.parseJson(/^\{.+\}/m.exec(d[i])[0]), 
                extend({}, changes.addedRecords[cIdx], this.processResponse(jsonObj))));
                return changes;
            }
            return null;
        }, ODataAdaptor;
    }(UrlAdaptor), ODataV4Adaptor = function(_super) {
        function ODataV4Adaptor() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.options = extend({}, _this.options, {
                requestType: "get",
                accept: "application/json, text/javascript, */*; q=0.01",
                multipartAccept: "multipart/mixed",
                sortBy: "$orderby",
                select: "$select",
                skip: "$skip",
                take: "$top",
                count: "$count",
                search: "$search",
                where: "$filter",
                expand: "$expand",
                batch: "$batch",
                changeSet: "--changeset_",
                batchPre: "batch_",
                contentId: "Content-Id: ",
                batchContent: "Content-Type: multipart/mixed; boundary=",
                changeSetContent: "Content-Type: application/http\nContent-Transfer-Encoding: binary ",
                batchChangeSetContentType: "Content-Type: application/json; charset=utf-8 "
            }), _this;
        }
        return __extends$5$1(ODataV4Adaptor, _super), ODataV4Adaptor.prototype.getModulename = function() {
            return "ODataV4Adaptor";
        }, ODataV4Adaptor.prototype.onCount = function(e) {
            return !0 === e ? "true" : "";
        }, ODataV4Adaptor.prototype.onPredicate = function(predicate, query, requiresCast) {
            var returnValue = "", isDate = predicate.value instanceof Date;
            return returnValue = _super.prototype.onPredicate.call(this, predicate, query, requiresCast), 
            isDate && (returnValue = returnValue.replace(/datetime'(.*)'$/, "$1")), returnValue;
        }, ODataV4Adaptor.prototype.onEachSearch = function(e) {
            var search = this.pvt.searches || [];
            search.push(e.key), this.pvt.searches = search;
        }, ODataV4Adaptor.prototype.onSearch = function(e) {
            return this.pvt.searches.join(" OR ");
        }, ODataV4Adaptor.prototype.beforeSend = function(dm, request, settings) {
            request.setRequestHeader("Accept", this.options.accept);
        }, ODataV4Adaptor.prototype.processResponse = function(data, ds, query, xhr, request, changes) {
            var pvt = request && request.pvtData, emptyAndBatch = _super.prototype.processBatchResponse.call(this, data, query, xhr, request, changes);
            if (emptyAndBatch) return emptyAndBatch;
            var count = null;
            query && query.isCountRequired && "@odata.count" in data && (count = data["@odata.count"]), 
            data = data.value;
            var args = {};
            return args.count = count, args.result = data, this.getAggregateResult(pvt, data, args), 
            DataUtil.isNull(count) ? args.result : {
                result: args.result,
                count: count,
                aggregates: args.aggregates
            };
        }, ODataV4Adaptor;
    }(ODataAdaptor), WebApiAdaptor = function(_super) {
        function WebApiAdaptor() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$5$1(WebApiAdaptor, _super), WebApiAdaptor.prototype.insert = function(dm, data, tableName) {
            return {
                type: "POST",
                url: dm.dataSource.url,
                data: JSON.stringify(data)
            };
        }, WebApiAdaptor.prototype.remove = function(dm, keyField, value, tableName) {
            return {
                type: "DELETE",
                url: dm.dataSource.url + "/" + value,
                data: JSON.stringify(value)
            };
        }, WebApiAdaptor.prototype.update = function(dm, keyField, value, tableName) {
            return {
                type: "PUT",
                url: dm.dataSource.url,
                data: JSON.stringify(value)
            };
        }, WebApiAdaptor.prototype.beforeSend = function(dm, request, settings) {
            request.setRequestHeader("Accept", "application/json, text/javascript, */*; q=0.01");
        }, WebApiAdaptor.prototype.processResponse = function(data, ds, query, xhr, request, changes) {
            var pvt = request && request.pvtData, count = null, args = {};
            if (request && "post" !== request.type.toLowerCase()) {
                var versionCheck = xhr && request.getResponseHeader("DataServiceVersion"), version = versionCheck && parseInt(versionCheck, 10) || 2;
                query && query.isCountRequired && (DataUtil.isNull(data.Count) || (count = data.Count)), 
                version < 3 && data.Items && (data = data.Items), args.count = count, args.result = data, 
                this.getAggregateResult(pvt, data, args);
            }
            return args.result = args.result || data, DataUtil.isNull(count) ? args.result : {
                result: args.result,
                count: args.count,
                aggregates: args.aggregates
            };
        }, WebApiAdaptor;
    }(ODataAdaptor), WebMethodAdaptor = function(_super) {
        function WebMethodAdaptor() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$5$1(WebMethodAdaptor, _super), WebMethodAdaptor.prototype.processQuery = function(dm, query, hierarchyFilters) {
            var obj = new UrlAdaptor().processQuery(dm, query, hierarchyFilters), data = DataUtil.parse.parseJson(obj.data), result = {};
            if (data.param) for (var i = 0; i < data.param.length; i++) {
                var param = data.param[i], key = Object.keys(param)[0];
                result[key] = param[key];
            }
            result.value = data;
            return {
                data: JSON.stringify(result),
                url: obj.url,
                pvtData: obj.pvtData,
                type: "POST",
                contentType: "application/json; charset=utf-8"
            };
        }, WebMethodAdaptor;
    }(UrlAdaptor), RemoteSaveAdaptor = function(_super) {
        function RemoteSaveAdaptor() {
            var _this = _super.call(this) || this;
            return setValue("beforeSend", UrlAdaptor.prototype.beforeSend, _this), _this;
        }
        return __extends$5$1(RemoteSaveAdaptor, _super), RemoteSaveAdaptor.prototype.insert = function(dm, data, tableName) {
            return _super.prototype.insert.call(this, dm, data, null, null, 0), {
                url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,
                data: JSON.stringify({
                    value: data,
                    table: tableName,
                    action: "insert"
                })
            };
        }, RemoteSaveAdaptor.prototype.remove = function(dm, keyField, value, tableName) {
            return _super.prototype.remove.call(this, dm, keyField, value), {
                type: "POST",
                url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,
                data: JSON.stringify({
                    key: value,
                    keyColumn: keyField,
                    table: tableName,
                    action: "remove"
                })
            };
        }, RemoteSaveAdaptor.prototype.update = function(dm, keyField, value, tableName) {
            return _super.prototype.update.call(this, dm, keyField, value), {
                type: "POST",
                url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,
                data: JSON.stringify({
                    value: value,
                    action: "update",
                    keyColumn: keyField,
                    key: value[keyField],
                    table: tableName
                })
            };
        }, RemoteSaveAdaptor.prototype.batchRequest = function(dm, changes, e) {
            var i;
            for (i = 0; i < changes.addedRecords.length; i++) JsonAdaptor.prototype.insert(dm, changes.addedRecords[i]);
            for (i = 0; i < changes.changedRecords.length; i++) JsonAdaptor.prototype.update(dm, e.key, changes.changedRecords[i]);
            for (i = 0; i < changes.deletedRecords.length; i++) JsonAdaptor.prototype.remove(dm, e.key, changes.deletedRecords[i]);
            return {
                type: "POST",
                url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.url,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: JSON.stringify({
                    changed: changes.changedRecords,
                    added: changes.addedRecords,
                    deleted: changes.deletedRecords,
                    action: "batch",
                    table: e.url,
                    key: e.key
                })
            };
        }, RemoteSaveAdaptor;
    }(JsonAdaptor), CacheAdaptor = function(_super) {
        function CacheAdaptor(adaptor, timeStamp, pageSize) {
            var _this = _super.call(this) || this;
            _this.isCrudAction = !1, _this.isInsertAction = !1, isNullOrUndefined(adaptor) || (_this.cacheAdaptor = adaptor), 
            _this.pageSize = pageSize, _this.guidId = DataUtil.getGuid("cacheAdaptor");
            window.localStorage.setItem(_this.guidId, JSON.stringify({
                keys: [],
                results: []
            }));
            var guid = _this.guidId;
            return isNullOrUndefined(timeStamp) || setInterval(function() {
                var data;
                data = DataUtil.parse.parseJson(window.localStorage.getItem(guid));
                for (var forDel = [], i = 0; i < data.results.length; i++) {
                    var currentTime = +new Date(), requestTime = +new Date(data.results[i].timeStamp);
                    data.results[i].timeStamp = currentTime - requestTime, currentTime - requestTime > timeStamp && forDel.push(i);
                }
                for (i = 0; i < forDel.length; i++) data.results.splice(forDel[i], 1), data.keys.splice(forDel[i], 1);
                window.localStorage.removeItem(guid), window.localStorage.setItem(guid, JSON.stringify(data));
            }, timeStamp), _this;
        }
        return __extends$5$1(CacheAdaptor, _super), CacheAdaptor.prototype.generateKey = function(url, query) {
            var queries = this.getQueryRequest(query), singles = Query.filterQueryLists(query.queries, [ "onSelect", "onPage", "onSkip", "onTake", "onRange" ]), key = url;
            "onPage" in singles && (key += singles.onPage.pageIndex), queries.sorts.forEach(function(obj) {
                key += obj.e.direction + obj.e.fieldName;
            }), queries.groups.forEach(function(obj) {
                key += obj.e.fieldName;
            }), queries.searches.forEach(function(obj) {
                key += obj.e.searchKey;
            });
            for (var filter = 0; filter < queries.filters.length; filter++) {
                var currentFilter = queries.filters[filter];
                if (currentFilter.e.isComplex) {
                    var newQuery = query.clone();
                    newQuery.queries = [];
                    for (var i = 0; i < currentFilter.e.predicates.length; i++) newQuery.queries.push({
                        fn: "onWhere",
                        e: currentFilter.e.predicates[i],
                        filter: query.queries.filter
                    });
                    key += currentFilter.e.condition + this.generateKey(url, newQuery);
                } else key += currentFilter.e.field + currentFilter.e.operator + currentFilter.e.value;
            }
            return key;
        }, CacheAdaptor.prototype.processQuery = function(dm, query, hierarchyFilters) {
            var cachedItems, key = this.generateKey(dm.dataSource.url, query), data = (cachedItems = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId))) ? cachedItems.results[cachedItems.keys.indexOf(key)] : null;
            return null == data || this.isCrudAction || this.isInsertAction ? (this.isCrudAction = null, 
            this.isInsertAction = null, this.cacheAdaptor.processQuery.apply(this.cacheAdaptor, [].slice.call(arguments, 0))) : data;
        }, CacheAdaptor.prototype.processResponse = function(data, ds, query, xhr, request, changes) {
            if (this.isInsertAction || request && this.cacheAdaptor.options.batch && DataUtil.endsWith(request.url, this.cacheAdaptor.options.batch) && "post" === request.type.toLowerCase()) return this.cacheAdaptor.processResponse(data, ds, query, xhr, request, changes);
            data = this.cacheAdaptor.processResponse.apply(this.cacheAdaptor, [].slice.call(arguments, 0));
            var key = query ? this.generateKey(ds.dataSource.url, query) : ds.dataSource.url, obj = {}, index = (obj = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(key);
            for (-1 !== index && (obj.results.splice(index, 1), obj.keys.splice(index, 1)), 
            obj.results[obj.keys.push(key) - 1] = {
                keys: key,
                result: data.result,
                timeStamp: new Date(),
                count: data.count
            }; obj.results.length > this.pageSize; ) obj.results.splice(0, 1), obj.keys.splice(0, 1);
            return window.localStorage.setItem(this.guidId, JSON.stringify(obj)), data;
        }, CacheAdaptor.prototype.beforeSend = function(dm, request, settings) {
            DataUtil.endsWith(settings.url, this.cacheAdaptor.options.batch) && "post" === settings.type.toLowerCase() && request.setRequestHeader("Accept", this.cacheAdaptor.options.multipartAccept), 
            dm.dataSource.crossDomain || request.setRequestHeader("Accept", this.cacheAdaptor.options.accept);
        }, CacheAdaptor.prototype.update = function(dm, keyField, value, tableName) {
            return this.isCrudAction = !0, this.cacheAdaptor.update(dm, keyField, value, tableName);
        }, CacheAdaptor.prototype.insert = function(dm, data, tableName) {
            return this.isInsertAction = !0, this.cacheAdaptor.insert(dm, data, tableName);
        }, CacheAdaptor.prototype.remove = function(dm, keyField, value, tableName) {
            return this.isCrudAction = !0, this.cacheAdaptor.remove(dm, keyField, value, tableName);
        }, CacheAdaptor.prototype.batchRequest = function(dm, changes, e) {
            return this.cacheAdaptor.batchRequest(dm, changes, e);
        }, CacheAdaptor;
    }(UrlAdaptor), DataManager = function() {
        function DataManager(dataSource, query, adaptor) {
            var _this = this;
            this.dateParse = !0, this.requests = [], dataSource || this.dataSource || (dataSource = []), 
            adaptor = adaptor || dataSource.adaptor;
            var data;
            return dataSource instanceof Array ? data = {
                json: dataSource,
                offline: !0
            } : "object" == typeof dataSource ? (dataSource.json || (dataSource.json = []), 
            data = {
                url: dataSource.url,
                insertUrl: dataSource.insertUrl,
                removeUrl: dataSource.removeUrl,
                updateUrl: dataSource.updateUrl,
                crudUrl: dataSource.crudUrl,
                batchUrl: dataSource.batchUrl,
                json: dataSource.json,
                headers: dataSource.headers,
                accept: dataSource.accept,
                data: dataSource.data,
                timeTillExpiration: dataSource.timeTillExpiration,
                cachingPageSize: dataSource.cachingPageSize,
                enableCaching: dataSource.enableCaching,
                requestType: dataSource.requestType,
                key: dataSource.key,
                crossDomain: dataSource.crossDomain,
                jsonp: dataSource.jsonp,
                dataType: dataSource.dataType,
                offline: void 0 !== dataSource.offline ? dataSource.offline : !(dataSource.adaptor instanceof RemoteSaveAdaptor) && !dataSource.url,
                requiresFormat: dataSource.requiresFormat
            }) : DataUtil.throwError("DataManager: Invalid arguments"), void 0 !== data.requiresFormat || DataUtil.isCors() || (data.requiresFormat = !!isNullOrUndefined(data.crossDomain) || data.crossDomain), 
            void 0 === data.dataType && (data.dataType = "json"), this.dataSource = data, this.defaultQuery = query, 
            data.url && data.offline && !data.json.length ? (this.isDataAvailable = !1, this.adaptor = adaptor || new ODataAdaptor(), 
            this.dataSource.offline = !1, this.ready = this.executeQuery(query || new Query()), 
            this.ready.then(function(e) {
                _this.dataSource.offline = !0, _this.isDataAvailable = !0, data.json = e.result, 
                _this.adaptor = new JsonAdaptor();
            })) : this.adaptor = data.offline ? new JsonAdaptor() : new ODataAdaptor(), !data.jsonp && this.adaptor instanceof ODataAdaptor && (data.jsonp = "callback"), 
            this.adaptor = adaptor || this.adaptor, data.enableCaching && (this.adaptor = new CacheAdaptor(this.adaptor, data.timeTillExpiration, data.cachingPageSize)), 
            this;
        }
        return DataManager.prototype.setDefaultQuery = function(query) {
            return this.defaultQuery = query, this;
        }, DataManager.prototype.executeLocal = function(query) {
            this.defaultQuery || query instanceof Query || DataUtil.throwError("DataManager - executeLocal() : A query is required to execute"), 
            this.dataSource.json || DataUtil.throwError("DataManager - executeLocal() : Json data is required to execute"), 
            query = query || this.defaultQuery;
            var result = this.adaptor.processQuery(this, query);
            if (query.subQuery) {
                var from = query.subQuery.fromTable, lookup = query.subQuery.lookups, res = query.isCountRequired ? result.result : result;
                lookup && lookup instanceof Array && DataUtil.buildHierarchy(query.subQuery.fKey, from, res, lookup, query.subQuery.key);
                for (var j = 0; j < res.length; j++) res[j][from] instanceof Array && (res[j] = extend({}, {}, res[j]), 
                res[j][from] = this.adaptor.processResponse(query.subQuery.using(new DataManager(res[j][from].slice(0))).executeLocal(), this, query));
            }
            return this.adaptor.processResponse(result, this, query);
        }, DataManager.prototype.executeQuery = function(query, done, fail, always) {
            var _this = this;
            "function" == typeof query && (fail, fail = done, done = query, query = null), query || (query = this.defaultQuery), 
            query instanceof Query || DataUtil.throwError("DataManager - executeQuery() : A query is required to execute");
            var deffered = new Deferred(), args = {
                query: query
            };
            if (this.dataSource.offline || void 0 === this.dataSource.url) DataManager.nextTick(function() {
                var res = _this.executeLocal(query);
                args = DataManager.getDeferedArgs(query, res, args), deffered.resolve(args);
            }); else {
                var result = this.adaptor.processQuery(this, query);
                this.makeRequest(result, deffered, args, query);
            }
            return deffered.promise;
        }, DataManager.getDeferedArgs = function(query, result, args) {
            return query.isCountRequired ? (args.result = result.result, args.count = result.count, 
            args.aggregates = result.aggregates) : args.result = result, args;
        }, DataManager.nextTick = function(fn) {
            (window.setImmediate || window.setTimeout)(fn, 0);
        }, DataManager.prototype.extendRequest = function(url, fnSuccess, fnFail) {
            return extend({}, {
                type: "GET",
                dataType: this.dataSource.dataType,
                crossDomain: this.dataSource.crossDomain,
                jsonp: this.dataSource.jsonp,
                cache: !0,
                processData: !1,
                onSuccess: fnSuccess,
                onFailure: fnFail
            }, url);
        }, DataManager.prototype.makeRequest = function(url, deffered, args, query) {
            var _this = this, isSelector = !!query.subQuerySelector, fnFail = function(e) {
                args.error = e, deffered.reject(args);
            }, process = function(data, count, xhr, request, actual, aggregates, virtualSelectRecords) {
                args.xhr = xhr, args.count = count ? parseInt(count.toString(), 10) : 0, args.result = data, 
                args.request = request, args.aggregates = aggregates, args.actual = actual, args.virtualSelectRecords = virtualSelectRecords, 
                deffered.resolve(args);
            }, fnQueryChild = function(data, selector) {
                var subDeffer = new Deferred(), childArgs = {
                    parent: args
                };
                query.subQuery.isChild = !0;
                var subUrl = _this.adaptor.processQuery(_this, query.subQuery, data ? _this.adaptor.processResponse(data) : selector), childReq = _this.makeRequest(subUrl, subDeffer, childArgs, query.subQuery);
                return isSelector || subDeffer.then(function(subData) {
                    data && (DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, data, subData, query.subQuery.key), 
                    process(data, subData.count, subData.xhr));
                }, fnFail), childReq;
            }, req = this.extendRequest(url, function(data, request) {
                -1 === request.httpRequest.getResponseHeader("Content-Type").indexOf("xml") && _this.dateParse && (data = DataUtil.parse.parseJson(data));
                var result = _this.adaptor.processResponse(data, _this, query, request.httpRequest, request), count = 0, aggregates = null, virtualRecords = data.virtualSelectRecords;
                query.isCountRequired && (count = result.count, aggregates = result.aggregates, 
                result = result.result), query.subQuery ? isSelector || fnQueryChild(result, request) : process(result, count, request.httpRequest, request.type, data, aggregates, virtualRecords);
            }, fnFail), ajax = new Ajax(req);
            if (ajax.beforeSend = function() {
                _this.beforeSend(ajax.httpRequest, ajax);
            }, (req = ajax.send()).catch(function(e) {
                return !0;
            }), this.requests.push(ajax), isSelector) {
                var res = query.subQuerySelector.call(this, {
                    query: query.subQuery,
                    parent: query
                });
                res && res.length ? Promise.all([ req, fnQueryChild(null, res) ]).then(function() {
                    for (var args = [], _i = 0; _i < arguments.length; _i++) args[_i] = arguments[_i];
                    var result = args[0], pResult = _this.adaptor.processResponse(result[0], _this, query, _this.requests[0].httpRequest, _this.requests[0]), count = 0;
                    query.isCountRequired && (count = pResult.count, pResult = pResult.result);
                    var cResult = _this.adaptor.processResponse(result[1], _this, query.subQuery, _this.requests[1].httpRequest, _this.requests[1]);
                    count = 0, query.subQuery.isCountRequired && (count = cResult.count, cResult = cResult.result), 
                    DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, pResult, cResult, query.subQuery.key), 
                    isSelector = !1, process(pResult, count, _this.requests[0].httpRequest);
                }) : isSelector = !1;
            }
            return req;
        }, DataManager.prototype.beforeSend = function(request, settings) {
            this.adaptor.beforeSend(this, request, settings);
            for (var props, headers = this.dataSource.headers, i = 0; headers && i < headers.length; i++) {
                props = [];
                for (var _i = 0, keys_1 = Object.keys(headers[i]); _i < keys_1.length; _i++) {
                    var prop = keys_1[_i];
                    props.push(prop), request.setRequestHeader(prop, headers[i][prop]);
                }
            }
        }, DataManager.prototype.saveChanges = function(changes, key, tableName, query) {
            var _this = this;
            tableName instanceof Query && (query = tableName, tableName = null);
            var args = {
                url: tableName,
                key: key || this.dataSource.key
            }, req = this.adaptor.batchRequest(this, changes, args, query);
            if (this.dataSource.offline) return req;
            var deff = new Deferred(), ajax = new Ajax(req);
            return ajax.beforeSend = function() {
                _this.beforeSend(ajax.httpRequest, ajax);
            }, ajax.onSuccess = function(data, request) {
                deff.resolve(_this.adaptor.processResponse(DataUtil.parse.parseJson(data), _this, null, request.httpRequest, request, changes));
            }, ajax.onFailure = function(e) {
                deff.reject([ {
                    error: e
                } ]);
            }, ajax.send().catch(function(e) {
                return !0;
            }), deff.promise;
        }, DataManager.prototype.insert = function(data, tableName, query, position) {
            tableName instanceof Query && (query = tableName, tableName = null);
            var req = this.adaptor.insert(this, data, tableName, query, position);
            return this.dataSource.offline ? req : this.doAjaxRequest(req);
        }, DataManager.prototype.remove = function(keyField, value, tableName, query) {
            "object" == typeof value && (value = value[keyField]), tableName instanceof Query && (query = tableName, 
            tableName = null);
            var res = this.adaptor.remove(this, keyField, value, tableName, query);
            return this.dataSource.offline ? res : this.doAjaxRequest(res);
        }, DataManager.prototype.update = function(keyField, value, tableName, query) {
            tableName instanceof Query && (query = tableName, tableName = null);
            var res = this.adaptor.update(this, keyField, value, tableName, query);
            return this.dataSource.offline ? res : this.doAjaxRequest(res);
        }, DataManager.prototype.doAjaxRequest = function(res) {
            var _this = this, defer = new Deferred();
            res = extend({}, {
                type: "POST",
                contentType: "application/json; charset=utf-8",
                processData: !1
            }, res);
            var ajax = new Ajax(res);
            return ajax.beforeSend = function() {
                _this.beforeSend(ajax.httpRequest, ajax);
            }, ajax.onSuccess = function(record, request) {
                try {
                    DataUtil.parse.parseJson(record);
                } catch (e) {
                    record = [];
                }
                record = _this.adaptor.processResponse(DataUtil.parse.parseJson(record), _this, null, request.httpRequest, request), 
                defer.resolve(record);
            }, ajax.onFailure = function(e) {
                defer.reject([ {
                    error: e
                } ]);
            }, ajax.send().catch(function(e) {
                return !0;
            }), defer.promise;
        }, DataManager;
    }(), Deferred = function() {
        return function() {
            var _this = this;
            this.promise = new Promise(function(resolve, reject) {
                _this.resolve = resolve, _this.reject = reject;
            }), this.then = this.promise.then.bind(this.promise), this.catch = this.promise.catch.bind(this.promise);
        };
    }(), _data = Object.freeze({
        DataManager: DataManager,
        Deferred: Deferred,
        Query: Query,
        Predicate: Predicate$1,
        Adaptor: Adaptor,
        JsonAdaptor: JsonAdaptor,
        UrlAdaptor: UrlAdaptor,
        ODataAdaptor: ODataAdaptor,
        ODataV4Adaptor: ODataV4Adaptor,
        WebApiAdaptor: WebApiAdaptor,
        WebMethodAdaptor: WebMethodAdaptor,
        RemoteSaveAdaptor: RemoteSaveAdaptor,
        CacheAdaptor: CacheAdaptor,
        DataUtil: DataUtil
    }), fixedParent = !1, __extends$6 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$5$1 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, PositionData = function(_super) {
        function PositionData() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$6(PositionData, _super), __decorate$5$1([ Property("left") ], PositionData.prototype, "X", void 0), 
        __decorate$5$1([ Property("top") ], PositionData.prototype, "Y", void 0), PositionData;
    }(ChildProperty), CLASSNAMES_ROOT = "e-popup", CLASSNAMES_RTL = "e-rtl", CLASSNAMES_OPEN = "e-popup-open", CLASSNAMES_CLOSE = "e-popup-close", Popup = function(_super) {
        function Popup(element, options) {
            var _this = _super.call(this, options, element) || this;
            return _this.fixedParent = !1, _this;
        }
        return __extends$6(Popup, _super), Popup.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "width":
                    setStyleAttribute(this.element, {
                        width: formatUnit(newProp.width)
                    });
                    break;

                  case "height":
                    setStyleAttribute(this.element, {
                        height: formatUnit(newProp.height)
                    });
                    break;

                  case "zIndex":
                    setStyleAttribute(this.element, {
                        zIndex: newProp.zIndex
                    });
                    break;

                  case "enableRtl":
                    this.setEnableRtl();
                    break;

                  case "position":
                  case "relateTo":
                    this.refreshPosition();
                    break;

                  case "offsetX":
                    var x = newProp.offsetX - oldProp.offsetX;
                    this.element.style.left = (parseInt(this.element.style.left, 10) + x).toString() + "px";
                    break;

                  case "offsetY":
                    var y = newProp.offsetY - oldProp.offsetY;
                    this.element.style.top = (parseInt(this.element.style.top, 10) + y).toString() + "px";
                    break;

                  case "content":
                    this.setContent();
                    break;

                  case "actionOnScroll":
                    "none" !== newProp.actionOnScroll ? this.wireScrollEvents() : this.unwireScrollEvents();
                }
            }
        }, Popup.prototype.getModuleName = function() {
            return "popup";
        }, Popup.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, Popup.prototype.destroy = function() {
            this.element.classList.remove(CLASSNAMES_ROOT, CLASSNAMES_RTL), this.unwireEvents(), 
            _super.prototype.destroy.call(this);
        }, Popup.prototype.render = function() {
            this.element.classList.add(CLASSNAMES_ROOT);
            var styles = {};
            1e3 !== this.zIndex && (styles.zIndex = this.zIndex), "auto" !== this.width && (styles.width = formatUnit(this.width)), 
            "auto" !== this.height && (styles.height = formatUnit(this.height)), setStyleAttribute(this.element, styles), 
            this.setEnableRtl(), this.setContent(), this.wireEvents();
        }, Popup.prototype.wireEvents = function() {
            Browser.isDevice && EventHandler.add(window, "orientationchange", this.orientationOnChange, this), 
            "none" !== this.actionOnScroll && this.wireScrollEvents();
        }, Popup.prototype.wireScrollEvents = function() {
            if (this.getRelateToElement()) for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {
                var parent_1 = _a[_i];
                EventHandler.add(parent_1, "scroll", this.scrollRefresh, this);
            }
        }, Popup.prototype.unwireEvents = function() {
            Browser.isDevice && EventHandler.remove(window, "orientationchange", this.orientationOnChange), 
            "none" !== this.actionOnScroll && this.unwireScrollEvents();
        }, Popup.prototype.unwireScrollEvents = function() {
            if (this.getRelateToElement()) for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {
                var parent_2 = _a[_i];
                EventHandler.remove(parent_2, "scroll", this.scrollRefresh);
            }
        }, Popup.prototype.getRelateToElement = function() {
            var relateToElement = "" === this.relateTo ? document.body : this.relateTo;
            return this.setProperties({
                relateTo: relateToElement
            }, !0), "string" == typeof this.relateTo ? document.querySelector(this.relateTo) : this.relateTo;
        }, Popup.prototype.scrollRefresh = function(e) {
            if ("reposition" === this.actionOnScroll ? this.element.offsetParent === e.target || this.element.offsetParent && "BODY" === this.element.offsetParent.tagName && null == e.target.parentElement || this.refreshPosition() : "hide" === this.actionOnScroll && this.hide(), 
            "none" !== this.actionOnScroll && this.getRelateToElement()) {
                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);
                targetVisible || this.targetInvisibleStatus ? targetVisible && (this.targetInvisibleStatus = !1) : (this.trigger("targetExitViewport"), 
                this.targetInvisibleStatus = !0);
            }
        }, Popup.prototype.isElementOnViewport = function(relateToElement, scrollElement) {
            for (var scrollParents = this.getScrollableParent(relateToElement), parent_3 = 0; parent_3 < scrollParents.length; parent_3++) if (!this.isElementVisible(relateToElement, scrollParents[parent_3])) return !1;
            return !0;
        }, Popup.prototype.isElementVisible = function(relateToElement, scrollElement) {
            var rect = relateToElement.getBoundingClientRect();
            if (!rect.height || !rect.width) return !1;
            if (scrollElement.getBoundingClientRect) {
                var parent_4 = scrollElement.getBoundingClientRect();
                return !(rect.bottom < parent_4.top || rect.bottom > parent_4.bottom || rect.right > parent_4.right || rect.left < parent_4.left);
            }
            var win = window, windowView_top = win.scrollY, windowView_left = win.scrollX, windowView_right = win.scrollX + win.outerWidth, windowView_bottom = win.scrollY + win.outerHeight, off = calculatePosition(relateToElement), ele_top = off.top, ele_left = off.left, ele_right = off.left + rect.width, ele_bottom = off.top + rect.height;
            return windowView_bottom - ele_top > 0 && windowView_right - ele_left > 0 && ele_right - windowView_left > 0 && ele_bottom - windowView_top > 0;
        }, Popup.prototype.preRender = function() {}, Popup.prototype.setEnableRtl = function() {
            this.reposition(), this.enableRtl ? this.element.classList.add(CLASSNAMES_RTL) : this.element.classList.remove(CLASSNAMES_RTL);
        }, Popup.prototype.setContent = function() {
            isNullOrUndefined(this.content) || (this.element.innerHTML = "", "string" == typeof this.content ? this.element.textContent = this.content : this.element.appendChild(this.content));
        }, Popup.prototype.orientationOnChange = function() {
            var _this = this;
            setTimeout(function() {
                _this.refreshPosition();
            }, 200);
        }, Popup.prototype.refreshPosition = function(target) {
            isNullOrUndefined(target) || this.checkFixedParent(target), this.reposition(), this.checkCollision();
        }, Popup.prototype.reposition = function() {
            var pos, relateToElement = this.getRelateToElement();
            if ("number" == typeof this.position.X && "number" == typeof this.position.Y) pos = {
                left: this.position.X,
                top: this.position.Y
            }; else if (relateToElement) {
                var display = this.element.style.display;
                this.element.style.display = "block", pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY), 
                this.element.style.display = display;
            } else pos = {
                left: 0,
                top: 0
            };
            this.element.style.left = pos.left + "px", this.element.style.top = pos.top + "px";
        }, Popup.prototype.getAnchorPosition = function(anchorEle, ele, position, offsetX, offsetY) {
            var eleRect = ele.getBoundingClientRect(), anchorRect = anchorEle.getBoundingClientRect(), anchor = anchorEle, anchorPos = {
                left: 0,
                top: 0
            };
            switch (anchorPos = ele.offsetParent && "BODY" === ele.offsetParent.tagName && "BODY" === anchorEle.tagName ? calculatePosition(anchorEle) : calculateRelativeBasedPosition(anchor, ele), 
            position.X) {
              default:
              case "left":
                break;

              case "center":
                "container" === this.targetType ? anchorPos.left += anchorRect.width / 2 - eleRect.width / 2 : anchorPos.left += anchorRect.width / 2;
                break;

              case "right":
                "container" === this.targetType ? anchorPos.left += anchorRect.width - eleRect.width : anchorPos.left += anchorRect.width;
            }
            switch (position.Y) {
              default:
              case "top":
                break;

              case "center":
                "container" === this.targetType ? anchorPos.top += anchorRect.height / 2 - eleRect.height / 2 : anchorPos.top += anchorRect.height / 2;
                break;

              case "bottom":
                "container" === this.targetType ? anchorPos.top += anchorRect.height - eleRect.height : anchorPos.top += anchorRect.height;
            }
            return anchorPos.left += offsetX, anchorPos.top += offsetY, anchorPos;
        }, Popup.prototype.callFlip = function(param) {
            var relateToElement = this.getRelateToElement();
            flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);
        }, Popup.prototype.callFit = function(param) {
            if (0 !== isCollide(this.element, this.viewPortElement).length) {
                var data = fit(this.element, this.viewPortElement, param);
                this.element.style.left = data.left + "px", this.element.style.top = data.top + "px";
            }
        }, Popup.prototype.checkCollision = function() {
            var horz = this.collision.X, vert = this.collision.Y;
            "none" === horz && "none" === vert || ("flip" === horz && "flip" === vert ? this.callFlip({
                X: !0,
                Y: !0
            }) : "fit" === horz && "fit" === vert ? this.callFit({
                X: !0,
                Y: !0
            }) : ("fit" === horz ? this.callFit({
                X: !0,
                Y: !1
            }) : "fit" === vert && this.callFit({
                X: !1,
                Y: !0
            }), "flip" === horz ? this.callFlip({
                X: !0,
                Y: !1
            }) : "flip" === vert && this.callFlip({
                Y: !0,
                X: !1
            })));
        }, Popup.prototype.show = function(animationOptions) {
            var _this = this;
            1e3 === this.zIndex && (this.zIndex = getZindexPartial(this.element), setStyleAttribute(this.element, {
                zIndex: this.zIndex
            })), animationOptions = isNullOrUndefined(animationOptions) || "object" != typeof animationOptions ? this.showAnimation : animationOptions, 
            "none" === this.collision.X && "none" === this.collision.Y || (removeClass([ this.element ], CLASSNAMES_CLOSE), 
            addClass([ this.element ], CLASSNAMES_OPEN), this.checkCollision(), removeClass([ this.element ], CLASSNAMES_OPEN), 
            addClass([ this.element ], CLASSNAMES_CLOSE)), isNullOrUndefined(animationOptions) ? (removeClass([ this.element ], CLASSNAMES_CLOSE), 
            addClass([ this.element ], CLASSNAMES_OPEN), this.trigger("open")) : (animationOptions.begin = function() {
                _this.isDestroyed || (removeClass([ _this.element ], CLASSNAMES_CLOSE), addClass([ _this.element ], CLASSNAMES_OPEN));
            }, animationOptions.end = function() {
                _this.isDestroyed || _this.trigger("open");
            }, new Animation(animationOptions).animate(this.element));
        }, Popup.prototype.hide = function(animationOptions) {
            var _this = this;
            isNullOrUndefined(animationOptions = isNullOrUndefined(animationOptions) || "object" != typeof animationOptions ? this.hideAnimation : animationOptions) ? (removeClass([ this.element ], CLASSNAMES_OPEN), 
            addClass([ this.element ], CLASSNAMES_CLOSE), this.trigger("close")) : (animationOptions.end = function() {
                _this.isDestroyed || (removeClass([ _this.element ], CLASSNAMES_OPEN), addClass([ _this.element ], CLASSNAMES_CLOSE), 
                _this.trigger("close"));
            }, new Animation(animationOptions).animate(this.element));
        }, Popup.prototype.getScrollableParent = function(element) {
            return this.checkFixedParent(element), getScrollableParent(element, this.fixedParent);
        }, Popup.prototype.checkFixedParent = function(element) {
            for (var parent = element.parentElement; parent && "HTML" !== parent.tagName; ) {
                var parentStyle = getComputedStyle(parent);
                "fixed" === parentStyle.position && this.element.offsetParent && "BODY" === this.element.offsetParent.tagName && (this.element.style.position = "fixed", 
                this.fixedParent = !0), parent = parent.parentElement, isNullOrUndefined(this.element.offsetParent) && "fixed" === parentStyle.position && "fixed" === this.element.style.position && (this.fixedParent = !0);
            }
        }, __decorate$5$1([ Property("auto") ], Popup.prototype, "height", void 0), __decorate$5$1([ Property("auto") ], Popup.prototype, "width", void 0), 
        __decorate$5$1([ Property(null) ], Popup.prototype, "content", void 0), __decorate$5$1([ Property("container") ], Popup.prototype, "targetType", void 0), 
        __decorate$5$1([ Property(null) ], Popup.prototype, "viewPortElement", void 0), 
        __decorate$5$1([ Property({
            X: "none",
            Y: "none"
        }) ], Popup.prototype, "collision", void 0), __decorate$5$1([ Property("") ], Popup.prototype, "relateTo", void 0), 
        __decorate$5$1([ Complex({}, PositionData) ], Popup.prototype, "position", void 0), 
        __decorate$5$1([ Property(0) ], Popup.prototype, "offsetX", void 0), __decorate$5$1([ Property(0) ], Popup.prototype, "offsetY", void 0), 
        __decorate$5$1([ Property(1e3) ], Popup.prototype, "zIndex", void 0), __decorate$5$1([ Property(!1) ], Popup.prototype, "enableRtl", void 0), 
        __decorate$5$1([ Property("reposition") ], Popup.prototype, "actionOnScroll", void 0), 
        __decorate$5$1([ Property(null) ], Popup.prototype, "showAnimation", void 0), __decorate$5$1([ Property(null) ], Popup.prototype, "hideAnimation", void 0), 
        __decorate$5$1([ Event() ], Popup.prototype, "open", void 0), __decorate$5$1([ Event() ], Popup.prototype, "close", void 0), 
        __decorate$5$1([ Event() ], Popup.prototype, "targetExitViewport", void 0), Popup = __decorate$5$1([ NotifyPropertyChanges ], Popup);
    }(Component), __extends$1$3 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$1$3 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, ButtonProps = function(_super) {
        function ButtonProps() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$1$3(ButtonProps, _super), __decorate$1$3([ Property() ], ButtonProps.prototype, "buttonModel", void 0), 
        __decorate$1$3([ Property() ], ButtonProps.prototype, "click", void 0), ButtonProps;
    }(ChildProperty), AnimationSettings = function(_super) {
        function AnimationSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$1$3(AnimationSettings, _super), __decorate$1$3([ Property("Fade") ], AnimationSettings.prototype, "effect", void 0), 
        __decorate$1$3([ Property(400) ], AnimationSettings.prototype, "duration", void 0), 
        __decorate$1$3([ Property(0) ], AnimationSettings.prototype, "delay", void 0), AnimationSettings;
    }(ChildProperty), Dialog = function(_super) {
        function Dialog(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$1$3(Dialog, _super), Dialog.prototype.render = function() {
            this.initialize(), this.initRender(), this.wireEvents();
        }, Dialog.prototype.preRender = function() {
            var _this = this;
            this.headerContent = null;
            for (var classArray = [], j = 0; j < this.element.classList.length; j++) isNullOrUndefined(this.element.classList[j].match("e-control")) && isNullOrUndefined(this.element.classList[j].match("e-dialog")) || classArray.push(this.element.classList[j]);
            removeClass([ this.element ], classArray), this.clonedEle = this.element.cloneNode(!0), 
            this.closeIconClickEventHandler = function(event) {
                _this.hide(), _this.closedFrom = event;
            }, this.dlgOverlayClickEventHandler = function(event) {
                _this.trigger("overlayClick", event);
            };
            this.l10n = new L10n("dialog", {
                close: "Close"
            }, this.locale);
        }, Dialog.prototype.keyDown = function(event) {
            var _this = this;
            if (9 === event.keyCode && this.isModal) {
                var buttonObj = void 0;
                isNullOrUndefined(this.btnObj) || (buttonObj = this.btnObj[this.btnObj.length - 1]), 
                isNullOrUndefined(buttonObj) || document.activeElement !== buttonObj.element || event.shiftKey || (event.preventDefault(), 
                this.focusableElements(this.element).focus()), document.activeElement === this.focusableElements(this.element) && event.shiftKey && (event.preventDefault(), 
                isNullOrUndefined(buttonObj) || buttonObj.element.focus());
            }
            var element = document.activeElement, isTagName = [ "input", "textarea" ].indexOf(element.tagName.toLowerCase()) > -1, isContentEdit = !1;
            if (isTagName || (isContentEdit = element.hasAttribute("contenteditable") && "true" === element.getAttribute("contenteditable")), 
            27 === event.keyCode && this.closeOnEscape && (this.hide(), this.closedFrom = event), 
            13 === event.keyCode && !event.ctrlKey && "textarea" !== element.tagName.toLowerCase() && isTagName && !isNullOrUndefined(this.primaryButtonEle) || 13 === event.keyCode && event.ctrlKey && ("textarea" === element.tagName.toLowerCase() || isContentEdit) && !isNullOrUndefined(this.primaryButtonEle)) {
                var buttonIndex_1;
                this.buttons.some(function(data, index) {
                    buttonIndex_1 = index;
                    var buttonModel = data.buttonModel;
                    return !isNullOrUndefined(buttonModel) && !0 === buttonModel.isPrimary;
                }) && "function" == typeof this.buttons[buttonIndex_1].click && setTimeout(function() {
                    _this.buttons[buttonIndex_1].click.call(_this, event);
                });
            }
        }, Dialog.prototype.initialize = function() {
            isNullOrUndefined(this.target) || (this.targetEle = "string" == typeof this.target ? document.querySelector(this.target) : this.target), 
            addClass([ this.element ], "e-dialog"), Browser.isDevice && addClass([ this.element ], "e-device"), 
            this.setCSSClass(), this.setMaxHeight();
        }, Dialog.prototype.initRender = function() {
            var _this = this;
            attributes(this.element, {
                role: "dialog"
            }), 1e3 === this.zIndex && (this.zIndex = getZindexPartial(this.element)), this.setTargetContent(), 
            "" !== this.header && this.setHeader(), this.showCloseIcon && this.renderCloseIcon(), 
            isNullOrUndefined(this.content) || "" === this.content ? this.element.hasChildNodes() && (this.contentEle = this.element) : this.setContent(), 
            "" !== this.footerTemplate && this.setFooterTemplate(), isNullOrUndefined(this.buttons[0].buttonModel) || "" !== this.footerTemplate || this.setButton(), 
            !this.allowDragging || this.isModal || isNullOrUndefined(this.headerContent) || this.setAllowDragging(), 
            attributes(this.element, {
                "aria-modal": this.isModal ? "true" : "false"
            }), this.isModal && this.setIsModal(), isNullOrUndefined(this.targetEle) || (this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element)), 
            this.popupObj = new Popup(this.element, {
                height: this.height,
                width: this.width,
                zIndex: this.zIndex,
                relateTo: this.target,
                actionOnScroll: "none",
                open: function() {
                    _this.focusContent(), _this.trigger("open");
                },
                close: function(event) {
                    _this.unBindEvent(_this.element), _this.isModal && (_this.dlgContainer.style.display = "none"), 
                    _this.trigger("close", _this.closedFrom), _this.closedFrom = {}, isNullOrUndefined(_this.storeActiveElement) || _this.storeActiveElement.focus();
                }
            }), this.positionChange(), this.setEnableRTL(), addClass([ this.element ], "e-popup-close"), 
            this.isModal && this.setOverlayZindex(), this.visible ? this.show() : this.isModal && (this.dlgOverlay.style.display = "none");
        }, Dialog.prototype.setOverlayZindex = function() {
            var zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;
            this.dlgOverlay.style.zIndex = (zIndex - 1).toString(), this.dlgContainer.style.zIndex = zIndex.toString();
        }, Dialog.prototype.positionChange = function() {
            this.isModal ? this.dlgContainer.classList.add("e-dlg-" + this.position.X + "-" + this.position.Y) : this.popupObj.setProperties({
                position: {
                    X: this.position.X,
                    Y: this.position.Y
                }
            });
        }, Dialog.prototype.setAllowDragging = function() {
            var _this = this;
            this.dragObj = new Draggable(this.element, {
                clone: !1,
                handle: ".e-dlg-header-content",
                dragStart: function(event) {
                    _this.trigger("dragStart", event);
                },
                dragStop: function(event) {
                    _this.trigger("dragStop", event);
                },
                drag: function(event) {
                    _this.trigger("drag", event);
                }
            }), isNullOrUndefined(this.targetEle) || (this.dragObj.dragArea = this.targetEle);
        }, Dialog.prototype.setButton = function() {
            this.buttonContent = [], this.btnObj = [];
            for (var i = 0; i < this.buttons.length; i++) {
                var btn = createElement("button", {
                    attrs: {
                        type: "button"
                    }
                });
                this.buttonContent.push(btn.outerHTML);
            }
            this.setFooterTemplate();
            for (i = 0; i < this.buttons.length; i++) this.btnObj[i] = new Button(this.buttons[i].buttonModel), 
            "function" == typeof this.buttons[i].click && EventHandler.add(this.ftrTemplateContent.children[i], "click", this.buttons[i].click, this), 
            this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]), this.btnObj[i].isPrimary || this.btnObj[i].element.classList.add("e-flat"), 
            this.primaryButtonEle = this.element.getElementsByClassName("e-primary")[0];
        }, Dialog.prototype.setContent = function() {
            attributes(this.element, {
                "aria-describedby": this.element.id + "_dialog-content"
            }), this.contentEle = createElement("div", {
                className: "e-dlg-content",
                id: this.element.id + "_dialog-content"
            }), "string" == typeof this.content ? this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content), 
            isNullOrUndefined(this.headerContent) ? this.element.insertBefore(this.contentEle, this.element.children[0]) : this.element.insertBefore(this.contentEle, this.element.children[1]), 
            "auto" === this.height && this.setMaxHeight();
        }, Dialog.prototype.setMaxHeight = function() {
            var display = this.element.style.display;
            this.element.style.display = "none", this.element.style.maxHeight = isNullOrUndefined(this.target) ? window.innerHeight - 20 + "px" : this.targetEle.offsetHeight - 20 + "px", 
            this.element.style.display = display;
        }, Dialog.prototype.setEnableRTL = function() {
            this.enableRtl ? addClass([ this.element ], "e-rtl") : removeClass([ this.element ], "e-rtl");
        }, Dialog.prototype.setTargetContent = function() {
            var isContent = "" !== this.element.innerHTML.replace(/\s/g, "");
            if (this.element.children.length > 0 || isContent) {
                for (var contentDiv = document.createDocumentFragment(); 0 !== this.element.childNodes.length; ) contentDiv.appendChild(this.element.childNodes[0]);
                this.setProperties({
                    content: contentDiv
                }, !0);
            }
        }, Dialog.prototype.setHeader = function() {
            this.headerEle = createElement("div", {
                id: this.element.id + "_title",
                className: "e-dlg-header",
                innerHTML: this.header
            }), attributes(this.element, {
                "aria-labelledby": this.element.id + "_title"
            }), this.createHeaderContent(), this.headerContent.appendChild(this.headerEle), 
            this.element.insertBefore(this.headerContent, this.element.children[0]);
        }, Dialog.prototype.setFooterTemplate = function() {
            this.ftrTemplateContent = createElement("div", {
                className: "e-footer-content",
                innerHTML: "" !== this.footerTemplate ? this.footerTemplate : this.buttonContent.join("")
            }), this.element.appendChild(this.ftrTemplateContent);
        }, Dialog.prototype.createHeaderContent = function() {
            isNullOrUndefined(this.headerContent) && (this.headerContent = createElement("div", {
                className: "e-dlg-header-content"
            }));
        }, Dialog.prototype.renderCloseIcon = function() {
            this.closeIcon = createElement("button", {
                className: "e-dlg-closeicon-btn",
                attrs: {
                    type: "button"
                }
            }), this.closeIconBtnObj = new Button({
                cssClass: "e-flat",
                iconCss: "e-icon-dlg-close e-icons"
            }), this.closeIconTitle(), isNullOrUndefined(this.headerContent) ? (this.createHeaderContent(), 
            prepend([ this.closeIcon ], this.headerContent), this.element.insertBefore(this.headerContent, this.element.children[0])) : prepend([ this.closeIcon ], this.headerContent), 
            this.closeIconBtnObj.appendTo(this.closeIcon);
        }, Dialog.prototype.closeIconTitle = function() {
            this.l10n.setLocale(this.locale);
            var closeIconTitle = this.l10n.getConstant("close");
            this.closeIcon.setAttribute("title", closeIconTitle);
        }, Dialog.prototype.setCSSClass = function(oldCSSClass) {
            this.cssClass && addClass([ this.element ], this.cssClass.split(" ")), oldCSSClass && removeClass([ this.element ], oldCSSClass.split(" "));
        }, Dialog.prototype.setIsModal = function() {
            this.dlgContainer = createElement("div", {
                className: "e-dlg-container"
            }), this.element.parentNode.insertBefore(this.dlgContainer, this.element), this.dlgContainer.appendChild(this.element), 
            addClass([ this.element ], "e-dlg-modal"), this.dlgOverlay = createElement("div", {
                className: "e-dlg-overlay"
            }), this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString(), this.dlgContainer.appendChild(this.dlgOverlay);
        }, Dialog.prototype.getValidFocusNode = function(items) {
            for (var node, u = 0; u < items.length; u++) if (((node = items[u]).clientHeight > 0 || "a" === node.tagName.toLowerCase() && node.hasAttribute("href")) && node.tabIndex > -1 && !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled="true"],[type="hidden"]')) return node;
            return node;
        }, Dialog.prototype.focusableElements = function(content) {
            if (!isNullOrUndefined(content)) {
                var items = content.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');
                return this.getValidFocusNode(items);
            }
            return null;
        }, Dialog.prototype.getAutoFocusNode = function(container) {
            var node = container.querySelector(".e-dlg-closeicon-btn"), items = container.querySelectorAll("[autofocus]"), validNode = this.getValidFocusNode(items);
            if (isNullOrUndefined(validNode)) {
                if (validNode = this.focusableElements(this.contentEle), !isNullOrUndefined(validNode)) return node = validNode;
                if (!isNullOrUndefined(this.primaryButtonEle)) return this.element.querySelector(".e-primary");
            } else node = validNode;
            return node;
        }, Dialog.prototype.disableElement = function(element, t) {
            var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;
            if (elementMatch) for (;element; element = element.parentNode) if (element instanceof Element && elementMatch.call(element, t)) return element;
            return null;
        }, Dialog.prototype.focusContent = function() {
            var element = this.getAutoFocusNode(this.element);
            (isNullOrUndefined(element) ? this.element : element).focus(), this.bindEvent(this.element);
        }, Dialog.prototype.bindEvent = function(element) {
            EventHandler.add(element, "keydown", this.keyDown, this);
        }, Dialog.prototype.unBindEvent = function(element) {
            EventHandler.remove(element, "keydown", this.keyDown);
        }, Dialog.prototype.getModuleName = function() {
            return "dialog";
        }, Dialog.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "content":
                    isNullOrUndefined(this.content) || "" === this.content ? isNullOrUndefined(this.contentEle) || this.element.removeChild(this.contentEle) : isNullOrUndefined(this.contentEle) || "dialog" === this.contentEle.getAttribute("role") ? this.setContent() : (this.contentEle.innerHTML = "", 
                    "string" == typeof this.content ? this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content), 
                    this.setMaxHeight());
                    break;

                  case "header":
                    "" === this.header ? detach(this.headerEle) : this.element.getElementsByClassName("e-dlg-header").length > 0 ? this.element.getElementsByClassName("e-dlg-header")[0].innerHTML = this.header : this.setHeader();
                    break;

                  case "footerTemplate":
                    this.element.getElementsByClassName("e-footer-content").length > 0 ? this.ftrTemplateContent.innerHTML = this.footerTemplate : this.setFooterTemplate();
                    break;

                  case "showCloseIcon":
                    this.element.getElementsByClassName("e-icon-dlg-close").length > 0 ? this.showCloseIcon || "" !== this.header ? this.showCloseIcon || detach(this.closeIcon) : detach(this.headerContent) : (this.renderCloseIcon(), 
                    this.wireEvents());
                    break;

                  case "locale":
                    this.showCloseIcon && this.closeIconTitle();
                    break;

                  case "visible":
                    this.visible ? this.show() : this.hide();
                    break;

                  case "isModal":
                    if (this.element.setAttribute("aria-modal", this.isModal ? "true" : "false"), this.isModal) this.setIsModal(), 
                    this.wireEvents(), isNullOrUndefined(this.targetEle) || (this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element)); else {
                        for (removeClass([ this.element ], "e-dlg-modal"), removeClass([ document.body ], "e-scroll-disabled"), 
                        detach(this.dlgOverlay); this.dlgContainer.firstChild; ) this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);
                        this.dlgContainer.parentElement.removeChild(this.dlgContainer);
                    }
                    break;

                  case "height":
                    setStyleAttribute(this.element, {
                        height: formatUnit(newProp.height)
                    });
                    break;

                  case "width":
                    setStyleAttribute(this.element, {
                        width: formatUnit(newProp.width)
                    });
                    break;

                  case "zIndex":
                    this.popupObj.zIndex = this.zIndex, this.isModal && this.setOverlayZindex();
                    break;

                  case "cssClass":
                    this.setCSSClass(oldProp.cssClass);
                    break;

                  case "animationSettings":
                    this.show();
                    break;

                  case "buttons":
                    isNullOrUndefined(this.buttons[0].buttonModel) || "" !== this.footerTemplate || (isNullOrUndefined(this.ftrTemplateContent) || detach(this.ftrTemplateContent), 
                    this.setButton());
                    break;

                  case "allowDragging":
                    !this.allowDragging || this.isModal || isNullOrUndefined(this.headerContent) ? this.dragObj.destroy() : this.setAllowDragging();
                    break;

                  case "target":
                    this.popupObj.relateTo = newProp.target;
                    break;

                  case "position":
                    if (oldProp.position.X === this.position.X && oldProp.position.Y === this.position.Y) break;
                    if (!this.isModal) {
                        this.popupObj.position.X = this.position.X, this.popupObj.position.Y = this.position.Y;
                        break;
                    }
                    this.dlgContainer.classList.remove("e-dlg-" + oldProp.position.X + "-" + oldProp.position.Y), 
                    this.dlgContainer.classList.add("e-dlg-" + this.position.X + "-" + this.position.Y);
                    break;

                  case "enableRtl":
                    this.setEnableRTL();
                }
            }
        }, Dialog.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, Dialog.prototype.destroy = function() {
            if (this.element.classList.contains("e-dialog")) {
                this.unWireEvents(), _super.prototype.destroy.call(this);
                var classArray = [ "e-dialog", "e-rtl", "e-dlg-modal" ];
                if (removeClass([ this.element, this.element ], classArray), this.popupObj.element.classList.contains("e-popup") && this.popupObj.destroy(), 
                !isNullOrUndefined(this.btnObj)) for (var i = void 0; i < this.btnObj.length; i++) this.btnObj[i].destroy();
                for (this.isModal && (detach(this.dlgOverlay), this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer), 
                detach(this.dlgContainer)), this.element.innerHTML = ""; this.element.attributes.length > 0; ) this.element.removeAttribute(this.element.attributes[0].name);
                for (var k = 0; k < this.clonedEle.attributes.length; k++) this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);
            }
        }, Dialog.prototype.wireEvents = function() {
            this.showCloseIcon && EventHandler.add(this.closeIcon, "click", this.closeIconClickEventHandler, this), 
            this.isModal && EventHandler.add(this.dlgOverlay, "click", this.dlgOverlayClickEventHandler, this);
        }, Dialog.prototype.unWireEvents = function() {
            if (this.showCloseIcon && EventHandler.remove(this.closeIcon, "click", this.closeIconClickEventHandler), 
            this.isModal && EventHandler.remove(this.dlgOverlay, "click", this.dlgOverlayClickEventHandler), 
            !isNullOrUndefined(this.buttons[0].buttonModel)) for (var i = 0; i < this.buttons.length; i++) "function" == typeof this.buttons[i].click && EventHandler.remove(this.ftrTemplateContent.children[i], "click", this.buttons[i].click);
        }, Dialog.prototype.refreshPosition = function() {
            this.popupObj.refreshPosition();
        }, Dialog.prototype.show = function(isFullScreen) {
            if (!this.element.classList.contains("e-popup-open") || !isNullOrUndefined(isFullScreen)) {
                isNullOrUndefined(isFullScreen) || this.fullScreen(isFullScreen);
                var eventArgs = {
                    cancel: !1,
                    container: this.isModal ? this.dlgContainer : this.element
                };
                if (this.trigger("beforeOpen", eventArgs), eventArgs.cancel) return;
                this.storeActiveElement = document.activeElement, this.element.tabIndex = -1, this.isModal && !isNullOrUndefined(this.dlgOverlay) && (this.dlgOverlay.style.display = "block", 
                this.dlgContainer.style.display = "flex", isNullOrUndefined(this.targetEle) ? addClass([ document.body ], "e-scroll-disabled") : (this.targetEle === document.body ? this.dlgContainer.style.position = "fixed" : this.dlgContainer.style.position = "absolute", 
                this.dlgOverlay.style.position = "absolute", this.element.style.position = "relative", 
                addClass([ this.targetEle ], "e-scroll-disabled")));
                var openAnimation = {
                    name: this.animationSettings.effect + "In",
                    duration: this.animationSettings.duration,
                    delay: this.animationSettings.delay
                };
                "None" === this.animationSettings.effect ? this.popupObj.show() : this.popupObj.show(openAnimation), 
                this.dialogOpen = !0, this.setProperties({
                    visible: !0
                }, !0);
            }
        }, Dialog.prototype.hide = function() {
            var eventArgs = {
                cancel: !1,
                container: this.isModal ? this.dlgContainer : this.element
            };
            if (this.trigger("beforeClose", eventArgs), !eventArgs.cancel) {
                this.isModal && (this.dlgOverlay.style.display = "none", isNullOrUndefined(this.targetEle) ? removeClass([ document.body ], "e-scroll-disabled") : removeClass([ this.targetEle ], "e-scroll-disabled"));
                var closeAnimation = {
                    name: this.animationSettings.effect + "Out",
                    duration: this.animationSettings.duration,
                    delay: this.animationSettings.delay
                };
                "None" === this.animationSettings.effect ? this.popupObj.hide() : this.popupObj.hide(closeAnimation), 
                this.dialogOpen = !1, this.setProperties({
                    visible: !1
                }, !0);
            }
        }, Dialog.prototype.fullScreen = function(args) {
            this.element.offsetTop, this.element.offsetLeft;
            if (args) {
                addClass([ this.element ], "e-dlg-fullscreen");
                var display = this.element.style.display;
                this.element.style.display = "none", this.element.style.maxHeight = isNullOrUndefined(this.target) ? window.innerHeight + "px" : this.targetEle.offsetHeight + "px", 
                this.element.style.display = display, addClass([ document.body ], "e-scroll-disabled"), 
                this.allowDragging && !isNullOrUndefined(this.dragObj) && this.dragObj.destroy();
            } else removeClass([ this.element ], "e-dlg-fullscreen"), removeClass([ document.body ], "e-scroll-disabled"), 
            !this.allowDragging || this.isModal || isNullOrUndefined(this.headerContent) || this.setAllowDragging();
            return args;
        }, __decorate$1$3([ Property("") ], Dialog.prototype, "content", void 0), __decorate$1$3([ Property(!1) ], Dialog.prototype, "showCloseIcon", void 0), 
        __decorate$1$3([ Property(!1) ], Dialog.prototype, "isModal", void 0), __decorate$1$3([ Property("") ], Dialog.prototype, "header", void 0), 
        __decorate$1$3([ Property(!0) ], Dialog.prototype, "visible", void 0), __decorate$1$3([ Property("auto") ], Dialog.prototype, "height", void 0), 
        __decorate$1$3([ Property("100%") ], Dialog.prototype, "width", void 0), __decorate$1$3([ Property("") ], Dialog.prototype, "cssClass", void 0), 
        __decorate$1$3([ Property(1e3) ], Dialog.prototype, "zIndex", void 0), __decorate$1$3([ Property(null) ], Dialog.prototype, "target", void 0), 
        __decorate$1$3([ Property("") ], Dialog.prototype, "footerTemplate", void 0), __decorate$1$3([ Property(!1) ], Dialog.prototype, "allowDragging", void 0), 
        __decorate$1$3([ Collection([ {} ], ButtonProps) ], Dialog.prototype, "buttons", void 0), 
        __decorate$1$3([ Property(!0) ], Dialog.prototype, "closeOnEscape", void 0), __decorate$1$3([ Complex({}, AnimationSettings) ], Dialog.prototype, "animationSettings", void 0), 
        __decorate$1$3([ Complex({
            X: "center",
            Y: "center"
        }, PositionData) ], Dialog.prototype, "position", void 0), __decorate$1$3([ Event() ], Dialog.prototype, "created", void 0), 
        __decorate$1$3([ Event() ], Dialog.prototype, "open", void 0), __decorate$1$3([ Event() ], Dialog.prototype, "beforeOpen", void 0), 
        __decorate$1$3([ Event() ], Dialog.prototype, "close", void 0), __decorate$1$3([ Event() ], Dialog.prototype, "beforeClose", void 0), 
        __decorate$1$3([ Event() ], Dialog.prototype, "dragStart", void 0), __decorate$1$3([ Event() ], Dialog.prototype, "dragStop", void 0), 
        __decorate$1$3([ Event() ], Dialog.prototype, "drag", void 0), __decorate$1$3([ Event() ], Dialog.prototype, "overlayClick", void 0), 
        Dialog = __decorate$1$3([ NotifyPropertyChanges ], Dialog);
    }(Component), __extends$2$3 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$2$3 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, Animation$1 = function(_super) {
        function Animation$$1() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$2$3(Animation$$1, _super), __decorate$2$3([ Property({
            effect: "FadeIn",
            duration: 150,
            delay: 0
        }) ], Animation$$1.prototype, "open", void 0), __decorate$2$3([ Property({
            effect: "FadeOut",
            duration: 150,
            delay: 0
        }) ], Animation$$1.prototype, "close", void 0), Animation$$1;
    }(ChildProperty), Tooltip = function(_super) {
        function Tooltip(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$2$3(Tooltip, _super), Tooltip.prototype.initialize = function() {
            this.formatPosition(), addClass([ this.element ], "e-tooltip");
        }, Tooltip.prototype.formatPosition = function() {
            0 === this.position.indexOf("Top") || 0 === this.position.indexOf("Bottom") ? (_a = this.position.split(/(?=[A-Z])/), 
            this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1]) : (_b = this.position.split(/(?=[A-Z])/), 
            this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1]);
            var _a, _b;
        }, Tooltip.prototype.renderArrow = function() {
            this.setTipClass(this.position);
            var tip = createElement("div", {
                className: "e-arrow-tip " + this.tipClass
            });
            tip.appendChild(createElement("div", {
                className: "e-arrow-tip-outer " + this.tipClass
            })), tip.appendChild(createElement("div", {
                className: "e-arrow-tip-inner " + this.tipClass
            })), this.tooltipEle.appendChild(tip);
        }, Tooltip.prototype.setTipClass = function(position) {
            0 === position.indexOf("Right") ? this.tipClass = "e-tip-left" : 0 === position.indexOf("Bottom") ? this.tipClass = "e-tip-top" : 0 === position.indexOf("Left") ? this.tipClass = "e-tip-right" : this.tipClass = "e-tip-bottom";
        }, Tooltip.prototype.renderPopup = function(target) {
            var elePos = this.mouseTrail ? {
                top: 0,
                left: 0
            } : this.getTooltipPosition(target);
            this.popupObj = new Popup(this.tooltipEle, {
                height: this.height,
                width: this.width,
                position: {
                    X: elePos.left,
                    Y: elePos.top
                },
                enableRtl: this.enableRtl,
                open: this.openPopupHandler.bind(this),
                close: this.closePopupHandler.bind(this)
            });
        }, Tooltip.prototype.getTooltipPosition = function(target) {
            var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY), offsetPos = this.calculateTooltipOffset(this.position);
            return this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);
        }, Tooltip.prototype.reposition = function(target) {
            var elePos = this.getTooltipPosition(target);
            this.popupObj.position = {
                X: elePos.left,
                Y: elePos.top
            }, this.popupObj.dataBind();
        }, Tooltip.prototype.openPopupHandler = function() {
            this.trigger("afterOpen", this.tooltipEventArgs);
        }, Tooltip.prototype.closePopupHandler = function() {
            this.clear(), this.trigger("afterClose", this.tooltipEventArgs);
        }, Tooltip.prototype.calculateTooltipOffset = function(position) {
            var pos = {
                top: 0,
                left: 0
            }, tooltipEleWidth = this.tooltipEle.offsetWidth, tooltipEleHeight = this.tooltipEle.offsetHeight, arrowEle = this.tooltipEle.querySelector(".e-arrow-tip"), tipWidth = arrowEle ? arrowEle.offsetWidth : 0, tipHeight = arrowEle ? arrowEle.offsetHeight : 0, tipAdjust = this.showTipPointer ? 0 : 8, tipHeightAdjust = tipHeight / 2 + 2 + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight), tipWidthAdjust = tipWidth / 2 + 2 + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);
            switch (this.mouseTrail && (tipAdjust += 2), position) {
              case "RightTop":
                pos.left += tipWidth + tipAdjust, pos.top -= tooltipEleHeight - tipHeightAdjust;
                break;

              case "RightCenter":
                pos.left += tipWidth + tipAdjust, pos.top -= tooltipEleHeight / 2;
                break;

              case "RightBottom":
                pos.left += tipWidth + tipAdjust, pos.top -= tipHeightAdjust;
                break;

              case "BottomRight":
                pos.top += tipHeight + tipAdjust, pos.left -= tipWidthAdjust;
                break;

              case "BottomCenter":
                pos.top += tipHeight + tipAdjust, pos.left -= tooltipEleWidth / 2;
                break;

              case "BottomLeft":
                pos.top += tipHeight + tipAdjust, pos.left -= tooltipEleWidth - tipWidthAdjust;
                break;

              case "LeftBottom":
                pos.left -= tipWidth + tooltipEleWidth + tipAdjust, pos.top -= tipHeightAdjust;
                break;

              case "LeftCenter":
                pos.left -= tipWidth + tooltipEleWidth + tipAdjust, pos.top -= tooltipEleHeight / 2;
                break;

              case "LeftTop":
                pos.left -= tipWidth + tooltipEleWidth + tipAdjust, pos.top -= tooltipEleHeight - tipHeightAdjust;
                break;

              case "TopLeft":
                pos.top -= tooltipEleHeight + tipHeight + tipAdjust, pos.left -= tooltipEleWidth - tipWidthAdjust;
                break;

              case "TopRight":
                pos.top -= tooltipEleHeight + tipHeight + tipAdjust, pos.left -= tipWidthAdjust;
                break;

              default:
                pos.top -= tooltipEleHeight + tipHeight + tipAdjust, pos.left -= tooltipEleWidth / 2;
            }
            return pos.left += this.offsetX, pos.top += this.offsetY, pos;
        }, Tooltip.prototype.updateTipPosition = function(position) {
            var selEle = this.tooltipEle.querySelectorAll(".e-arrow-tip,.e-arrow-tip-outer,.e-arrow-tip-inner");
            removeClass(selEle, [ "e-tip-bottom", "e-tip-top", "e-tip-left", "e-tip-right" ]), 
            this.setTipClass(position), addClass(selEle, this.tipClass);
        }, Tooltip.prototype.adjustArrow = function(target, position, tooltipPositionX, tooltipPositionY) {
            if (!1 !== this.showTipPointer) {
                this.updateTipPosition(position);
                var leftValue, topValue, tooltipWidth = this.tooltipEle.clientWidth, tooltipHeight = this.tooltipEle.clientHeight, arrowEle = this.tooltipEle.querySelector(".e-arrow-tip"), arrowInnerELe = this.tooltipEle.querySelector(".e-arrow-tip-inner"), tipWidth = arrowEle.offsetWidth, tipHeight = arrowEle.offsetHeight;
                if ("e-tip-bottom" === this.tipClass || "e-tip-top" === this.tipClass) {
                    "e-tip-bottom" === this.tipClass ? (topValue = "99.9%", arrowInnerELe.style.top = "-" + (tipHeight - 2) + "px") : (topValue = -(tipHeight - 1) + "px", 
                    arrowInnerELe.style.top = "-" + (tipHeight - 6) + "px");
                    leftValue = (tipPosExclude = "Center" !== tooltipPositionX || tooltipWidth > target.offsetWidth || this.mouseTrail) && "Left" === tooltipPositionX || !tipPosExclude && "End" === this.tipPointerPosition ? tooltipWidth - tipWidth - 2 + "px" : tipPosExclude && "Right" === tooltipPositionX || !tipPosExclude && "Start" === this.tipPointerPosition ? "2px" : tooltipWidth / 2 - tipWidth / 2 + "px";
                } else {
                    "e-tip-right" === this.tipClass ? (leftValue = "99.9%", arrowInnerELe.style.left = "-" + (tipWidth - 2) + "px") : (leftValue = -(tipWidth - 1) + "px", 
                    arrowInnerELe.style.left = tipWidth - 2 - tipWidth + "px");
                    var tipPosExclude;
                    topValue = (tipPosExclude = "Center" !== tooltipPositionY || tooltipHeight > target.offsetHeight || this.mouseTrail) && "Top" === tooltipPositionY || !tipPosExclude && "End" === this.tipPointerPosition ? tooltipHeight - tipHeight - 2 + "px" : tipPosExclude && "Bottom" === tooltipPositionY || !tipPosExclude && "Start" === this.tipPointerPosition ? "2px" : tooltipHeight / 2 - tipHeight / 2 + "px";
                }
                arrowEle.style.top = topValue, arrowEle.style.left = leftValue;
            }
        }, Tooltip.prototype.renderContent = function(target) {
            var tooltipContent = this.tooltipEle.querySelector(".e-tip-content");
            if (target && !isNullOrUndefined(target.getAttribute("title")) && (target.setAttribute("data-content", target.getAttribute("title")), 
            target.removeAttribute("title")), isNullOrUndefined(this.content)) target && !isNullOrUndefined(target.getAttribute("data-content")) && (tooltipContent.innerHTML = target.getAttribute("data-content")); else if ("string" == typeof this.content) tooltipContent.innerHTML = this.content; else {
                for (;tooltipContent.firstChild; ) tooltipContent.removeChild(tooltipContent.firstChild);
                tooltipContent.appendChild(this.content);
            }
        }, Tooltip.prototype.renderCloseIcon = function() {
            if (this.isSticky) {
                var tipClose = createElement("div", {
                    className: "e-icons e-tooltip-close"
                });
                this.tooltipEle.appendChild(tipClose), EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);
            }
        }, Tooltip.prototype.addDescribedBy = function(target, id) {
            var describedby = (target.getAttribute("aria-describedby") || "").split(/\s+/);
            describedby.indexOf(id) < 0 && describedby.push(id), attributes(target, {
                "aria-describedby": describedby.join(" ").trim(),
                "data-tooltip-id": id
            });
        }, Tooltip.prototype.removeDescribedBy = function(target) {
            var id = target.getAttribute("data-tooltip-id"), describedby = (target.getAttribute("aria-describedby") || "").split(/\s+/), index = describedby.indexOf(id);
            -1 !== index && describedby.splice(index, 1), target.removeAttribute("data-tooltip-id");
            var orgdescribedby = describedby.join(" ").trim();
            orgdescribedby ? target.setAttribute("aria-describedby", orgdescribedby) : target.removeAttribute("aria-describedby");
        }, Tooltip.prototype.tapHoldHandler = function(evt) {
            clearTimeout(this.autoCloseTimer), this.targetHover(evt.originalEvent);
        }, Tooltip.prototype.touchEndHandler = function(e) {
            var _this = this;
            if (!this.isSticky) {
                this.autoCloseTimer = setTimeout(function() {
                    _this.close();
                }, 1500);
            }
        }, Tooltip.prototype.targetClick = function(e) {
            var target;
            isNullOrUndefined(target = this.target ? closest(e.target, this.target) : this.element) || (null === target.getAttribute("data-tooltip-id") ? this.targetHover(e) : this.isSticky || this.hideTooltip(this.animation.close, e, target));
        }, Tooltip.prototype.targetHover = function(e) {
            var target;
            if (target = this.target ? closest(e.target, this.target) : this.element, !isNullOrUndefined(target) && null === target.getAttribute("data-tooltip-id")) {
                for (var _i = 0, targetList_1 = [].slice.call(document.querySelectorAll("[data-tooltip-id= " + this.ctrlId + "_content]")); _i < targetList_1.length; _i++) {
                    var target_1 = targetList_1[_i];
                    this.restoreElement(target_1);
                }
                this.showTooltip(target, this.animation.open, e), this.wireMouseEvents(e, target);
            }
        }, Tooltip.prototype.showTooltip = function(target, showAnimation, e) {
            var _this = this;
            if (clearTimeout(this.showTimer), clearTimeout(this.hideTimer), this.tooltipEventArgs = e ? {
                type: e.type,
                cancel: !1,
                target: target,
                event: e,
                element: this.tooltipEle
            } : {
                type: null,
                cancel: !1,
                target: target,
                event: null,
                element: this.tooltipEle
            }, this.trigger("beforeRender", this.tooltipEventArgs), this.tooltipEventArgs.cancel) return this.isHidden = !0, 
            void this.clear();
            if (this.isHidden = !1, isNullOrUndefined(this.tooltipEle) ? (this.ctrlId = this.element.getAttribute("id") ? getUniqueID(this.element.getAttribute("id")) : getUniqueID("tooltip"), 
            this.tooltipEle = createElement("div", {
                className: "e-tooltip-wrap e-popup",
                attrs: {
                    role: "tooltip",
                    "aria-hidden": "false",
                    id: this.ctrlId + "_content"
                },
                styles: "width:" + formatUnit(this.width) + ";height:" + formatUnit(this.height) + ";position:absolute;"
            }), this.cssClass && addClass([ this.tooltipEle ], this.cssClass.split(" ")), Browser.isDevice && addClass([ this.tooltipEle ], "e-bigger"), 
            "auto" !== this.width && (this.tooltipEle.style.maxWidth = formatUnit(this.width)), 
            this.tooltipEle.appendChild(createElement("div", {
                className: "e-tip-content"
            })), document.body.appendChild(this.tooltipEle), this.addDescribedBy(target, this.ctrlId + "_content"), 
            this.renderContent(target), addClass([ this.tooltipEle ], "e-popup-open"), this.showTipPointer && this.renderArrow(), 
            this.renderCloseIcon(), this.renderPopup(target)) : (this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY), 
            this.addDescribedBy(target, this.ctrlId + "_content"), this.renderContent(target), 
            Animation.stop(this.tooltipEle), this.reposition(target)), removeClass([ this.tooltipEle ], "e-popup-open"), 
            addClass([ this.tooltipEle ], "e-popup-close"), this.tooltipEventArgs = e ? {
                type: e.type,
                cancel: !1,
                target: target,
                event: e,
                element: this.tooltipEle
            } : {
                type: null,
                cancel: !1,
                target: target,
                event: null,
                element: this.tooltipEle
            }, this.trigger("beforeOpen", this.tooltipEventArgs), this.tooltipEventArgs.cancel) return this.isHidden = !0, 
            void this.clear();
            var openAnimation = {
                name: showAnimation.effect,
                duration: showAnimation.duration,
                delay: showAnimation.delay,
                timingFunction: "easeOut"
            };
            if ("None" === showAnimation.effect && (openAnimation = void 0), this.openDelay > 0) {
                this.showTimer = setTimeout(function() {
                    _this.popupObj && _this.popupObj.show(openAnimation);
                }, this.openDelay);
            } else this.popupObj.show(openAnimation);
        }, Tooltip.prototype.checkCollision = function(target, x, y) {
            var elePos = {
                left: x,
                top: y,
                position: this.position,
                horizontal: this.tooltipPositionX,
                vertical: this.tooltipPositionY
            }, affectedPos = isCollide(this.tooltipEle, this.target ? this.element : null, x, y);
            return affectedPos.length > 0 && (elePos.horizontal = affectedPos.indexOf("left") >= 0 ? "Right" : affectedPos.indexOf("right") >= 0 ? "Left" : this.tooltipPositionX, 
            elePos.vertical = affectedPos.indexOf("top") >= 0 ? "Bottom" : affectedPos.indexOf("bottom") >= 0 ? "Top" : this.tooltipPositionY), 
            elePos;
        }, Tooltip.prototype.collisionFlipFit = function(target, x, y) {
            var elePos = this.checkCollision(target, x, y), newpos = elePos.position;
            if (this.tooltipPositionY !== elePos.vertical && (newpos = 0 === this.position.indexOf("Bottom") || 0 === this.position.indexOf("Top") ? elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical), 
            this.tooltipPositionX !== elePos.horizontal && (0 === newpos.indexOf("Left") && (elePos.vertical = "LeftTop" === newpos || "LeftCenter" === newpos ? "Top" : "Bottom", 
            newpos = elePos.vertical + "Left"), 0 === newpos.indexOf("Right") && (elePos.vertical = "RightTop" === newpos || "RightCenter" === newpos ? "Top" : "Bottom", 
            newpos = elePos.vertical + "Right"), elePos.horizontal = this.tooltipPositionX), 
            this.tooltipEventArgs = {
                type: null,
                cancel: !1,
                target: target,
                event: null,
                element: this.tooltipEle,
                collidedPosition: newpos
            }, this.trigger("beforeCollision", this.tooltipEventArgs), elePos.position !== newpos) {
                var pos = calculatePosition(target, this.tooltipPositionX, elePos.vertical);
                this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);
                var offsetPos = this.calculateTooltipOffset(newpos);
                elePos.position = newpos, elePos.left = pos.left + offsetPos.left, elePos.top = pos.top + offsetPos.top;
            } else this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);
            var eleOffset = {
                left: elePos.left,
                top: elePos.top
            }, left = fit(this.tooltipEle, this.target ? this.element : null, {
                X: !0,
                Y: !1
            }, eleOffset).left;
            if (this.showTipPointer && (0 === newpos.indexOf("Bottom") || 0 === newpos.indexOf("Top"))) {
                var arrowEle = this.tooltipEle.querySelector(".e-arrow-tip"), arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);
                arrowleft < 0 ? arrowleft = 0 : arrowleft + arrowEle.offsetWidth > this.tooltipEle.clientWidth && (arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth), 
                arrowEle.style.left = arrowleft.toString() + "px";
            }
            return eleOffset.left = left, eleOffset;
        }, Tooltip.prototype.hideTooltip = function(hideAnimation, e, targetElement) {
            var target, _this = this;
            if (e ? (target = this.target ? targetElement || e.target : this.element, this.tooltipEventArgs = {
                type: e.type,
                cancel: !1,
                target: target,
                event: e,
                element: this.tooltipEle
            }) : (target = document.querySelector("[data-tooltip-id= " + this.ctrlId + "_content]"), 
            this.tooltipEventArgs = {
                type: null,
                cancel: !1,
                target: target,
                event: null,
                element: this.tooltipEle
            }), !isNullOrUndefined(target)) if (this.trigger("beforeClose", this.tooltipEventArgs), 
            this.tooltipEventArgs.cancel) this.isHidden = !1; else {
                this.restoreElement(target), this.isHidden = !0;
                var closeAnimation_1 = {
                    name: hideAnimation.effect,
                    duration: hideAnimation.duration,
                    delay: hideAnimation.delay,
                    timingFunction: "easeIn"
                };
                if ("None" === hideAnimation.effect && (closeAnimation_1 = void 0), this.closeDelay > 0) {
                    this.hideTimer = setTimeout(function() {
                        _this.popupObj && _this.popupObj.hide(closeAnimation_1);
                    }, this.closeDelay);
                } else this.popupObj.hide(closeAnimation_1);
            }
        }, Tooltip.prototype.restoreElement = function(target) {
            this.unwireMouseEvents(target), isNullOrUndefined(target.getAttribute("data-content")) || (target.setAttribute("title", target.getAttribute("data-content")), 
            target.removeAttribute("data-content")), this.removeDescribedBy(target);
        }, Tooltip.prototype.clear = function() {
            this.tooltipEle && (removeClass([ this.tooltipEle ], "e-popup-close"), addClass([ this.tooltipEle ], "e-popup-open")), 
            this.isHidden && (this.popupObj && this.popupObj.destroy(), this.tooltipEle && remove(this.tooltipEle), 
            this.tooltipEle = null, this.popupObj = null);
        }, Tooltip.prototype.onMouseOut = function(e) {
            this.hideTooltip(this.animation.close, e);
        }, Tooltip.prototype.onStickyClose = function(e) {
            this.close();
        }, Tooltip.prototype.onMouseMove = function(event) {
            var eventPageX = 0, eventPageY = 0;
            event.type.indexOf("touch") > -1 ? (event.preventDefault(), eventPageX = event.touches[0].pageX, 
            eventPageY = event.touches[0].pageY) : (eventPageX = event.pageX, eventPageY = event.pageY), 
            Animation.stop(this.tooltipEle), removeClass([ this.tooltipEle ], "e-popup-close"), 
            addClass([ this.tooltipEle ], "e-popup-open"), this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);
            var pos = this.calculateTooltipOffset(this.position), x = eventPageX + pos.left + this.offsetX, y = eventPageY + pos.top + this.offsetY, elePos = this.checkCollision(event.target, x, y);
            if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {
                var newpos = 0 === this.position.indexOf("Bottom") || 0 === this.position.indexOf("Top") ? elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;
                elePos.position = newpos, this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);
                var colpos = this.calculateTooltipOffset(elePos.position);
                elePos.left = eventPageX + colpos.left - this.offsetX, elePos.top = eventPageY + colpos.top - this.offsetY;
            }
            this.tooltipEle.style.left = elePos.left + "px", this.tooltipEle.style.top = elePos.top + "px";
        }, Tooltip.prototype.keyDown = function(event) {
            this.tooltipEle && 27 === event.keyCode && this.close();
        }, Tooltip.prototype.touchEnd = function(e) {
            this.tooltipEle && null === closest(e.target, ".e-tooltip") && this.close();
        }, Tooltip.prototype.scrollHandler = function(e) {
            this.tooltipEle && this.close();
        }, Tooltip.prototype.render = function() {
            this.initialize(), this.wireEvents(this.opensOn);
        }, Tooltip.prototype.preRender = function() {
            this.tipClass = "e-tip-bottom", this.tooltipPositionX = "Center", this.tooltipPositionY = "Top", 
            this.isHidden = !0;
        }, Tooltip.prototype.wireEvents = function(trigger) {
            for (var _i = 0, triggerList_1 = this.getTriggerList(trigger); _i < triggerList_1.length; _i++) {
                var opensOn = triggerList_1[_i];
                if ("Custom" === opensOn) return;
                "Focus" === opensOn && this.wireFocusEvents(), "Click" === opensOn && EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this), 
                "Hover" === opensOn && (Browser.isDevice ? (this.touchModule = new Touch(this.element, {
                    tapHoldThreshold: 500,
                    tapHold: this.tapHoldHandler.bind(this)
                }), EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this)) : EventHandler.add(this.element, "mouseover", this.targetHover, this));
            }
            EventHandler.add(document, "touchend", this.touchEnd, this), EventHandler.add(document, "scroll", this.scrollHandler, this), 
            EventHandler.add(document, "keydown", this.keyDown, this);
        }, Tooltip.prototype.getTriggerList = function(trigger) {
            return "Auto" === trigger && (trigger = Browser.isDevice ? "Hover" : "Hover Focus"), 
            trigger.split(" ");
        }, Tooltip.prototype.wireFocusEvents = function() {
            if (isNullOrUndefined(this.target)) EventHandler.add(this.element, "focus", this.targetHover, this); else for (var _i = 0, targetList_2 = [].slice.call(this.element.querySelectorAll(this.target)); _i < targetList_2.length; _i++) {
                var target = targetList_2[_i];
                EventHandler.add(target, "focus", this.targetHover, this);
            }
        }, Tooltip.prototype.wireMouseEvents = function(e, target) {
            this.tooltipEle && (this.isSticky || ("focus" === e.type && EventHandler.add(target, "blur", this.onMouseOut, this), 
            "mouseover" === e.type && EventHandler.add(target, "mouseleave", this.onMouseOut, this)), 
            this.mouseTrail && EventHandler.add(target, "mousemove touchstart mouseenter", this.onMouseMove, this));
        }, Tooltip.prototype.unwireEvents = function(trigger) {
            for (var _i = 0, triggerList_2 = this.getTriggerList(trigger); _i < triggerList_2.length; _i++) {
                var opensOn = triggerList_2[_i];
                if ("Custom" === opensOn) return;
                "Focus" === opensOn && this.unwireFocusEvents(), "Click" === opensOn && EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick), 
                "Hover" === opensOn && (Browser.isDevice ? (this.touchModule && this.touchModule.destroy(), 
                EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler)) : EventHandler.remove(this.element, "mouseover", this.targetHover));
            }
            EventHandler.remove(document, "touchend", this.touchEnd), EventHandler.remove(document, "scroll", this.scrollHandler), 
            EventHandler.remove(document, "keydown", this.keyDown);
        }, Tooltip.prototype.unwireFocusEvents = function() {
            if (isNullOrUndefined(this.target)) EventHandler.remove(this.element, "focus", this.targetHover); else for (var _i = 0, targetList_3 = [].slice.call(this.element.querySelectorAll(this.target)); _i < targetList_3.length; _i++) {
                var target = targetList_3[_i];
                EventHandler.remove(target, "focus", this.targetHover);
            }
        }, Tooltip.prototype.unwireMouseEvents = function(target) {
            if (!this.isSticky) for (var _i = 0, triggerList_3 = this.getTriggerList(this.opensOn); _i < triggerList_3.length; _i++) {
                var opensOn = triggerList_3[_i];
                "Focus" === opensOn && EventHandler.remove(target, "blur", this.onMouseOut), "Hover" !== opensOn || Browser.isDevice || EventHandler.remove(target, "mouseleave", this.onMouseOut);
            }
            this.mouseTrail && EventHandler.remove(target, "mousemove touchstart mouseenter", this.onMouseMove);
        }, Tooltip.prototype.getModuleName = function() {
            return "tooltip";
        }, Tooltip.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, Tooltip.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "width":
                    this.tooltipEle && (this.tooltipEle.style.width = formatUnit(newProp.width));
                    break;

                  case "height":
                    this.tooltipEle && (this.tooltipEle.style.height = formatUnit(newProp.height));
                    break;

                  case "content":
                    this.tooltipEle && this.renderContent();
                    break;

                  case "opensOn":
                    this.unwireEvents(oldProp.opensOn), this.wireEvents(newProp.opensOn);
                    break;

                  case "position":
                    this.formatPosition();
                    var target = document.querySelector("[data-tooltip-id= " + this.ctrlId + "_content]");
                    if (this.tooltipEle && target) {
                        var arrowInnerELe = this.tooltipEle.querySelector(".e-arrow-tip-inner");
                        arrowInnerELe.style.top = arrowInnerELe.style.left = null, this.reposition(target);
                    }
                    break;

                  case "tipPointerPosition":
                    var trgt = document.querySelector("[data-tooltip-id= " + this.ctrlId + "_content]");
                    this.tooltipEle && trgt && this.reposition(trgt);
                    break;

                  case "offsetX":
                    if (this.tooltipEle) {
                        var x = newProp.offsetX - oldProp.offsetX;
                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + x).toString() + "px";
                    }
                    break;

                  case "offsetY":
                    if (this.tooltipEle) {
                        var y = newProp.offsetY - oldProp.offsetY;
                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + y).toString() + "px";
                    }
                    break;

                  case "cssClass":
                    this.tooltipEle && (oldProp.cssClass && removeClass([ this.tooltipEle ], oldProp.cssClass.split(" ")), 
                    newProp.cssClass && addClass([ this.tooltipEle ], newProp.cssClass.split(" ")));
                    break;

                  case "enableRtl":
                    this.tooltipEle && (this.enableRtl ? addClass([ this.tooltipEle ], "e-rtl") : removeClass([ this.tooltipEle ], "e-rtl"));
                }
            }
        }, Tooltip.prototype.open = function(element, animation) {
            void 0 === animation && (animation = this.animation.open), "none" !== element.style.display && this.showTooltip(element, animation);
        }, Tooltip.prototype.close = function(animation) {
            void 0 === animation && (animation = this.animation.close), this.hideTooltip(animation);
        }, Tooltip.prototype.refresh = function(target) {
            this.tooltipEle && this.renderContent(target), this.popupObj && target && this.reposition(target);
        }, Tooltip.prototype.destroy = function() {
            _super.prototype.destroy.call(this), removeClass([ this.element ], "e-tooltip"), 
            this.unwireEvents(this.opensOn), this.popupObj && this.popupObj.destroy(), this.tooltipEle && remove(this.tooltipEle), 
            this.tooltipEle = null, this.popupObj = null;
        }, __decorate$2$3([ Property("auto") ], Tooltip.prototype, "width", void 0), __decorate$2$3([ Property("auto") ], Tooltip.prototype, "height", void 0), 
        __decorate$2$3([ Property() ], Tooltip.prototype, "content", void 0), __decorate$2$3([ Property() ], Tooltip.prototype, "target", void 0), 
        __decorate$2$3([ Property("TopCenter") ], Tooltip.prototype, "position", void 0), 
        __decorate$2$3([ Property(0) ], Tooltip.prototype, "offsetX", void 0), __decorate$2$3([ Property(0) ], Tooltip.prototype, "offsetY", void 0), 
        __decorate$2$3([ Property(!0) ], Tooltip.prototype, "showTipPointer", void 0), __decorate$2$3([ Property("Auto") ], Tooltip.prototype, "tipPointerPosition", void 0), 
        __decorate$2$3([ Property("Auto") ], Tooltip.prototype, "opensOn", void 0), __decorate$2$3([ Property(!1) ], Tooltip.prototype, "mouseTrail", void 0), 
        __decorate$2$3([ Property(!1) ], Tooltip.prototype, "isSticky", void 0), __decorate$2$3([ Complex({}, Animation$1) ], Tooltip.prototype, "animation", void 0), 
        __decorate$2$3([ Property(0) ], Tooltip.prototype, "openDelay", void 0), __decorate$2$3([ Property(0) ], Tooltip.prototype, "closeDelay", void 0), 
        __decorate$2$3([ Property() ], Tooltip.prototype, "cssClass", void 0), __decorate$2$3([ Property(!1) ], Tooltip.prototype, "enableRtl", void 0), 
        __decorate$2$3([ Event() ], Tooltip.prototype, "beforeRender", void 0), __decorate$2$3([ Event() ], Tooltip.prototype, "beforeOpen", void 0), 
        __decorate$2$3([ Event() ], Tooltip.prototype, "afterOpen", void 0), __decorate$2$3([ Event() ], Tooltip.prototype, "beforeClose", void 0), 
        __decorate$2$3([ Event() ], Tooltip.prototype, "afterClose", void 0), __decorate$2$3([ Event() ], Tooltip.prototype, "beforeCollision", void 0), 
        __decorate$2$3([ Event() ], Tooltip.prototype, "created", void 0), __decorate$2$3([ Event() ], Tooltip.prototype, "destroyed", void 0), 
        Tooltip = __decorate$2$3([ NotifyPropertyChanges ], Tooltip);
    }(Component), globalTimeOut = {}, spinTemplate = null, spinCSSClass = null, DEFT_MAT_WIDTH = 30, DEFT_FAB_WIDTH = 30, DEFT_BOOT_WIDTH = 30, CLS_SHOWSPIN = "e-spin-show", CLS_HIDESPIN = "e-spin-hide", CLS_MATERIALSPIN = "e-spin-material", CLS_FABRICSPIN = "e-spin-fabric", CLS_BOOTSPIN = "e-spin-bootstrap", CLS_HIGHCONTRASTSPIN = "e-spin-high-contrast", CLS_SPINWRAP = "e-spinner-pane", CLS_SPININWRAP = "e-spinner-inner", CLS_SPINCIRCLE = "e-path-circle", CLS_SPINARC = "e-path-arc", CLS_SPINLABEL = "e-spin-label", CLS_SPINTEMPLATE = "e-spin-template", _popups = Object.freeze({
        PositionData: PositionData,
        Popup: Popup,
        getScrollableParent: getScrollableParent,
        getZindexPartial: getZindexPartial,
        calculateRelativeBasedPosition: calculateRelativeBasedPosition,
        calculatePosition: calculatePosition,
        fit: fit,
        isCollide: isCollide,
        flip: flip,
        ButtonProps: ButtonProps,
        AnimationSettings: AnimationSettings,
        Dialog: Dialog,
        Animation: Animation$1,
        Tooltip: Tooltip,
        createSpinner: createSpinner,
        showSpinner: showSpinner,
        hideSpinner: hideSpinner,
        setSpinner: function(args) {
            void 0 !== args.template && (spinTemplate = args.template, void 0 !== args.template && (spinCSSClass = args.cssClass));
            for (var container = document.querySelectorAll("." + CLS_SPINWRAP), index = 0; index < container.length; index++) !function(template, container, theme, cssClass) {
                isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE) ? (function(container, theme, cssClass) {
                    isNullOrUndefined(cssClass) || container.classList.add(cssClass);
                    var svgElement = container.querySelector("svg"), radius = "Bootstrap" === theme ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;
                    if (svgElement.getAttribute("class").split(/\s/).indexOf("e-spin-material") >= 0) {
                        var id = svgElement.getAttribute("id");
                        clearTimeout(globalTimeOut[id].timeOut);
                    }
                    setTheme(theme, container, radius);
                }(container, theme, cssClass), container.classList.contains(CLS_SHOWSPIN) ? (container.classList.remove(CLS_SHOWSPIN), 
                showSpinner(container)) : (container.classList.remove(CLS_HIDESPIN), hideSpinner(container))) : (spinTemplate = template, 
                isNullOrUndefined(cssClass) || (spinCSSClass = cssClass));
            }(args.template, container[index], args.type, args.cssClass);
        }
    }), ValueFormatter = function() {
        function ValueFormatter(cultureName) {
            this.intl = new Internationalization(), isNullOrUndefined(cultureName) || (this.intl.culture = cultureName);
        }
        return ValueFormatter.prototype.getFormatFunction = function(format) {
            return format.type ? this.intl.getDateFormat(format) : this.intl.getNumberFormat(format);
        }, ValueFormatter.prototype.getParserFunction = function(format) {
            return format.type ? this.intl.getDateParser(format) : this.intl.getNumberParser(format);
        }, ValueFormatter.prototype.fromView = function(value, format, type) {
            return "date" === type || "datetime" === type || "number" === type ? format(value) : value;
        }, ValueFormatter.prototype.toView = function(value, format) {
            var result = value;
            return isNullOrUndefined(format) || isNullOrUndefined(value) || (result = format(value)), 
            result;
        }, ValueFormatter.prototype.setCulture = function(cultureName) {
            isNullOrUndefined(cultureName) || setCulture(cultureName);
        }, ValueFormatter;
    }(), Column = function() {
        function Column(options) {
            var _this = this;
            this.allowSorting = !0, this.allowResizing = !0, this.allowFiltering = !0, this.allowGrouping = !0, 
            this.showColumnMenu = !0, this.enableGroupByFormat = !1, this.allowEditing = !0, 
            this.filter = {}, this.showInColumnChooser = !0, this.edit = {}, this.sortDirection = "Descending", 
            merge(this, options), this.uid = getUid("grid-column");
            var valueFormatter = new ValueFormatter();
            if (options.format && (options.format.skeleton || options.format.format) && (this.setFormatter(valueFormatter.getFormatFunction(options.format)), 
            this.setParser(valueFormatter.getParserFunction(options.format))), this.field || (this.allowFiltering = !1, 
            this.allowGrouping = !1, this.allowSorting = !1), this.commands && !this.textAlign && (this.textAlign = "Right"), 
            (this.template || this.commandsTemplate) && (this.templateFn = templateCompiler(this.template || this.commandsTemplate)), 
            this.headerTemplate && (this.headerTemplateFn = templateCompiler(this.headerTemplate)), 
            this.filter.itemTemplate && (this.fltrTemplateFn = templateCompiler(this.filter.itemTemplate)), 
            this.isForeignColumn() && (isNullOrUndefined(this.editType) || "dropdownedit" === this.editType) && (this.editType = "dropdownedit", 
            this.edit.params = {
                dataSource: this.dataSource,
                query: new Query(),
                fields: {
                    value: this.foreignKeyField || this.field,
                    text: this.foreignKeyValue
                }
            }), this.sortComparer) {
                var a_1 = this.sortComparer;
                this.sortComparer = function(x, y) {
                    if ("Descending" === this.sortDirection) {
                        var z = x;
                        x = y, y = z;
                    }
                    return a_1(x, y);
                };
            }
            !this.sortComparer && this.isForeignColumn() && (this.sortComparer = function(x, y) {
                return x = getValue(_this.foreignKeyValue, getForeignData(_this, {}, x)[0]), y = getValue(_this.foreignKeyValue, getForeignData(_this, {}, y)[0]), 
                "Descending" === _this.sortDirection ? DataUtil.fnDescending(x, y) : DataUtil.fnAscending(x, y);
            });
        }
        return Column.prototype.getSortDirection = function() {
            return this.sortDirection;
        }, Column.prototype.setSortDirection = function(direction) {
            this.sortDirection = direction;
        }, Column.prototype.setProperties = function(column) {
            for (var keys = Object.keys(column), i = 0; i < keys.length; i++) this[keys[i]] = column[keys[i]];
        }, Column.prototype.isForeignColumn = function() {
            return !(!this.dataSource || !this.foreignKeyValue);
        }, Column.prototype.getFormatter = function() {
            return this.formatFn;
        }, Column.prototype.setFormatter = function(value) {
            this.formatFn = value;
        }, Column.prototype.getParser = function() {
            return this.parserFn;
        }, Column.prototype.setParser = function(value) {
            this.parserFn = value;
        }, Column.prototype.getColumnTemplate = function() {
            return this.templateFn;
        }, Column.prototype.getHeaderTemplate = function() {
            return this.headerTemplateFn;
        }, Column.prototype.getFilterItemTemplate = function() {
            return this.fltrTemplateFn;
        }, Column.prototype.getDomSetter = function() {
            return this.disableHtmlEncode ? "textContent" : "innerHTML";
        }, Column;
    }(), uid$1 = 0, scrollWidth = null, actionBegin = "actionBegin", actionComplete = "actionComplete", dataBound = "dataBound", columnDragStart = "columnDragStart", columnDrag = "columnDrag", columnDrop = "columnDrop", rowDragStart = "rowDragStart", rowDrag = "rowDrag", rowDrop = "rowDrop", initialLoad = "initial-load", initialEnd = "initial-end", dataReady = "data-ready", contentReady = "content-ready", uiUpdate = "ui-update", onEmpty = "on-empty", inBoundModelChanged = "inbound-model-changed", modelChanged = "model-changed", colGroupRefresh = "colgroup-refresh", headerRefreshed = "header-refreshed", reorderComplete = "reorder-complete", rowDragAndDropComplete = "rowdraganddrop-complete", keyPressed = "key-pressed", click = "click", destroy = "destroy", columnVisibilityChanged = "column-visible-changed", columnWidthChanged = "column-width-changed", columnPositionChanged = "column-position-changed", rowsAdded = "rows-added", rowsRemoved = "rows-removed", columnDragStop = "column-drag-stop", headerDrop = "header-drop", dataSourceModified = "datasource-modified", refreshVirtualBlock = "refresh-virtual-block", updateData = "update-data", preventBatch = "prevent-batch", dialogDestroy = "dialog-destroy", addDeleteAction = "add-delete-Action", freezeRender = "freezerender";
    !function(CellType) {
        CellType[CellType.Data = 0] = "Data", CellType[CellType.Header = 1] = "Header", 
        CellType[CellType.Summary = 2] = "Summary", CellType[CellType.GroupSummary = 3] = "GroupSummary", 
        CellType[CellType.CaptionSummary = 4] = "CaptionSummary", CellType[CellType.Filter = 5] = "Filter", 
        CellType[CellType.Indent = 6] = "Indent", CellType[CellType.GroupCaption = 7] = "GroupCaption", 
        CellType[CellType.GroupCaptionEmpty = 8] = "GroupCaptionEmpty", CellType[CellType.Expand = 9] = "Expand", 
        CellType[CellType.HeaderIndent = 10] = "HeaderIndent", CellType[CellType.StackedHeader = 11] = "StackedHeader", 
        CellType[CellType.DetailHeader = 12] = "DetailHeader", CellType[CellType.DetailExpand = 13] = "DetailExpand", 
        CellType[CellType.CommandColumn = 14] = "CommandColumn";
    }(CellType || (CellType = {}));
    var RenderType;
    !function(RenderType) {
        RenderType[RenderType.Header = 0] = "Header", RenderType[RenderType.Content = 1] = "Content", 
        RenderType[RenderType.Summary = 2] = "Summary";
    }(RenderType || (RenderType = {}));
    var ToolbarItem;
    !function(ToolbarItem) {
        ToolbarItem[ToolbarItem.Add = 0] = "Add", ToolbarItem[ToolbarItem.Edit = 1] = "Edit", 
        ToolbarItem[ToolbarItem.Update = 2] = "Update", ToolbarItem[ToolbarItem.Delete = 3] = "Delete", 
        ToolbarItem[ToolbarItem.Cancel = 4] = "Cancel", ToolbarItem[ToolbarItem.Print = 5] = "Print", 
        ToolbarItem[ToolbarItem.Search = 6] = "Search", ToolbarItem[ToolbarItem.ColumnChooser = 7] = "ColumnChooser", 
        ToolbarItem[ToolbarItem.PdfExport = 8] = "PdfExport", ToolbarItem[ToolbarItem.ExcelExport = 9] = "ExcelExport", 
        ToolbarItem[ToolbarItem.CsvExport = 10] = "CsvExport", ToolbarItem[ToolbarItem.WordExport = 11] = "WordExport";
    }(ToolbarItem || (ToolbarItem = {}));
    var Input, CLASSNAMES$1 = {
        RTL: "e-rtl",
        DISABLE: "e-disabled",
        INPUT: "e-input",
        INPUTGROUP: "e-input-group",
        FLOATINPUT: "e-float-input",
        FLOATLINE: "e-float-line",
        FLOATTEXT: "e-float-text",
        CLEARICON: "e-clear-icon",
        CLEARICONHIDE: "e-clear-icon-hide",
        LABELTOP: "e-label-top",
        LABELBOTTOM: "e-label-bottom",
        NOFLOATLABEL: "e-no-float-label",
        INPUTCUSTOMTAG: "e-input-custom-tag",
        FLOATCUSTOMTAG: "e-float-custom-tag"
    };
    !function(Input) {
        function _focusFn() {
            var label = getParentNode(this).getElementsByClassName("e-float-text")[0];
            addClass([ label ], CLASSNAMES$1.LABELTOP), label.classList.contains(CLASSNAMES$1.LABELBOTTOM) && removeClass([ label ], CLASSNAMES$1.LABELBOTTOM);
        }
        function _blurFn() {
            var parent = getParentNode(this);
            if ("" === parent.getElementsByTagName("input")[0].value) {
                var label = parent.getElementsByClassName("e-float-text")[0];
                label.classList.contains(CLASSNAMES$1.LABELTOP) && removeClass([ label ], CLASSNAMES$1.LABELTOP), 
                addClass([ label ], CLASSNAMES$1.LABELBOTTOM);
            }
        }
        function createFloatingInput(args, inputObject) {
            var floatLinelement, floatLabelElement;
            "Auto" === args.floatLabelType && function(element) {
                element.addEventListener("focus", _focusFn), element.addEventListener("blur", _blurFn);
            }(args.element), isNullOrUndefined(inputObject.container) ? (inputObject.container = createInputContainer(args, CLASSNAMES$1.FLOATINPUT, CLASSNAMES$1.FLOATCUSTOMTAG, "div"), 
            args.element.parentNode.insertBefore(inputObject.container, args.element)) : (isNullOrUndefined(args.customTag) || inputObject.container.classList.add(CLASSNAMES$1.FLOATCUSTOMTAG), 
            inputObject.container.classList.add(CLASSNAMES$1.FLOATINPUT)), floatLinelement = createElement("span", {
                className: CLASSNAMES$1.FLOATLINE
            }), floatLabelElement = createElement("label", {
                className: CLASSNAMES$1.FLOATTEXT
            }), isNullOrUndefined(args.element.id) || "" === args.element.id || (floatLabelElement.id = "label_" + args.element.id.replace(/ /g, "_"), 
            attributes(args.element, {
                "aria-labelledby": floatLabelElement.id
            })), isNullOrUndefined(args.element.placeholder) || "" === args.element.placeholder || (floatLabelElement.innerHTML = args.element.placeholder, 
            args.element.removeAttribute("placeholder")), isNullOrUndefined(args.properties) || isNullOrUndefined(args.properties.placeholder) || "" === args.properties.placeholder || (floatLabelElement.innerHTML = args.properties.placeholder), 
            floatLabelElement.innerHTML || inputObject.container.classList.add(CLASSNAMES$1.NOFLOATLABEL), 
            inputObject.container.appendChild(args.element), inputObject.container.appendChild(floatLinelement), 
            inputObject.container.appendChild(floatLabelElement), updateLabelState(args.element.value, floatLabelElement), 
            "Always" === args.floatLabelType && (floatLabelElement.classList.contains(CLASSNAMES$1.LABELBOTTOM) && removeClass([ floatLabelElement ], CLASSNAMES$1.LABELBOTTOM), 
            addClass([ floatLabelElement ], CLASSNAMES$1.LABELTOP)), "Auto" === args.floatLabelType && (args.element.addEventListener("input", function(event) {
                updateLabelState(args.element.value, floatLabelElement);
            }), args.element.addEventListener("blur", function(event) {
                updateLabelState(args.element.value, floatLabelElement);
            }));
        }
        function updateIconState(value, button) {
            value ? removeClass([ button ], CLASSNAMES$1.CLEARICONHIDE) : addClass([ button ], CLASSNAMES$1.CLEARICONHIDE);
        }
        function updateLabelState(value, label) {
            value ? (addClass([ label ], CLASSNAMES$1.LABELTOP), label.classList.contains(CLASSNAMES$1.LABELBOTTOM) && removeClass([ label ], CLASSNAMES$1.LABELBOTTOM)) : (label.classList.contains(CLASSNAMES$1.LABELTOP) && removeClass([ label ], CLASSNAMES$1.LABELTOP), 
            addClass([ label ], CLASSNAMES$1.LABELBOTTOM));
        }
        function getParentNode(element) {
            return element.parentNode;
        }
        function createClearButton(element, inputObject, initial) {
            var button = createElement("span", {
                className: CLASSNAMES$1.CLEARICON
            }), container = inputObject.container;
            if (isNullOrUndefined(initial)) {
                (inputObject.container.classList.contains(CLASSNAMES$1.FLOATINPUT) ? inputObject.container.querySelector("." + CLASSNAMES$1.FLOATTEXT) : element).insertAdjacentElement("afterend", button);
            } else container.appendChild(button);
            return !isNullOrUndefined(container) && container.classList.contains(CLASSNAMES$1.FLOATINPUT) && addClass([ container ], CLASSNAMES$1.INPUTGROUP), 
            addClass([ button ], CLASSNAMES$1.CLEARICONHIDE), function(element, button) {
                button.addEventListener("click", function(event) {
                    element.classList.contains(CLASSNAMES$1.DISABLE) || element.readOnly || (event.preventDefault(), 
                    element !== document.activeElement && element.focus(), element.value = "", addClass([ button ], CLASSNAMES$1.CLEARICONHIDE));
                }), element.addEventListener("input", function(event) {
                    updateIconState(element.value, button);
                }), element.addEventListener("focus", function(event) {
                    updateIconState(element.value, button);
                }), element.addEventListener("blur", function(event) {
                    setTimeout(function() {
                        addClass([ button ], CLASSNAMES$1.CLEARICONHIDE);
                    }, 200);
                });
            }(element, button), button;
        }
        function validateLabel(element, floatLabelType) {
            if (getParentNode(element).classList.contains(CLASSNAMES$1.FLOATINPUT) && "Auto" === floatLabelType) {
                var label = getParentNode(element).getElementsByClassName("e-float-text")[0];
                updateLabelState(element.value, label);
            }
        }
        function createInputContainer(args, className, tagClass, tag) {
            var container;
            return isNullOrUndefined(args.customTag) ? container = createElement(tag, {
                className: className
            }) : (container = createElement(args.customTag, {
                className: className
            })).classList.add(tagClass), container.classList.add("e-control-wrapper"), container;
        }
        function setCssClass(cssClass, elements, oldClass) {
            isNullOrUndefined(oldClass) || "" === oldClass || removeClass(elements, oldClass), 
            isNullOrUndefined(cssClass) || "" === cssClass || addClass(elements, cssClass);
        }
        function setPlaceholder(placeholder, element) {
            var parentElement;
            (parentElement = getParentNode(element)).classList.contains(CLASSNAMES$1.FLOATINPUT) ? isNullOrUndefined(placeholder) || "" === placeholder ? (parentElement.classList.add(CLASSNAMES$1.NOFLOATLABEL), 
            parentElement.getElementsByClassName(CLASSNAMES$1.FLOATTEXT)[0].textContent = "") : (parentElement.getElementsByClassName(CLASSNAMES$1.FLOATTEXT)[0].textContent = placeholder, 
            parentElement.classList.remove(CLASSNAMES$1.NOFLOATLABEL)) : isNullOrUndefined(placeholder) || "" === placeholder ? (element.removeAttribute("placeholder"), 
            element.removeAttribute("aria-placeholder")) : attributes(element, {
                placeholder: placeholder,
                "aria-placeholder": placeholder
            });
        }
        function setReadonly(isReadonly, element, floatLabelType) {
            isReadonly ? attributes(element, {
                readonly: ""
            }) : element.removeAttribute("readonly"), isNullOrUndefined(floatLabelType) || validateLabel(element, floatLabelType);
        }
        function setEnableRtl(isRtl, elements) {
            isRtl ? addClass(elements, CLASSNAMES$1.RTL) : removeClass(elements, CLASSNAMES$1.RTL);
        }
        function setEnabled(isEnable, element, floatLabelType) {
            var disabledAttrs = {
                disabled: "disabled",
                "aria-disabled": "true"
            };
            isEnable ? (element.classList.remove(CLASSNAMES$1.DISABLE), removeAttributes(disabledAttrs, element)) : (element.classList.add(CLASSNAMES$1.DISABLE), 
            addAttributes(disabledAttrs, element)), isNullOrUndefined(floatLabelType) || validateLabel(element, floatLabelType);
        }
        function setClearButton(isClear, element, inputObject, initial) {
            isClear ? inputObject.clearButton = createClearButton(element, inputObject, initial) : (inputObject.clearButton.remove(), 
            inputObject.clearButton = null);
        }
        function removeAttributes(attrs, element) {
            for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {
                var key = _a[_i], parentElement = void 0;
                parentElement = getParentNode(element), "disabled" === key && element.classList.remove(CLASSNAMES$1.DISABLE), 
                "disabled" === key && parentElement.classList.contains(CLASSNAMES$1.INPUTGROUP) && parentElement.classList.remove(CLASSNAMES$1.DISABLE), 
                "placeholder" === key && parentElement.classList.contains(CLASSNAMES$1.FLOATINPUT) ? parentElement.getElementsByClassName(CLASSNAMES$1.FLOATTEXT)[0].textContent = "" : element.removeAttribute(key);
            }
        }
        function addAttributes(attrs, element) {
            for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {
                var key = _a[_i], parentElement = void 0;
                parentElement = getParentNode(element), "disabled" === key && element.classList.add(CLASSNAMES$1.DISABLE), 
                "disabled" === key && parentElement.classList.contains(CLASSNAMES$1.INPUTGROUP) && parentElement.classList.add(CLASSNAMES$1.DISABLE), 
                "placeholder" === key && parentElement.classList.contains(CLASSNAMES$1.FLOATINPUT) ? parentElement.getElementsByClassName(CLASSNAMES$1.FLOATTEXT)[0].textContent = attrs[key] : element.setAttribute(key, attrs[key]);
            }
        }
        function appendSpan(iconClass, container) {
            var button = createElement("span", {
                className: iconClass
            });
            return container.appendChild(button), container.classList.contains(CLASSNAMES$1.INPUTGROUP) || container.classList.add(CLASSNAMES$1.INPUTGROUP), 
            button.addEventListener("mousedown", function() {
                container.classList.contains("e-disabled") || container.querySelector("input").readOnly || this.classList.add("e-input-btn-ripple");
            }), button.addEventListener("mouseup", function() {
                var ele = this;
                setTimeout(function() {
                    ele.classList.remove("e-input-btn-ripple");
                }, 500);
            }), button;
        }
        Input.createInput = function(args) {
            var inputObject = {
                container: null,
                buttons: [],
                clearButton: null
            };
            if (isNullOrUndefined(args.floatLabelType) || "Never" === args.floatLabelType ? (inputObject.container = createInputContainer(args, CLASSNAMES$1.INPUTGROUP, CLASSNAMES$1.INPUTCUSTOMTAG, "span"), 
            args.element.parentNode.insertBefore(inputObject.container, args.element), addClass([ args.element ], CLASSNAMES$1.INPUT), 
            inputObject.container.appendChild(args.element)) : createFloatingInput(args, inputObject), 
            args.element.addEventListener("focus", function() {
                var parent = getParentNode(this);
                parent.classList.contains("e-input-group") && parent.classList.add("e-input-focus");
            }), args.element.addEventListener("blur", function() {
                var parent = getParentNode(this);
                parent.classList.contains("e-input-group") && parent.classList.remove("e-input-focus");
            }), isNullOrUndefined(args.properties) || isNullOrUndefined(args.properties.showClearButton) || !args.properties.showClearButton || (setClearButton(args.properties.showClearButton, args.element, inputObject, !0), 
            inputObject.container.classList.contains(CLASSNAMES$1.FLOATINPUT) && addClass([ inputObject.container ], CLASSNAMES$1.INPUTGROUP)), 
            !isNullOrUndefined(args.buttons)) for (var i = 0; i < args.buttons.length; i++) inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container));
            return inputObject = function(args, inputObject) {
                if (!isNullOrUndefined(args.properties)) for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {
                    var prop = _a[_i];
                    switch (prop) {
                      case "cssClass":
                        setCssClass(args.properties.cssClass, [ inputObject.container ]);
                        break;

                      case "enabled":
                        setEnabled(args.properties.enabled, args.element);
                        break;

                      case "enableRtl":
                        setEnableRtl(args.properties.enableRtl, [ inputObject.container ]);
                        break;

                      case "placeholder":
                        setPlaceholder(args.properties.placeholder, args.element);
                        break;

                      case "readonly":
                        setReadonly(args.properties.readonly, args.element);
                    }
                }
                return inputObject;
            }(args, inputObject);
        }, Input.setValue = function(value, element, floatLabelType, clearButton) {
            if (element.value = value, isNullOrUndefined(floatLabelType) || "Auto" !== floatLabelType || validateLabel(element, floatLabelType), 
            !isNullOrUndefined(clearButton) && clearButton) {
                var parentElement = getParentNode(element), button = parentElement.getElementsByClassName(CLASSNAMES$1.CLEARICON)[0];
                element.value && parentElement.classList.contains("e-input-focus") ? removeClass([ button ], CLASSNAMES$1.CLEARICONHIDE) : addClass([ button ], CLASSNAMES$1.CLEARICONHIDE);
            }
        }, Input.setCssClass = setCssClass, Input.setPlaceholder = setPlaceholder, Input.setReadonly = setReadonly, 
        Input.setEnableRtl = setEnableRtl, Input.setEnabled = setEnabled, Input.setClearButton = setClearButton, 
        Input.removeAttributes = removeAttributes, Input.addAttributes = addAttributes, 
        Input.removeFloating = function(input) {
            var container = input.container;
            if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES$1.FLOATINPUT)) {
                var inputEle = container.querySelector("input"), placeholder = container.querySelector("." + CLASSNAMES$1.FLOATTEXT).textContent, clearButton = null !== container.querySelector(".e-clear-icon");
                detach(container.querySelector("." + CLASSNAMES$1.FLOATLINE)), detach(container.querySelector("." + CLASSNAMES$1.FLOATTEXT)), 
                classList(container, [ CLASSNAMES$1.INPUTGROUP ], [ CLASSNAMES$1.FLOATINPUT ]), 
                function(element) {
                    element.removeEventListener("focus", _focusFn), element.removeEventListener("blur", _blurFn);
                }(inputEle), attributes(inputEle, {
                    placeholder: placeholder
                }), inputEle.classList.add(CLASSNAMES$1.INPUT), clearButton || inputEle.removeAttribute("required");
            }
        }, Input.addFloating = function(input, type, placeholder) {
            var container = closest(input, "." + CLASSNAMES$1.INPUTGROUP);
            if ("Never" !== type) {
                var customTag = container.tagName, args = {
                    element: input,
                    floatLabelType: type,
                    customTag: customTag = "DIV" !== customTag && "SPAN" !== customTag ? customTag : null,
                    properties: {
                        placeholder: placeholder
                    }
                }, iconEle = container.querySelector(".e-clear-icon"), inputObj = {
                    container: container
                };
                if (input.classList.remove(CLASSNAMES$1.INPUT), createFloatingInput(args, inputObj), 
                isNullOrUndefined(iconEle) && (iconEle = container.querySelector(".e-input-group-icon")), 
                isNullOrUndefined(iconEle)) container.classList.remove(CLASSNAMES$1.INPUTGROUP); else {
                    var floatLine = container.querySelector("." + CLASSNAMES$1.FLOATLINE), floatText = container.querySelector("." + CLASSNAMES$1.FLOATTEXT);
                    container.insertBefore(input, iconEle), container.insertBefore(floatLine, iconEle), 
                    container.insertBefore(floatText, iconEle);
                }
            }
        }, Input.appendSpan = appendSpan;
    }(Input || (Input = {}));
    var ErrorOption, __extends$7 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$6 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, SPINICON = "e-input-group-icon", INTREGEXP = new RegExp("/^(-)?(d*)$/"), NumericTextBox = function(_super) {
        function NumericTextBox(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$7(NumericTextBox, _super), NumericTextBox.prototype.preRender = function() {
            this.isPrevFocused = !1, this.decimalSeparator = ".", this.intRegExp = new RegExp("/^(-)?(d*)$/"), 
            this.isCalled = !1;
            var ejInstance = getValue("ej2_instances", this.element);
            if (this.cloneElement = this.element.cloneNode(!0), this.angularTagName = null, 
            "EJS-NUMERICTEXTBOX" === this.element.tagName) {
                this.angularTagName = this.element.tagName;
                for (var input = createElement("input"), index = 0; index < this.element.attributes.length; index++) input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue), 
                input.innerHTML = this.element.innerHTML;
                this.element.parentNode.appendChild(input), this.element.parentNode.removeChild(this.element), 
                this.element = input, setValue("ej2_instances", ejInstance, this.element);
            }
            attributes(this.element, {
                role: "spinbutton",
                tabindex: "0",
                autocomplete: "off",
                "aria-live": "assertive"
            });
            this.l10n = new L10n("numerictextbox", {
                incrementTitle: "Increment value",
                decrementTitle: "Decrement value",
                placeholder: ""
            }, this.locale), this.isValidState = !0, this.inputStyle = null, this.inputName = null, 
            this.cultureInfo = {}, this.initCultureInfo(), this.initCultureFunc(), this.checkAttributes(), 
            this.prevValue = this.value, this.validateMinMax(), this.validateStep(), null === this.placeholder && this.updatePlaceholder();
        }, NumericTextBox.prototype.render = function() {
            "input" === this.element.tagName.toLowerCase() && (this.createWrapper(), this.showSpinButton && this.spinBtnCreation(), 
            isNullOrUndefined(this.width) || setStyleAttribute(this.container, {
                width: formatUnit(this.width)
            }), this.changeValue(this.value), this.wireEvents(), null === this.value || isNaN(this.value) || this.decimals && this.setProperties({
                value: this.roundNumber(this.value, this.decimals)
            }, !0));
        }, NumericTextBox.prototype.checkAttributes = function() {
            for (var _i = 0, attributes_1 = [ "value", "min", "max", "step", "disabled", "readonly", "style", "name" ]; _i < attributes_1.length; _i++) {
                var prop = attributes_1[_i];
                if (!isNullOrUndefined(this.element.getAttribute(prop))) switch (prop) {
                  case "disabled":
                    var enabled = "disabled" !== this.element.getAttribute(prop) && "true" !== this.element.getAttribute(prop);
                    this.setProperties({
                        enabled: enabled
                    }, !0);
                    break;

                  case "readonly":
                    var readonly = "readonly" === this.element.getAttribute(prop) || "true" === this.element.getAttribute(prop);
                    this.setProperties({
                        readonly: readonly
                    }, !0);
                    break;

                  case "style":
                    this.inputStyle = this.element.getAttribute(prop);
                    break;

                  case "name":
                    this.inputName = this.element.getAttribute(prop);
                    break;

                  default:
                    var value = this.instance.getNumberParser({
                        format: "n"
                    })(this.element.getAttribute(prop));
                    (null !== value && !isNaN(value) || "value" === prop) && this.setProperties(setValue(prop, value, {}), !0);
                }
            }
        }, NumericTextBox.prototype.updatePlaceholder = function() {
            this.setProperties({
                placeholder: this.l10n.getConstant("placeholder")
            }, !0);
        }, NumericTextBox.prototype.initCultureFunc = function() {
            this.instance = new Internationalization(this.locale);
        }, NumericTextBox.prototype.initCultureInfo = function() {
            this.cultureInfo.format = this.format, null !== getValue("currency", this) && (setValue("currency", this.currency, this.cultureInfo), 
            this.setProperties({
                currencyCode: this.currency
            }, !0));
        }, NumericTextBox.prototype.createWrapper = function() {
            var inputObj = Input.createInput({
                element: this.element,
                customTag: this.angularTagName,
                floatLabelType: this.floatLabelType,
                properties: {
                    readonly: this.readonly,
                    placeholder: this.placeholder,
                    cssClass: this.cssClass,
                    enableRtl: this.enableRtl,
                    enabled: this.enabled
                }
            });
            this.container = inputObj.container, this.container.setAttribute("class", "e-control-wrapper e-numeric " + this.container.getAttribute("class")), 
            this.readonly && attributes(this.element, {
                "aria-readonly": "true"
            }), this.hiddenInput = createElement("input", {
                attrs: {
                    type: "hidden"
                }
            }), this.inputName = null !== this.inputName ? this.inputName : this.element.id, 
            this.element.removeAttribute("name"), attributes(this.hiddenInput, {
                name: this.inputName
            }), this.container.insertBefore(this.hiddenInput, this.element), null !== this.inputStyle && attributes(this.container, {
                style: this.inputStyle
            });
        }, NumericTextBox.prototype.spinBtnCreation = function() {
            this.spinDown = Input.appendSpan(SPINICON + " e-spin-down", this.container), attributes(this.spinDown, {
                title: this.l10n.getConstant("decrementTitle"),
                "aria-label": this.l10n.getConstant("decrementTitle")
            }), this.spinUp = Input.appendSpan(SPINICON + " e-spin-up", this.container), attributes(this.spinUp, {
                title: this.l10n.getConstant("incrementTitle"),
                "aria-label": this.l10n.getConstant("incrementTitle")
            }), this.wireSpinBtnEvents();
        }, NumericTextBox.prototype.validateMinMax = function() {
            ("number" != typeof this.min || isNaN(this.min)) && this.setProperties({
                min: -Number.MAX_VALUE
            }, !0), ("number" != typeof this.max || isNaN(this.max)) && this.setProperties({
                max: Number.MAX_VALUE
            }, !0), null !== this.decimals && (this.min !== -Number.MAX_VALUE && this.setProperties({
                min: this.instance.getNumberParser({
                    format: "n"
                })(this.formattedValue(this.decimals, this.min))
            }, !0), this.max !== Number.MAX_VALUE && this.setProperties({
                max: this.instance.getNumberParser({
                    format: "n"
                })(this.formattedValue(this.decimals, this.max))
            }, !0)), this.setProperties({
                min: this.min > this.max ? this.max : this.min
            }, !0), attributes(this.element, {
                "aria-valuemin": this.min.toString(),
                "aria-valuemax": this.max.toString()
            });
        }, NumericTextBox.prototype.formattedValue = function(decimals, value) {
            return this.instance.getNumberFormat({
                maximumFractionDigits: decimals,
                minimumFractionDigits: decimals,
                useGrouping: !1
            })(value);
        }, NumericTextBox.prototype.validateStep = function() {
            null !== this.decimals && this.setProperties({
                step: this.instance.getNumberParser({
                    format: "n"
                })(this.formattedValue(this.decimals, this.step))
            }, !0);
        }, NumericTextBox.prototype.action = function(operation, event) {
            this.isInteract = !0;
            var value = this.isFocused ? this.instance.getNumberParser({
                format: "n"
            })(this.element.value) : this.value;
            this.changeValue(this.performAction(value, this.step, operation)), this.raiseChangeEvent(event);
        }, NumericTextBox.prototype.checkErrorClass = function() {
            this.isValidState ? removeClass([ this.container ], "e-error") : addClass([ this.container ], "e-error"), 
            attributes(this.element, {
                "aria-invalid": this.isValidState ? "false" : "true"
            });
        }, NumericTextBox.prototype.wireEvents = function() {
            EventHandler.add(this.element, "focus", this.focusIn, this), EventHandler.add(this.element, "blur", this.focusOut, this), 
            EventHandler.add(this.element, "keydown", this.keyDownHandler, this), EventHandler.add(this.element, "keypress", this.keyPressHandler, this), 
            EventHandler.add(this.element, "change", this.changeHandler, this), EventHandler.add(this.element, "paste", this.pasteHandler, this);
        }, NumericTextBox.prototype.wireSpinBtnEvents = function() {
            EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this), 
            EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this), 
            EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this), 
            EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this), 
            EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this), 
            EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);
        }, NumericTextBox.prototype.unwireEvents = function() {
            EventHandler.remove(this.element, "focus", this.focusIn), EventHandler.remove(this.element, "blur", this.focusOut), 
            EventHandler.remove(this.element, "keydown", this.keyDownHandler), EventHandler.remove(this.element, "keypress", this.keyPressHandler), 
            EventHandler.remove(this.element, "change", this.changeHandler), EventHandler.remove(this.element, "paste", this.pasteHandler);
        }, NumericTextBox.prototype.unwireSpinBtnEvents = function() {
            EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner), 
            EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner), 
            EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner), 
            EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner), 
            EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner), 
            EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);
        }, NumericTextBox.prototype.changeHandler = function(event) {
            this.element.value.length || this.setProperties({
                value: null
            }, !0);
            var parsedInput = this.instance.getNumberParser({
                format: "n"
            })(this.element.value);
            this.updateValue(parsedInput, event);
        }, NumericTextBox.prototype.raiseChangeEvent = function(event) {
            if (this.prevValue !== this.value) {
                var eventArgs = {};
                this.changeEventArgs = {
                    value: this.value,
                    previousValue: this.prevValue,
                    isInteraction: this.isInteract,
                    event: event
                }, event && (this.changeEventArgs.event = event), merge(eventArgs, this.changeEventArgs), 
                this.prevValue = this.value, this.isInteract = !1, this.trigger("change", eventArgs);
            }
        }, NumericTextBox.prototype.pasteHandler = function() {
            var _this = this, beforeUpdate = this.element.value;
            setTimeout(function() {
                _this.numericRegex().test(_this.element.value) || _this.setElementValue(beforeUpdate);
            });
        }, NumericTextBox.prototype.keyDownHandler = function(event) {
            switch (event.keyCode) {
              case 38:
                event.preventDefault(), this.action("increment", event);
                break;

              case 40:
                event.preventDefault(), this.action("decrement", event);
            }
            this.element.value.length || (this.setProperties({
                value: null
            }, !0), this.isKeyDown = !0, this.updateValue(this.instance.getNumberParser({
                format: "n"
            })(this.element.value)), this.isKeyDown = !1);
        }, NumericTextBox.prototype.performAction = function(value, step, operation) {
            (null === value || isNaN(value)) && (value = 0);
            var updatedValue = "increment" === operation ? value + step : value - step;
            return updatedValue = this.correctRounding(value, step, updatedValue), this.strictMode ? this.trimValue(updatedValue) : updatedValue;
        }, NumericTextBox.prototype.correctRounding = function(value, step, result) {
            var floatExp = new RegExp("[,.](.*)"), floatValue = (value.toString(), step.toString(), 
            floatExp.test(value.toString())), floatStep = floatExp.test(step.toString());
            if (floatValue || floatStep) {
                var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0, stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0, max = Math.max(valueCount, stepCount);
                return value = this.roundValue(result, max);
            }
            return result;
        }, NumericTextBox.prototype.roundValue = function(result, precision) {
            precision = precision || 0;
            var divide = Math.pow(10, precision);
            return result *= divide, result = Math.round(result) / divide;
        }, NumericTextBox.prototype.updateValue = function(value, event) {
            event && (this.isInteract = !0), null === value || isNaN(value) || this.decimals && (value = this.roundNumber(value, this.decimals)), 
            this.changeValue(null === value || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value), 
            this.isKeyDown || this.raiseChangeEvent(event);
        }, NumericTextBox.prototype.updateCurrency = function(prop, propVal) {
            setValue(prop, propVal, this.cultureInfo), this.updateValue(this.value);
        }, NumericTextBox.prototype.changeValue = function(value) {
            if (value || 0 === value) {
                var numberOfDecimals = void 0, decimalPart = value.toString().split(".")[1];
                numberOfDecimals = decimalPart && decimalPart.length ? decimalPart.length : 0, null !== this.decimals && (numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals), 
                this.setProperties({
                    value: this.roundNumber(value, numberOfDecimals)
                }, !0);
            } else value = null, this.setProperties({
                value: value
            }, !0);
            this.modifyText(), this.strictMode || this.validateState();
        }, NumericTextBox.prototype.modifyText = function() {
            if (this.value || 0 === this.value) {
                var value = this.formatNumber(), elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);
                this.setElementValue(elementValue), attributes(this.element, {
                    "aria-valuenow": value
                }), this.hiddenInput.value = value;
            } else this.setElementValue(""), this.element.removeAttribute("aria-valuenow"), 
            this.hiddenInput.value = null;
        }, NumericTextBox.prototype.setElementValue = function(val, element) {
            Input.setValue(val, element || this.element, this.floatLabelType);
        }, NumericTextBox.prototype.validateState = function() {
            this.isValidState = !0, (this.value || 0 === this.value) && (this.isValidState = !(this.value > this.max || this.value < this.min)), 
            this.checkErrorClass();
        }, NumericTextBox.prototype.formatNumber = function() {
            var numberOfDecimals, decimalPart = this.value.toString().split(".")[1];
            return numberOfDecimals = decimalPart && decimalPart.length ? decimalPart.length : 0, 
            null !== this.decimals && (numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals), 
            this.instance.getNumberFormat({
                maximumFractionDigits: numberOfDecimals,
                minimumFractionDigits: numberOfDecimals,
                useGrouping: !1
            })(this.value);
        }, NumericTextBox.prototype.trimValue = function(value) {
            return value > this.max ? this.max : value < this.min ? this.min : value;
        }, NumericTextBox.prototype.roundNumber = function(value, precision) {
            var result = value, decimals = precision || 0, result1 = result.toString().split("e"), result2 = (result = Math.round(Number(result1[0] + "e" + (result1[1] ? Number(result1[1]) + decimals : decimals)))).toString().split("e");
            return result = Number(result2[0] + "e" + (result2[1] ? Number(result2[1]) - decimals : -decimals)), 
            Number(result.toFixed(decimals));
        }, NumericTextBox.prototype.cancelEvent = function(event) {
            return event.preventDefault(), !1;
        }, NumericTextBox.prototype.keyPressHandler = function(event) {
            if (0 === event.which || event.metaKey || event.ctrlKey || 8 === event.keyCode || 13 === event.keyCode) return !0;
            var currentChar = String.fromCharCode(event.which), text = this.element.value;
            return text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd), 
            !!this.numericRegex().test(text) || (event.preventDefault(), event.stopPropagation(), 
            !1);
        }, NumericTextBox.prototype.numericRegex = function() {
            var decimalSeparator = getValue("decimal", getNumericObject(this.locale)), fractionRule = "*";
            return "." === decimalSeparator && (decimalSeparator = "\\" + decimalSeparator), 
            0 === this.decimals ? INTREGEXP : (this.decimals && this.validateDecimalOnType && (fractionRule = "{0," + this.decimals + "}"), 
            new RegExp("^(-)?(((\\d+(" + decimalSeparator + "\\d" + fractionRule + ")?)|(" + decimalSeparator + "\\d" + fractionRule + ")))?$"));
        }, NumericTextBox.prototype.mouseWheel = function(event) {
            event.preventDefault();
            var delta, rawEvent = event;
            rawEvent.wheelDelta ? delta = rawEvent.wheelDelta / 120 : rawEvent.detail && (delta = -rawEvent.detail / 3), 
            delta > 0 ? this.action("increment", event) : delta < 0 && this.action("decrement", event), 
            this.cancelEvent(event);
        }, NumericTextBox.prototype.focusIn = function(event) {
            if (this.enabled && !this.readonly) {
                if (this.isFocused = !0, removeClass([ this.container ], "e-error"), this.prevValue = this.value, 
                this.value || 0 === this.value) {
                    var formatValue = this.formatNumber();
                    this.setElementValue(formatValue), this.isPrevFocused || this.element.setSelectionRange(0, formatValue.length);
                }
                Browser.isDevice || EventHandler.add(this.element, "mousewheel DOMMouseScroll", this.mouseWheel, this);
            }
        }, NumericTextBox.prototype.focusOut = function(event) {
            var _this = this;
            if (this.isPrevFocused) {
                if (event.preventDefault(), Browser.isDevice) {
                    var value_1 = this.element.value;
                    this.element.focus(), this.isPrevFocused = !1;
                    var ele_1 = this.element;
                    setTimeout(function() {
                        _this.setElementValue(value_1, ele_1);
                    }, 200);
                }
            } else {
                this.isFocused = !1, this.element.value.length || this.setProperties({
                    value: null
                }, !0);
                var parsedInput = this.instance.getNumberParser({
                    format: "n"
                })(this.element.value);
                this.updateValue(parsedInput), Browser.isDevice || EventHandler.remove(this.element, "mousewheel DOMMouseScroll", this.mouseWheel);
            }
        }, NumericTextBox.prototype.mouseDownOnSpinner = function(event) {
            var _this = this;
            if (this.isFocused && (this.isPrevFocused = !0, event.preventDefault()), this.getElementData(event)) {
                this.getElementData(event);
                var target = event.currentTarget, action = target.classList.contains("e-spin-up") ? "increment" : "decrement";
                EventHandler.add(target, "mouseleave", this.mouseUpClick, this), this.timeOut = setInterval(function() {
                    _this.isCalled = !0, _this.action(action, event);
                }, 150), EventHandler.add(document, "mouseup", this.mouseUpClick, this);
            }
        }, NumericTextBox.prototype.touchMoveOnSpinner = function(event) {
            document.elementFromPoint(event.clientX, event.clientY).classList.contains(SPINICON) || clearInterval(this.timeOut);
        }, NumericTextBox.prototype.mouseUpOnSpinner = function(event) {
            if (this.isPrevFocused && (this.element.focus(), Browser.isDevice || (this.isPrevFocused = !1)), 
            Browser.isDevice || event.preventDefault(), this.getElementData(event)) {
                var target = event.currentTarget, action = target.classList.contains("e-spin-up") ? "increment" : "decrement";
                EventHandler.remove(target, "mouseleave", this.mouseUpClick), this.isCalled || this.action(action, event), 
                this.isCalled = !1, EventHandler.remove(document, "mouseup", this.mouseUpClick);
            }
        }, NumericTextBox.prototype.getElementData = function(event) {
            return !(event.which && 3 === event.which || event.button && 2 === event.button || !this.enabled || this.readonly) && (clearInterval(this.timeOut), 
            !0);
        }, NumericTextBox.prototype.mouseUpClick = function(event) {
            event.stopPropagation(), clearInterval(this.timeOut), this.isCalled = !1, EventHandler.remove(this.spinUp, "mouseleave", this.mouseUpClick), 
            EventHandler.remove(this.spinDown, "mouseleave", this.mouseUpClick);
        }, NumericTextBox.prototype.increment = function(step) {
            void 0 === step && (step = this.step), this.changeValue(this.performAction(this.value, step, "increment"));
        }, NumericTextBox.prototype.decrement = function(step) {
            void 0 === step && (step = this.step), this.changeValue(this.performAction(this.value, step, "decrement"));
        }, NumericTextBox.prototype.destroy = function() {
            this.unwireEvents(), detach(this.hiddenInput), this.showSpinButton && (this.unwireSpinBtnEvents(), 
            detach(this.spinUp), detach(this.spinDown)), this.container.parentElement.appendChild(this.cloneElement), 
            detach(this.container), _super.prototype.destroy.call(this);
        }, NumericTextBox.prototype.getText = function() {
            return this.element.value;
        }, NumericTextBox.prototype.getPersistData = function() {
            return this.addOnPersist([ "value" ]);
        }, NumericTextBox.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "width":
                    setStyleAttribute(this.container, {
                        width: formatUnit(newProp.width)
                    });
                    break;

                  case "cssClass":
                    Input.setCssClass(newProp.cssClass, [ this.container ], oldProp.cssClass);
                    break;

                  case "enabled":
                    Input.setEnabled(newProp.enabled, this.element);
                    break;

                  case "enableRtl":
                    Input.setEnableRtl(newProp.enableRtl, [ this.container ]);
                    break;

                  case "readonly":
                    Input.setReadonly(newProp.readonly, this.element), this.readonly ? attributes(this.element, {
                        "aria-readonly": "true"
                    }) : this.element.removeAttribute("aria-readonly");
                    break;

                  case "placeholder":
                    Input.setPlaceholder(newProp.placeholder, this.element);
                    break;

                  case "step":
                    this.step = newProp.step, this.validateStep();
                    break;

                  case "showSpinButton":
                    newProp.showSpinButton ? this.spinBtnCreation() : (detach(this.spinUp), detach(this.spinDown));
                    break;

                  case "value":
                    this.updateValue(newProp.value);
                    break;

                  case "min":
                  case "max":
                    setValue(prop, getValue(prop, newProp), this), this.validateMinMax(), this.updateValue(this.value);
                    break;

                  case "strictMode":
                    this.strictMode = newProp.strictMode, this.updateValue(this.value), this.validateState();
                    break;

                  case "locale":
                    this.initCultureFunc(), this.l10n.setLocale(this.locale), isNullOrUndefined(this.spinDown) || attributes(this.spinDown, {
                        title: this.l10n.getConstant("decrementTitle"),
                        "aria-label": this.l10n.getConstant("decrementTitle")
                    }), isNullOrUndefined(this.spinUp) || attributes(this.spinUp, {
                        title: this.l10n.getConstant("incrementTitle"),
                        "aria-label": this.l10n.getConstant("incrementTitle")
                    }), this.updatePlaceholder(), Input.setPlaceholder(this.placeholder, this.element), 
                    this.updateValue(this.value);
                    break;

                  case "currency":
                    var propVal = getValue(prop, newProp);
                    this.setProperties({
                        currencyCode: propVal
                    }, !0), this.updateCurrency(prop, propVal);
                    break;

                  case "currencyCode":
                    var propValue = getValue(prop, newProp);
                    this.setProperties({
                        currency: propValue
                    }, !0), this.updateCurrency("currency", propValue);
                    break;

                  case "format":
                    setValue(prop, getValue(prop, newProp), this), this.initCultureInfo(), this.updateValue(this.value);
                    break;

                  case "decimals":
                    this.decimals = newProp.decimals, this.updateValue(this.value);
                }
            }
        }, NumericTextBox.prototype.getModuleName = function() {
            return "numerictextbox";
        }, __decorate$6([ Property("") ], NumericTextBox.prototype, "cssClass", void 0), 
        __decorate$6([ Property(null) ], NumericTextBox.prototype, "value", void 0), __decorate$6([ Property(-Number.MAX_VALUE) ], NumericTextBox.prototype, "min", void 0), 
        __decorate$6([ Property(Number.MAX_VALUE) ], NumericTextBox.prototype, "max", void 0), 
        __decorate$6([ Property(1) ], NumericTextBox.prototype, "step", void 0), __decorate$6([ Property(null) ], NumericTextBox.prototype, "width", void 0), 
        __decorate$6([ Property(null) ], NumericTextBox.prototype, "placeholder", void 0), 
        __decorate$6([ Property(!0) ], NumericTextBox.prototype, "showSpinButton", void 0), 
        __decorate$6([ Property(!1) ], NumericTextBox.prototype, "readonly", void 0), __decorate$6([ Property(!0) ], NumericTextBox.prototype, "enabled", void 0), 
        __decorate$6([ Property(!1) ], NumericTextBox.prototype, "enableRtl", void 0), __decorate$6([ Property(!1) ], NumericTextBox.prototype, "enablePersistence", void 0), 
        __decorate$6([ Property("n2") ], NumericTextBox.prototype, "format", void 0), __decorate$6([ Property(null) ], NumericTextBox.prototype, "decimals", void 0), 
        __decorate$6([ Property(null) ], NumericTextBox.prototype, "currency", void 0), 
        __decorate$6([ Property(null) ], NumericTextBox.prototype, "currencyCode", void 0), 
        __decorate$6([ Property(!0) ], NumericTextBox.prototype, "strictMode", void 0), 
        __decorate$6([ Property(!1) ], NumericTextBox.prototype, "validateDecimalOnType", void 0), 
        __decorate$6([ Property("Never") ], NumericTextBox.prototype, "floatLabelType", void 0), 
        __decorate$6([ Event() ], NumericTextBox.prototype, "created", void 0), __decorate$6([ Event() ], NumericTextBox.prototype, "destroyed", void 0), 
        __decorate$6([ Event() ], NumericTextBox.prototype, "change", void 0), NumericTextBox = __decorate$6([ NotifyPropertyChanges ], NumericTextBox);
    }(Component), ERROR$1 = "e-error", INPUTGROUP = "e-input-group", FLOATINPUT = "e-float-input", UTILMASK = "e-utility-mask", TOPLABEL = "e-label-top", BOTTOMLABEL = "e-label-bottom", regularExpressions = {
        "0": "[0-9]",
        "9": "[0-9 ]",
        "#": "[0-9 +-]",
        L: "[A-Za-z]",
        "?": "[A-Za-z ]",
        "&": "[^ ]+",
        C: "[^]+",
        A: "[A-Za-z0-9]",
        a: "[A-Za-z0-9 ]"
    }, MaskUndo = function() {
        return function() {};
    }(), __extends$1$4 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$1$4 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, MaskedTextBox = function(_super) {
        function MaskedTextBox(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$1$4(MaskedTextBox, _super), MaskedTextBox.prototype.getModuleName = function() {
            return "maskedtextbox";
        }, MaskedTextBox.prototype.preRender = function() {
            this.promptMask = "", this.hiddenMask = "", this.escapeMaskValue = "", this.regExpCollec = regularExpressions, 
            this.customRegExpCollec = [], this.undoCollec = [], this.redoCollec = [], this.changeEventArgs = {}, 
            this.focusEventArgs = {}, this.maskKeyPress = !1, this.isFocus = !1, this.isInitial = !1, 
            this.isIosInvalid = !1;
            var ejInstance = getValue("ej2_instances", this.element);
            if (this.cloneElement = this.element.cloneNode(!0), this.angularTagName = null, 
            "EJS-MASKEDTEXTBOX" === this.element.tagName) {
                this.angularTagName = this.element.tagName;
                for (var input = createElement("input"), i = 0; i < this.element.attributes.length; i++) input.setAttribute(this.element.attributes[i].nodeName, this.element.attributes[i].nodeValue), 
                input.innerHTML = this.element.innerHTML;
                this.element.parentNode.appendChild(input), this.element.parentNode.removeChild(this.element), 
                this.element = input, setValue("ej2_instances", ejInstance, this.element);
            }
        }, MaskedTextBox.prototype.getPersistData = function() {
            return this.addOnPersist([ "value" ]);
        }, MaskedTextBox.prototype.render = function() {
            "input" === this.element.tagName.toLowerCase() && ("Never" === this.floatLabelType && addClass([ this.element ], "e-input"), 
            this.createWrapper(), this.isInitial = !0, this.resetMaskedTextBox(), this.isInitial = !1, 
            this.setMaskPlaceholder(!0), this.setWidth(this.width));
        }, MaskedTextBox.prototype.resetMaskedTextBox = function() {
            this.promptMask = "", this.hiddenMask = "", this.escapeMaskValue = "", this.customRegExpCollec = [], 
            this.undoCollec = [], this.redoCollec = [], this.promptChar.length > 1 && (this.promptChar = this.promptChar[0]), 
            createMask.call(this), applyMask.call(this);
            var val = strippedValue.call(this, this.element);
            this.prevValue = val, this.value = val, this.isInitial || unwireEvents.call(this), 
            wireEvents.call(this);
        }, MaskedTextBox.prototype.setMaskPlaceholder = function(setVal) {
            this.placeholder && (Input.setPlaceholder(this.placeholder, this.element), this.element.value === this.promptMask && setVal && "Always" !== this.floatLabelType && setElementValue.call(this, ""), 
            "Never" === this.floatLabelType && maskInputBlurHandler.call(this));
        }, MaskedTextBox.prototype.setCssClass = function(cssClass, element) {
            cssClass && addClass(element, cssClass);
        }, MaskedTextBox.prototype.setWidth = function(width) {
            isNullOrUndefined(width) || (this.element.style.width = formatUnit(width));
        }, MaskedTextBox.prototype.createWrapper = function() {
            this.inputObj = Input.createInput({
                element: this.element,
                customTag: this.angularTagName,
                floatLabelType: this.floatLabelType,
                properties: {
                    enableRtl: this.enableRtl,
                    enabled: this.enabled,
                    placeholder: this.placeholder
                }
            }), this.inputObj.container.setAttribute("class", "e-widget e-control-wrapper e-mask " + this.inputObj.container.getAttribute("class"));
        }, MaskedTextBox.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "value":
                    setMaskValue.call(this, this.value), this.placeholder && this.setMaskPlaceholder(!1);
                    break;

                  case "placeholder":
                    this.setMaskPlaceholder(!0);
                    break;

                  case "width":
                    this.setWidth(newProp.width);
                    break;

                  case "cssClass":
                    this.setCssClass(newProp.cssClass, [ this.inputObj.container ]);
                    break;

                  case "enabled":
                    Input.setEnabled(newProp.enabled, this.element);
                    break;

                  case "enableRtl":
                    Input.setEnableRtl(newProp.enableRtl, [ this.inputObj.container ]);
                    break;

                  case "customCharacters":
                    this.customCharacters = newProp.customCharacters, this.resetMaskedTextBox();
                    break;

                  case "mask":
                    var strippedValue_1 = this.value;
                    this.mask = newProp.mask, this.updateValue(strippedValue_1);
                    break;

                  case "promptChar":
                    newProp.promptChar.length > 1 && (newProp.promptChar = newProp.promptChar[0]), newProp.promptChar ? this.promptChar = newProp.promptChar : this.promptChar = "_";
                    var value = this.element.value.replace(new RegExp("[" + oldProp.promptChar + "]", "g"), this.promptChar);
                    this.promptMask === this.element.value && (value = this.promptMask.replace(new RegExp("[" + oldProp.promptChar + "]", "g"), this.promptChar)), 
                    this.promptMask = this.promptMask.replace(new RegExp("[" + oldProp.promptChar + "]", "g"), this.promptChar), 
                    this.undoCollec = this.redoCollec = [], setElementValue.call(this, value);
                }
            }
        }, MaskedTextBox.prototype.updateValue = function(strippedVal) {
            this.resetMaskedTextBox(), setMaskValue.call(this, strippedVal);
        }, MaskedTextBox.prototype.getMaskedValue = function() {
            return unstrippedValue.call(this, this.element);
        }, MaskedTextBox.prototype.destroy = function() {
            unwireEvents.call(this), this.inputObj.container.parentElement.appendChild(this.cloneElement), 
            detach(this.inputObj.container), _super.prototype.destroy.call(this);
        }, __decorate$1$4([ Property(null) ], MaskedTextBox.prototype, "cssClass", void 0), 
        __decorate$1$4([ Property(null) ], MaskedTextBox.prototype, "width", void 0), __decorate$1$4([ Property(null) ], MaskedTextBox.prototype, "placeholder", void 0), 
        __decorate$1$4([ Property("Never") ], MaskedTextBox.prototype, "floatLabelType", void 0), 
        __decorate$1$4([ Property(!0) ], MaskedTextBox.prototype, "enabled", void 0), __decorate$1$4([ Property(!1) ], MaskedTextBox.prototype, "enablePersistence", void 0), 
        __decorate$1$4([ Property(!1) ], MaskedTextBox.prototype, "enableRtl", void 0), 
        __decorate$1$4([ Property(null) ], MaskedTextBox.prototype, "mask", void 0), __decorate$1$4([ Property("_") ], MaskedTextBox.prototype, "promptChar", void 0), 
        __decorate$1$4([ Property(null) ], MaskedTextBox.prototype, "value", void 0), __decorate$1$4([ Property(null) ], MaskedTextBox.prototype, "customCharacters", void 0), 
        __decorate$1$4([ Event() ], MaskedTextBox.prototype, "created", void 0), __decorate$1$4([ Event() ], MaskedTextBox.prototype, "destroyed", void 0), 
        __decorate$1$4([ Event() ], MaskedTextBox.prototype, "change", void 0), __decorate$1$4([ Event() ], MaskedTextBox.prototype, "focus", void 0), 
        MaskedTextBox = __decorate$1$4([ NotifyPropertyChanges ], MaskedTextBox);
    }(Component), __extends$2$4 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$2$4 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, TicksData = function(_super) {
        function TicksData() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$2$4(TicksData, _super), __decorate$2$4([ Property("None") ], TicksData.prototype, "placement", void 0), 
        __decorate$2$4([ Property(10) ], TicksData.prototype, "largeStep", void 0), __decorate$2$4([ Property(1) ], TicksData.prototype, "smallStep", void 0), 
        __decorate$2$4([ Property(!1) ], TicksData.prototype, "showSmallTicks", void 0), 
        __decorate$2$4([ Property(null) ], TicksData.prototype, "format", void 0), TicksData;
    }(ChildProperty), TooltipData = function(_super) {
        function TooltipData() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$2$4(TooltipData, _super), __decorate$2$4([ Property("") ], TooltipData.prototype, "cssClass", void 0), 
        __decorate$2$4([ Property("Before") ], TooltipData.prototype, "placement", void 0), 
        __decorate$2$4([ Property("Focus") ], TooltipData.prototype, "showOn", void 0), 
        __decorate$2$4([ Property(!1) ], TooltipData.prototype, "isVisible", void 0), __decorate$2$4([ Property(null) ], TooltipData.prototype, "format", void 0), 
        TooltipData;
    }(ChildProperty), classNames_root = "e-slider", classNames_rtl = "e-rtl", classNames_sliderHiddenInput = "e-slider-input", classNames_sliderHandle = "e-handle", classNames_rangeBar = "e-range", classNames_sliderButton = "e-slider-button", classNames_firstButton = "e-first-button", classNames_secondButton = "e-second-button", classNames_scale = "e-scale", classNames_tick = "e-tick", classNames_large = "e-large", classNames_tickValue = "e-tick-value", classNames_sliderTooltip = "e-slider-tooltip", classNames_sliderHover = "e-slider-hover", classNames_sliderFirstHandle = "e-handle-first", classNames_sliderSecondHandle = "e-handle-second", classNames_sliderDisabled = "e-disabled", classNames_sliderContainer = "e-slider-container", classNames_horizontalTooltipBefore = "e-slider-horizontal-before", classNames_horizontalTooltipAfter = "e-slider-horizontal-after", classNames_verticalTooltipBefore = "e-slider-vertical-before", classNames_verticalTooltipAfter = "e-slider-vertical-after", classNames_materialTooltipOpen = "e-material-tooltip-open", classNames_materialTooltipActive = "e-tooltip-active", classNames_materialSlider = "e-material-slider", classNames_sliderTrack = "e-slider-track", classNames_sliderHandleFocused = "e-handle-focused", classNames_verticalSlider = "e-vertical", classNames_horizontalSlider = "e-horizontal", classNames_sliderHandleStart = "e-handle-start", classNames_sliderTooltipStart = "e-material-tooltip-start", classNames_sliderTabHandle = "e-tab-handle", classNames_sliderButtonIcon = "e-button-icon", classNames_sliderSmallSize = "e-small-size", classNames_sliderTickPosition = "e-tick-pos", classNames_sliderFirstTick = "e-first-tick", classNames_sliderLastTick = "e-last-tick", classNames_sliderButtonClass = "e-slider-btn", classNames_sliderTabTrack = "e-tab-track", classNames_sliderTabRange = "e-tab-range", classNames_sliderActiveHandle = "e-handle-active", classNames_sliderMaterialHandle = "e-material-handle", classNames_sliderMaterialRange = "e-material-range", classNames_sliderMaterialDefault = "e-material-default", classNames_materialTooltipShow = "e-material-tooltip-show", classNames_materialTooltipHide = "e-material-tooltip-hide", classNames_readOnly = "e-read-only", Slider = function(_super) {
        function Slider(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.horDir = "left", _this.verDir = "bottom", _this.transition = {
                handle: "left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",
                rangeBar: "all .4s cubic-bezier(.25, .8, .25, 1)"
            }, _this.transitionOnMaterialTooltip = {
                handle: "left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out",
                rangeBar: "left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"
            }, _this.scaleTransform = "transform .4s cubic-bezier(.25, .8, .25, 1)", _this.customAriaText = null, 
            _this;
        }
        return __extends$2$4(Slider, _super), Slider.prototype.preRender = function() {
            this.l10n = new L10n("slider", {
                incrementTitle: "Increase",
                decrementTitle: "Decrease"
            }, this.locale), this.tickElementCollection = [], this.tooltipFormatInfo = {}, this.ticksFormatInfo = {}, 
            this.initCultureInfo(), this.initCultureFunc();
        }, Slider.prototype.initCultureFunc = function() {
            this.internationalization = new Internationalization(this.locale);
        }, Slider.prototype.initCultureInfo = function() {
            this.tooltipFormatInfo.format = isNullOrUndefined(this.tooltip.format) ? null : this.tooltip.format, 
            this.ticksFormatInfo.format = isNullOrUndefined(this.ticks.format) ? null : this.ticks.format;
        }, Slider.prototype.formatString = function(value, formatInfo) {
            var formatValue = null, formatString = null;
            if (value || 0 === value) {
                formatValue = this.formatNumber(value);
                var numberOfDecimals = this.numberOfDecimals(value);
                formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));
            }
            return {
                elementVal: formatValue,
                formatString: formatString
            };
        }, Slider.prototype.formatNumber = function(value) {
            var numberOfDecimals = this.numberOfDecimals(value);
            return this.internationalization.getNumberFormat({
                maximumFractionDigits: numberOfDecimals,
                minimumFractionDigits: numberOfDecimals,
                useGrouping: !1
            })(value);
        }, Slider.prototype.numberOfDecimals = function(value) {
            var decimalPart = value.toString().split(".")[1];
            return decimalPart && decimalPart.length ? decimalPart.length : 0;
        }, Slider.prototype.makeRoundNumber = function(value, precision) {
            var decimals = precision || 0;
            return Number(value.toFixed(decimals));
        }, Slider.prototype.fractionalToInteger = function(value) {
            value = 0 === this.numberOfDecimals(value) ? Number(value).toFixed(this.noOfDecimals) : value;
            for (var tens = 1, i = 0; i < this.noOfDecimals; i++) tens *= 10;
            return value = Number((value * tens).toFixed(0));
        }, Slider.prototype.render = function() {
            this.initialize(), this.initRender(), this.wireEvents(), this.setZindex();
        }, Slider.prototype.initialize = function() {
            addClass([ this.element ], classNames_root), this.setCSSClass();
        }, Slider.prototype.setCSSClass = function(oldCSSClass) {
            oldCSSClass && removeClass([ this.element ], oldCSSClass.split(" ")), this.cssClass && addClass([ this.element ], this.cssClass.split(" "));
        }, Slider.prototype.setEnabled = function() {
            var tooltipElement = "Range" !== this.type ? [ this.firstTooltipElement ] : [ this.firstTooltipElement, this.secondTooltipElement ];
            this.enabled ? (removeClass([ this.sliderContainer ], [ classNames_sliderDisabled ]), 
            this.tooltip.isVisible && "Always" === this.tooltip.showOn && tooltipElement.forEach(function(tooltipElement) {
                tooltipElement.classList.remove(classNames_sliderDisabled);
            }), this.wireEvents()) : (addClass([ this.sliderContainer ], [ classNames_sliderDisabled ]), 
            this.tooltip.isVisible && "Always" === this.tooltip.showOn && tooltipElement.forEach(function(tooltipElement) {
                tooltipElement.classList.add(classNames_sliderDisabled);
            }), this.unwireEvents());
        }, Slider.prototype.getTheme = function(container) {
            return window.getComputedStyle(container, ":after").getPropertyValue("content").replace(/['"]+/g, "");
        }, Slider.prototype.initRender = function() {
            this.sliderContainer = createElement("div", {
                className: classNames_sliderContainer
            }), this.element.parentNode.insertBefore(this.sliderContainer, this.element), this.sliderContainer.appendChild(this.element), 
            this.sliderTrack = createElement("div", {
                className: classNames_sliderTrack
            }), this.element.appendChild(this.sliderTrack), this.element.tabIndex = -1, this.isMaterial = "material" === this.getTheme(this.sliderContainer), 
            this.setHandler(), this.createRangeBar(), this.setOrientClass(), this.hiddenInput = createElement("input", {
                attrs: {
                    type: "hidden",
                    value: isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString(),
                    name: this.element.getAttribute("name") || this.element.getAttribute("id") || "_" + (1e3 * Math.random()).toFixed(0) + "slider",
                    class: classNames_sliderHiddenInput
                }
            }), this.hiddenInput.tabIndex = -1, this.sliderContainer.appendChild(this.hiddenInput), 
            this.showButtons && this.setButtons(), this.setEnableRTL(), "Range" === this.type ? this.rangeValueUpdate() : this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value, 
            this.previousVal = "Range" !== this.type ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) : [ this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))), this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString()))) ], 
            this.previousChanged = this.previousVal, this.setValue(), "None" !== this.ticks.placement && this.renderScale(), 
            this.tooltip.isVisible && this.renderTooltip(), this.enabled ? removeClass([ this.sliderContainer ], [ classNames_sliderDisabled ]) : addClass([ this.sliderContainer ], [ classNames_sliderDisabled ]), 
            this.readOnly ? addClass([ this.sliderContainer ], [ classNames_readOnly ]) : removeClass([ this.sliderContainer ], [ classNames_readOnly ]);
        }, Slider.prototype.createRangeBar = function() {
            "Default" !== this.type && (this.rangeBar = createElement("div", {
                attrs: {
                    class: classNames_rangeBar
                }
            }), this.element.appendChild(this.rangeBar));
        }, Slider.prototype.setOrientClass = function() {
            "Vertical" !== this.orientation ? (this.sliderContainer.classList.remove(classNames_verticalSlider), 
            this.sliderContainer.classList.add(classNames_horizontalSlider), this.firstHandle.setAttribute("aria-orientation", "horizontal"), 
            "Range" === this.type && this.secondHandle.setAttribute("aria-orientation", "horizontal")) : (this.sliderContainer.classList.remove(classNames_horizontalSlider), 
            this.sliderContainer.classList.add(classNames_verticalSlider), this.firstHandle.setAttribute("aria-orientation", "vertical"), 
            "Range" === this.type && this.secondHandle.setAttribute("aria-orientation", "vertical"));
        }, Slider.prototype.setAriaAttributes = function(element) {
            var _this = this;
            if ("Range" !== this.type) attributes(element, {
                "aria-valuemin": this.min.toString(),
                "aria-valuemax": this.max.toString()
            }); else {
                [ [ this.min.toString(), this.value[1].toString() ], [ this.value[0].toString(), this.max.toString() ] ].forEach(function(range, index) {
                    var element = 0 === index ? _this.firstHandle : _this.secondHandle;
                    element && attributes(element, {
                        "aria-valuemin": range[0],
                        "aria-valuemax": range[1]
                    });
                });
            }
        }, Slider.prototype.createSecondHandle = function() {
            this.secondHandle = createElement("div", {
                attrs: {
                    class: classNames_sliderHandle,
                    role: "slider",
                    "aria-labelledby": this.element.id + "_title",
                    tabIndex: "0"
                }
            }), this.secondHandle.classList.add(classNames_sliderSecondHandle), this.element.appendChild(this.secondHandle), 
            this.isMaterial && this.tooltip.isVisible && (this.secondMaterialHandle = createElement("div", {
                attrs: {
                    class: classNames_sliderHandle + " " + classNames_sliderMaterialHandle
                }
            }), this.element.appendChild(this.secondMaterialHandle));
        }, Slider.prototype.createFirstHandle = function() {
            this.firstHandle = createElement("div", {
                attrs: {
                    class: classNames_sliderHandle,
                    role: "slider",
                    "aria-labelledby": this.element.id + "_title",
                    tabIndex: "0"
                }
            }), this.firstHandle.classList.add(classNames_sliderFirstHandle), this.element.appendChild(this.firstHandle), 
            this.isMaterial && this.tooltip.isVisible && (this.firstMaterialHandle = createElement("div", {
                attrs: {
                    class: classNames_sliderHandle + " " + classNames_sliderMaterialHandle
                }
            }), this.element.appendChild(this.firstMaterialHandle));
        }, Slider.prototype.wireFirstHandleEvt = function(destroy) {
            destroy ? (EventHandler.remove(this.firstHandle, "mousedown touchstart", this.handleFocus), 
            EventHandler.remove(this.firstHandle, "transitionend", this.transitionEnd), EventHandler.remove(this.firstHandle, "mouseenter touchenter", this.handleOver), 
            EventHandler.remove(this.firstHandle, "mouseleave touchend", this.handleLeave)) : (EventHandler.add(this.firstHandle, "mousedown touchstart", this.handleFocus, this), 
            EventHandler.add(this.firstHandle, "transitionend", this.transitionEnd, this), EventHandler.add(this.firstHandle, "mouseenter touchenter", this.handleOver, this), 
            EventHandler.add(this.firstHandle, "mouseleave touchend", this.handleLeave, this));
        }, Slider.prototype.wireSecondHandleEvt = function(destroy) {
            destroy ? (EventHandler.remove(this.secondHandle, "mousedown touchstart", this.handleFocus), 
            EventHandler.remove(this.secondHandle, "transitionend", this.transitionEnd), EventHandler.remove(this.secondHandle, "mouseenter touchenter", this.handleOver), 
            EventHandler.remove(this.secondHandle, "mouseleave touchend", this.handleLeave)) : (EventHandler.add(this.secondHandle, "mousedown touchstart", this.handleFocus, this), 
            EventHandler.add(this.secondHandle, "transitionend", this.transitionEnd, this), 
            EventHandler.add(this.secondHandle, "mouseenter touchenter", this.handleOver, this), 
            EventHandler.add(this.secondHandle, "mouseleave touchend", this.handleLeave, this));
        }, Slider.prototype.handleStart = function() {
            var pos = 1 === this.activeHandle ? this.handlePos1 : this.handlePos2, tooltipElement = 1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement;
            0 === pos && "Range" !== this.type && (this.getHandle().classList.add(classNames_sliderHandleStart), 
            this.isMaterial && this.tooltip.isVisible && (this.firstMaterialHandle.classList.add(classNames_sliderHandleStart), 
            tooltipElement && tooltipElement.classList.add(classNames_sliderTooltipStart)));
        }, Slider.prototype.transitionEnd = function(e) {
            if (this.handleStart(), this.getHandle().style.transition = "none", "Default" !== this.type && (this.rangeBar.style.transition = "none"), 
            this.tooltip.isVisible) {
                var tooltipObj = 1 === this.activeHandle ? this.firstTooltipObj : this.secondTooltipObj, tooltipElement = 1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement;
                this.isMaterial ? tooltipElement.classList.contains(classNames_materialTooltipOpen) || "transform" === e.propertyName ? ("Default" === this.type && (tooltipElement.style.transition = this.transition.handle), 
                this.refreshTooltip()) : this.openMaterialTooltip() : (tooltipObj.animation = {
                    open: {
                        effect: "None"
                    },
                    close: {
                        effect: "FadeOut",
                        duration: 500
                    }
                }, this.tooltipAnimation());
            }
            "Always" !== this.tooltip.showOn && this.closeTooltip();
        }, Slider.prototype.handleFocusOut = function() {
            this.firstHandle.classList.contains(classNames_sliderHandleFocused) && this.firstHandle.classList.remove(classNames_sliderHandleFocused), 
            "Range" === this.type && this.secondHandle.classList.contains(classNames_sliderHandleFocused) && this.secondHandle.classList.remove(classNames_sliderHandleFocused);
        }, Slider.prototype.handleFocus = function(e) {
            e.currentTarget === this.firstHandle ? this.firstHandle.classList.add(classNames_sliderHandleFocused) : this.secondHandle.classList.add(classNames_sliderHandleFocused);
        }, Slider.prototype.handleOver = function(e) {
            if (this.tooltip.isVisible && "Hover" === this.tooltip.showOn) {
                this.tooltipValue();
                (e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj).animation = {
                    open: {
                        effect: "None"
                    },
                    close: {
                        effect: "FadeOut",
                        duration: 500
                    }
                }, e.currentTarget === this.firstHandle ? this.firstTooltipObj.open(this.firstHandle) : this.secondTooltipObj.open(this.secondHandle);
            }
        }, Slider.prototype.handleLeave = function(e) {
            if (this.tooltip.isVisible && "Hover" === this.tooltip.showOn && !e.currentTarget.classList.contains(classNames_sliderHandleFocused) && !e.currentTarget.classList.contains(classNames_sliderTabHandle)) {
                this.tooltipValue();
                var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;
                e.currentTarget === this.firstHandle ? this.firstTooltipObj.close() : this.secondTooltipObj.close(), 
                tooltipObj.animation = {
                    open: {
                        effect: "None"
                    },
                    close: {
                        effect: "FadeOut",
                        duration: 500
                    }
                };
            }
        }, Slider.prototype.setHandler = function() {
            this.min > this.max && (this.min = this.max), this.createFirstHandle(), "Range" === this.type && this.createSecondHandle();
        }, Slider.prototype.setEnableRTL = function() {
            this.enableRtl && "Vertical" !== this.orientation ? addClass([ this.sliderContainer ], classNames_rtl) : removeClass([ this.sliderContainer ], classNames_rtl);
            var preDir = "Vertical" !== this.orientation ? this.horDir : this.verDir;
            this.enableRtl ? (this.horDir = "right", this.verDir = "bottom") : (this.horDir = "left", 
            this.verDir = "bottom");
            preDir !== ("Vertical" !== this.orientation ? this.horDir : this.verDir) && "Horizontal" === this.orientation && (setStyleAttribute(this.firstHandle, {
                right: "",
                left: "auto"
            }), "Range" === this.type && setStyleAttribute(this.secondHandle, {
                top: "",
                left: "auto"
            }));
        }, Slider.prototype.tooltipValue = function() {
            var text, args = {
                value: this.value,
                text: ""
            };
            this.setTooltipContent(), args.text = text = this.firstTooltipObj.content, this.trigger("tooltipChange", args), 
            this.addTooltipClass(args.text), text !== args.text && (this.customAriaText = args.text, 
            this.firstTooltipObj.content = args.text, this.setAriaAttrValue(this.firstHandle), 
            "Range" === this.type && (this.secondTooltipObj.content = args.text, this.setAriaAttrValue(this.secondHandle)));
        }, Slider.prototype.setTooltipContent = function() {
            if ("Range" === this.type) {
                var content_1 = this.formatContent(this.tooltipFormatInfo, !1);
                this.firstTooltipObj.content = content_1, this.secondTooltipObj.content = content_1;
            } else if (!isNullOrUndefined(this.handleVal1)) {
                var content_2 = this.formatContent(this.tooltipFormatInfo, !1);
                this.firstTooltipObj.content = content_2;
            }
        }, Slider.prototype.formatContent = function(formatInfo, ariaContent) {
            var content = "";
            return ariaContent ? ("Range" === this.type ? content = this.enableRtl && "Vertical" !== this.orientation ? isNullOrUndefined(this.tooltip) || isNullOrUndefined(this.tooltip.format) ? this.handleVal2.toString() + " - " + this.handleVal1.toString() : this.formatString(this.handleVal2, formatInfo).elementVal + " - " + this.formatString(this.handleVal1, formatInfo).elementVal : isNullOrUndefined(this.tooltip) || isNullOrUndefined(this.tooltip.format) ? this.handleVal1.toString() + " - " + this.handleVal2.toString() : this.formatString(this.handleVal1, formatInfo).elementVal + " - " + this.formatString(this.handleVal2, formatInfo).elementVal : isNullOrUndefined(this.handleVal1) || (content = isNullOrUndefined(this.tooltip) || isNullOrUndefined(this.tooltip.format) ? this.handleVal1.toString() : this.formatString(this.handleVal1, formatInfo).elementVal), 
            content) : ("Range" === this.type ? content = this.enableRtl && "Vertical" !== this.orientation ? isNullOrUndefined(formatInfo.format) ? this.handleVal2.toString() + " - " + this.handleVal1.toString() : this.formatString(this.handleVal2, formatInfo).formatString + " - " + this.formatString(this.handleVal1, formatInfo).formatString : isNullOrUndefined(formatInfo.format) ? this.handleVal1.toString() + " - " + this.handleVal2.toString() : this.formatString(this.handleVal1, formatInfo).formatString + " - " + this.formatString(this.handleVal2, formatInfo).formatString : isNullOrUndefined(this.handleVal1) || (content = isNullOrUndefined(formatInfo.format) ? this.handleVal1.toString() : this.formatString(this.handleVal1, formatInfo).formatString), 
            content);
        }, Slider.prototype.addTooltipClass = function(content) {
            var _this = this;
            if (this.isMaterial && this.tooltip.isVisible) {
                var count_1 = content.toString().length;
                ("Range" !== this.type ? [ this.firstTooltipElement ] : [ this.firstTooltipElement, this.secondTooltipElement ]).forEach(function(element, index) {
                    if (element) count_1 > 4 ? (element.classList.remove(classNames_sliderMaterialDefault), 
                    element.classList.contains(classNames_sliderMaterialRange) || (element.classList.add(classNames_sliderMaterialRange), 
                    element.style.transform = "scale(1)")) : (element.classList.remove(classNames_sliderMaterialRange), 
                    element.classList.contains(classNames_sliderMaterialDefault) || (element.classList.add(classNames_sliderMaterialDefault), 
                    element.style.transform = _this.getTooltipTransformProperties(_this.previousTooltipClass).rotate)); else {
                        var cssClass = count_1 > 4 ? classNames_sliderMaterialRange : classNames_sliderMaterialDefault;
                        index ? _this.secondTooltipObj.cssClass = classNames_sliderTooltip + " " + cssClass : _this.firstTooltipObj.cssClass = classNames_sliderTooltip + " " + cssClass;
                    }
                });
            }
        }, Slider.prototype.tooltipPlacement = function() {
            var tooltipPosition;
            tooltipPosition = "Horizontal" === this.orientation ? "Before" === this.tooltip.placement ? "TopCenter" : "BottomCenter" : "Before" === this.tooltip.placement ? "LeftCenter" : "RightCenter", 
            this.firstTooltipObj.position = tooltipPosition, "Range" === this.type && (this.secondTooltipObj.position = tooltipPosition), 
            this.isMaterial && (this.firstTooltipObj.showTipPointer = !0, this.setProperties({
                tooltip: {
                    showOn: "Always"
                }
            }, !0), this.firstTooltipObj.height = 30, "Range" === this.type && (this.secondTooltipObj.showTipPointer = !0, 
            this.secondTooltipObj.height = 30));
        }, Slider.prototype.tooltipBeforeOpen = function(args) {
            var tooltipElement = args.target === this.firstHandle ? this.firstTooltipElement = args.element : this.secondTooltipElement = args.element;
            if (args.target.removeAttribute("aria-describedby"), this.isMaterial && this.tooltip.isVisible) {
                var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);
                tooltipElement.firstChild.classList.add(classNames_materialTooltipHide), this.handleStart(), 
                tooltipElement.firstElementChild.innerText.length > 4 ? tooltipElement.style.transform = transformProperties.translate + " scale(0.01)" : tooltipElement.style.transform = transformProperties.translate + " " + transformProperties.rotate + " scale(0.01)";
            }
        }, Slider.prototype.wireMaterialTooltipEvent = function(destroy) {
            this.isMaterial && this.tooltip.isVisible && (destroy ? (EventHandler.remove(this.firstTooltipElement, "mousedown touchstart", this.sliderDown), 
            "Range" === this.type && EventHandler.remove(this.secondTooltipElement, "mousedown touchstart", this.sliderDown)) : (EventHandler.add(this.firstTooltipElement, "mousedown touchstart", this.sliderDown, this), 
            "Range" === this.type && EventHandler.add(this.secondTooltipElement, "mousedown touchstart", this.sliderDown, this)));
        }, Slider.prototype.tooltipPositionCalculation = function(position) {
            var cssClass;
            switch (position) {
              case "TopCenter":
                cssClass = classNames_horizontalTooltipBefore;
                break;

              case "BottomCenter":
                cssClass = classNames_horizontalTooltipAfter;
                break;

              case "LeftCenter":
                cssClass = classNames_verticalTooltipBefore;
                break;

              case "RightCenter":
                cssClass = classNames_verticalTooltipAfter;
            }
            return cssClass;
        }, Slider.prototype.getTooltipTransformProperties = function(className) {
            if (this.firstTooltipElement) {
                var position = void 0;
                position = "Horizontal" === this.orientation ? this.firstTooltipElement.clientHeight + 14 - this.firstTooltipElement.clientHeight / 2 : this.firstTooltipElement.clientWidth + 14 - this.firstTooltipElement.clientWidth / 2;
                return "Horizontal" === this.orientation ? className === classNames_horizontalTooltipBefore ? {
                    rotate: "rotate(45deg)",
                    translate: "translateY(" + position + "px)"
                } : {
                    rotate: "rotate(225deg)",
                    translate: "translateY(" + -position + "px)"
                } : className === classNames_verticalTooltipBefore ? {
                    rotate: "rotate(-45deg)",
                    translate: "translateX(" + position + "px)"
                } : {
                    rotate: "rotate(-225deg)",
                    translate: "translateX(" + -position + "px)"
                };
            }
        }, Slider.prototype.openMaterialTooltip = function() {
            var _this = this;
            this.refreshTooltip();
            var tooltipElement = 1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement, handle = 1 === this.activeHandle ? this.firstMaterialHandle : this.secondMaterialHandle;
            tooltipElement.firstChild.classList.contains(classNames_materialTooltipHide) && tooltipElement.firstChild.classList.remove(classNames_materialTooltipHide), 
            tooltipElement.firstChild.classList.add(classNames_materialTooltipShow), this.getHandle().style.cursor = "default", 
            tooltipElement.style.transition = this.scaleTransform, tooltipElement.classList.add(classNames_materialTooltipOpen), 
            handle.style.transform = "scale(0)", tooltipElement.firstElementChild.innerText.length > 4 ? tooltipElement.style.transform = "scale(1)" : tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate, 
            "Default" === this.type ? setTimeout(function() {
                tooltipElement.style.transition = _this.transition.handle;
            }, 2500) : setTimeout(function() {
                tooltipElement.style.transition = "none";
            }, 2500);
        }, Slider.prototype.checkTooltipPosition = function(args) {
            var tooltipPosition = args.target === this.firstHandle ? this.firstHandleTooltipPosition : this.secondHandleTooltipPosition;
            if (void 0 === tooltipPosition || tooltipPosition !== args.collidedPosition) {
                var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);
                args.element.classList.remove(this.previousTooltipClass), args.element.classList.add(tooltipClass), 
                this.previousTooltipClass = tooltipClass, args.element.style.transform && args.element.classList.contains(classNames_materialTooltipOpen) && args.element.firstElementChild.innerText.length < 4 && (args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate), 
                args.target === this.firstHandle ? this.firstHandleTooltipPosition = args.collidedPosition : this.secondHandleTooltipPosition = args.collidedPosition;
            }
        }, Slider.prototype.renderTooltip = function() {
            "Auto" === this.tooltip.showOn && this.setProperties({
                tooltip: {
                    showOn: "Hover"
                }
            }, !0), this.firstTooltipObj = new Tooltip({
                showTipPointer: !1,
                cssClass: classNames_sliderTooltip,
                animation: {
                    open: {
                        effect: "None"
                    },
                    close: {
                        effect: "None"
                    }
                },
                opensOn: "Custom",
                beforeOpen: this.tooltipBeforeOpen.bind(this),
                beforeCollision: this.checkTooltipPosition.bind(this),
                afterClose: this.tooltipAfterClose.bind(this)
            }), this.firstTooltipObj.appendTo(this.firstHandle), "Range" === this.type && (this.secondTooltipObj = new Tooltip({
                showTipPointer: !1,
                cssClass: classNames_sliderTooltip,
                animation: {
                    open: {
                        effect: "None"
                    },
                    close: {
                        effect: "None"
                    }
                },
                opensOn: "Custom",
                beforeOpen: this.tooltipBeforeOpen.bind(this),
                beforeCollision: this.checkTooltipPosition.bind(this),
                afterClose: this.tooltipAfterClose.bind(this)
            }), this.secondTooltipObj.appendTo(this.secondHandle)), this.tooltipPlacement(), 
            this.firstHandle.style.transition = "none", "Default" !== this.type && (this.rangeBar.style.transition = "none"), 
            "Range" === this.type && (this.secondHandle.style.transition = "none"), this.isMaterial && (this.sliderContainer.classList.add(classNames_materialSlider), 
            this.tooltipValue(), this.firstTooltipObj.open(this.firstHandle), "Range" === this.type && this.secondTooltipObj.open(this.secondHandle));
        }, Slider.prototype.tooltipAfterClose = function(args) {
            args.element === this.firstTooltipElement ? this.firstTooltipElement = void 0 : this.secondTooltipElement = void 0;
        }, Slider.prototype.setButtons = function() {
            this.firstBtn = createElement("div", {
                className: classNames_sliderButton + " " + classNames_firstButton
            }), this.firstBtn.appendChild(createElement("span", {
                className: classNames_sliderButtonIcon
            })), this.firstBtn.tabIndex = -1, this.secondBtn = createElement("div", {
                className: classNames_sliderButton + " " + classNames_secondButton
            }), this.secondBtn.appendChild(createElement("span", {
                className: classNames_sliderButtonIcon
            })), this.secondBtn.tabIndex = -1, this.sliderContainer.classList.add(classNames_sliderButtonClass), 
            this.sliderContainer.appendChild(this.firstBtn), this.sliderContainer.appendChild(this.secondBtn), 
            this.sliderContainer.appendChild(this.element), this.buttonTitle();
        }, Slider.prototype.buttonTitle = function() {
            var enabledRTL = this.enableRtl && "Vertical" !== this.orientation;
            this.l10n.setLocale(this.locale);
            var decrementTitle = this.l10n.getConstant("decrementTitle"), incrementTitle = this.l10n.getConstant("incrementTitle");
            attributes(enabledRTL ? this.secondBtn : this.firstBtn, {
                "aria-label": decrementTitle,
                title: decrementTitle
            }), attributes(enabledRTL ? this.firstBtn : this.secondBtn, {
                "aria-label": incrementTitle,
                title: incrementTitle
            });
        }, Slider.prototype.buttonFocusOut = function() {
            this.isMaterial && (this.getHandle().style.transform = this.getHandle().style.transform.replace("scale(1.5)", "scale(1)"));
        }, Slider.prototype.repeatButton = function(args) {
            args.target.parentElement;
            !(1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement) && this.tooltip.isVisible && this.openTooltip();
            var value, hVal = this.handleValueUpdate(), enabledRTL = this.enableRtl && "Vertical" !== this.orientation;
            args.target.parentElement.classList.contains(classNames_firstButton) || args.target.classList.contains(classNames_firstButton) ? value = enabledRTL ? this.add(hVal, parseFloat(this.step.toString()), !0) : this.add(hVal, parseFloat(this.step.toString()), !1) : (args.target.parentElement.classList.contains(classNames_secondButton) || args.target.classList.contains(classNames_secondButton)) && (value = enabledRTL ? this.add(hVal, parseFloat(this.step.toString()), !1) : this.add(hVal, parseFloat(this.step.toString()), !0)), 
            value >= this.min && value <= this.max && (this.changeHandleValue(value), this.refreshTooltipOnMove());
        }, Slider.prototype.repeatHandlerMouse = function(args) {
            args.preventDefault(), "mousedown" !== args.type && "touchstart" !== args.type || (this.buttonClick(args), 
            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args));
        }, Slider.prototype.materialChange = function() {
            -1 === this.getHandle().style.transform.indexOf("scale(1.5") && (this.getHandle().style.transform = "scale(1.5)");
        }, Slider.prototype.repeatHandlerUp = function(e) {
            this.changeEvent("changed"), this.tooltip.isVisible && "Always" !== this.tooltip.showOn && !this.isMaterial && this.closeTooltip(), 
            clearInterval(this.repeatInterval), this.getHandle().focus();
        }, Slider.prototype.renderScale = function() {
            var orien = "Vertical" === this.orientation ? "v" : "h";
            this.noOfDecimals = this.numberOfDecimals(this.step), this.ul = createElement("ul", {
                className: classNames_scale + " e-" + orien + "-scale " + classNames_tick + "-" + this.ticks.placement.toLowerCase(),
                attrs: {
                    role: "presentation",
                    tabIndex: "-1",
                    "aria-hidden": "true"
                }
            }), Browser.isAndroid && "h" === orien && this.ul.classList.add(classNames_sliderTickPosition);
            var smallStep = this.ticks.smallStep;
            this.ticks.showSmallTicks ? smallStep <= 0 && (smallStep = parseFloat(formatUnit(this.step))) : smallStep = this.ticks.largeStep > 0 ? this.ticks.largeStep : parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));
            var min = this.fractionalToInteger(this.min), max = this.fractionalToInteger(this.max), steps = this.fractionalToInteger(smallStep), count = Math.abs((max - min) / steps);
            this.element.appendChild(this.ul);
            var li, start = parseFloat(this.min.toString());
            "v" === orien && (start = parseFloat(this.max.toString()));
            var left = 0, tickWidth = 100 / count;
            tickWidth === 1 / 0 && (tickWidth = 5);
            for (var i = 0; i <= count; i++) {
                li = createElement("li", {
                    attrs: {
                        class: classNames_tick,
                        title: start.toString(),
                        role: "presentation",
                        tabIndex: "-1",
                        "aria-hidden": "true"
                    }
                });
                var islargeTick = void 0;
                if (0 === this.numberOfDecimals(this.max) && 0 === this.numberOfDecimals(this.min) && 0 === this.numberOfDecimals(this.step)) islargeTick = "h" === orien ? (start - parseFloat(this.min.toString())) % this.ticks.largeStep == 0 : Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep == 0; else {
                    var largestep = this.fractionalToInteger(this.ticks.largeStep);
                    islargeTick = (this.fractionalToInteger(start) - min) % largestep == 0;
                }
                islargeTick && li.classList.add(classNames_large), "h" === orien ? li.style.width = tickWidth + "%" : li.style.height = tickWidth + "%";
                var repeat = islargeTick ? "Both" === this.ticks.placement ? 2 : 1 : 0;
                if (islargeTick) for (var j = 0; j < repeat; j++) this.createTick(li, start); else this.formatTicksValue(li, start);
                this.ul.appendChild(li), this.tickElementCollection.push(li);
                var decimalPoints = void 0;
                decimalPoints = this.numberOfDecimals(smallStep) > this.numberOfDecimals(start) ? this.numberOfDecimals(smallStep) : this.numberOfDecimals(start), 
                start = "h" === orien ? this.makeRoundNumber(start + smallStep, decimalPoints) : this.makeRoundNumber(start - smallStep, decimalPoints), 
                left = this.makeRoundNumber(left + smallStep, decimalPoints);
            }
            this.firstChild = this.ul.firstElementChild, this.lastChild = this.ul.lastElementChild, 
            this.firstChild.classList.add(classNames_sliderFirstTick), this.lastChild.classList.add(classNames_sliderLastTick), 
            this.sliderContainer.classList.add(classNames_scale + "-" + this.ticks.placement.toLowerCase()), 
            "h" === orien ? (this.firstChild.style.width = tickWidth / 2 + "%", this.lastChild.style.width = tickWidth / 2 + "%") : (this.firstChild.style.height = tickWidth / 2 + "%", 
            this.lastChild.style.height = tickWidth / 2 + "%");
            var eventArgs = {
                ticksWrapper: this.ul,
                tickElements: this.tickElementCollection
            };
            this.trigger("renderedTicks", eventArgs), this.scaleAlignment();
        }, Slider.prototype.createTick = function(li, start) {
            var span = createElement("span", {
                className: classNames_tickValue + " " + classNames_tick + "-" + this.ticks.placement.toLowerCase(),
                attrs: {
                    role: "presentation",
                    tabIndex: "-1",
                    "aria-hidden": "true"
                }
            });
            li.appendChild(span), span.innerHTML = this.formatTicksValue(li, start);
        }, Slider.prototype.formatTicksValue = function(li, start) {
            var tickText = this.formatNumber(start), eventArgs = {
                value: start,
                text: isNullOrUndefined(this.ticks) || isNullOrUndefined(this.ticks.format) ? tickText : this.formatString(start, this.ticksFormatInfo).formatString,
                tickElement: li
            };
            return this.trigger("renderingTicks", eventArgs), li.setAttribute("title", eventArgs.text.toString()), 
            eventArgs.text.toString();
        }, Slider.prototype.scaleAlignment = function() {
            this.tickValuePosition();
            this.orientation;
            "Vertical" === this.orientation ? this.element.getBoundingClientRect().width <= 15 ? this.sliderContainer.classList.add(classNames_sliderSmallSize) : this.sliderContainer.classList.remove(classNames_sliderSmallSize) : this.element.getBoundingClientRect().height <= 15 ? this.sliderContainer.classList.add(classNames_sliderSmallSize) : this.sliderContainer.classList.remove(classNames_sliderSmallSize);
        }, Slider.prototype.tickValuePosition = function() {
            var firstChild, first = this.firstChild.getBoundingClientRect(), smallStep = this.ticks.smallStep, count = Math.abs(parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / smallStep;
            this.firstChild.children.length > 0 && (firstChild = this.firstChild.children[0].getBoundingClientRect());
            var other, tickElements = [ this.sliderContainer.querySelectorAll("." + classNames_tick + "." + classNames_large + " ." + classNames_tickValue) ];
            other = "Both" === this.ticks.placement ? [].slice.call(tickElements[0], 2) : [].slice.call(tickElements[0], 1);
            for (var tickWidth = "Vertical" === this.orientation ? 2 * first.height : 2 * first.width, i = 0; i < this.firstChild.children.length; i++) "Vertical" === this.orientation ? this.firstChild.children[i].style.top = -firstChild.height / 2 + "px" : this.enableRtl ? this.firstChild.children[i].style.left = (tickWidth - this.firstChild.children[i].getBoundingClientRect().width) / 2 + "px" : this.firstChild.children[i].style.left = -firstChild.width / 2 + "px";
            for (i = 0; i < other.length; i++) {
                var otherChild = other[i].getBoundingClientRect();
                "Vertical" === this.orientation ? setStyleAttribute(other[i], {
                    top: (tickWidth - otherChild.height) / 2 + "px"
                }) : setStyleAttribute(other[i], {
                    left: (tickWidth - otherChild.width) / 2 + "px"
                });
            }
            this.enableRtl && this.lastChild.children.length && 0 !== count && (this.lastChild.children[0].style.left = -this.lastChild.getBoundingClientRect().width / 2 + "px", 
            "Both" === this.ticks.placement && (this.lastChild.children[1].style.left = -this.lastChild.getBoundingClientRect().width / 2 + "px")), 
            0 === count && ("Horizontal" === this.orientation && (this.enableRtl ? (this.firstChild.classList.remove(classNames_sliderLastTick), 
            this.firstChild.style.right = this.firstHandle.style.right, this.firstChild.children[0].style.left = this.firstChild.getBoundingClientRect().width / 2 + 2 + "px", 
            "Both" === this.ticks.placement && (this.firstChild.children[1].style.left = this.firstChild.getBoundingClientRect().width / 2 + 2 + "px")) : (this.firstChild.classList.remove(classNames_sliderLastTick), 
            this.firstChild.style.left = this.firstHandle.style.left)), "Vertical" === this.orientation && this.firstChild.classList.remove(classNames_sliderLastTick));
        }, Slider.prototype.setAriaAttrValue = function(element) {
            var ariaValueText, isTickFormatted = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format), text = isTickFormatted ? this.formatContent(this.tooltipFormatInfo, !1) : this.formatContent(this.ticksFormatInfo, !1), valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, !0) : this.formatContent(this.tooltipFormatInfo, !0);
            ariaValueText = 2 === (text = this.customAriaText ? this.customAriaText : text).split(" - ").length ? text.split(" - ") : [ text, text ], 
            this.setAriaAttributes(element), "Range" !== this.type ? attributes(element, {
                "aria-valuenow": valuenow,
                "aria-valuetext": text
            }) : this.enableRtl ? element === this.firstHandle ? attributes(element, {
                "aria-valuenow": valuenow.split(" - ")[1],
                "aria-valuetext": ariaValueText[1]
            }) : attributes(element, {
                "aria-valuenow": valuenow.split(" - ")[0],
                "aria-valuetext": ariaValueText[0]
            }) : element === this.firstHandle ? attributes(element, {
                "aria-valuenow": valuenow.split(" - ")[0],
                "aria-valuetext": ariaValueText[0]
            }) : attributes(element, {
                "aria-valuenow": valuenow.split(" - ")[1],
                "aria-valuetext": ariaValueText[1]
            });
        }, Slider.prototype.handleValueUpdate = function() {
            return "Range" === this.type ? 1 === this.activeHandle ? this.handleVal1 : this.handleVal2 : this.handleVal1;
        }, Slider.prototype.buttonClick = function(args) {
            var value, enabledRTL = this.enableRtl && "Vertical" !== this.orientation, hVal = this.handleValueUpdate();
            40 === args.keyCode || 37 === args.keyCode || args.currentTarget.classList.contains(classNames_firstButton) ? value = enabledRTL ? this.add(hVal, parseFloat(this.step.toString()), !0) : this.add(hVal, parseFloat(this.step.toString()), !1) : 38 === args.keyCode || 39 === args.keyCode || args.currentTarget.classList.contains(classNames_secondButton) ? value = enabledRTL ? this.add(hVal, parseFloat(this.step.toString()), !1) : this.add(hVal, parseFloat(this.step.toString()), !0) : 33 === args.keyCode || args.currentTarget.classList.contains(classNames_firstButton) ? value = enabledRTL ? this.add(hVal, parseFloat(this.ticks.largeStep.toString()), !1) : this.add(hVal, parseFloat(this.ticks.largeStep.toString()), !0) : 34 === args.keyCode || args.currentTarget.classList.contains(classNames_secondButton) ? value = enabledRTL ? this.add(hVal, parseFloat(this.ticks.largeStep.toString()), !0) : this.add(hVal, parseFloat(this.ticks.largeStep.toString()), !1) : 36 === args.keyCode ? value = parseFloat(this.min.toString()) : 35 === args.keyCode && (value = parseFloat(this.max.toString())), 
            this.changeHandleValue(value), !this.isMaterial || this.tooltip.isVisible || this.getHandle().classList.contains(classNames_sliderTabHandle) || this.materialChange(), 
            this.tooltipAnimation(), this.getHandle().focus(), args.currentTarget.classList.contains(classNames_firstButton) && EventHandler.add(this.firstBtn, "mouseup touchend", this.buttonUp, this), 
            args.currentTarget.classList.contains(classNames_secondButton) && EventHandler.add(this.secondBtn, "mouseup touchend", this.buttonUp, this);
        }, Slider.prototype.tooltipAnimation = function() {
            if (this.tooltip.isVisible) {
                var tooltipObj = 1 === this.activeHandle ? this.firstTooltipObj : this.secondTooltipObj, tooltipElement = 1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement;
                this.isMaterial ? tooltipElement.classList.contains(classNames_materialTooltipOpen) ? this.refreshTooltip() : this.openMaterialTooltip() : (tooltipObj.animation = {
                    open: {
                        effect: "None"
                    },
                    close: {
                        effect: "FadeOut",
                        duration: 500
                    }
                }, this.openTooltip());
            }
        }, Slider.prototype.buttonUp = function(args) {
            if (this.tooltip.isVisible && !this.isMaterial) {
                (1 === this.activeHandle ? this.firstTooltipObj : this.secondTooltipObj).animation = {
                    open: {
                        effect: "None"
                    },
                    close: {
                        effect: "None"
                    }
                };
            }
            args.currentTarget.classList.contains(classNames_firstButton) && EventHandler.remove(this.firstBtn, "mouseup touchend", this.buttonUp), 
            args.currentTarget.classList.contains(classNames_secondButton) && EventHandler.remove(this.secondBtn, "mouseup touchend", this.buttonUp);
        }, Slider.prototype.setRangeBar = function() {
            "Horizontal" === this.orientation ? "MinRange" === this.type ? (this.enableRtl ? this.rangeBar.style.right = "0px" : this.rangeBar.style.left = "0px", 
            setStyleAttribute(this.rangeBar, {
                width: isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + "px"
            })) : (this.enableRtl ? this.rangeBar.style.right = this.handlePos1 + "px" : this.rangeBar.style.left = this.handlePos1 + "px", 
            setStyleAttribute(this.rangeBar, {
                width: this.handlePos2 - this.handlePos1 + "px"
            })) : "MinRange" === this.type ? (this.rangeBar.style.bottom = "0px", setStyleAttribute(this.rangeBar, {
                height: isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + "px"
            })) : (this.rangeBar.style.bottom = this.handlePos1 + "px", setStyleAttribute(this.rangeBar, {
                height: this.handlePos2 - this.handlePos1 + "px"
            }));
        }, Slider.prototype.setValue = function() {
            this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) : this.checkHandleValue(parseFloat(this.value.toString())), 
            this.handlePos1 = this.checkHandlePosition(this.handleVal1), this.preHandlePos1 = this.handlePos1, 
            isNullOrUndefined(this.activeHandle) ? "Range" === this.type ? this.activeHandle = 2 : this.activeHandle = 1 : this.activeHandle = this.activeHandle, 
            "Default" === this.type || "MinRange" === this.type ? (this.setHandlePosition(), 
            this.handleStart(), this.value = this.handleVal1, this.setAriaAttrValue(this.firstHandle), 
            this.changeEvent("changed")) : this.validateRangeValue(), "Default" !== this.type && this.setRangeBar();
        }, Slider.prototype.rangeValueUpdate = function() {
            null !== this.value && "object" == typeof this.value || (this.value = [ parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max)) ]);
        }, Slider.prototype.validateRangeValue = function() {
            this.rangeValueUpdate(), this.setRangeValue();
        }, Slider.prototype.modifyZindex = function() {
            "Range" === this.type ? 1 === this.activeHandle ? (this.firstHandle.style.zIndex = this.zIndex + 4 + "", 
            this.secondHandle.style.zIndex = this.zIndex + 3 + "", this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement && (this.firstTooltipElement.style.zIndex = this.zIndex + 4 + "", 
            this.secondTooltipElement.style.zIndex = this.zIndex + 3 + "")) : (this.firstHandle.style.zIndex = this.zIndex + 3 + "", 
            this.secondHandle.style.zIndex = this.zIndex + 4 + "", this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement && (this.firstTooltipElement.style.zIndex = this.zIndex + 3 + "", 
            this.secondTooltipElement.style.zIndex = this.zIndex + 4 + "")) : this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && (this.firstTooltipElement.style.zIndex = this.zIndex + 4 + "");
        }, Slider.prototype.setHandlePosition = function() {
            var handle, tooltipElement, _this = this, pos = 1 === this.activeHandle ? this.handlePos1 : this.handlePos2;
            1 === this.activeHandle ? this.handleVal1 : this.handleVal2;
            this.isMaterial && this.tooltip.isVisible ? (tooltipElement = 1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement, 
            handle = [ this.getHandle(), 1 === this.activeHandle ? this.firstMaterialHandle : this.secondMaterialHandle ]) : handle = [ this.getHandle() ], 
            this.tooltip.isVisible && 0 === pos && "Range" !== this.type ? (handle[0].classList.add(classNames_sliderHandleStart), 
            this.isMaterial && (handle[1].classList.add(classNames_sliderHandleStart), tooltipElement && tooltipElement.classList.add(classNames_sliderTooltipStart))) : (handle[0].classList.remove(classNames_sliderHandleStart), 
            this.tooltip.isVisible && this.isMaterial && (handle[1].classList.remove(classNames_sliderHandleStart), 
            tooltipElement && tooltipElement.classList.remove(classNames_sliderTooltipStart))), 
            handle.forEach(function(handle) {
                "Horizontal" === _this.orientation ? _this.enableRtl ? handle.style.right = pos + "px" : handle.style.left = pos + "px" : handle.style.bottom = pos + "px";
            }), this.changeEvent("change");
        }, Slider.prototype.getHandle = function() {
            return 1 === this.activeHandle ? this.firstHandle : this.secondHandle;
        }, Slider.prototype.setRangeValue = function() {
            this.activeHandle;
            this.updateRangeValue(), this.activeHandle = 1, this.setHandlePosition(), this.activeHandle = 2, 
            this.setHandlePosition(), this.activeHandle = 1;
        }, Slider.prototype.changeEvent = function(eventName) {
            var previous = "change" === eventName ? this.previousVal : this.previousChanged;
            if ("Range" !== this.type) this.setProperties({
                value: this.handleVal1
            }, !0), previous !== this.value && (this.trigger(eventName, this.changeEventArgs(eventName)), 
            this.setPreviousVal(eventName, this.value)), this.setAriaAttrValue(this.firstHandle); else {
                var value = this.value = [ this.handleVal1, this.handleVal2 ];
                this.setProperties({
                    value: value
                }, !0), (previous.length === this.value.length && this.value[0] !== previous[0] || this.value[1] !== previous[1]) && (this.trigger(eventName, this.changeEventArgs(eventName)), 
                this.setPreviousVal(eventName, this.value)), this.setAriaAttrValue(this.getHandle());
            }
            this.hiddenInput.value = this.value.toString();
        }, Slider.prototype.changeEventArgs = function(eventName) {
            var eventArgs;
            return this.tooltip.isVisible && this.firstTooltipObj ? (this.tooltipValue(), eventArgs = {
                value: this.value,
                previousValue: "change" === eventName ? this.previousVal : this.previousChanged,
                action: eventName,
                text: this.firstTooltipObj.content
            }) : eventArgs = {
                value: this.value,
                previousValue: "change" === eventName ? this.previousVal : this.previousChanged,
                action: eventName,
                text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() : "Range" !== this.type ? this.formatString(this.value, this.ticksFormatInfo).formatString : this.formatString(this.value[0], this.ticksFormatInfo).formatString + " - " + this.formatString(this.value[1], this.ticksFormatInfo).formatString
            }, eventArgs;
        }, Slider.prototype.setPreviousVal = function(eventName, value) {
            "change" === eventName ? this.previousVal = value : this.previousChanged = value;
        }, Slider.prototype.updateRangeValue = function() {
            var values = this.value.toString().split(",").map(Number);
            this.enableRtl && "Vertical" !== this.orientation || this.rtl ? this.value = [ values[1], values[0] ] : this.value = [ values[0], values[1] ], 
            this.enableRtl && "Vertical" !== this.orientation ? (this.handleVal1 = this.checkHandleValue(this.value[1]), 
            this.handleVal2 = this.checkHandleValue(this.value[0])) : (this.handleVal1 = this.checkHandleValue(this.value[0]), 
            this.handleVal2 = this.checkHandleValue(this.value[1])), this.handlePos1 = this.checkHandlePosition(this.handleVal1), 
            this.handlePos2 = this.checkHandlePosition(this.handleVal2), this.handlePos1 > this.handlePos2 && (this.handlePos1 = this.handlePos2, 
            this.handleVal1 = this.handleVal2), this.preHandlePos1 = this.handlePos1, this.preHandlePos2 = this.handlePos2;
        }, Slider.prototype.checkHandlePosition = function(value) {
            var pos;
            return value = 100 * (value - parseFloat(formatUnit(this.min))) / (parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))), 
            pos = "Horizontal" === this.orientation ? this.element.getBoundingClientRect().width * (value / 100) : this.element.getBoundingClientRect().height * (value / 100), 
            parseFloat(formatUnit(this.max)) === parseFloat(formatUnit(this.min)) && (pos = "Horizontal" === this.orientation ? this.element.getBoundingClientRect().width : this.element.getBoundingClientRect().height), 
            pos;
        }, Slider.prototype.checkHandleValue = function(value) {
            if (this.min > this.max && (this.min = this.max), this.min === this.max) return parseFloat(formatUnit(this.max));
            var handle = this.tempStartEnd();
            return value < handle.start ? value = handle.start : value > handle.end && (value = handle.end), 
            value;
        }, Slider.prototype.onResize = function() {
            var _this = this;
            this.firstHandle.style.transition = "none", "Default" !== this.type && (this.rangeBar.style.transition = "none"), 
            "Range" === this.type && (this.secondHandle.style.transition = "none"), this.handlePos1 = this.checkHandlePosition(this.handleVal1), 
            this.handleVal2 && (this.handlePos2 = this.checkHandlePosition(this.handleVal2)), 
            "Horizontal" === this.orientation ? (this.enableRtl ? this.firstHandle.style.right = this.handlePos1 + "px" : this.firstHandle.style.left = this.handlePos1 + "px", 
            this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle && (this.enableRtl ? this.firstMaterialHandle.style.right = this.handlePos1 + "px" : this.firstMaterialHandle.style.left = this.handlePos1 + "px"), 
            "MinRange" === this.type ? (this.enableRtl ? this.rangeBar.style.right = "0px" : this.rangeBar.style.left = "0px", 
            setStyleAttribute(this.rangeBar, {
                width: isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + "px"
            })) : "Range" === this.type && (this.enableRtl ? this.secondHandle.style.right = this.handlePos2 + "px" : this.secondHandle.style.left = this.handlePos2 + "px", 
            this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle && (this.enableRtl ? this.secondMaterialHandle.style.right = this.handlePos2 + "px" : this.secondMaterialHandle.style.left = this.handlePos2 + "px"), 
            this.enableRtl ? this.rangeBar.style.right = this.handlePos1 + "px" : this.rangeBar.style.left = this.handlePos1 + "px", 
            setStyleAttribute(this.rangeBar, {
                width: this.handlePos2 - this.handlePos1 + "px"
            }))) : (this.firstHandle.style.bottom = this.handlePos1 + "px", this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle && (this.firstMaterialHandle.style.bottom = this.handlePos1 + "px"), 
            "MinRange" === this.type ? (this.rangeBar.style.bottom = "0px", setStyleAttribute(this.rangeBar, {
                height: isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + "px"
            })) : "Range" === this.type && (this.secondHandle.style.bottom = this.handlePos2 + "px", 
            this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle && (this.secondMaterialHandle.style.bottom = this.handlePos2 + "px"), 
            this.rangeBar.style.bottom = this.handlePos1 + "px", setStyleAttribute(this.rangeBar, {
                height: this.handlePos2 - this.handlePos1 + "px"
            }))), "None" !== this.ticks.placement && this.ul && (this.removeElement(this.ul), 
            this.renderScale()), this.tooltip.isVisible || setTimeout(function() {
                _this.firstHandle.style.transition = _this.scaleTransform, "Range" === _this.type && (_this.secondHandle.style.transition = _this.scaleTransform);
            }), this.refreshTooltip();
        }, Slider.prototype.changeHandleValue = function(value) {
            var position = null;
            1 === this.activeHandle ? (this.handleVal1 = this.checkHandleValue(value), this.handlePos1 = this.checkHandlePosition(this.handleVal1), 
            "Range" === this.type && this.handlePos1 > this.handlePos2 && (this.handlePos1 = this.handlePos2, 
            this.handleVal1 = this.handleVal2), this.handlePos1 !== this.preHandlePos1 && (position = this.preHandlePos1 = this.handlePos1), 
            this.modifyZindex()) : (this.handleVal2 = this.checkHandleValue(value), this.handlePos2 = this.checkHandlePosition(this.handleVal2), 
            "Range" === this.type && this.handlePos2 < this.handlePos1 && (this.handlePos2 = this.handlePos1, 
            this.handleVal2 = this.handleVal1), this.handlePos2 !== this.preHandlePos2 && (position = this.preHandlePos2 = this.handlePos2), 
            this.modifyZindex()), null !== position && ("Default" !== this.type && this.setRangeBar(), 
            this.setHandlePosition());
        }, Slider.prototype.tempStartEnd = function() {
            return this.min > this.max ? {
                start: this.max,
                end: this.min
            } : {
                start: this.min,
                end: this.max
            };
        }, Slider.prototype.xyToPosition = function(position) {
            if (this.min === this.max) return 100;
            if ("Horizontal" === this.orientation) {
                var left = position.x - this.element.getBoundingClientRect().left, num = this.element.offsetWidth / 100;
                this.val = left / num;
            } else {
                var top_1 = position.y - this.element.getBoundingClientRect().top;
                num = this.element.offsetHeight / 100;
                this.val = 100 - top_1 / num;
            }
            var val = this.stepValueCalculation(this.val);
            return val < 0 ? val = 0 : val > 100 && (val = 100), this.enableRtl && "Vertical" !== this.orientation && (val = 100 - val), 
            "Horizontal" === this.orientation ? this.element.getBoundingClientRect().width * (val / 100) : this.element.getBoundingClientRect().height * (val / 100);
        }, Slider.prototype.stepValueCalculation = function(value) {
            0 === this.step && (this.step = 1);
            var percentStep = parseFloat(formatUnit(this.step)) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100), remain = value % Math.abs(percentStep);
            return 0 !== remain && (percentStep / 2 > remain ? value -= remain : value += Math.abs(percentStep) - remain), 
            value;
        }, Slider.prototype.add = function(a, b, addition) {
            var x = Math.pow(10, 3);
            return addition ? (Math.round(a * x) + Math.round(b * x)) / x : (Math.round(a * x) - Math.round(b * x)) / x;
        }, Slider.prototype.round = function(a) {
            var f = this.step.toString().split(".");
            return f[1] ? parseFloat(a.toFixed(f[1].length)) : Math.round(a);
        }, Slider.prototype.positionToValue = function(pos) {
            var val, diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));
            val = "Horizontal" === this.orientation ? pos / this.element.getBoundingClientRect().width * diff : pos / this.element.getBoundingClientRect().height * diff;
            return this.add(val, parseFloat(this.min.toString()), !0);
        }, Slider.prototype.sliderBarClick = function(evt) {
            evt.preventDefault();
            var pos;
            "mousedown" === evt.type || "click" === evt.type ? pos = {
                x: evt.clientX,
                y: evt.clientY
            } : "touchstart" === evt.type && (pos = {
                x: evt.changedTouches[0].clientX,
                y: evt.changedTouches[0].clientY
            });
            var handlepos = this.xyToPosition(pos), handleVal = this.positionToValue(handlepos);
            if ("Range" !== this.type && (this.handleVal1 = handleVal, this.firstHandle.classList.add(classNames_sliderActiveHandle)), 
            "Range" === this.type && this.handlePos2 - handlepos < handlepos - this.handlePos1 ? (this.secondHandle.classList.add(classNames_sliderActiveHandle), 
            this.handlePos2 = this.preHandlePos2 = handlepos, this.handleVal2 = handleVal, this.activeHandle = 2, 
            this.modifyZindex(), this.secondHandle.focus()) : (this.firstHandle.classList.add(classNames_sliderActiveHandle), 
            this.handlePos1 = this.preHandlePos1 = handlepos, this.handleVal1 = handleVal, this.activeHandle = 1, 
            this.modifyZindex(), this.firstHandle.focus()), this.isMaterial && this.tooltip.isVisible) {
                (1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement).classList.add(classNames_materialTooltipActive);
            }
            var focusedElement = this.element.querySelector("." + classNames_sliderTabHandle);
            focusedElement && this.getHandle() !== focusedElement && focusedElement.classList.remove(classNames_sliderTabHandle);
            var handle = 1 === this.activeHandle ? this.firstHandle : this.secondHandle;
            if (evt.target === handle) return !this.isMaterial || this.tooltip.isVisible || this.getHandle().classList.contains(classNames_sliderTabHandle) || this.materialChange(), 
            void this.tooltipAnimation();
            if (this.checkRepeatedValue(handleVal)) {
                var transition = this.isMaterial && this.tooltip.isVisible ? this.transitionOnMaterialTooltip : this.transition;
                this.getHandle().style.transition = transition.handle, "Default" !== this.type && (this.rangeBar.style.transition = transition.rangeBar), 
                this.setHandlePosition(), "Default" !== this.type && this.setRangeBar();
            }
        }, Slider.prototype.refreshTooltipOnMove = function() {
            this.tooltip.isVisible && (this.tooltipValue(), 1 === this.activeHandle ? this.firstTooltipObj.refresh(this.firstHandle) : this.secondTooltipObj.refresh(this.secondHandle));
        }, Slider.prototype.sliderDown = function(event) {
            event.preventDefault(), this.sliderBarClick(event), EventHandler.add(document, "mousemove touchmove", this.sliderBarMove, this), 
            EventHandler.add(document, "mouseup touchend", this.sliderBarUp, this);
        }, Slider.prototype.sliderBarUp = function() {
            if (this.changeEvent("changed"), this.handleFocusOut(), this.firstHandle.classList.remove(classNames_sliderActiveHandle), 
            "Range" === this.type && this.secondHandle.classList.remove(classNames_sliderActiveHandle), 
            this.tooltip.isVisible && ("Always" !== this.tooltip.showOn && this.closeTooltip(), 
            !this.isMaterial)) {
                (1 === this.activeHandle ? this.firstTooltipObj : this.secondTooltipObj).animation = {
                    open: {
                        effect: "None"
                    },
                    close: {
                        effect: "None"
                    }
                };
            }
            if (this.isMaterial && (this.getHandle().style.transform = this.getHandle().style.transform.replace("scale(1.5)", "scale(1)"), 
            this.tooltip.isVisible)) {
                (1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement).classList.remove(classNames_materialTooltipActive);
            }
            EventHandler.remove(document, "mousemove touchmove", this.sliderBarMove), EventHandler.remove(document, "mouseup touchend", this.sliderBarUp);
        }, Slider.prototype.sliderBarMove = function(evt) {
            "touchmove" !== evt.type && evt.preventDefault();
            var pos;
            pos = "mousemove" === evt.type ? {
                x: evt.clientX,
                y: evt.clientY
            } : {
                x: evt.changedTouches[0].clientX,
                y: evt.changedTouches[0].clientY
            };
            var handlepos = this.xyToPosition(pos), handleVal = this.positionToValue(handlepos);
            if (handlepos = Math.round(handlepos), "Range" !== this.type && 1 === this.activeHandle && (this.handlePos1 = handlepos, 
            this.handleVal1 = handleVal, this.firstHandle.classList.add(classNames_sliderActiveHandle)), 
            "Range" === this.type && (1 === this.activeHandle ? (this.firstHandle.classList.add(classNames_sliderActiveHandle), 
            handlepos > this.handlePos2 && (handlepos = this.handlePos2, handleVal = this.handleVal2), 
            handlepos !== this.preHandlePos1 && (this.handlePos1 = this.preHandlePos1 = handlepos, 
            this.handleVal1 = handleVal, this.activeHandle = 1)) : 2 === this.activeHandle && (this.secondHandle.classList.add(classNames_sliderActiveHandle), 
            handlepos < this.handlePos1 && (handlepos = this.handlePos1, handleVal = this.handleVal1), 
            handlepos !== this.preHandlePos2 && (this.handlePos2 = this.preHandlePos2 = handlepos, 
            this.handleVal2 = handleVal, this.activeHandle = 2))), this.checkRepeatedValue(handleVal)) {
                this.getHandle().style.transition = this.scaleTransform, "Default" !== this.type && (this.rangeBar.style.transition = "none"), 
                this.setHandlePosition(), !this.isMaterial || this.tooltip.isVisible || this.getHandle().classList.contains(classNames_sliderTabHandle) || this.materialChange();
                var tooltipElement = 1 === this.activeHandle ? this.firstTooltipElement : this.secondTooltipElement;
                this.tooltip.isVisible && (this.isMaterial ? tooltipElement.classList.contains(classNames_materialTooltipOpen) ? this.refreshTooltipOnMove() : this.openMaterialTooltip() : tooltipElement ? this.refreshTooltipOnMove() : this.openTooltip()), 
                "Default" !== this.type && this.setRangeBar();
            }
        }, Slider.prototype.checkRepeatedValue = function(currentValue) {
            if ("Range" === this.type) {
                if (currentValue === (this.enableRtl && "Vertical" !== this.orientation ? 1 === this.activeHandle ? this.previousVal[1] : this.previousVal[0] : 1 === this.activeHandle ? this.previousVal[0] : this.previousVal[1])) return 0;
            } else if (currentValue === this.previousVal) return 0;
            return 1;
        }, Slider.prototype.refreshTooltip = function() {
            this.tooltip.isVisible && this.firstTooltipObj && (this.tooltipValue(), this.firstTooltipObj.refresh(this.firstHandle), 
            "Range" === this.type && this.secondTooltipObj.refresh(this.secondHandle));
        }, Slider.prototype.openTooltip = function() {
            this.tooltip.isVisible && this.firstTooltipObj && (this.tooltipValue(), this.isMaterial ? this.openMaterialTooltip() : 1 === this.activeHandle ? this.firstTooltipObj.open(this.firstHandle) : this.secondTooltipObj.open(this.secondHandle));
        }, Slider.prototype.keyDown = function(event) {
            switch (event.keyCode) {
              case 37:
              case 38:
              case 39:
              case 40:
              case 33:
              case 34:
              case 36:
              case 35:
                event.preventDefault(), this.buttonClick(event), this.tooltip.isVisible && "Always" !== this.tooltip.showOn && !this.isMaterial && this.closeTooltip();
            }
        }, Slider.prototype.wireButtonEvt = function(destroy) {
            destroy ? (EventHandler.remove(this.firstBtn, "mouseleave touchleave", this.buttonFocusOut), 
            EventHandler.remove(this.secondBtn, "mouseleave touchleave", this.buttonFocusOut), 
            EventHandler.remove(this.firstBtn, "mousedown touchstart", this.repeatHandlerMouse), 
            EventHandler.remove(this.firstBtn, "mouseup mouseleave touchup touchend", this.repeatHandlerUp), 
            EventHandler.remove(this.secondBtn, "mousedown touchstart", this.repeatHandlerMouse), 
            EventHandler.remove(this.secondBtn, "mouseup mouseleave touchup touchend", this.repeatHandlerUp), 
            EventHandler.remove(this.firstBtn, "focusout", this.sliderFocusOut), EventHandler.remove(this.secondBtn, "focusout", this.sliderFocusOut)) : (EventHandler.add(this.firstBtn, "mouseleave touchleave", this.buttonFocusOut, this), 
            EventHandler.add(this.secondBtn, "mouseleave touchleave", this.buttonFocusOut, this), 
            EventHandler.add(this.firstBtn, "mousedown touchstart", this.repeatHandlerMouse, this), 
            EventHandler.add(this.firstBtn, "mouseup mouseleave touchup touchend", this.repeatHandlerUp, this), 
            EventHandler.add(this.secondBtn, "mousedown touchstart", this.repeatHandlerMouse, this), 
            EventHandler.add(this.secondBtn, "mouseup mouseleave touchup touchend", this.repeatHandlerUp, this), 
            EventHandler.add(this.firstBtn, "focusout", this.sliderFocusOut, this), EventHandler.add(this.secondBtn, "focusout", this.sliderFocusOut, this));
        }, Slider.prototype.wireEvents = function() {
            this.onresize = this.onResize.bind(this), window.addEventListener("resize", this.onresize), 
            this.enabled && !this.readOnly && (EventHandler.add(this.element, "mousedown touchstart", this.sliderDown, this), 
            EventHandler.add(this.sliderContainer, "keydown", this.keyDown, this), EventHandler.add(this.sliderContainer, "keyup", this.keyUp, this), 
            EventHandler.add(this.element, "focusout", this.sliderFocusOut, this), EventHandler.add(this.sliderContainer, "mouseover mouseout touchstart touchend", this.hover, this), 
            this.wireFirstHandleEvt(!1), "Range" === this.type && this.wireSecondHandleEvt(!1), 
            this.showButtons && this.wireButtonEvt(!1), this.wireMaterialTooltipEvent(!1));
        }, Slider.prototype.unwireEvents = function() {
            EventHandler.remove(this.element, "mousedown touchstart", this.sliderDown), EventHandler.remove(this.sliderContainer, "keydown", this.keyDown), 
            EventHandler.remove(this.sliderContainer, "keyup", this.keyUp), EventHandler.remove(this.element, "focusout", this.sliderFocusOut), 
            EventHandler.remove(this.sliderContainer, "mouseover mouseout touchstart touchend", this.hover), 
            this.wireFirstHandleEvt(!0), "Range" === this.type && this.wireSecondHandleEvt(!0), 
            this.showButtons && this.wireButtonEvt(!0), this.wireMaterialTooltipEvent(!0);
        }, Slider.prototype.keyUp = function(event) {
            if (9 === event.keyCode && event.target.classList.contains(classNames_sliderHandle) && !event.target.classList.contains(classNames_sliderTabHandle)) {
                this.element.querySelector("." + classNames_sliderTabHandle) && this.element.querySelector("." + classNames_sliderTabHandle).classList.remove(classNames_sliderTabHandle), 
                event.target.classList.add(classNames_sliderTabHandle);
                var parentElement = event.target.parentElement;
                parentElement === this.element && (parentElement.querySelector("." + classNames_sliderTrack).classList.add(classNames_sliderTabTrack), 
                "Range" !== this.type && "MinRange" !== this.type || parentElement.querySelector("." + classNames_rangeBar).classList.add(classNames_sliderTabRange)), 
                "Range" === this.type && (event.target.previousSibling.classList.contains(classNames_sliderHandle) ? this.activeHandle = 2 : this.activeHandle = 1), 
                this.tooltipAnimation(), this.tooltip.isVisible && "Always" !== this.tooltip.showOn && !this.isMaterial && this.closeTooltip();
            }
            this.changeEvent("changed");
        }, Slider.prototype.hover = function(event) {
            isNullOrUndefined(event) || ("mouseover" === event.type || "touchmove" === event.type || "mousemove" === event.type || "pointermove" === event.type || "touchstart" === event.type ? this.sliderContainer.classList.add(classNames_sliderHover) : this.sliderContainer.classList.remove(classNames_sliderHover));
        }, Slider.prototype.sliderFocusOut = function(event) {
            var _this = this;
            if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle && event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {
                if (this.hiddenInput.focus(), this.hiddenInput.blur(), this.isMaterial && this.tooltip.isVisible) {
                    var transformProperties_1 = this.getTooltipTransformProperties(this.previousTooltipClass), tooltipElement = "Range" !== this.type ? [ this.firstTooltipElement ] : [ this.firstTooltipElement, this.secondTooltipElement ], hiddenHandle_1 = "Range" !== this.type ? [ this.firstHandle ] : [ this.firstHandle, this.secondHandle ], handle_1 = "Range" !== this.type ? [ this.firstMaterialHandle ] : [ this.firstMaterialHandle, this.secondMaterialHandle ];
                    tooltipElement.forEach(function(tooltipElement, index) {
                        tooltipElement && (tooltipElement.style.transition = _this.scaleTransform, tooltipElement.firstChild.classList.remove(classNames_materialTooltipShow), 
                        tooltipElement.firstChild.classList.add(classNames_materialTooltipHide), hiddenHandle_1[index].style.cursor = "-webkit-grab", 
                        hiddenHandle_1[index].style.cursor = "grab", handle_1[index].style.transform = "scale(1)", 
                        tooltipElement.classList.remove(classNames_materialTooltipOpen), tooltipElement.firstElementChild.innerText.length > 4 ? tooltipElement.style.transform = transformProperties_1.translate + " scale(0.01)" : tooltipElement.style.transform = transformProperties_1.translate + " " + transformProperties_1.rotate + " scale(0.01)", 
                        setTimeout(function() {
                            tooltipElement.style.transition = "none";
                        }, 2500));
                    });
                }
                this.element.querySelector("." + classNames_sliderTabHandle) && this.element.querySelector("." + classNames_sliderTabHandle).classList.remove(classNames_sliderTabHandle), 
                this.element.querySelector("." + classNames_sliderTabTrack) && (this.element.querySelector("." + classNames_sliderTabTrack).classList.remove(classNames_sliderTabTrack), 
                "Range" !== this.type && "MinRange" !== this.type || !this.element.querySelector("." + classNames_sliderTabRange) || this.element.querySelector("." + classNames_sliderTabRange).classList.remove(classNames_sliderTabRange));
            }
        }, Slider.prototype.closeTooltip = function() {
            this.tooltip.isVisible && (this.tooltipValue(), 1 === this.activeHandle ? this.firstTooltipObj.close() : this.secondTooltipObj.close());
        }, Slider.prototype.removeElement = function(element) {
            element.parentNode && element.parentNode.removeChild(element);
        }, Slider.prototype.changeSliderType = function(type) {
            this.isMaterial && this.firstMaterialHandle && (this.sliderContainer.classList.remove(classNames_materialSlider), 
            this.removeElement(this.firstMaterialHandle), this.firstTooltipElement = void 0, 
            this.firstHandleTooltipPosition = void 0, this.secondMaterialHandle && (this.removeElement(this.secondMaterialHandle), 
            this.secondTooltipElement = void 0, this.secondHandleTooltipPosition = void 0)), 
            this.tooltip.isVisible && this.isMaterial && this.sliderContainer.classList.add(classNames_materialSlider), 
            this.removeElement(this.firstHandle), "Default" !== type && ("Range" === type && this.removeElement(this.secondHandle), 
            this.removeElement(this.rangeBar)), this.tooltip.isVisible && !isNullOrUndefined(this.firstTooltipObj) && (this.firstTooltipObj.destroy(), 
            "Range" !== type || isNullOrUndefined(this.secondTooltipObj) || this.secondTooltipObj.destroy()), 
            this.createRangeBar(), this.setHandler(), this.setOrientClass(), this.wireFirstHandleEvt(!1), 
            "Range" === this.type && this.wireSecondHandleEvt(!1), this.setValue(), this.tooltip.isVisible && (this.renderTooltip(), 
            this.wireMaterialTooltipEvent(!1)), this.updateConfig();
        }, Slider.prototype.changeRtl = function() {
            if (this.enableRtl || "Range" !== this.type || (this.value = [ this.handleVal2, this.handleVal1 ]), 
            this.updateConfig(), this.tooltip.isVisible && (this.firstTooltipObj.refresh(this.firstHandle), 
            "Range" === this.type && this.secondTooltipObj.refresh(this.secondHandle)), this.showButtons) {
                var enabledRTL = this.enableRtl && "Vertical" !== this.orientation;
                attributes(enabledRTL ? this.secondBtn : this.firstBtn, {
                    "aria-label": "Decrease",
                    title: "Decrease"
                }), attributes(enabledRTL ? this.firstBtn : this.secondBtn, {
                    "aria-label": "Increase",
                    title: "Increase"
                });
            }
        }, Slider.prototype.changeOrientation = function() {
            this.changeSliderType(this.type);
        }, Slider.prototype.updateConfig = function() {
            this.setEnableRTL(), this.setValue(), this.tooltip.isVisible && this.refreshTooltip(), 
            "None" !== this.ticks.placement && this.ul && (this.removeElement(this.ul), this.renderScale());
        }, Slider.prototype.getPersistData = function() {
            return this.addOnPersist([ "value" ]);
        }, Slider.prototype.destroy = function() {
            _super.prototype.destroy.call(this), this.unwireEvents(), window.removeEventListener("resize", this.onresize), 
            removeClass([ this.sliderContainer ], [ classNames_sliderDisabled ]), this.firstHandle.removeAttribute("aria-orientation"), 
            "Range" === this.type && this.secondHandle.removeAttribute("aria-orientation"), 
            this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer), 
            detach(this.sliderContainer), this.tooltip.isVisible && (this.firstTooltipObj.destroy(), 
            "Range" !== this.type || isNullOrUndefined(this.secondTooltipObj) || this.secondTooltipObj.destroy()), 
            this.element.innerHTML = "";
        }, Slider.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _this = this, _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "cssClass":
                    this.setCSSClass(oldProp.cssClass);
                    break;

                  case "value":
                    isNullOrUndefined(oldProp.value) || isNullOrUndefined(newProp.value) || oldProp.value.toString() !== newProp.value.toString() && (this.setValue(), 
                    this.refreshTooltip(), "Range" === this.type && (oldProp.value[0] === newProp.value[0] ? this.activeHandle = 2 : this.activeHandle = 1));
                    break;

                  case "min":
                  case "step":
                  case "max":
                    this.setMinMaxValue();
                    break;

                  case "tooltip":
                    isNullOrUndefined(newProp.tooltip) || isNullOrUndefined(oldProp.tooltip) || this.setTooltip();
                    break;

                  case "type":
                    this.changeSliderType(oldProp.type), this.setZindex();
                    break;

                  case "enableRtl":
                    oldProp.enableRtl !== newProp.enableRtl && "Vertical" !== this.orientation && (this.rtl = oldProp.enableRtl, 
                    this.changeRtl());
                    break;

                  case "orientation":
                    this.changeOrientation();
                    break;

                  case "ticks":
                    isNullOrUndefined(this.sliderContainer.querySelector("." + classNames_scale)) || (detach(this.ul), 
                    Array.prototype.forEach.call(this.sliderContainer.classList, function(className) {
                        className.match(/e-scale-/) && _this.sliderContainer.classList.remove(className);
                    })), "None" !== this.ticks.placement && (this.renderScale(), this.setZindex());
                    break;

                  case "locale":
                    this.showButtons && this.buttonTitle();
                    break;

                  case "showButtons":
                    newProp.showButtons ? (this.setButtons(), this.onResize(), this.enabled && !this.readOnly && this.wireButtonEvt(!1)) : this.firstBtn && this.secondBtn && (this.sliderContainer.removeChild(this.firstBtn), 
                    this.sliderContainer.removeChild(this.secondBtn), this.firstBtn = void 0, this.secondBtn = void 0);
                    break;

                  case "enabled":
                    this.setEnabled();
                    break;

                  case "readOnly":
                    this.setReadOnly();
                }
            }
        }, Slider.prototype.setReadOnly = function() {
            this.readOnly ? (this.unwireEvents(), this.sliderContainer.classList.add(classNames_readOnly)) : (this.wireEvents(), 
            this.sliderContainer.classList.remove(classNames_readOnly));
        }, Slider.prototype.setMinMaxValue = function() {
            var _this = this;
            this.setValue(), this.refreshTooltip(), isNullOrUndefined(this.sliderContainer.querySelector("." + classNames_scale)) || this.ul && (detach(this.ul), 
            Array.prototype.forEach.call(this.sliderContainer.classList, function(className) {
                className.match(/e-scale-/) && _this.sliderContainer.classList.remove(className);
            })), "None" !== this.ticks.placement && (this.renderScale(), this.setZindex());
        }, Slider.prototype.setZindex = function() {
            this.zIndex = 6, isNullOrUndefined(this.ticks) || "None" === this.ticks.placement || (this.ul.style.zIndex = this.zIndex + -7 + "", 
            this.element.style.zIndex = this.zIndex + 2 + ""), this.isMaterial || isNullOrUndefined(this.ticks) || "Both" !== this.ticks.placement || (this.element.style.zIndex = this.zIndex + 2 + ""), 
            this.firstHandle.style.zIndex = this.zIndex + 3 + "", "Range" === this.type && (this.secondHandle.style.zIndex = this.zIndex + 4 + "");
        }, Slider.prototype.setTooltip = function() {
            this.changeSliderType(this.type);
        }, Slider.prototype.getModuleName = function() {
            return "slider";
        }, __decorate$2$4([ Property(null) ], Slider.prototype, "value", void 0), __decorate$2$4([ Property(1) ], Slider.prototype, "step", void 0), 
        __decorate$2$4([ Property(0) ], Slider.prototype, "min", void 0), __decorate$2$4([ Property(100) ], Slider.prototype, "max", void 0), 
        __decorate$2$4([ Property(!1) ], Slider.prototype, "readOnly", void 0), __decorate$2$4([ Property("Default") ], Slider.prototype, "type", void 0), 
        __decorate$2$4([ Complex({}, TicksData) ], Slider.prototype, "ticks", void 0), __decorate$2$4([ Property(!0) ], Slider.prototype, "enabled", void 0), 
        __decorate$2$4([ Property(!1) ], Slider.prototype, "enableRtl", void 0), __decorate$2$4([ Complex({}, TooltipData) ], Slider.prototype, "tooltip", void 0), 
        __decorate$2$4([ Property(!1) ], Slider.prototype, "showButtons", void 0), __decorate$2$4([ Property(!0) ], Slider.prototype, "enableAnimation", void 0), 
        __decorate$2$4([ Property("Horizontal") ], Slider.prototype, "orientation", void 0), 
        __decorate$2$4([ Property("") ], Slider.prototype, "cssClass", void 0), __decorate$2$4([ Event() ], Slider.prototype, "created", void 0), 
        __decorate$2$4([ Event() ], Slider.prototype, "change", void 0), __decorate$2$4([ Event() ], Slider.prototype, "changed", void 0), 
        __decorate$2$4([ Event() ], Slider.prototype, "renderingTicks", void 0), __decorate$2$4([ Event() ], Slider.prototype, "renderedTicks", void 0), 
        __decorate$2$4([ Event() ], Slider.prototype, "tooltipChange", void 0), Slider = __decorate$2$4([ NotifyPropertyChanges ], Slider);
    }(Component), __extends$3$2 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$3$2 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, VALIDATE_EMAIL = new RegExp("^[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,5}|[.]{1}[a-zA-Z]{2,4}[.]{1}[a-zA-Z]{2,4})$"), VALIDATE_URL = new RegExp("^((ftp|http|https)://)?www.([A-z]{2,}).([A-z]{2,})$"), VALIDATE_DATE_ISO = new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"), VALIDATE_DIGITS = new RegExp("^[0-9]*$"), VALIDATE_PHONE = new RegExp("^[+]?[0-9]{9,13}$"), VALIDATE_CREDITCARD = new RegExp("^\\d{13,16}$");
    !function(ErrorOption) {
        ErrorOption[ErrorOption.Message = 0] = "Message", ErrorOption[ErrorOption.Label = 1] = "Label";
    }(ErrorOption || (ErrorOption = {}));
    var FormValidator = function(_super) {
        function FormValidator(element, options) {
            var _this = _super.call(this, options, element) || this;
            if (_this.validated = [], _this.errorRules = [], _this.allowSubmit = !1, _this.required = "required", 
            _this.infoElement = null, _this.inputElement = null, _this.selectQuery = "input:not([type=reset]):not([type=button]), select, textarea", 
            _this.defaultMessages = {
                required: "This field is required.",
                email: "Please enter a valid email address.",
                url: "Please enter a valid URL.",
                date: "Please enter a valid date.",
                dateIso: "Please enter a valid date ( ISO ).",
                creditcard: "Please enter valid card number",
                number: "Please enter a valid number.",
                digits: "Please enter only digits.",
                maxLength: "Please enter no more than {0} characters.",
                minLength: "Please enter at least {0} characters.",
                rangeLength: "Please enter a value between {0} and {1} characters long.",
                range: "Please enter a value between {0} and {1}.",
                max: "Please enter a value less than or equal to {0}.",
                min: "Please enter a value greater than or equal to {0}.",
                regex: "Please enter a correct value.",
                tel: "Please enter a valid phone number.",
                pattern: "Please enter a correct pattern value.",
                equalTo: "Please enter the valid match text"
            }, element = "string" == typeof element ? select(element, document) : element, null != _this.element) return _this.element.setAttribute("novalidate", ""), 
            _this.inputElements = selectAll(_this.selectQuery, _this.element), _this.createHTML5Rules(), 
            _this.wireEvents(), _this;
        }
        return __extends$3$2(FormValidator, _super), FormValidator_1 = FormValidator, FormValidator.prototype.addRules = function(name, rules) {
            name && (this.rules.hasOwnProperty(name) ? extend(this.rules[name], rules, {}) : this.rules[name] = rules);
        }, FormValidator.prototype.removeRules = function(name, rules) {
            if (name || rules) if (this.rules[name] && !rules) delete this.rules[name]; else {
                if (isNullOrUndefined(this.rules[name] && rules)) return;
                for (var i = 0; i < rules.length; i++) delete this.rules[name][rules[i]];
            } else this.rules = {};
        }, FormValidator.prototype.validate = function(selected) {
            var rules = Object.keys(this.rules);
            if (selected && rules.length) return this.validateRules(selected), -1 !== rules.indexOf(selected) && 0 === this.errorRules.filter(function(data) {
                return data.name === selected;
            }).length;
            for (var _i = 0, rules_1 = rules; _i < rules_1.length; _i++) {
                var name_1 = rules_1[_i];
                this.validateRules(name_1);
            }
            return 0 === this.errorRules.length;
        }, FormValidator.prototype.reset = function() {
            this.element.reset(), this.clearForm();
        }, FormValidator.prototype.getInputElement = function(name) {
            return this.inputElement = select("[name=" + name + "]", this.element), this.inputElement;
        }, FormValidator.prototype.destroy = function() {
            this.reset(), this.unwireEvents(), this.rules = {};
            for (var _i = 0, elements_1 = selectAll("." + this.errorClass + ", ." + this.validClass, this.element); _i < elements_1.length; _i++) {
                elements_1[_i].remove();
            }
            _super.prototype.destroy.call(this);
        }, FormValidator.prototype.onPropertyChanged = function(newProp, oldProp) {}, FormValidator.prototype.getModuleName = function() {
            return "formValidator";
        }, FormValidator.prototype.clearForm = function() {
            this.errorRules = [], this.validated = [];
            for (var _i = 0, elements_2 = selectAll(this.selectQuery, this.element); _i < elements_2.length; _i++) {
                var input = elements_2[_i];
                input.removeAttribute("aria-invalid"), input.classList.remove(this.errorClass), 
                input.name.length > 0 && (this.getInputElement(input.name), this.getErrorElement(input.name), 
                this.hideMessage(input.name)), input.classList.remove(this.validClass);
            }
        }, FormValidator.prototype.createHTML5Rules = function() {
            for (var defRules = [ "required", "regex", "rangeLength", "maxLength", "minLength", "dateIso", "digits", "pattern", "data-val-required", "type", "data-validation", "min", "max", "range", "equalTo", "data-val-minlength-min", "data-val-equalto-other", "data-val-maxlength-max", "data-val-range-min", "data-val-regex-pattern", "data-val-length-max", "data-val-creditcard", "data-val-phone" ], acceptedTypes = [ "email", "url", "date", "number", "tel" ], _i = 0, _a = this.inputElements; _i < _a.length; _i++) {
                for (var input = _a[_i], allRule = {}, _b = 0, defRules_1 = defRules; _b < defRules_1.length; _b++) {
                    var rule = defRules_1[_b];
                    if (null !== input.getAttribute(rule)) switch (rule) {
                      case "required":
                        this.defRule(input, allRule, rule, input.required);
                        break;

                      case "data-validation":
                        rule = input.getAttribute(rule), this.defRule(input, allRule, rule, !0);
                        break;

                      case "type":
                        -1 !== acceptedTypes.indexOf(input.type) && this.defRule(input, allRule, input.type, !0);
                        break;

                      case "rangeLength":
                      case "range":
                        this.defRule(input, allRule, rule, JSON.parse(input.getAttribute(rule)));
                        break;

                      case "equalTo":
                        var id = input.getAttribute(rule);
                        this.defRule(input, allRule, rule, id);
                        break;

                      default:
                        "true" === input.getAttribute("data-val") ? this.annotationRule(input, allRule, rule, input.getAttribute(rule)) : this.defRule(input, allRule, rule, input.getAttribute(rule));
                    }
                }
                0 !== Object.keys(allRule).length && this.addRules(input.name, allRule);
            }
        }, FormValidator.prototype.annotationRule = function(input, ruleCon, ruleName, value) {
            var annotationRule = ruleName.split("-"), rulesList = [ "required", "creditcard", "phone", "maxlength", "minlength", "range", "regex", "equalto" ], ruleFirstName = annotationRule[annotationRule.length - 1], ruleSecondName = annotationRule[annotationRule.length - 2];
            if (-1 !== rulesList.indexOf(ruleFirstName)) switch (ruleFirstName) {
              case "required":
                this.defRule(input, ruleCon, "required", value);
                break;

              case "creditcard":
                this.defRule(input, ruleCon, "creditcard", value);
                break;

              case "phone":
                this.defRule(input, ruleCon, "tel", value);
            } else if (-1 !== rulesList.indexOf(ruleSecondName)) switch (ruleSecondName) {
              case "maxlength":
                this.defRule(input, ruleCon, "maxLength", value);
                break;

              case "minlength":
                this.defRule(input, ruleCon, "minLength", value);
                break;

              case "range":
                var minvalue = input.getAttribute("data-val-range-min"), maxvalue = input.getAttribute("data-val-range-max");
                this.defRule(input, ruleCon, "range", [ minvalue, maxvalue ]);
                break;

              case "equalto":
                var id = input.getAttribute(ruleName).split(".");
                this.defRule(input, ruleCon, "equalTo", id[id.length - 1]);
                break;

              case "regex":
                this.defRule(input, ruleCon, "regex", value);
            }
        }, FormValidator.prototype.defRule = function(input, ruleCon, ruleName, value) {
            var message = input.getAttribute("data-" + ruleName + "-message"), annotationMessage = input.getAttribute("data-val-" + ruleName);
            message ? value = [ value, message ] : annotationMessage && (value = [ value, annotationMessage ]), 
            ruleCon[ruleName] = value;
        }, FormValidator.prototype.wireEvents = function() {
            for (var _i = 0, _a = this.inputElements; _i < _a.length; _i++) {
                var input = _a[_i];
                FormValidator_1.isCheckable(input) ? EventHandler.add(input, "click", this.clickHandler, this) : "SELECT" === input.tagName ? EventHandler.add(input, "change", this.changeHandler, this) : (EventHandler.add(input, "focusout", this.focusOutHandler, this), 
                EventHandler.add(input, "keyup", this.keyUpHandler, this));
            }
            EventHandler.add(this.element, "submit", this.submitHandler, this), EventHandler.add(this.element, "reset", this.resetHandler, this);
        }, FormValidator.prototype.unwireEvents = function() {
            for (var _i = 0, _a = this.inputElements; _i < _a.length; _i++) {
                var input = _a[_i];
                EventHandler.clearEvents(input);
            }
            EventHandler.remove(this.element, "submit", this.submitHandler), EventHandler.remove(this.element, "reset", this.resetHandler);
        }, FormValidator.prototype.focusOutHandler = function(e) {
            this.trigger("focusout", e);
            var element = e.target;
            this.rules[element.name] && (this.rules[element.name][this.required] || element.value.length > 0 ? this.validate(element.name) : -1 === this.validated.indexOf(element.name) && this.validated.push(element.name));
        }, FormValidator.prototype.keyUpHandler = function(e) {
            this.trigger("keyup", e);
            var element = e.target;
            (9 !== e.which || this.rules[element.name] && (!this.rules[element.name] || this.rules[element.name][this.required])) && -1 !== this.validated.indexOf(element.name) && this.rules[element.name] && -1 === [ 16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225 ].indexOf(e.which) && this.validate(element.name);
        }, FormValidator.prototype.clickHandler = function(e) {
            this.trigger("click", e);
            var element = e.target;
            "submit" !== element.type ? this.validate(element.name) : null !== element.getAttribute("formnovalidate") && (this.allowSubmit = !0);
        }, FormValidator.prototype.changeHandler = function(e) {
            this.trigger("change", e);
            var element = e.target;
            this.validate(element.name);
        }, FormValidator.prototype.submitHandler = function(e) {
            this.trigger("submit", e), this.allowSubmit || this.validate() ? this.allowSubmit = !1 : e.preventDefault();
        }, FormValidator.prototype.resetHandler = function() {
            this.clearForm();
        }, FormValidator.prototype.validateRules = function(name) {
            if (this.rules[name]) {
                var rules = Object.keys(this.rules[name]);
                this.getInputElement(name), this.getErrorElement(name);
                for (var _i = 0, rules_2 = rules; _i < rules_2.length; _i++) {
                    var rule = rules_2[_i], errorMessage = this.getErrorMessage(this.rules[name][rule], rule), errorRule = {
                        name: name,
                        message: errorMessage
                    }, eventArgs = {
                        inputName: name,
                        element: this.inputElement,
                        message: errorMessage
                    };
                    if (!this.isValid(name, rule) && !this.inputElement.classList.contains(this.ignore)) {
                        this.removeErrorRules(name), this.errorRules.push(errorRule), this.inputElement.setAttribute("aria-invalid", "true"), 
                        this.inputElement.setAttribute("aria-describedby", this.inputElement.id + "-info"), 
                        this.infoElement ? this.showMessage(errorRule) : this.createErrorElement(name, errorRule.message, this.inputElement), 
                        eventArgs.errorElement = this.infoElement, eventArgs.status = "failure", this.inputElement.classList.add(this.errorClass), 
                        this.inputElement.classList.remove(this.validClass), this.trigger("validationComplete", eventArgs), 
                        "required" === rule && this.inputElement.setAttribute("aria-required", "true");
                        break;
                    }
                    this.hideMessage(name), eventArgs.status = "success", this.trigger("validationComplete", eventArgs);
                }
            }
        }, FormValidator.prototype.isValid = function(name, rule) {
            var params = this.rules[name][rule], param = params instanceof Array && "string" == typeof params[1] ? params[0] : params, currentRule = this.rules[name][rule], args = {
                value: this.inputElement.value,
                param: param,
                element: this.inputElement,
                formElement: this.element
            };
            if (this.trigger("validationBegin", args), currentRule && "function" == typeof currentRule[0]) {
                return currentRule[0].call(this, {
                    element: this.inputElement,
                    value: this.inputElement.value
                });
            }
            return FormValidator_1.isCheckable(this.inputElement) ? "required" !== rule || selectAll("input[name=" + name + "]:checked", this.element).length > 0 : FormValidator_1.checkValidator[rule](args);
        }, FormValidator.prototype.getErrorMessage = function(ruleValue, rule) {
            var message = ruleValue instanceof Array && "string" == typeof ruleValue[1] ? ruleValue[1] : this.defaultMessages[rule], formats = message.match(/{(\d)}/g);
            if (!isNullOrUndefined(formats)) for (var i = 0; i < formats.length; i++) {
                var value = ruleValue instanceof Array ? ruleValue[i] : ruleValue;
                message = message.replace(formats[i], value);
            }
            return message;
        }, FormValidator.prototype.createErrorElement = function(name, message, input) {
            var errorElement = createElement(this.errorElement, {
                className: this.errorClass,
                innerHTML: message,
                attrs: {
                    for: name
                }
            });
            if (this.errorOption === ErrorOption.Message && (errorElement.classList.remove(this.errorClass), 
            errorElement.classList.add("e-message"), errorElement = createElement(this.errorContainer, {
                className: this.errorClass,
                innerHTML: errorElement.outerHTML
            })), errorElement.id = this.inputElement.name + "-info", this.element.querySelector('[data-valmsg-for="' + input.id + '"]')) this.element.querySelector('[data-valmsg-for="' + input.id + '"]').appendChild(errorElement); else if (!0 === input.hasAttribute("data-msg-containerid")) {
                var containerId = input.getAttribute("data-msg-containerid");
                this.element.querySelector("#" + containerId).appendChild(errorElement);
            } else null != this.customPlacement ? this.customPlacement.call(this, this.inputElement, errorElement) : this.inputElement.parentNode.insertBefore(errorElement, this.inputElement.nextSibling);
            errorElement.style.display = "block", this.getErrorElement(name), this.validated.push(name), 
            this.checkRequired(name);
        }, FormValidator.prototype.getErrorElement = function(name) {
            return this.infoElement = select(this.errorElement + "." + this.errorClass, this.inputElement.parentElement), 
            this.infoElement || (this.infoElement = select(this.errorElement + "." + this.errorClass + '[for="' + name + '"]')), 
            this.infoElement;
        }, FormValidator.prototype.removeErrorRules = function(name) {
            for (var i = 0; i < this.errorRules.length; i++) {
                this.errorRules[i].name === name && this.errorRules.splice(i, 1);
            }
        }, FormValidator.prototype.showMessage = function(errorRule) {
            this.infoElement.style.display = "block", this.infoElement.innerHTML = errorRule.message, 
            this.checkRequired(errorRule.name);
        }, FormValidator.prototype.hideMessage = function(name) {
            this.infoElement && (this.infoElement.style.display = "none", this.removeErrorRules(name), 
            this.inputElement.classList.add(this.validClass), this.inputElement.classList.remove(this.errorClass), 
            this.inputElement.setAttribute("aria-invalid", "false"));
        }, FormValidator.prototype.checkRequired = function(name) {
            this.rules[name][this.required] || this.inputElement.value.length || (this.infoElement.innerHTML = this.inputElement.value, 
            this.infoElement.setAttribute("aria-invalid", "false"), this.hideMessage(name));
        }, FormValidator.isCheckable = function(input) {
            var inputType = input.getAttribute("type");
            return inputType && ("checkbox" === inputType || "radio" === inputType || "submit" === inputType);
        }, FormValidator.checkValidator = {
            required: function(option) {
                return option.value.length > 0;
            },
            email: function(option) {
                return VALIDATE_EMAIL.test(option.value);
            },
            url: function(option) {
                return VALIDATE_URL.test(option.value);
            },
            dateIso: function(option) {
                return VALIDATE_DATE_ISO.test(option.value);
            },
            tel: function(option) {
                return VALIDATE_PHONE.test(option.value);
            },
            creditcard: function(option) {
                return VALIDATE_CREDITCARD.test(option.value);
            },
            number: function(option) {
                return !isNaN(Number(option.value)) && -1 === option.value.indexOf(" ");
            },
            digits: function(option) {
                return VALIDATE_DIGITS.test(option.value);
            },
            maxLength: function(option) {
                return option.value.length <= option.param;
            },
            minLength: function(option) {
                return option.value.length >= option.param;
            },
            rangeLength: function(option) {
                var param = option.param;
                return option.value.length >= param[0] && option.value.length <= param[1];
            },
            range: function(option) {
                var param = option.param;
                return !isNaN(Number(option.value)) && Number(option.value) >= param[0] && Number(option.value) <= param[1];
            },
            date: function(option) {
                return !isNaN(new Date(option.value).getTime());
            },
            max: function(option) {
                return isNaN(Number(option.value)) ? new Date(option.value).getTime() <= new Date(JSON.parse(JSON.stringify(option.param))).getTime() : +option.value <= option.param;
            },
            min: function(option) {
                return isNaN(Number(option.value)) ? new Date(option.value).getTime() >= new Date(JSON.parse(JSON.stringify(option.param))).getTime() : +option.value >= option.param;
            },
            regex: function(option) {
                return new RegExp(option.param).test(option.value);
            },
            equalTo: function(option) {
                var compareTo = option.formElement.querySelector("#" + option.param);
                return option.param = compareTo.value, option.param === option.value;
            }
        }, __decorate$3$2([ Property("e-hidden") ], FormValidator.prototype, "ignore", void 0), 
        __decorate$3$2([ Property({}) ], FormValidator.prototype, "rules", void 0), __decorate$3$2([ Property("e-error") ], FormValidator.prototype, "errorClass", void 0), 
        __decorate$3$2([ Property("e-valid") ], FormValidator.prototype, "validClass", void 0), 
        __decorate$3$2([ Property("label") ], FormValidator.prototype, "errorElement", void 0), 
        __decorate$3$2([ Property("div") ], FormValidator.prototype, "errorContainer", void 0), 
        __decorate$3$2([ Property(ErrorOption.Label) ], FormValidator.prototype, "errorOption", void 0), 
        __decorate$3$2([ Event() ], FormValidator.prototype, "focusout", void 0), __decorate$3$2([ Event() ], FormValidator.prototype, "keyup", void 0), 
        __decorate$3$2([ Event() ], FormValidator.prototype, "click", void 0), __decorate$3$2([ Event() ], FormValidator.prototype, "change", void 0), 
        __decorate$3$2([ Event() ], FormValidator.prototype, "submit", void 0), __decorate$3$2([ Event() ], FormValidator.prototype, "validationBegin", void 0), 
        __decorate$3$2([ Event() ], FormValidator.prototype, "validationComplete", void 0), 
        __decorate$3$2([ Event() ], FormValidator.prototype, "customPlacement", void 0), 
        FormValidator = FormValidator_1 = __decorate$3$2([ NotifyPropertyChanges ], FormValidator);
        var FormValidator_1;
    }(Base), __extends$4$2 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$4$2 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, FILE = "e-upload-file-list", STATUS = "e-file-status", CLEAR_ICON = "e-file-remove-btn", PROGRESSBAR = "e-upload-progress-bar", UPLOAD_SUCCESS = "e-upload-success", ICON_FOCUSED = "e-clear-icon-focus", FilesProp = function(_super) {
        function FilesProp() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$2(FilesProp, _super), __decorate$4$2([ Property("") ], FilesProp.prototype, "name", void 0), 
        __decorate$4$2([ Property(null) ], FilesProp.prototype, "size", void 0), __decorate$4$2([ Property("") ], FilesProp.prototype, "type", void 0), 
        FilesProp;
    }(ChildProperty), ButtonsProps = function(_super) {
        function ButtonsProps() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$2(ButtonsProps, _super), __decorate$4$2([ Property("Browse") ], ButtonsProps.prototype, "browse", void 0), 
        __decorate$4$2([ Property("Upload") ], ButtonsProps.prototype, "upload", void 0), 
        __decorate$4$2([ Property("Clear") ], ButtonsProps.prototype, "clear", void 0), 
        ButtonsProps;
    }(ChildProperty), AsyncSettings = function(_super) {
        function AsyncSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$2(AsyncSettings, _super), __decorate$4$2([ Property("") ], AsyncSettings.prototype, "saveUrl", void 0), 
        __decorate$4$2([ Property("") ], AsyncSettings.prototype, "removeUrl", void 0), 
        AsyncSettings;
    }(ChildProperty), Uploader = function(_super) {
        function Uploader(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.initialAttr = {
                accept: null,
                multiple: !1,
                disabled: !1
            }, _this.fileList = [], _this.filesData = [], _this.uploadedFilesData = [], _this.isForm = !1, 
            _this;
        }
        return __extends$4$2(Uploader, _super), Uploader.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "allowedExtensions":
                    this.setExtensions(this.allowedExtensions), this.clearAll();
                    break;

                  case "enabled":
                    this.setControlStatus();
                    break;

                  case "multiple":
                    this.setMultipleSelection();
                    break;

                  case "enableRtl":
                    this.setRTL(), this.reRenderFileList();
                    break;

                  case "buttons":
                    this.buttons.browse = isNullOrUndefined(this.buttons.browse) ? "" : this.buttons.browse, 
                    this.buttons.clear = isNullOrUndefined(this.buttons.clear) ? "" : this.buttons.clear, 
                    this.buttons.upload = isNullOrUndefined(this.buttons.upload) ? "" : this.buttons.upload, 
                    this.renderButtonTemplates();
                    break;

                  case "dropArea":
                    this.unBindDropEvents(), this.setDropArea();
                    break;

                  case "showFileList":
                    this.listParent && (this.listParent.style.display = this.showFileList ? "block" : "none", 
                    this.actionButtons.style.display = this.showFileList ? "block" : "none");
                    break;

                  case "files":
                    this.renderPreLoadFiles();
                    break;

                  case "minFileSize":
                  case "maxFileSize":
                  case "template":
                  case "autoUpload":
                    this.clearAll();
                    break;

                  case "locale":
                    this.l10n.setLocale(this.locale), this.setLocalizedTexts(), this.preLocaleObj = getValue("currentLocale", this.l10n);
                }
            }
        }, Uploader.prototype.setLocalizedTexts = function() {
            isNullOrUndefined(this.template) && ("string" == typeof this.buttons.browse && (this.browseButton.innerText = "Browse" === this.buttons.browse ? this.localizedTexts("Browse") : this.buttons.browse, 
            this.browseButton.setAttribute("title", this.browseButton.innerText), this.uploadWrapper.querySelector(".e-file-drop").innerHTML = this.localizedTexts("dropFilesHint")), 
            this.updateFileList());
        }, Uploader.prototype.getKeyValue = function(val) {
            for (var keyValue, _i = 0, _a = Object.keys(this.preLocaleObj); _i < _a.length; _i++) {
                var key = _a[_i];
                this.preLocaleObj[key] === val && (keyValue = key);
            }
            return keyValue;
        }, Uploader.prototype.updateFileList = function() {
            if (this.fileList.length > 0 && !isNullOrUndefined(this.uploadWrapper.querySelector(".e-upload-files"))) for (var i = 0; i < this.fileList.length; i++) this.fileList[i].querySelector(".e-file-status").innerHTML = this.localizedTexts(this.getKeyValue(this.filesData[i].status)), 
            this.filesData[i].status = this.localizedTexts(this.getKeyValue(this.filesData[i].status)), 
            this.fileList[i].classList.contains(UPLOAD_SUCCESS) ? this.fileList[i].querySelector(".e-icons").setAttribute("title", this.localizedTexts("remove")) : this.fileList[i].querySelector(".e-icons").setAttribute("title", this.localizedTexts("delete")), 
            this.autoUpload || (this.uploadButton.innerText = "Upload" === this.buttons.upload ? this.localizedTexts("Upload") : this.buttons.upload, 
            this.clearButton.innerText = "Clear" === this.buttons.clear ? this.localizedTexts("Clear") : this.buttons.clear);
        }, Uploader.prototype.reRenderFileList = function() {
            this.listParent && (detach(this.listParent), this.listParent = null, this.fileList = [], 
            this.removeActionButtons(), this.createFileList(this.filesData), this.renderActionButtons());
        }, Uploader.prototype.preRender = function() {
            this.cloneElement = this.element.cloneNode(!0), this.localeText = {
                Browse: "Browse",
                Clear: "Clear",
                Upload: "Upload",
                dropFilesHint: "or Drop files here",
                invalidMaxFileSize: "File size is too large",
                invalidMinFileSize: "File size is too small",
                invalidFileType: "File type is not allowed",
                uploadFailedMessage: "File failed to upload",
                uploadSuccessMessage: "File uploaded successfully",
                removedSuccessMessage: "File removed successfully",
                removedFailedMessage: "File failed to remove",
                inProgress: "Uploading",
                readyToUploadMessage: "Ready to upload",
                remove: "Remove",
                cancel: "Cancel",
                delete: "Delete file"
            }, this.l10n = new L10n("uploader", this.localeText, this.locale), this.preLocaleObj = getValue("currentLocale", this.l10n), 
            this.checkHTMLAttributes(), "" !== this.asyncSettings.saveUrl || "" !== this.asyncSettings.removeUrl || this.autoUpload || isNullOrUndefined(this.element.closest("form")) || (this.isForm = !0, 
            this.element.closest("form").setAttribute("enctype", "multipart/form-data"), this.element.closest("form").setAttribute("encoding", "multipart/form-data"));
            var ejInstance = getValue("ej2_instances", this.element);
            if ("EJS-UPLOADER" === this.element.tagName || "UPLOADERCOMPONENT" === this.element.tagName) {
                for (var inputElement = createElement("input", {
                    attrs: {
                        type: "file"
                    }
                }), index = 0; index < this.element.attributes.length; index++) inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue), 
                inputElement.innerHTML = this.element.innerHTML;
                inputElement.hasAttribute("name") || inputElement.setAttribute("name", "UploadFiles"), 
                this.element.appendChild(inputElement), this.element = inputElement, setValue("ej2_instances", ejInstance, this.element);
            }
            isNullOrUndefined(this.element.getAttribute("name")) && this.element.setAttribute("name", this.element.getAttribute("id")), 
            this.element.hasAttribute("type") || this.element.setAttribute("type", "file"), 
            this.keyConfigs = {
                previous: "shift+tab",
                enter: "enter",
                next: "tab"
            };
        }, Uploader.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, Uploader.prototype.getModuleName = function() {
            return "uploader";
        }, Uploader.prototype.render = function() {
            this.renderBrowseButton(), this.initializeUpload(), this.wireEvents(), this.setMultipleSelection(), 
            this.setExtensions(this.allowedExtensions), this.setRTL(), this.renderPreLoadFiles(), 
            this.setControlStatus();
        }, Uploader.prototype.renderBrowseButton = function() {
            this.browseButton = createElement("button", {
                className: "e-css e-btn",
                attrs: {
                    type: "button"
                }
            }), "string" == typeof this.buttons.browse ? (this.browseButton.innerText = "Browse" === this.buttons.browse ? this.localizedTexts("Browse") : this.buttons.browse, 
            this.browseButton.setAttribute("title", this.browseButton.innerText)) : this.browseButton.appendChild(this.buttons.browse), 
            this.element.setAttribute("aria-label", "Uploader");
        }, Uploader.prototype.renderActionButtons = function() {
            this.element.setAttribute("tabindex", "-1"), this.actionButtons = createElement("div", {
                className: "e-upload-actions"
            }), this.uploadButton = createElement("button", {
                className: "e-file-upload-btn e-css e-btn e-primary",
                attrs: {
                    type: "button",
                    tabindex: "-1"
                }
            }), this.clearButton = createElement("button", {
                className: "e-file-clear-btn e-css e-btn e-flat",
                attrs: {
                    type: "button",
                    tabindex: "-1"
                }
            }), this.actionButtons.appendChild(this.clearButton), this.actionButtons.appendChild(this.uploadButton), 
            this.renderButtonTemplates(), this.uploadWrapper.appendChild(this.actionButtons), 
            this.browseButton.blur(), this.uploadButton.focus(), this.wireActionButtonEvents();
        }, Uploader.prototype.wireActionButtonEvents = function() {
            EventHandler.add(this.uploadButton, "click", this.uploadButtonClick, this), EventHandler.add(this.clearButton, "click", this.clearButtonClick, this);
        }, Uploader.prototype.unwireActionButtonEvents = function() {
            EventHandler.remove(this.uploadButton, "click", this.uploadButtonClick), EventHandler.remove(this.clearButton, "click", this.clearButtonClick);
        }, Uploader.prototype.removeActionButtons = function() {
            this.actionButtons && (this.unwireActionButtonEvents(), detach(this.actionButtons), 
            this.actionButtons = null);
        }, Uploader.prototype.renderButtonTemplates = function() {
            if ("string" == typeof this.buttons.browse ? (this.browseButton.innerText = "Browse" === this.buttons.browse ? this.localizedTexts("Browse") : this.buttons.browse, 
            this.browseButton.setAttribute("title", this.browseButton.innerText)) : this.browseButton.appendChild(this.buttons.browse), 
            this.uploadButton) {
                var uploadText = void 0;
                uploadText = isNullOrUndefined(this.buttons.upload) ? "Upload" : this.buttons.upload, 
                this.buttons.upload = uploadText, "string" == typeof this.buttons.upload ? (this.uploadButton.innerText = "Upload" === this.buttons.upload ? this.localizedTexts("Upload") : this.buttons.upload, 
                this.uploadButton.setAttribute("title", this.uploadButton.innerText)) : this.uploadButton.appendChild(this.buttons.upload);
            }
            if (this.clearButton) {
                var clearText = void 0;
                clearText = isNullOrUndefined(this.buttons.clear) ? "Clear" : this.buttons.clear, 
                this.buttons.clear = clearText, "string" == typeof this.buttons.clear ? (this.clearButton.innerText = "Clear" === this.buttons.clear ? this.localizedTexts("Clear") : this.buttons.clear, 
                this.clearButton.setAttribute("title", this.clearButton.innerText)) : this.clearButton.appendChild(this.buttons.clear);
            }
        }, Uploader.prototype.initializeUpload = function() {
            this.element.setAttribute("tabindex", "-1");
            var inputWrapper = createElement("span", {
                className: "e-file-select"
            });
            this.element.parentElement.insertBefore(inputWrapper, this.element), this.dropAreaWrapper = createElement("div", {
                className: "e-file-select-wrap"
            }), this.element.parentElement.insertBefore(this.dropAreaWrapper, this.element), 
            inputWrapper.appendChild(this.element), this.dropAreaWrapper.appendChild(this.browseButton), 
            this.dropAreaWrapper.appendChild(inputWrapper);
            var fileDropArea = createElement("span", {
                className: "e-file-drop"
            });
            fileDropArea.innerHTML = this.localizedTexts("dropFilesHint"), this.dropAreaWrapper.appendChild(fileDropArea), 
            this.uploadWrapper = createElement("div", {
                className: "e-upload",
                attrs: {
                    "aria-activedescendant": "li-focused"
                }
            }), this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper, this.dropAreaWrapper), 
            this.uploadWrapper.appendChild(this.dropAreaWrapper), this.setDropArea();
        }, Uploader.prototype.renderPreLoadFiles = function() {
            if (!isNullOrUndefined(this.files[0].size) && isNullOrUndefined(this.template)) {
                var files = [].slice.call(this.files), filesData = [];
                this.multiple || (this.clearData(), files = [ files[0] ]);
                for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {
                    var data = files_1[_i], fileData = {
                        name: this.getFileNameOnly(data.name) + "." + data.type.split(".")[data.type.split(".").length - 1],
                        rawFile: "",
                        size: data.size,
                        status: this.localizedTexts("uploadSuccessMessage"),
                        type: data.type,
                        validationMessages: {
                            minSize: "",
                            maxSize: ""
                        },
                        statusCode: "2"
                    };
                    filesData.push(fileData), this.filesData.push(fileData);
                }
                this.createFileList(filesData), this.autoUpload || !this.listParent || this.actionButtons || this.isForm || this.renderActionButtons(), 
                this.checkActionButtonStatus();
            }
        }, Uploader.prototype.checkActionButtonStatus = function() {
            if (this.actionButtons) {
                var length_1 = this.uploadWrapper.querySelectorAll(".e-validation-fails").length + this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length + this.uploadWrapper.querySelectorAll("span." + UPLOAD_SUCCESS).length + this.uploadWrapper.querySelectorAll("span.e-upload-progress").length;
                length_1 > 0 && length_1 === this.uploadWrapper.querySelectorAll("li").length ? this.uploadButton.setAttribute("disabled", "disabled") : this.uploadButton.removeAttribute("disabled");
            }
        }, Uploader.prototype.setDropArea = function() {
            var dropTextArea = this.dropAreaWrapper.querySelector(".e-file-drop");
            if (this.dropArea) {
                this.dropZoneElement = "string" != typeof this.dropArea ? this.dropArea : document.querySelector(this.dropArea);
                for (var element = this.element, enableDropText = !1; element.parentNode; ) (element = element.parentNode) === this.dropZoneElement && (enableDropText = !0);
                enableDropText || (dropTextArea.textContent = "");
            } else this.dropZoneElement = this.uploadWrapper, dropTextArea.textContent = this.localizedTexts("dropFilesHint");
            this.bindDropEvents();
        }, Uploader.prototype.setMultipleSelection = function() {
            if (this.multiple && !this.element.hasAttribute("multiple")) {
                var newAttr = document.createAttribute("multiple");
                this.element.setAttributeNode(newAttr);
            } else this.multiple || this.element.removeAttribute("multiple");
        }, Uploader.prototype.checkAutoUpload = function(fileData) {
            this.autoUpload ? (this.upload(fileData), this.removeActionButtons()) : this.actionButtons || this.renderActionButtons(), 
            this.checkActionButtonStatus();
        }, Uploader.prototype.wireEvents = function() {
            EventHandler.add(this.browseButton, "click", this.browseButtonClick, this), EventHandler.add(this.element, "change", this.onSelectFiles, this), 
            EventHandler.add(document, "click", this.removeFocus, this), this.keyboardModule = new KeyboardEvents(this.uploadWrapper, {
                keyAction: this.keyActionHandler.bind(this),
                keyConfigs: this.keyConfigs,
                eventName: "keydown"
            }), this.isForm && EventHandler.add(this.element.closest("form"), "reset", this.resetForm, this);
        }, Uploader.prototype.unWireEvents = function() {
            EventHandler.remove(this.browseButton, "click", this.browseButtonClick), EventHandler.remove(this.element, "change", this.onSelectFiles), 
            EventHandler.remove(document, "click", this.removeFocus), this.keyboardModule.destroy();
        }, Uploader.prototype.resetForm = function() {
            this.clearAll(), this.element.value = "";
        }, Uploader.prototype.keyActionHandler = function(e) {
            switch (e.action) {
              case "next":
                e.target === this.browseButton && isNullOrUndefined(this.listParent) ? this.browseButton.blur() : e.target === this.uploadButton ? this.uploadButton.blur() : (this.setTabFocus(e), 
                e.preventDefault(), e.stopPropagation(), e.target === this.clearButton && this.uploadButton.hasAttribute("disabled") && this.clearButton.blur());
                break;

              case "previous":
                e.target === this.browseButton ? this.browseButton.blur() : (this.setReverseFocus(e), 
                e.preventDefault(), e.stopPropagation());
                break;

              case "enter":
                e.target === this.clearButton ? this.clearButtonClick() : e.target === this.uploadButton ? this.uploadButtonClick() : e.target === this.browseButton ? this.browseButtonClick() : (this.removeFiles(e), 
                this.browseButton.focus()), e.preventDefault(), e.stopPropagation();
            }
        }, Uploader.prototype.setReverseFocus = function(e) {
            var target = e.target;
            if (target === this.uploadButton) this.uploadButton.blur(), this.clearButton.focus(); else if (target === this.clearButton && this.listParent && this.listParent.querySelector(".e-icons")) {
                this.clearButton.blur();
                var items = [].slice.call(this.listParent.querySelectorAll("span.e-icons"));
                items[items.length - 1].classList.add(ICON_FOCUSED), items[items.length - 1].focus();
            } else {
                var iconElements = [].slice.call(this.listParent.querySelectorAll("span.e-icons")), index = iconElements.indexOf(target);
                index > 0 ? (this.removeFocus(), iconElements[index - 1].classList.add(ICON_FOCUSED), 
                iconElements[index - 1].focus()) : (this.removeFocus(), this.browseButton.focus());
            }
        }, Uploader.prototype.setTabFocus = function(e) {
            var target = e.target;
            if (target === this.clearButton) {
                if (this.removeFocus(), this.uploadButton.hasAttribute("disabled")) return;
                this.uploadButton.focus();
            } else if (target.classList.contains("e-icons")) {
                var iconElements = [].slice.call(this.listParent.querySelectorAll("span.e-icons")), index = iconElements.indexOf(target);
                index < iconElements.length - 1 ? (this.removeFocus(), iconElements[index + 1].classList.add(ICON_FOCUSED), 
                iconElements[index + 1].focus()) : (this.removeFocus(), this.clearButton.focus());
            } else {
                this.browseButton.blur();
                var iconElement = this.listParent.querySelector("span.e-icons");
                iconElement.focus(), iconElement.classList.add(ICON_FOCUSED);
            }
        }, Uploader.prototype.removeFocus = function() {
            this.uploadWrapper && this.listParent && this.listParent.querySelector("." + ICON_FOCUSED) && (document.activeElement.blur(), 
            this.listParent.querySelector("." + ICON_FOCUSED).classList.remove(ICON_FOCUSED));
        }, Uploader.prototype.browseButtonClick = function() {
            this.element.click();
        }, Uploader.prototype.uploadButtonClick = function() {
            this.upload(this.filesData);
        }, Uploader.prototype.clearButtonClick = function() {
            this.clearAll();
        }, Uploader.prototype.bindDropEvents = function() {
            this.dropZoneElement && (EventHandler.add(this.dropZoneElement, "drop", this.dropElement, this), 
            EventHandler.add(this.dropZoneElement, "dragover", this.dragHover, this), EventHandler.add(this.dropZoneElement, "dragleave", this.onDragLeave, this));
        }, Uploader.prototype.unBindDropEvents = function() {
            this.dropZoneElement && (EventHandler.remove(this.dropZoneElement, "drop", this.dropElement), 
            EventHandler.remove(this.dropZoneElement, "dragover", this.dragHover), EventHandler.remove(this.dropZoneElement, "dragleave", this.onDragLeave));
        }, Uploader.prototype.onDragLeave = function(e) {
            this.dropZoneElement.classList.remove("e-upload-drag-hover");
        }, Uploader.prototype.dragHover = function(e) {
            this.enabled && (this.dropZoneElement.classList.add("e-upload-drag-hover"), e.preventDefault(), 
            e.stopPropagation());
        }, Uploader.prototype.dropElement = function(e) {
            this.dropZoneElement.classList.remove("e-upload-drag-hover"), this.onSelectFiles(e), 
            e.preventDefault(), e.stopPropagation();
        }, Uploader.prototype.removeFiles = function(args) {
            if (this.enabled) {
                var selectedElement = args.target.parentElement, index = this.fileList.indexOf(selectedElement), fileData = this.filesData[index];
                this.remove(fileData), this.element.value = "", this.checkActionButtonStatus();
            }
        }, Uploader.prototype.removeFilesData = function(file, customTemplate) {
            if (!customTemplate) {
                var selectedElement = this.getLiElement(file);
                if (!isNullOrUndefined(selectedElement)) {
                    detach(selectedElement);
                    var index = this.fileList.indexOf(selectedElement);
                    this.fileList.splice(index, 1), this.filesData.splice(index, 1), 0 === this.fileList.length && (detach(this.listParent), 
                    this.listParent = null, this.removeActionButtons());
                }
            }
        }, Uploader.prototype.removeUploadedFile = function(file, custom) {
            var _this = this, selectedFiles = file, ajax = new XMLHttpRequest(), name = this.element.getAttribute("name"), formData = new FormData();
            formData.append(name, selectedFiles.rawFile), ajax.addEventListener("load", function(e) {
                _this.removeCompleted(e, selectedFiles, custom);
            }, !1), ajax.addEventListener("error", function(e) {
                _this.removeFailed(e, selectedFiles, custom);
            }, !1), ajax.open("POST", this.asyncSettings.removeUrl), ajax.send(formData);
        }, Uploader.prototype.removeCompleted = function(e, files, customTemplate) {
            var args = {
                e: e,
                operation: "remove",
                file: this.updateStatus(files, this.localizedTexts("removedSuccessMessage"), "2")
            };
            this.trigger("success", args), this.removeFilesData(files, customTemplate);
            var index = this.uploadedFilesData.indexOf(files);
            this.uploadedFilesData.splice(index, 1), this.trigger("change", {
                files: this.uploadedFilesData
            });
        }, Uploader.prototype.removeFailed = function(e, files, customTemplate) {
            var args = {
                e: e,
                operation: "remove",
                file: this.updateStatus(files, this.localizedTexts("removedFailedMessage"), "0")
            };
            if (!customTemplate) {
                var index = this.filesData.indexOf(files), rootElement = this.fileList[index];
                if (rootElement) {
                    var statusElement = rootElement.querySelector("." + STATUS);
                    rootElement.classList.remove(UPLOAD_SUCCESS), statusElement.classList.remove(UPLOAD_SUCCESS), 
                    rootElement.classList.add("e-upload-fails"), statusElement.classList.add("e-upload-fails");
                }
                this.checkActionButtonStatus();
            }
            this.trigger("failure", args);
        }, Uploader.prototype.onSelectFiles = function(args) {
            if (this.enabled) {
                var targetFiles, fileData = [];
                if ("drop" === args.type) {
                    var files = args.dataTransfer.files;
                    targetFiles = this.multiple ? this.sortFileList(files) : [ files[0] ];
                } else targetFiles = [].slice.call(args.target.files);
                this.multiple || (this.clearData(), targetFiles = [ targetFiles[0] ]);
                for (var i = 0; i < targetFiles.length; i++) {
                    var file = targetFiles[i], eventArgs_1 = {
                        name: file.name,
                        rawFile: file,
                        size: file.size,
                        status: this.localizedTexts("readyToUploadMessage"),
                        type: this.getFileType(file.name),
                        validationMessages: this.validatedFileSize(file.size),
                        statusCode: "1"
                    };
                    eventArgs_1.status = "" !== eventArgs_1.validationMessages.minSize ? this.localizedTexts("invalidMinFileSize") : "" !== eventArgs_1.validationMessages.maxSize ? this.localizedTexts("invalidMaxFileSize") : eventArgs_1.status, 
                    "" === eventArgs_1.validationMessages.minSize && "" === eventArgs_1.validationMessages.maxSize || (eventArgs_1.statusCode = "0"), 
                    fileData.push(eventArgs_1);
                }
                var eventArgs = {
                    cancel: !1,
                    filesData: fileData,
                    isModified: !1,
                    modifiedFilesData: [],
                    progressInterval: ""
                };
                if ("drop" === args.type && (fileData = this.checkExtension(fileData)), this.trigger("selected", eventArgs), 
                !eventArgs.cancel) {
                    if (eventArgs.isModified && eventArgs.modifiedFilesData.length > 0) {
                        var dataFiles = this.checkExtension(eventArgs.modifiedFilesData);
                        this.updateSortedFileList(dataFiles), this.isForm || this.checkAutoUpload(dataFiles), 
                        this.filesData = dataFiles;
                    } else this.createFileList(fileData), this.filesData = this.filesData.concat(fileData), 
                    this.isForm || this.checkAutoUpload(fileData);
                    isNullOrUndefined(eventArgs.progressInterval) || "" === eventArgs.progressInterval || (this.progressInterval = eventArgs.progressInterval);
                }
            }
        }, Uploader.prototype.clearData = function() {
            isNullOrUndefined(this.listParent) || (detach(this.listParent), this.listParent = null), 
            "msie" !== Browser.info.name && (this.element.value = ""), this.fileList = [], this.filesData = [], 
            this.removeActionButtons();
        }, Uploader.prototype.updateSortedFileList = function(filesData) {
            var previousListClone = createElement("div", {
                id: "clonewrapper"
            }), added = -1;
            if (this.listParent) {
                for (var i = 0; i < this.listParent.querySelectorAll("li").length; i++) {
                    var liElement = this.listParent.querySelectorAll("li")[i];
                    previousListClone.appendChild(liElement.cloneNode(!0));
                }
                for (var _i = 0, removedList_1 = this.listParent.querySelectorAll("li"); _i < removedList_1.length; _i++) {
                    detach(removedList_1[_i]);
                }
                this.removeActionButtons();
                var oldList = [].slice.call(previousListClone.childNodes);
                detach(this.listParent), this.listParent = null, this.fileList = [], this.createParentUL();
                for (var index = 0; index < filesData.length; index++) {
                    for (var j = 0; j < this.filesData.length; j++) this.filesData[j].name === filesData[index].name && (this.listParent.appendChild(oldList[j]), 
                    EventHandler.add(oldList[j].querySelector(".e-icons"), "click", this.removeFiles, this), 
                    this.fileList.push(oldList[j]), added = index);
                    added !== index && this.createFileList([ filesData[index] ]);
                }
            } else this.createFileList(filesData);
        }, Uploader.prototype.checkExtension = function(files) {
            var dropFiles = files;
            if ("" !== this.allowedExtensions) {
                for (var allowedExtensions = [], _i = 0, extensions_1 = this.allowedExtensions.split(","); _i < extensions_1.length; _i++) {
                    var extension = extensions_1[_i];
                    allowedExtensions.push(extension.trim().toLocaleLowerCase());
                }
                for (var i = 0; i < files.length; i++) -1 === allowedExtensions.indexOf(("." + files[i].type).toLocaleLowerCase()) && (files[i].status = this.localizedTexts("invalidFileType"), 
                files[i].statusCode = "0");
            }
            return dropFiles;
        }, Uploader.prototype.validatedFileSize = function(fileSize) {
            var minSizeError = "", maxSizeError = "";
            fileSize < this.minFileSize ? minSizeError = this.localizedTexts("invalidMinFileSize") : fileSize > this.maxFileSize ? maxSizeError = this.localizedTexts("invalidMaxFileSize") : (minSizeError = "", 
            maxSizeError = "");
            return {
                minSize: minSizeError,
                maxSize: maxSizeError
            };
        }, Uploader.prototype.createCustomfileList = function(fileData) {
            this.createParentUL();
            for (var _i = 0, fileData_1 = fileData; _i < fileData_1.length; _i++) {
                var listItem = fileData_1[_i], liElement = createElement("li", {
                    className: FILE,
                    attrs: {
                        "data-file-name": listItem.name
                    }
                });
                this.uploadTemplateFn = this.templateComplier(this.template);
                for (var length_2 = this.uploadTemplateFn(listItem).length, i = 0; i < length_2; i++) liElement.appendChild(this.uploadTemplateFn(listItem)[i]);
                this.listParent.appendChild(liElement), this.fileList.push(liElement);
            }
        }, Uploader.prototype.createParentUL = function() {
            isNullOrUndefined(this.listParent) && (this.listParent = createElement("ul", {
                className: "e-upload-files"
            }), this.uploadWrapper.appendChild(this.listParent), this.listParent.style.display = this.showFileList ? "block" : "none");
        }, Uploader.prototype.createFileList = function(fileData) {
            if (this.createParentUL(), "" === this.template || isNullOrUndefined(this.template)) for (var _i = 0, fileData_2 = fileData; _i < fileData_2.length; _i++) {
                var listItem = fileData_2[_i], liElement = createElement("li", {
                    className: FILE,
                    attrs: {
                        "data-file-name": listItem.name
                    }
                }), textContainer = createElement("span", {
                    className: "e-file-container"
                }), textElement = createElement("span", {
                    className: "e-file-name",
                    attrs: {
                        title: listItem.name
                    }
                });
                textElement.innerHTML = this.getFileNameOnly(listItem.name);
                var fileExtension = createElement("span", {
                    className: "e-file-type"
                });
                if (fileExtension.innerHTML = "." + this.getFileType(listItem.name), this.enableRtl) {
                    var rtlContainer = createElement("span", {
                        className: "e-rtl-container"
                    });
                    rtlContainer.appendChild(fileExtension), rtlContainer.appendChild(textElement), 
                    textContainer.appendChild(rtlContainer);
                } else textContainer.appendChild(textElement), textContainer.appendChild(fileExtension);
                var fileSize = createElement("span", {
                    className: "e-file-size"
                });
                fileSize.innerHTML = this.bytesToSize(listItem.size), textContainer.appendChild(fileSize);
                var statusElement = createElement("span", {
                    className: STATUS
                });
                textContainer.appendChild(statusElement), statusElement.innerHTML = listItem.status, 
                liElement.appendChild(textContainer);
                var iconElement = createElement("span", {
                    className: " e-icons",
                    attrs: {
                        tabindex: "-1"
                    }
                });
                "msie" === Browser.info.name && iconElement.classList.add("e-msie"), "2" !== listItem.statusCode ? iconElement.setAttribute("title", this.localizedTexts("remove")) : iconElement.setAttribute("title", this.localizedTexts("delete")), 
                liElement.appendChild(iconElement), EventHandler.add(iconElement, "click", this.removeFiles, this), 
                "2" === listItem.statusCode ? (statusElement.classList.add(UPLOAD_SUCCESS), iconElement.classList.add("e-file-delete-btn")) : "1" !== listItem.statusCode && (statusElement.classList.remove(UPLOAD_SUCCESS), 
                statusElement.classList.add("e-validation-fails")), this.autoUpload && "1" === listItem.statusCode && "" !== this.asyncSettings.saveUrl && (statusElement.innerHTML = ""), 
                iconElement.classList.contains("e-file-delete-btn") || iconElement.classList.add(CLEAR_ICON), 
                this.listParent.appendChild(liElement), this.fileList.push(liElement), this.truncateName(textElement);
            } else this.createCustomfileList(fileData);
        }, Uploader.prototype.truncateName = function(name) {
            var text, nameElement = name;
            nameElement.offsetWidth < nameElement.scrollWidth && (text = nameElement.textContent, 
            nameElement.dataset.tail = text.slice(text.length - 10));
        }, Uploader.prototype.getFileType = function(name) {
            var extension, index = name.lastIndexOf(".");
            return index >= 0 && (extension = name.substring(index + 1)), extension || "";
        }, Uploader.prototype.getFileNameOnly = function(name) {
            var type = this.getFileType(name);
            return type = name.split("." + type)[0];
        }, Uploader.prototype.setInitialAttributes = function() {
            if (this.initialAttr.accept && this.element.setAttribute("accept", this.initialAttr.accept), 
            this.initialAttr.disabled && this.element.setAttribute("disabled", "disabled"), 
            this.initialAttr.multiple) {
                var newAttr = document.createAttribute("multiple");
                this.element.setAttributeNode(newAttr);
            }
        }, Uploader.prototype.filterfileList = function(files) {
            for (var filterFiles = [], i = 0; i < files.length; i++) this.getLiElement(files[i]).classList.contains(UPLOAD_SUCCESS) || filterFiles.push(files[i]);
            return filterFiles;
        }, Uploader.prototype.updateStatus = function(files, status, statusCode) {
            "" === status || isNullOrUndefined(status) || "" === statusCode || isNullOrUndefined(statusCode) || (files.status = status, 
            files.statusCode = statusCode);
            var li = this.getLiElement(files);
            return isNullOrUndefined(li) || isNullOrUndefined(li.querySelector("." + STATUS)) || "" === status || isNullOrUndefined(status) || (li.querySelector("." + STATUS).textContent = status), 
            files;
        }, Uploader.prototype.getLiElement = function(files) {
            var li, liElements = [];
            if (this.uploadWrapper) {
                liElements = this.uploadWrapper.querySelectorAll(".e-upload-files> li");
                for (var i = 0; i < liElements.length; i++) liElements[i].getAttribute("data-file-name") === files.name && (li = liElements[i]);
            }
            return li;
        }, Uploader.prototype.createProgressBar = function(liElement) {
            var progressbarWrapper = createElement("span", {
                className: "e-upload-progress-wrap"
            }), progressBar = createElement("progressbar", {
                className: PROGRESSBAR,
                attrs: {
                    value: "0",
                    max: "100"
                }
            }), progressbarInnerWrapper = createElement("span", {
                className: "e-progress-inner-wrap"
            });
            progressBar.setAttribute("style", "width: 0%");
            var progressbarText = createElement("span", {
                className: "e-progress-bar-text"
            });
            progressbarText.textContent = "0%", progressbarInnerWrapper.appendChild(progressBar), 
            progressbarWrapper.appendChild(progressbarInnerWrapper), progressbarWrapper.appendChild(progressbarText), 
            liElement.querySelector(".e-file-container").appendChild(progressbarWrapper);
        }, Uploader.prototype.updateProgressbar = function(e, li) {
            if (!isNaN(Math.round(e.loaded / e.total * 100)) && !isNullOrUndefined(li.querySelector("." + PROGRESSBAR))) if (isNullOrUndefined(this.progressInterval) || "" === this.progressInterval) this.changeProgressValue(li, Math.round(e.loaded / e.total * 100).toString() + "%"); else {
                var value = Math.round(e.loaded / e.total * 100) % parseInt(this.progressInterval, 10);
                0 !== value && 100 !== value || this.changeProgressValue(li, Math.round(e.loaded / e.total * 100).toString() + "%");
            }
        }, Uploader.prototype.changeProgressValue = function(li, progressValue) {
            li.querySelector("." + PROGRESSBAR).setAttribute("style", "width:" + progressValue), 
            li.querySelector(".e-progress-bar-text").textContent = progressValue;
        }, Uploader.prototype.uploadInProgress = function(e, files, customUI) {
            var li = this.getLiElement(files);
            if (!isNullOrUndefined(li) || customUI && !isNullOrUndefined(customUI)) {
                isNullOrUndefined(li) || (li.querySelectorAll(".e-upload-progress-wrap").length > 0 || !li.querySelector("." + STATUS) || (li.querySelector("." + STATUS).classList.add("e-upload-progress"), 
                this.createProgressBar(li), this.updateProgressBarClasses(li, "e-upload-progress")), 
                this.updateProgressbar(e, li), isNullOrUndefined(li.querySelector(".e-icons")) || (li.querySelector(".e-icons").removeAttribute("title"), 
                EventHandler.remove(li.querySelector(".e-icons"), "click", this.removeFiles), li.querySelector(".e-icons").classList.add("e-upload-progress")));
                var args = {
                    e: e,
                    operation: "upload",
                    file: this.updateStatus(files, this.localizedTexts("inProgress"), "3")
                };
                this.trigger("progress", args);
            }
        }, Uploader.prototype.uploadComplete = function(e, files, customUI) {
            var status = e.target;
            if (4 === status.readyState && 200 === status.status) {
                var li = this.getLiElement(files);
                if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) return;
                isNullOrUndefined(li) || (this.updateProgressBarClasses(li, UPLOAD_SUCCESS), this.removeProgressbar(li, "success"), 
                isNullOrUndefined(li.querySelector("." + CLEAR_ICON)) || (li.querySelector("." + CLEAR_ICON).classList.add("e-file-delete-btn"), 
                li.querySelector("." + CLEAR_ICON).setAttribute("title", this.localizedTexts("delete")), 
                li.querySelector("." + CLEAR_ICON).classList.remove(CLEAR_ICON)), isNullOrUndefined(li.querySelector(".e-icons")) || (EventHandler.add(li.querySelector(".e-icons"), "click", this.removeFiles, this), 
                li.querySelector(".e-icons").classList.remove("e-upload-progress"), li.querySelector(".e-icons").setAttribute("title", this.localizedTexts("delete"))));
                var args = {
                    e: e,
                    operation: "upload",
                    file: this.updateStatus(files, this.localizedTexts("uploadSuccessMessage"), "2")
                };
                this.trigger("success", args), this.uploadedFilesData.push(files), this.trigger("change", {
                    files: this.uploadedFilesData
                }), this.checkActionButtonStatus();
            } else this.uploadFailed(e, files);
        }, Uploader.prototype.uploadFailed = function(e, files) {
            var li = this.getLiElement(files), args = {
                e: e,
                operation: "upload",
                file: this.updateStatus(files, this.localizedTexts("uploadFailedMessage"), "0")
            };
            isNullOrUndefined(li) || (this.updateProgressBarClasses(li, "e-upload-fails"), this.removeProgressbar(li, "failure"), 
            li.querySelector("." + CLEAR_ICON).setAttribute("title", this.localizedTexts("remove")), 
            EventHandler.add(li.querySelector(".e-icons"), "click", this.removeFiles, this), 
            li.querySelector(".e-icons").classList.remove("e-upload-progress")), this.trigger("failure", args), 
            this.checkActionButtonStatus();
        }, Uploader.prototype.updateProgressBarClasses = function(li, className) {
            var progressBar = li.querySelector("." + PROGRESSBAR);
            isNullOrUndefined(progressBar) || progressBar.classList.add(className);
        }, Uploader.prototype.removeProgressbar = function(li, callType) {
            var _this = this;
            isNullOrUndefined(li.querySelector(".e-upload-progress-wrap")) || (this.progressAnimation = new Animation({
                duration: 1250
            }), this.progressAnimation.animate(li.querySelector(".e-upload-progress-wrap"), {
                name: "FadeOut"
            }), this.progressAnimation.animate(li.querySelector(".e-progress-bar-text"), {
                name: "FadeOut"
            }), setTimeout(function() {
                _this.animateProgressBar(li, callType);
            }, 750));
        }, Uploader.prototype.animateProgressBar = function(li, callType) {
            "success" === callType ? (li.classList.add(UPLOAD_SUCCESS), isNullOrUndefined(li.querySelector("." + STATUS)) || (li.querySelector("." + STATUS).classList.remove("e-upload-progress"), 
            this.progressAnimation.animate(li.querySelector("." + STATUS), {
                name: "FadeIn"
            }), li.querySelector("." + STATUS).classList.add(UPLOAD_SUCCESS))) : isNullOrUndefined(li.querySelector("." + STATUS)) || (li.querySelector("." + STATUS).classList.remove("e-upload-progress"), 
            this.progressAnimation.animate(li.querySelector("." + STATUS), {
                name: "FadeIn"
            }), li.querySelector("." + STATUS).classList.add("e-upload-fails")), detach(li.querySelector(".e-upload-progress-wrap"));
        }, Uploader.prototype.setExtensions = function(extensions) {
            this.element.setAttribute("accept", extensions);
        }, Uploader.prototype.templateComplier = function(uploadTemplate) {
            if (uploadTemplate) try {
                if (document.querySelectorAll(uploadTemplate).length) return compile$$1(document.querySelector(uploadTemplate).innerHTML.trim());
            } catch (exception) {
                return compile$$1(uploadTemplate);
            }
        }, Uploader.prototype.setRTL = function() {
            this.enableRtl ? addClass([ this.uploadWrapper ], "e-rtl") : removeClass([ this.uploadWrapper ], "e-rtl");
        }, Uploader.prototype.localizedTexts = function(localeText) {
            return this.l10n.setLocale(this.locale), this.l10n.getConstant(localeText);
        }, Uploader.prototype.setControlStatus = function() {
            this.enabled ? (this.uploadWrapper.classList.contains("e-disabled") && this.uploadWrapper.classList.remove("e-disabled"), 
            !isNullOrUndefined(this.browseButton) && this.element.hasAttribute("disabled") && (this.element.removeAttribute("disabled"), 
            this.browseButton.removeAttribute("disabled")), !isNullOrUndefined(this.clearButton) && this.clearButton.hasAttribute("disabled") && this.clearButton.removeAttribute("disabled"), 
            !isNullOrUndefined(this.uploadButton) && this.uploadButton.hasAttribute("disabled") && this.uploadButton.hasAttribute("disabled")) : (this.uploadWrapper.classList.add("e-disabled"), 
            this.element.setAttribute("disabled", "disabled"), this.browseButton.setAttribute("disabled", "disabled"), 
            isNullOrUndefined(this.clearButton) || this.clearButton.setAttribute("disabled", "disabled"), 
            isNullOrUndefined(this.uploadButton) || this.uploadButton.setAttribute("disabled", "disabled"));
        }, Uploader.prototype.checkHTMLAttributes = function() {
            this.element.hasAttribute("accept") && (this.allowedExtensions = this.element.getAttribute("accept"), 
            this.initialAttr.accept = this.allowedExtensions), this.element.hasAttribute("multiple") && (this.multiple = !0, 
            this.initialAttr.multiple = !0), this.element.hasAttribute("disabled") && (this.enabled = !1, 
            this.initialAttr.disabled = !0);
        }, Uploader.prototype.bytesToSize = function(bytes) {
            var i = -1;
            if (!bytes) return "0.0 KB";
            do {
                bytes /= 1e3, i++;
            } while (bytes > 99);
            return i >= 2 && (bytes *= 1e3, i = 1), Math.max(bytes, 0).toFixed(1) + " " + [ "KB", "MB" ][i];
        }, Uploader.prototype.sortFileList = function(filesData) {
            for (var files = filesData, fileNames = [], i = 0; i < files.length; i++) fileNames.push(files[i].name);
            for (var sortedFilesData = [], _i = 0, sortedFileNames_1 = fileNames.sort(); _i < sortedFileNames_1.length; _i++) {
                var name_1 = sortedFileNames_1[_i];
                for (i = 0; i < files.length; i++) name_1 === files[i].name && sortedFilesData.push(files[i]);
            }
            return sortedFilesData;
        }, Uploader.prototype.destroy = function() {
            this.element.value = null, this.clearAll(), this.unWireEvents(), this.unBindDropEvents(), 
            this.multiple && this.element.removeAttribute("multiple"), this.enabled || this.element.removeAttribute("disabled"), 
            this.element.removeAttribute("accept"), this.setInitialAttributes(), this.uploadWrapper.parentElement.appendChild(this.cloneElement), 
            this.cloneElement.classList.remove("e-control", "e-uploader"), detach(this.uploadWrapper), 
            this.uploadWrapper = null, _super.prototype.destroy.call(this);
        }, Uploader.prototype.upload = function(files, custom) {
            var _this = this, selectedFiles = [];
            if ("" !== this.asyncSettings.saveUrl && !isNullOrUndefined(this.asyncSettings.saveUrl)) {
                if (!custom || isNullOrUndefined(custom)) if (this.multiple) selectedFiles = this.filterfileList(files); else {
                    var file = [];
                    file.push(files[0]), selectedFiles = this.filterfileList(file);
                } else selectedFiles = files;
                for (var _loop_1 = function(i) {
                    var ajax = new XMLHttpRequest(), formData = new FormData();
                    if ("1" === selectedFiles[i].statusCode) {
                        var eventArgs = {
                            fileData: selectedFiles[i],
                            customFormData: [],
                            cancel: !1
                        };
                        if (this_1.trigger("uploading", eventArgs), eventArgs.cancel) return {
                            value: void 0
                        };
                        var name_2 = this_1.element.getAttribute("name");
                        if (formData.append(name_2, selectedFiles[i].rawFile, selectedFiles[i].name), eventArgs.customFormData.length > 0) for (var i_1 = 0; i_1 < eventArgs.customFormData.length; i_1++) {
                            var customData = eventArgs.customFormData[i_1];
                            formData.append(Object.keys(customData)[0], Object.values(customData)[0]);
                        }
                        ajax.addEventListener("load", function(e) {
                            _this.uploadComplete(e, selectedFiles[i], custom);
                        }, !1), ajax.addEventListener("error", function(e) {
                            _this.uploadFailed(e, selectedFiles[i]);
                        }, !1), ajax.upload.addEventListener("progress", function(e) {
                            _this.uploadInProgress(e, selectedFiles[i], custom);
                        }, !1), ajax.open("POST", this_1.asyncSettings.saveUrl), ajax.send(formData);
                    }
                }, this_1 = this, i = 0; i < selectedFiles.length; i++) {
                    var state_1 = _loop_1(i);
                    if ("object" == typeof state_1) return state_1.value;
                }
            }
        }, Uploader.prototype.remove = function(fileData, customTemplate) {
            var removeFiles = [];
            (fileData = isNullOrUndefined(fileData) ? this.filesData : fileData) instanceof Array ? removeFiles = fileData : removeFiles.push(fileData);
            var eventArgs = {
                cancel: !1,
                filesData: removeFiles
            };
            if (this.trigger("removing", eventArgs), !eventArgs.cancel) for (var removeUrl = this.asyncSettings.removeUrl, validUrl = "" !== removeUrl && !isNullOrUndefined(removeUrl), _i = 0, removeFiles_1 = removeFiles; _i < removeFiles_1.length; _i++) {
                var files = removeFiles_1[_i];
                "2" === files.statusCode && validUrl ? this.removeUploadedFile(files, customTemplate) : this.removeFilesData(files, customTemplate);
            }
        }, Uploader.prototype.clearAll = function() {
            if (!isNullOrUndefined(this.listParent)) {
                var eventArgs = {
                    cancel: !1,
                    filesData: this.filesData
                };
                this.trigger("clearing", eventArgs), eventArgs.cancel || this.clearData();
            }
        }, Uploader.prototype.getFilesData = function() {
            return this.filesData;
        }, __decorate$4$2([ Complex({
            saveUrl: "",
            removeUrl: ""
        }, AsyncSettings) ], Uploader.prototype, "asyncSettings", void 0), __decorate$4$2([ Property(!1) ], Uploader.prototype, "enableRtl", void 0), 
        __decorate$4$2([ Property(!0) ], Uploader.prototype, "enabled", void 0), __decorate$4$2([ Property(null) ], Uploader.prototype, "template", void 0), 
        __decorate$4$2([ Property(!0) ], Uploader.prototype, "multiple", void 0), __decorate$4$2([ Property(!0) ], Uploader.prototype, "autoUpload", void 0), 
        __decorate$4$2([ Complex({}, ButtonsProps) ], Uploader.prototype, "buttons", void 0), 
        __decorate$4$2([ Property("") ], Uploader.prototype, "allowedExtensions", void 0), 
        __decorate$4$2([ Property(0) ], Uploader.prototype, "minFileSize", void 0), __decorate$4$2([ Property(3e7) ], Uploader.prototype, "maxFileSize", void 0), 
        __decorate$4$2([ Property(null) ], Uploader.prototype, "dropArea", void 0), __decorate$4$2([ Collection([ {} ], FilesProp) ], Uploader.prototype, "files", void 0), 
        __decorate$4$2([ Property(!0) ], Uploader.prototype, "showFileList", void 0), __decorate$4$2([ Event() ], Uploader.prototype, "selected", void 0), 
        __decorate$4$2([ Event() ], Uploader.prototype, "uploading", void 0), __decorate$4$2([ Event() ], Uploader.prototype, "success", void 0), 
        __decorate$4$2([ Event() ], Uploader.prototype, "failure", void 0), __decorate$4$2([ Event() ], Uploader.prototype, "removing", void 0), 
        __decorate$4$2([ Event() ], Uploader.prototype, "clearing", void 0), __decorate$4$2([ Event() ], Uploader.prototype, "progress", void 0), 
        __decorate$4$2([ Event() ], Uploader.prototype, "change", void 0), Uploader = __decorate$4$2([ NotifyPropertyChanges ], Uploader);
    }(Component), _inputs = Object.freeze({
        NumericTextBox: NumericTextBox,
        regularExpressions: regularExpressions,
        createMask: createMask,
        applyMask: applyMask,
        wireEvents: wireEvents,
        unwireEvents: unwireEvents,
        unstrippedValue: unstrippedValue,
        strippedValue: strippedValue,
        maskInputFocusHandler: maskInputFocusHandler,
        maskInputBlurHandler: maskInputBlurHandler,
        maskInputDropHandler: maskInputDropHandler,
        mobileRemoveFunction: mobileRemoveFunction,
        setMaskValue: setMaskValue,
        setElementValue: setElementValue,
        maskInput: function(args) {
            var inputEle = getMaskInput(args);
            applyMask.call(inputEle);
            var val = strippedValue.call(this, this.element);
            this.prevValue = val, this.value = val, args.mask && (unwireEvents.call(inputEle), 
            wireEvents.call(inputEle));
        },
        getVal: function(args) {
            return strippedValue.call(getUtilMaskEle(args), args.element);
        },
        getMaskedVal: function(args) {
            return unstrippedValue.call(getUtilMaskEle(args), args.element);
        },
        MaskUndo: MaskUndo,
        MaskedTextBox: MaskedTextBox,
        get Input() {
            return Input;
        },
        TicksData: TicksData,
        TooltipData: TooltipData,
        Slider: Slider,
        get ErrorOption() {
            return ErrorOption;
        },
        FormValidator: FormValidator,
        FilesProp: FilesProp,
        ButtonsProps: ButtonsProps,
        AsyncSettings: AsyncSettings,
        Uploader: Uploader
    }), CheckBoxFilter = function() {
        function CheckBoxFilter(parent, filterSettings, serviceLocator) {
            this.existingPredicate = {}, this.filterState = !0, this.values = {}, this.cBoxTrue = createCheckBox(!1, {
                checked: !0,
                label: " "
            }), this.cBoxFalse = createCheckBox(!1, {
                checked: !1,
                label: " "
            }), this.parent = parent, this.id = this.parent.element.id, this.serviceLocator = serviceLocator, 
            this.filterSettings = filterSettings, this.valueFormatter = new ValueFormatter(this.parent.locale), 
            this.cBoxTrue.insertBefore(createElement("input", {
                className: "e-chk-hidden",
                attrs: {
                    type: "checkbox"
                }
            }), this.cBoxTrue.firstChild), this.cBoxFalse.insertBefore(createElement("input", {
                className: "e-chk-hidden",
                attrs: {
                    type: "checkbox"
                }
            }), this.cBoxFalse.firstChild), this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"), 
            this.parent.enableRtl && addClass([ this.cBoxTrue, this.cBoxFalse ], [ "e-rtl" ]);
        }
        return CheckBoxFilter.prototype.destroy = function() {
            this.closeDialog();
        }, CheckBoxFilter.prototype.wireEvents = function() {
            EventHandler.add(this.dlg, "click", this.clickHandler, this), EventHandler.add(this.dlg.querySelector(".e-searchinput"), "keyup", this.searchBoxKeyUp, this);
        }, CheckBoxFilter.prototype.unWireEvents = function() {
            EventHandler.remove(this.dlg, "click", this.clickHandler);
            var elem = this.dlg.querySelector(".e-searchinput");
            elem && EventHandler.remove(elem, "keyup", this.searchBoxKeyUp);
        }, CheckBoxFilter.prototype.searchBoxClick = function(e) {
            e.target.classList.contains("e-searchclear") && (this.sInput.value = "", this.refreshCheckboxes(), 
            this.updateSearchIcon(), this.sInput.focus());
        }, CheckBoxFilter.prototype.searchBoxKeyUp = function(e) {
            this.refreshCheckboxes(), this.updateSearchIcon();
        }, CheckBoxFilter.prototype.updateSearchIcon = function() {
            this.sInput.value.length ? classList(this.sIcon, [ "e-chkcancel-icon" ], [ "e-search-icon" ]) : classList(this.sIcon, [ "e-search-icon" ], [ "e-chkcancel-icon" ]);
        }, CheckBoxFilter.prototype.getLocalizedLabel = function(key) {
            return this.localeObj.getConstant(key);
        }, CheckBoxFilter.prototype.updateDataSource = function() {
            var dataSource = this.options.dataSource;
            if (!(dataSource instanceof DataManager)) for (var i = 0; i < dataSource.length; i++) if ("object" != typeof dataSource) {
                var obj = {};
                obj[this.options.field] = dataSource[i], dataSource[i] = obj;
            }
        }, CheckBoxFilter.prototype.updateModel = function(options) {
            this.options = options, this.existingPredicate = options.actualPredicate || {}, 
            this.options.dataSource = options.dataSource, this.updateDataSource(), this.options.type = options.type || "string", 
            this.options.format = options.format || "", this.options.filteredColumns = options.filteredColumns || this.parent.filterSettings.columns, 
            this.options.sortedColumns = options.sortedColumns || this.parent.sortSettings.columns, 
            this.options.query = options.query || new Query(), this.options.allowCaseSensitive = options.allowCaseSensitive || !1, 
            this.values = {}, this.localeObj = options.localeObj, this.isFiltered = options.filteredColumns.length;
        }, CheckBoxFilter.prototype.getAndSetChkElem = function(options) {
            return this.dlg = createElement("div", {
                id: this.id + this.options.type + "_excelDlg",
                className: "e-checkboxfilter e-filter-popup"
            }), this.sBox = createElement("div", {
                className: "e-searchcontainer"
            }), options.hideSearchbox || (this.sInput = createElement("input", {
                id: this.id + "_SearchBox",
                className: "e-searchinput"
            }), this.sIcon = createElement("span", {
                className: "e-searchclear e-search-icon e-icons e-input-group-icon",
                attrs: {
                    type: "text",
                    placeholder: this.getLocalizedLabel("Search")
                }
            }), this.searchBox = createElement("span", {
                className: "e-searchbox e-fields"
            }), this.searchBox.appendChild(this.sInput), this.sBox.appendChild(this.searchBox), 
            Input.createInput({
                element: this.sInput,
                floatLabelType: "Never",
                properties: {
                    placeholder: this.getLocalizedLabel("Search")
                }
            }), this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)), this.spinner = createElement("div", {
                className: "e-spinner"
            }), this.cBox = createElement("div", {
                id: this.id + this.options.type + "_CheckBoxList",
                className: "e-checkboxlist e-fields"
            }), this.spinner.appendChild(this.cBox), this.sBox.appendChild(this.spinner), this.sBox;
        }, CheckBoxFilter.prototype.showDialog = function(options) {
            var args = {
                requestType: "filterbeforeopen",
                filterModel: this,
                columnName: this.options.field,
                columnType: this.options.type,
                cancel: !1
            };
            this.parent.trigger(actionBegin, args), args.cancel || (this.dialogObj = new Dialog({
                visible: !1,
                content: this.sBox,
                close: this.closeDialog.bind(this),
                width: !isNullOrUndefined(parentsUntil(options.target, "e-bigger")) || this.parent.element.classList.contains("e-device") ? 260 : 255,
                target: this.parent.element,
                animationSettings: {
                    effect: "None"
                },
                buttons: [ {
                    click: this.btnClick.bind(this),
                    buttonModel: {
                        content: this.getLocalizedLabel(this.isExcel ? "OK" : "Filter"),
                        cssClass: "e-primary",
                        isPrimary: !0
                    }
                }, {
                    click: this.btnClick.bind(this),
                    buttonModel: {
                        cssClass: "e-flat",
                        content: this.getLocalizedLabel(this.isExcel ? "Cancel" : "Clear")
                    }
                } ],
                created: this.dialogCreated.bind(this),
                open: this.dialogOpen.bind(this)
            }), this.dialogObj.appendTo(this.dlg), this.dialogObj.element.style.maxHeight = "800px", 
            this.dialogObj.show(), this.wireEvents(), createSpinner({
                target: this.spinner
            }), showSpinner(this.spinner), this.getAllData());
        }, CheckBoxFilter.prototype.dialogCreated = function(e) {
            Browser.isDevice ? this.dialogObj.position = {
                X: "center",
                Y: "center"
            } : getFilterMenuPostion(this.options.target, this.dialogObj, this.parent), this.parent.notify("filterDialogCreated", e);
        }, CheckBoxFilter.prototype.openDialog = function(options) {
            this.updateModel(options), this.getAndSetChkElem(options), this.showDialog(options);
        }, CheckBoxFilter.prototype.closeDialog = function() {
            this.dialogObj && !this.dialogObj.isDestroyed && (this.parent.notify("filter-menu-close", {
                field: this.options.field
            }), this.dialogObj.destroy(), this.unWireEvents(), remove(this.dlg), this.dlg = null);
        }, CheckBoxFilter.prototype.clearFilter = function() {
            this.options.handler({
                action: "clear-filter",
                field: this.options.field
            });
        }, CheckBoxFilter.prototype.btnClick = function(e) {
            if (this.filterState) {
                if ("input" === e.target.tagName.toLowerCase()) {
                    var args = {
                        action: "filtering",
                        filterCollection: {
                            field: this.options.field,
                            operator: "date" === this.options.column.type || "datetime" === this.options.column.type ? "equal" : "contains",
                            value: e.target.value,
                            matchCase: !1,
                            type: this.options.column.type
                        },
                        field: this.options.field
                    };
                    e.target.value ? this.options.handler(args) : this.closeDialog();
                } else {
                    var text = e.target.firstChild.textContent.toLowerCase();
                    this.getLocalizedLabel(this.isExcel ? "OK" : "Filter").toLowerCase() === text ? this.fltrBtnHandler() : this.getLocalizedLabel("Clear").toLowerCase() === text && this.clearFilter();
                }
                this.closeDialog();
            } else "input" !== e.target.tagName.toLowerCase() && (this.clearFilter(), this.closeDialog());
        }, CheckBoxFilter.prototype.fltrBtnHandler = function() {
            var checked = [].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall)")), optr = "equal", caseSen = "string" !== this.options.type || this.options.allowCaseSensitive, defaults = {
                field: this.options.field,
                predicate: "or",
                operator: optr,
                matchCase: caseSen,
                ignoreAccent: this.parent.filterSettings.ignoreAccent
            }, isNotEqual = this.itemsCnt !== checked.length && this.itemsCnt - checked.length < checked.length;
            isNotEqual && (optr = "notequal", checked = [].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")), 
            defaults.predicate = "and", defaults.operator = "notequal");
            var value, fObj, coll = [], searchInput = this.searchBox.querySelector(".e-searchinput");
            if (checked.length !== this.itemsCnt || searchInput.value && "" !== searchInput.value) {
                for (var i = 0; i < checked.length; i++) fObj = extend({}, {
                    value: value = this.values[parentsUntil(checked[i], "e-ftrchk").getAttribute("uid")]
                }, defaults), value && !value.toString().length && (fObj.operator = isNotEqual ? "notequal" : "equal"), 
                coll.push(fObj);
                this.initiateFilter(coll);
            } else this.clearFilter();
        }, CheckBoxFilter.prototype.initiateFilter = function(fColl) {
            var predicate, firstVal = fColl[0];
            if (!isNullOrUndefined(firstVal)) {
                predicate = firstVal.ejpredicate ? firstVal.ejpredicate : new Predicate$1(firstVal.field, firstVal.operator, firstVal.value, !firstVal.matchCase, firstVal.ignoreAccent);
                for (var j = 1; j < fColl.length; j++) predicate = void 0 !== fColl[j].ejpredicate ? predicate[fColl[j].predicate](fColl[j].ejpredicate) : predicate[fColl[j].predicate](fColl[j].field, fColl[j].operator, fColl[j].value, !fColl[j].matchCase, fColl[j].ignoreAccent);
                var args = {
                    action: "filtering",
                    filterCollection: fColl,
                    field: this.options.field,
                    ejpredicate: Predicate$1.or(predicate)
                };
                this.options.handler(args);
            }
        }, CheckBoxFilter.prototype.refreshCheckboxes = function() {
            var val = this.sInput.value, query = this.options.query.clone(), parsed = "string" !== this.options.type && parseFloat(val) ? parseFloat(val) : val, operator = "contains", ignoreAccent = this.parent.filterSettings.ignoreAccent;
            parsed = "" === parsed || void 0 === parsed ? void 0 : parsed;
            var predicte;
            if ("boolean" === this.options.type && (void 0 !== parsed && -1 !== this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(parsed.toLowerCase()) ? parsed = "true" : void 0 !== parsed && -1 !== this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(parsed.toLowerCase()) && (parsed = "false")), 
            predicte = new Predicate$1(this.options.field, operator, parsed, !0, ignoreAccent), 
            "date" === this.options.type || "datetime" === this.options.type) {
                if (parsed = this.valueFormatter.fromView(val, this.options.parserFn, this.options.type), 
                operator = "equal", isNullOrUndefined(parsed) && val.length) return;
                predicte = getDatePredicate({
                    field: this.options.field,
                    operator: operator,
                    value: parsed,
                    matchCase: !0,
                    ignoreAccent: ignoreAccent
                });
            }
            val.length && query.where(predicte), this.processDataSource(query);
        }, CheckBoxFilter.prototype.getPredicateFromCols = function(columns) {
            for (var predicates = CheckBoxFilter.getPredicate(columns), predicateList = [], fPredicate = {}, foreignColumn = this.parent.getForeignKeyColumns(), _i = 0, _a = Object.keys(predicates); _i < _a.length; _i++) {
                var prop = _a[_i], col = getColumnByForeignKeyValue(prop, foreignColumn);
                col ? (this.parent.notify("generateQuery", {
                    predicate: fPredicate,
                    column: col
                }), fPredicate.predicate.predicates.length && predicateList.push(Predicate$1.or(fPredicate.predicate.predicates))) : predicateList.push(predicates[prop]);
            }
            return predicateList.length && Predicate$1.and(predicateList);
        }, CheckBoxFilter.prototype.getAllData = function() {
            var _this = this, query = new Query();
            query.requiresCount(), this.options.dataSource = this.options.dataSource instanceof DataManager ? this.options.dataSource : new DataManager(this.options.dataSource);
            var allPromise = [], runArray = [];
            this.options.column.isForeignColumn() && (allPromise.push(this.options.column.dataSource.executeQuery(new Query())), 
            runArray.push(function(data) {
                return _this.foreignKeyData = data;
            })), allPromise.push(this.options.dataSource.executeQuery(query)), runArray.push(this.dataSuccess.bind(this));
            var i = 0;
            Promise.all(allPromise).then(function(e) {
                e.forEach(function(data) {
                    runArray[i++](data.result);
                });
            });
        }, CheckBoxFilter.prototype.dataSuccess = function(e) {
            this.fullData = e;
            var query = new Query();
            if (this.options.filteredColumns.length) {
                for (var cols = [], i = 0; i < this.options.filteredColumns.length; i++) this.options.filteredColumns[i].field !== this.options.field && this.options.filteredColumns[i].field !== this.options.foreignKeyValue && cols.push(this.options.filteredColumns[i]);
                var predicate = this.getPredicateFromCols(cols);
                predicate && query.where(predicate);
            }
            var result = new DataManager(this.fullData).executeLocal(query), col = this.options.column, res = CheckBoxFilter.getDistinct(result, this.options.field, col, this.foreignKeyData);
            this.filteredData = res.records, this.processDataSource(null, !0), this.dialogObj.element.querySelector(".e-searchinput").focus();
            var args = {
                requestType: "filterafteropen",
                filterModel: this,
                columnName: this.options.field,
                columnType: this.options.type
            };
            this.parent.trigger(actionComplete, args);
        }, CheckBoxFilter.prototype.processDataSource = function(query, isInitial) {
            showSpinner(this.spinner), (query = query || this.options.query.clone()).requiresCount();
            var args = {
                requestType: "filterchoicerequest",
                filterModel: this,
                query: query,
                dataSource: this.filteredData
            };
            this.parent.trigger(actionBegin, args);
            var res = new DataManager(args.dataSource).executeLocal(args.query);
            this.updateResult(), this.createFilterItems(res.result, isInitial);
        }, CheckBoxFilter.prototype.updateResult = function() {
            this.result = {};
            var predicate = this.getPredicateFromCols(this.options.filteredColumns), query = new Query();
            predicate && query.where(predicate);
            for (var _i = 0, result_1 = new DataManager(this.fullData).executeLocal(query); _i < result_1.length; _i++) {
                var res = result_1[_i];
                this.result[getValue(this.options.field, res)] = !0;
            }
        }, CheckBoxFilter.prototype.clickHandler = function(e) {
            var target = e.target, elem = parentsUntil(target, "e-checkbox-wrapper");
            if (parentsUntil(target, "e-searchbox") && this.searchBoxClick(e), elem) {
                var selectAll$$1 = elem.querySelector(".e-selectall");
                selectAll$$1 ? this.updateAllCBoxes(!selectAll$$1.classList.contains("e-check")) : toogleCheckbox(elem.parentElement), 
                this.updateIndeterminatenBtn(), elem.querySelector(".e-chk-hidden").focus();
            }
        }, CheckBoxFilter.prototype.updateAllCBoxes = function(checked) {
            for (var _i = 0, cBoxes_1 = [].slice.call(this.cBox.querySelectorAll(".e-frame")); _i < cBoxes_1.length; _i++) {
                removeAddCboxClasses(cBoxes_1[_i], checked);
            }
        }, CheckBoxFilter.prototype.dialogOpen = function() {
            this.parent.element.classList.contains("e-device") && (this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"), 
            this.dialogObj.element.querySelector(".e-btn").focus());
        }, CheckBoxFilter.prototype.createCheckbox = function(value, checked) {
            var elem = checked ? this.cBoxTrue.cloneNode(!0) : this.cBoxFalse.cloneNode(!0), label = elem.querySelector(".e-label");
            if (label.innerHTML = !isNullOrUndefined(value) && value.toString().length ? value : this.getLocalizedLabel("Blanks"), 
            this.options.template) {
                label.innerHTML = "";
                var args = {};
                args[this.options.field] = value, appendChildren(label, this.options.template(args));
            }
            return elem;
        }, CheckBoxFilter.prototype.updateIndeterminatenBtn = function() {
            var cnt = this.cBox.children.length - 1, className = [], elem = this.cBox.querySelector(".e-selectall"), selected = this.cBox.querySelectorAll(".e-check:not(.e-selectall)").length, btn = this.dlg.querySelector(".e-footer-content").querySelector(".e-btn").ej2_instances[0];
            btn.disabled = !1, cnt === selected ? className = [ "e-check" ] : selected ? className = [ "e-stop" ] : (className = [ "e-uncheck" ], 
            btn.disabled = !0), this.filterState = !btn.disabled, btn.dataBind(), removeClass([ elem ], [ "e-check", "e-stop", "e-uncheck" ]), 
            addClass([ elem ], className);
        }, CheckBoxFilter.prototype.createFilterItems = function(data, isInitial) {
            var cBoxes = createElement("div"), btn = this.dlg.querySelector(".e-footer-content").querySelector(".e-btn").ej2_instances[0];
            if (this.itemsCnt = data.length, data.length) {
                var selectAll$$1 = createCboxWithWrap(getUid("cbox"), this.createCheckbox(this.getLocalizedLabel("SelectAll"), !1), "e-ftrchk");
                selectAll$$1.querySelector(".e-frame").classList.add("e-selectall"), cBoxes.appendChild(selectAll$$1);
                var predicate = new Predicate$1("field", "equal", this.options.field);
                this.options.foreignKeyValue && (predicate = predicate.or("field", "equal", this.options.foreignKeyValue));
                for (var isColFiltered = new DataManager(this.options.filteredColumns).executeLocal(new Query().where(predicate)).length, i = 0; i < data.length; i++) {
                    var uid = getUid("cbox");
                    this.values[uid] = getValue("ejValue", data[i]);
                    var value = this.valueFormatter.toView(getValue(this.options.field, data[i]), this.options.formatFn);
                    cBoxes.appendChild(createCboxWithWrap(uid, this.createCheckbox(value, this.getCheckedState(isColFiltered, this.values[uid])), "e-ftrchk"));
                }
                this.cBox.innerHTML = cBoxes.innerHTML, this.updateIndeterminatenBtn(), btn.disabled = !1;
            } else cBoxes.appendChild(createElement("span", {
                innerHTML: this.getLocalizedLabel("NoResult")
            })), this.cBox.innerHTML = cBoxes.innerHTML, btn.disabled = !0;
            this.filterState = !btn.disabled, btn.dataBind();
            var args = {
                requestType: "filterchoicerequest",
                filterModel: this,
                dataSource: data
            };
            this.parent.trigger(actionComplete, args), hideSpinner(this.spinner);
        }, CheckBoxFilter.prototype.getCheckedState = function(isColFiltered, value) {
            return !this.isFiltered || !isColFiltered || this.result[value];
        }, CheckBoxFilter.getDistinct = function(json, field, column, foreignKeyData$$1) {
            for (var value, len = json.length, result = [], lookup = {}, isForeignKey = column && column.isForeignColumn(); len--; ) if (value = json[len], 
            value = getValue(field, value), !(isNullOrUndefined(value) || value in lookup)) {
                var obj = {};
                obj.ejValue = value, lookup[value] = !0, setValue(field, isNullOrUndefined(value = isForeignKey ? getValue(column.foreignKeyValue, getForeignData(column, {}, value, foreignKeyData$$1)[0]) : value) ? null : value, obj), 
                result.push(obj);
            }
            return DataUtil.group(DataUtil.sort(result, field, DataUtil.fnAscending), "ejValue");
        }, CheckBoxFilter.getPredicate = function(columns) {
            for (var cols = CheckBoxFilter.getDistinct(columns, "field").records, collection = [], pred = {}, i = 0; i < cols.length; i++) 0 !== (collection = new DataManager(columns).executeLocal(new Query().where("field", "equal", cols[i].field))).length && (pred[cols[i].field] = CheckBoxFilter.generatePredicate(collection));
            return pred;
        }, CheckBoxFilter.generatePredicate = function(cols) {
            var predicate, first, len = cols ? cols.length : 0;
            (first = CheckBoxFilter.updateDateFilter(cols[0])).ignoreAccent = !isNullOrUndefined(first.ignoreAccent) && first.ignoreAccent, 
            predicate = "date" === first.type || "datetime" === first.type ? getDatePredicate(first) : first.ejpredicate ? first.ejpredicate : new Predicate$1(first.field, first.operator, first.value, !CheckBoxFilter.getCaseValue(first), first.ignoreAccent);
            for (var p = 1; p < len; p++) cols[p] = CheckBoxFilter.updateDateFilter(cols[p]), 
            len > 2 && p > 1 && "or" === cols[p].predicate ? "date" === cols[p].type || "datetime" === cols[p].type ? predicate.predicates.push(getDatePredicate(cols[p])) : predicate.predicates.push(new Predicate$1(cols[p].field, cols[p].operator, cols[p].value, !CheckBoxFilter.getCaseValue(cols[p]), cols[p].ignoreAccent)) : predicate = "date" === cols[p].type || "datetime" === cols[p].type ? predicate[cols[p].predicate](getDatePredicate(cols[p]), cols[p].ignoreAccent) : cols[p].ejpredicate ? predicate[cols[p].predicate](cols[p].ejpredicate) : predicate[cols[p].predicate](cols[p].field, cols[p].operator, cols[p].value, CheckBoxFilter.getCaseValue(cols[p]), cols[p].ignoreAccent);
            return predicate || null;
        }, CheckBoxFilter.getCaseValue = function(filter) {
            return !!isNullOrUndefined(filter.matchCase) || filter.matchCase;
        }, CheckBoxFilter.updateDateFilter = function(filter) {
            return ("date" === filter.type || "datetime" === filter.type || filter.value instanceof Date) && (filter.type = filter.type || "date"), 
            filter;
        }, CheckBoxFilter.prototype.getModuleName = function() {
            return "checkboxFilter";
        }, CheckBoxFilter;
    }(), Data = function() {
        function Data(parent, serviceLocator) {
            this.dataState = {
                isPending: !1,
                resolver: null,
                group: []
            }, this.parent = parent, this.serviceLocator = serviceLocator, this.initDataManager(), 
            this.parent.isDestroyed || (this.parent.on(rowsAdded, this.addRows, this), this.parent.on(rowsRemoved, this.removeRows, this), 
            this.parent.on(dataSourceModified, this.initDataManager, this), this.parent.on(destroy, this.destroy, this), 
            this.parent.on(updateData, this.crudActions, this), this.parent.on(addDeleteAction, this.getData, this));
        }
        return Data.prototype.initDataManager = function() {
            var gObj = this.parent;
            this.dataManager = gObj.dataSource instanceof DataManager ? gObj.dataSource : isNullOrUndefined(gObj.dataSource) ? new DataManager() : new DataManager(gObj.dataSource), 
            gObj.query = gObj.query instanceof Query ? gObj.query : new Query();
        }, Data.prototype.generateQuery = function(skipPage) {
            var query = this.parent.query.clone();
            return this.filterQuery(query), this.searchQuery(query), this.aggregateQuery(query), 
            this.sortQuery(query), this.pageQuery(query, skipPage), this.groupQuery(query), 
            query;
        }, Data.prototype.aggregateQuery = function(query, isForeign) {
            return this.parent.aggregates.forEach(function(row) {
                row.columns.forEach(function(column) {
                    (column.type instanceof Array ? column.type : [ column.type ]).forEach(function(type) {
                        return query.aggregate(type.toLowerCase(), column.field);
                    });
                });
            }), query;
        }, Data.prototype.pageQuery = function(query, skipPage) {
            var gObj = this.parent;
            return (gObj.allowPaging || gObj.enableVirtualization) && !0 !== skipPage && (gObj.pageSettings.currentPage = Math.max(1, gObj.pageSettings.currentPage), 
            gObj.pageSettings.pageCount <= 0 && (gObj.pageSettings.pageCount = 8), gObj.pageSettings.pageSize <= 0 && (gObj.pageSettings.pageSize = 12), 
            query.page(gObj.pageSettings.currentPage, gObj.pageSettings.pageSize)), query;
        }, Data.prototype.groupQuery = function(query) {
            var gObj = this.parent;
            if (gObj.allowGrouping && gObj.groupSettings.columns.length) for (var columns = gObj.groupSettings.columns, i = 0, len = columns.length; i < len; i++) {
                var column = this.getColumnByField(columns[i]), isGrpFmt = column.enableGroupByFormat, format = column.format;
                isGrpFmt ? query.group(columns[i], this.formatGroupColumn.bind(this), format) : query.group(columns[i], null);
            }
            return query;
        }, Data.prototype.sortQuery = function(query) {
            var gObj = this.parent;
            if ((gObj.allowSorting || gObj.allowGrouping) && gObj.sortSettings.columns.length) {
                for (var columns = gObj.sortSettings.columns, sortGrp = [], i = columns.length - 1; i > -1; i--) {
                    var col = this.getColumnByField(columns[i].field);
                    col && col.setSortDirection(columns[i].direction);
                    var fn = col.sortComparer && !this.isRemote() ? col.sortComparer.bind(col) : columns[i].direction;
                    -1 === gObj.groupSettings.columns.indexOf(columns[i].field) ? query.sortBy(col.field, fn) : sortGrp.push({
                        direction: fn,
                        field: col.field
                    });
                }
                i = 0;
                for (var len = sortGrp.length; i < len; i++) query.sortBy(sortGrp[i].field, sortGrp[i].direction);
            }
            return query;
        }, Data.prototype.searchQuery = function(query) {
            var _this = this, sSettings = this.parent.searchSettings, fields = sSettings.fields.length ? sSettings.fields : this.parent.getColumns().map(function(f) {
                return f.field;
            }), predicateList = [];
            return this.parent.searchSettings.key.length && (this.parent.getForeignKeyColumns().length ? (fields.forEach(function(columnName) {
                var column = _this.getColumnByField(columnName);
                column.isForeignColumn() ? predicateList = _this.fGeneratePredicate(column, predicateList) : predicateList.push(new Predicate$1(column.field, sSettings.operator, sSettings.key, sSettings.ignoreCase, _this.parent.filterSettings.ignoreAccent));
            }), query.where(Predicate$1.or(predicateList))) : query.search(sSettings.key, fields, sSettings.operator, sSettings.ignoreCase, this.parent.filterSettings.ignoreAccent)), 
            query;
        }, Data.prototype.filterQuery = function(query, column, skipFoerign) {
            var gObj = this.parent, predicateList = [], actualFilter = [], foreignColumn = this.parent.getForeignKeyColumns();
            if (gObj.allowFiltering && gObj.filterSettings.columns.length) {
                for (var columns = column || gObj.filterSettings.columns, colType = {}, _i = 0, _a = gObj.columns; _i < _a.length; _i++) {
                    colType[(col = _a[_i]).field] = col.filter.type ? col.filter.type : gObj.filterSettings.type;
                }
                for (var checkBoxCols = [], defaultFltrCols = [], _b = 0, columns_1 = columns; _b < columns_1.length; _b++) {
                    "CheckBox" === colType[(col = columns_1[_b]).field] || "Excel" === colType[col.field] ? checkBoxCols.push(col) : defaultFltrCols.push(col);
                }
                if (checkBoxCols.length) for (var excelPredicate = CheckBoxFilter.getPredicate(checkBoxCols), _c = 0, _d = Object.keys(excelPredicate); _c < _d.length; _c++) {
                    var prop = _d[_c];
                    (col = getColumnByForeignKeyValue(prop, foreignColumn)) && !skipFoerign ? (predicateList = this.fGeneratePredicate(col, predicateList), 
                    actualFilter.push(col)) : predicateList.push(excelPredicate[prop]);
                }
                if (defaultFltrCols.length) for (var _e = 0, defaultFltrCols_1 = defaultFltrCols; _e < defaultFltrCols_1.length; _e++) {
                    var col = defaultFltrCols_1[_e], column_1 = this.getColumnByField(col.field) || getColumnByForeignKeyValue(col.field, this.parent.getForeignKeyColumns()), sType = column_1.type;
                    getColumnByForeignKeyValue(col.field, foreignColumn) && !skipFoerign ? (actualFilter.push(col), 
                    predicateList = this.fGeneratePredicate(column_1, predicateList)) : "date" !== sType && "datetime" !== sType ? predicateList.push(new Predicate$1(col.field, col.operator, col.value, !col.matchCase, this.parent.filterSettings.ignoreAccent)) : predicateList.push(getDatePredicate(col));
                }
                predicateList.length ? query.where(Predicate$1.and(predicateList)) : this.parent.notify("showEmptyGrid", {});
            }
            return query;
        }, Data.prototype.fGeneratePredicate = function(col, predicateList) {
            var fPredicate = {};
            return col && (this.parent.notify("generateQuery", {
                predicate: fPredicate,
                column: col
            }), fPredicate.predicate.predicates.length && predicateList.push(fPredicate.predicate)), 
            predicateList;
        }, Data.prototype.getData = function(args, query) {
            var _this = this;
            void 0 === args && (args = {
                requestType: ""
            });
            var key = this.getKey(args.foreignKeyData && Object.keys(args.foreignKeyData).length ? args.foreignKeyData : this.parent.getPrimaryKeyFieldNames());
            if (this.parent.dataSource && "result" in this.parent.dataSource) {
                return this.eventPromise(args, query, key).promise;
            }
            var crud = void 0;
            switch (args.requestType) {
              case "delete":
                query = query || this.generateQuery(), crud = this.dataManager.remove(key, args.data[0], null, query);
                break;

              case "save":
                query = query || this.generateQuery(), args.index = isNullOrUndefined(args.index) ? 0 : args.index, 
                crud = this.dataManager.insert(args.data, null, query, args.index);
            }
            return crud && !Array.isArray(crud) ? crud.then(function(result) {
                return _this.executeQuery(query);
            }) : this.executeQuery(query);
        }, Data.prototype.executeQuery = function(query) {
            var _this = this;
            if (this.dataManager.ready) {
                var deferred_1 = new Deferred();
                return this.dataManager.ready.then(function(e) {
                    _this.dataManager.executeQuery(query).then(function(result) {
                        deferred_1.resolve(result);
                    });
                }).catch(function(e) {
                    deferred_1.reject(e);
                }), deferred_1.promise;
            }
            return this.dataManager.executeQuery(query);
        }, Data.prototype.formatGroupColumn = function(value, field) {
            this.parent;
            var serviceLocator = this.serviceLocator, column = this.getColumnByField(field), date = value;
            column.type || (column.type = date.getDay ? date.getHours() > 0 || date.getMinutes() > 0 || date.getSeconds() > 0 || date.getMilliseconds() > 0 ? "datetime" : "date" : typeof value), 
            isNullOrUndefined(column.getFormatter()) && setFormatter(serviceLocator, column);
            return ValueFormatter.prototype.toView(value, column.getFormatter());
        }, Data.prototype.crudActions = function(args) {
            var query = this.generateQuery(), promise = null, key = this.getKey(args.foreignKeyData && Object.keys(args.foreignKeyData).length ? args.foreignKeyData : this.parent.getPrimaryKeyFieldNames());
            switch (this.parent.dataSource && "result" in this.parent.dataSource && this.eventPromise(args, query, key), 
            args.requestType) {
              case "save":
                promise = this.dataManager.update(key, args.data, null, this.generateQuery());
            }
            args.promise = promise, this.parent.notify("crud-Action", args);
        }, Data.prototype.saveChanges = function(changes, key) {
            var query = this.generateQuery().requiresCount();
            if ("result" in this.parent.dataSource) {
                this.getStateEventArgument(query);
                var deff = new Deferred(), args = {
                    requestType: "batchsave",
                    changes: changes,
                    key: key,
                    query: query,
                    endEdit: deff.resolve
                };
                return this.setState({
                    isPending: !0,
                    resolver: deff.resolve
                }), this.parent.trigger("dataSourceChanged", args), deff.promise;
            }
            return this.dataManager.saveChanges(changes, key, null, this.generateQuery().requiresCount());
        }, Data.prototype.getKey = function(keys) {
            if (keys && keys.length) return keys[0];
        }, Data.prototype.isRemote = function() {
            return !0 !== this.dataManager.dataSource.offline && void 0 !== this.dataManager.dataSource.url;
        }, Data.prototype.addRows = function(e) {
            for (var i = e.records.length; i > 0; i--) this.dataManager.dataSource.json.splice(e.toIndex, 0, e.records[i - 1]);
        }, Data.prototype.removeRows = function(e) {
            var json = this.dataManager.dataSource.json;
            this.dataManager.dataSource.json = json.filter(function(value, index) {
                return -1 === e.records.indexOf(value);
            });
        }, Data.prototype.getColumnByField = function(field) {
            var col;
            return this.parent.columnModel.some(function(column) {
                return col = column, column.field === field;
            }) && col;
        }, Data.prototype.destroy = function() {
            this.parent.isDestroyed || (this.parent.off(rowsAdded, this.addRows), this.parent.off(rowsRemoved, this.removeRows), 
            this.parent.off(dataSourceModified, this.initDataManager), this.parent.off(dataSourceModified, this.destroy), 
            this.parent.off(updateData, this.crudActions), this.parent.off(addDeleteAction, this.getData));
        }, Data.prototype.getState = function() {
            return this.dataState;
        }, Data.prototype.setState = function(state) {
            return this.dataState = state;
        }, Data.prototype.getStateEventArgument = function(query) {
            var adaptr = new UrlAdaptor(), dm = new DataManager({
                url: "",
                adaptor: new UrlAdaptor()
            }), state = adaptr.processQuery(dm, query);
            return JSON.parse(state.data);
        }, Data.prototype.eventPromise = function(args, query, key) {
            var state, _this = this, dataArgs = args;
            state = this.getStateEventArgument(query);
            var def = new Deferred(), deff = new Deferred();
            if (void 0 !== args.requestType && "refresh" !== args.requestType) if (state.action = args, 
            "save" === args.requestType || "delete" === args.requestType) {
                var editArgs = args;
                editArgs.key = key, editArgs.state = state, this.setState({
                    isPending: !0,
                    resolver: deff.resolve
                }), dataArgs.endEdit = deff.resolve, this.parent.trigger("dataSourceChanged", editArgs), 
                deff.promise.then(function(e) {
                    _this.setState({
                        isPending: !0,
                        resolver: def.resolve,
                        group: state.group
                    }), _this.parent.trigger("dataStateChange", state);
                });
            } else this.setState({
                isPending: !0,
                resolver: def.resolve,
                group: state.group
            }), this.parent.trigger("dataStateChange", state); else this.setState({}), def.resolve(this.parent.dataSource);
            return def;
        }, Data;
    }(), Row = function() {
        function Row(options) {
            merge(this, options);
        }
        return Row.prototype.clone = function() {
            var row = new Row({});
            return merge(row, this), row.cells = this.cells.map(function(cell) {
                return cell.clone();
            }), row;
        }, Row;
    }(), Cell = function() {
        function Cell(options) {
            this.isSpanned = !1, merge(this, options);
        }
        return Cell.prototype.clone = function() {
            var cell = new Cell({});
            return merge(cell, this), cell;
        }, Cell;
    }(), CellMergeRender = function() {
        function CellMergeRender(serviceLocator, parent) {
            this.serviceLocator = serviceLocator, this.parent = parent;
        }
        return CellMergeRender.prototype.render = function(cellArgs, row, i, td) {
            for (var cellRenderer = this.serviceLocator.getService("cellRendererFactory").getCellRenderer(row.cells[i].cellType || CellType.Data), span = row.cells[i].cellSpan ? row.cells[i].cellSpan : cellArgs.colSpan + i <= row.cells.length ? cellArgs.colSpan : row.cells.length - i, visible = 0, j = i + 1; j < i + span && j < row.cells.length; j++) !1 === row.cells[j].visible ? visible++ : row.cells[j].isSpanned = !0;
            if (visible > 0) {
                for (j = i + span; j < i + span + visible && j < row.cells.length; j++) row.cells[j].isSpanned = !0;
                i + span + visible >= row.cells.length && (span -= i + span + visible - row.cells.length);
            }
            return row.cells[i].cellSpan && (row.data[cellArgs.column.field] = row.cells[i].spanText, 
            td = cellRenderer.render(row.cells[i], row.data, {
                index: isNullOrUndefined(row.index) ? "" : row.index.toString()
            })), span > 1 && attributes(td, {
                colSpan: span.toString(),
                "aria-colSpan": span.toString()
            }), !this.parent.enableColumnVirtualization || row.cells[i].cellSpan || this.containsKey(cellArgs.column.field, cellArgs.data[cellArgs.column.field]) || this.backupMergeCells(cellArgs.column.field, cellArgs.data[cellArgs.column.field], cellArgs.colSpan), 
            td;
        }, CellMergeRender.prototype.backupMergeCells = function(fName, data, span) {
            this.setMergeCells(this.generteKey(fName, data), span);
        }, CellMergeRender.prototype.generteKey = function(fname, data) {
            return fname + "__" + data.toString();
        }, CellMergeRender.prototype.splitKey = function(key) {
            return key.split("__");
        }, CellMergeRender.prototype.containsKey = function(fname, data) {
            return this.getMergeCells().hasOwnProperty(this.generteKey(fname, data));
        }, CellMergeRender.prototype.getMergeCells = function() {
            return this.parent.mergeCells;
        }, CellMergeRender.prototype.setMergeCells = function(key, span) {
            this.parent.mergeCells[key] = span;
        }, CellMergeRender.prototype.updateVirtualCells = function(rows) {
            for (var mCells = this.getMergeCells(), _i = 0, _a = Object.keys(mCells); _i < _a.length; _i++) {
                var key = _a[_i], value = mCells[key], merge$$1 = this.splitKey(key), columnIndex = this.getIndexFromAllColumns(merge$$1[0]), vColumnIndices = this.parent.getColumnIndexesInView(), span = value - (vColumnIndices[0] - columnIndex);
                if (columnIndex < vColumnIndices[0] && span > 1) for (var _b = 0, rows_1 = rows; _b < rows_1.length; _b++) {
                    var row = rows_1[_b];
                    if (row.data[merge$$1[0]].toString() === merge$$1[1].toString()) {
                        row.cells[0].cellSpan = span, row.cells[0].spanText = merge$$1[1];
                        break;
                    }
                }
            }
            return rows;
        }, CellMergeRender.prototype.getIndexFromAllColumns = function(field) {
            return iterateArrayOrObject(this.parent.getVisibleColumns(), function(item, index) {
                if (item.field === field) return index;
            })[0];
        }, CellMergeRender;
    }(), RowRenderer = function() {
        function RowRenderer(serviceLocator, cellType, parent) {
            this.element = createElement("tr", {
                attrs: {
                    role: "row"
                }
            }), this.cellType = cellType, this.serviceLocator = serviceLocator, this.parent = parent;
        }
        return RowRenderer.prototype.render = function(row, columns, attributes$$1, rowTemplate, cloneNode) {
            return this.refreshRow(row, columns, attributes$$1, rowTemplate, cloneNode);
        }, RowRenderer.prototype.refresh = function(row, columns, isChanged, attributes$$1, rowTemplate) {
            isChanged && (row.data = extend({}, row.changes), this.refreshMergeCells(row));
            var node = this.parent.element.querySelector("[data-uid=" + row.uid + "]"), tr = this.refreshRow(row, columns, attributes$$1, rowTemplate), cells = [].slice.call(tr.cells);
            node.innerHTML = "";
            for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {
                var cell = cells_1[_i];
                node.appendChild(cell);
            }
        }, RowRenderer.prototype.refreshRow = function(row, columns, attributes$$1, rowTemplate, cloneNode) {
            var tr = isNullOrUndefined(cloneNode) ? this.element.cloneNode() : cloneNode, rowArgs = {
                data: row.data
            }, cellArgs = {
                data: row.data
            }, attrCopy = extend({}, attributes$$1, {}), chekBoxEnable = this.parent.getColumns().filter(function(col) {
                return "checkbox" === col.type && col.field;
            })[0], value = !1;
            chekBoxEnable && (value = getValue(chekBoxEnable.field, rowArgs.data)), row.isDataRow && (row.isSelected = this.parent.getSelectedRowIndexes().indexOf(row.index) > -1 || value), 
            row.isDataRow && this.parent.isCheckBoxSelection && "Check" === this.parent.checkAllRows && this.parent.enableVirtualization && (row.isSelected = !0, 
            -1 === this.parent.getSelectedRowIndexes().indexOf(row.index) && this.parent.getSelectedRowIndexes().push(row.index)), 
            this.buildAttributeFromRow(tr, row), attributes(tr, attrCopy), setStyleAndAttributes(tr, row.attributes);
            for (var cellRendererFact = this.serviceLocator.getService("cellRendererFactory"), i = 0, len = row.cells.length; i < len; i++) {
                var cell = row.cells[i];
                cell.isSelected = row.isSelected;
                var cellRenderer = cellRendererFact.getCellRenderer(row.cells[i].cellType || CellType.Data), attrs = {
                    index: isNullOrUndefined(row.index) ? "" : row.index.toString()
                };
                row.isExpand && row.cells[i].cellType === CellType.DetailExpand && (attrs.class = "e-detailrowexpand");
                var td = cellRenderer.render(row.cells[i], row.data, attrs);
                if (row.cells[i].cellType !== CellType.Filter) {
                    if ((row.cells[i].cellType === CellType.Data || row.cells[i].cellType === CellType.CommandColumn) && (this.parent.trigger("queryCellInfo", extend(cellArgs, {
                        cell: td,
                        column: cell.column,
                        colSpan: 1,
                        foreignKeyData: row.cells[i].foreignKeyData
                    })), cellArgs.colSpan > 1 || row.cells[i].cellSpan > 1)) {
                        td = new CellMergeRender(this.serviceLocator, this.parent).render(cellArgs, row, i, td);
                    }
                    row.cells[i].isSpanned || tr.appendChild(td);
                }
            }
            var args = {
                row: tr,
                rowHeight: this.parent.rowHeight
            };
            return row.isDataRow && this.parent.trigger("rowDataBound", extend(rowArgs, args)), 
            this.parent.enableVirtualization && (rowArgs.rowHeight = this.parent.rowHeight), 
            rowArgs.rowHeight ? tr.style.height = rowArgs.rowHeight + "px" : this.parent.rowHeight && (tr.style.height = this.parent.rowHeight + "px"), 
            row.cssClass && tr.classList.add(row.cssClass), tr;
        }, RowRenderer.prototype.refreshMergeCells = function(row) {
            for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {
                _a[_i].isSpanned = !1;
            }
            return row;
        }, RowRenderer.prototype.buildAttributeFromRow = function(tr, row) {
            var attr = {}, prop_rowindex = "aria-rowindex", prop_dataUID = "data-uid", prop_ariaSelected = "aria-selected", classes = [];
            row.isDataRow && classes.push("e-row"), row.isAltRow && classes.push("e-altrow"), 
            isNullOrUndefined(row.index) || (attr[prop_rowindex] = row.index), row.rowSpan && (attr.rowSpan = row.rowSpan), 
            row.uid && (attr[prop_dataUID] = row.uid), row.isSelected && (attr[prop_ariaSelected] = !0), 
            !1 === row.visible && classes.push("e-hide"), attr.class = classes, setStyleAndAttributes(tr, attr);
        }, RowRenderer;
    }(), RowModelGenerator = function() {
        function RowModelGenerator(parent) {
            this.parent = parent;
        }
        return RowModelGenerator.prototype.generateRows = function(data, args) {
            for (var rows = [], startIndex = this.parent.enableVirtualization ? args.startIndex : 0, i = 0, len = Object.keys(data).length; i < len; i++, 
            startIndex++) rows[i] = this.generateRow(data[i], startIndex);
            return rows;
        }, RowModelGenerator.prototype.ensureColumns = function() {
            var cols = [];
            return (this.parent.detailTemplate || this.parent.childGrid) && cols.push(this.generateCell({}, null, CellType.DetailExpand)), 
            cols;
        }, RowModelGenerator.prototype.generateRow = function(data, index, cssClass, indent) {
            var options = {};
            options.foreignKeyData = {}, options.uid = getUid("grid-row"), options.data = data, 
            options.index = index, options.indent = indent, options.isDataRow = !0, options.isExpand = !1, 
            options.cssClass = cssClass, options.isAltRow = !!this.parent.enableAltRow && index % 2 != 0, 
            options.isSelected = this.parent.getSelectedRowIndexes().indexOf(index) > -1, this.refreshForeignKeyRow(options);
            var cells = this.ensureColumns(), row = new Row(options);
            return row.cells = cells.concat(this.generateCells(options)), row;
        }, RowModelGenerator.prototype.refreshForeignKeyRow = function(options) {
            this.parent.getForeignKeyColumns().forEach(function(col) {
                setValue(col.field, getForeignData(col, options.data), options.foreignKeyData);
            });
        }, RowModelGenerator.prototype.generateCells = function(options) {
            var _this = this, tmp = [];
            return this.parent.getColumns().forEach(function(dummy, index) {
                return tmp.push(_this.generateCell(dummy, options.uid, isNullOrUndefined(dummy.commands) ? void 0 : CellType.CommandColumn, null, index, options.foreignKeyData));
            }), tmp;
        }, RowModelGenerator.prototype.generateCell = function(column, rowId, cellType, colSpan, oIndex, foreignKeyData) {
            var opt = {
                visible: column.visible,
                isDataCell: !isNullOrUndefined(column.field || column.template),
                isTemplate: !isNullOrUndefined(column.template),
                rowID: rowId,
                column: column,
                cellType: isNullOrUndefined(cellType) ? CellType.Data : cellType,
                colSpan: colSpan,
                commands: column.commands,
                isForeignKey: column.isForeignColumn && column.isForeignColumn(),
                foreignKeyData: column.isForeignColumn && column.isForeignColumn() && getValue(column.field, foreignKeyData)
            };
            return (opt.isDataCell || "checkbox" === opt.column.type) && (opt.index = this.parent.getColumnIndexByField(column.field)), 
            new Cell(opt);
        }, RowModelGenerator.prototype.refreshRows = function(input) {
            var _this = this;
            return input.forEach(function(row) {
                _this.refreshForeignKeyRow(row), row.cells = _this.generateCells(row);
            }), input;
        }, RowModelGenerator;
    }(), __extends$9 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), SummaryModelGenerator = function() {
        function SummaryModelGenerator(parent) {
            this.parent = parent;
        }
        return SummaryModelGenerator.prototype.getData = function() {
            var _this = this, rows = [];
            return this.parent.aggregates.slice().forEach(function(row) {
                var columns = row.columns.filter(function(column) {
                    return !(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate) || _this.columnSelector(column);
                });
                columns.length && rows.push({
                    columns: columns
                });
            }), rows;
        }, SummaryModelGenerator.prototype.columnSelector = function(column) {
            return void 0 !== column.footerTemplate;
        }, SummaryModelGenerator.prototype.getColumns = function(start, end) {
            var columns = [];
            return this.parent.allowGrouping && this.parent.groupSettings.columns.forEach(function(value) {
                return columns.push(new Column({}));
            }), this.parent.detailTemplate && columns.push(new Column({})), columns.push.apply(columns, this.parent.getColumns()), 
            isNullOrUndefined(start) ? columns : columns.slice(start, end);
        }, SummaryModelGenerator.prototype.generateRows = function(input, args, start, end) {
            var _this = this;
            if (0 === this.parent.currentViewData.length) return [];
            var data = this.buildSummaryData(input, args), rows = [];
            return this.getData().forEach(function(row, index) {
                rows.push(_this.getGeneratedRow(row, data[index], args ? args.level : void 0, start, end));
            }), rows;
        }, SummaryModelGenerator.prototype.getGeneratedRow = function(summaryRow, data, raw, start, end) {
            var _this = this, tmp = [], indents = this.getIndentByLevel(raw), indentLength = this.parent.groupSettings.columns.length + (this.parent.detailTemplate ? 1 : 0);
            this.getColumns(start, end).forEach(function(value, index) {
                return tmp.push(_this.getGeneratedCell(value, summaryRow, index >= indentLength ? _this.getCellType() : CellType.Indent, indents[index]));
            });
            var row = new Row({
                data: data,
                attributes: {
                    class: "e-summaryrow"
                }
            });
            return row.cells = tmp, row.visible = tmp.some(function(cell) {
                return cell.isDataCell && cell.visible;
            }), row;
        }, SummaryModelGenerator.prototype.getGeneratedCell = function(column, summaryRow, cellType, indent) {
            var sColumn = summaryRow.columns.filter(function(scolumn) {
                return scolumn.columnName === column.field;
            })[0], attrs = {
                style: {
                    textAlign: column.textAlign
                }
            };
            indent && (attrs.class = indent);
            var opt = {
                visible: column.visible,
                isDataCell: !isNullOrUndefined(sColumn),
                isTemplate: sColumn && !isNullOrUndefined(sColumn.footerTemplate || sColumn.groupFooterTemplate || sColumn.groupCaptionTemplate),
                column: sColumn || {},
                attributes: attrs,
                cellType: cellType
            };
            return new Cell(opt);
        }, SummaryModelGenerator.prototype.buildSummaryData = function(data, args) {
            var _this = this, dummy = [], single = {};
            return this.getData().forEach(function(row) {
                single = {}, row.columns.forEach(function(column) {
                    single = _this.setTemplate(column, args && args.aggregates ? args : data, single);
                }), dummy.push(single);
            }), dummy;
        }, SummaryModelGenerator.prototype.getIndentByLevel = function(data) {
            return this.parent.groupSettings.columns.map(function() {
                return "e-indentcelltop";
            });
        }, SummaryModelGenerator.prototype.setTemplate = function(column, data, single) {
            var _this = this, types = column.type, helper = {}, formatFn = column.getFormatter() || function(a) {
                return a;
            }, group = data;
            return types instanceof Array || (types = [ column.type ]), types.forEach(function(type) {
                var key = column.field + " - " + type.toLowerCase(), disp = column.columnName, val = group.aggregates && !isNullOrUndefined(group.aggregates[key]) ? group.aggregates[key] : calculateAggregate(type, group.aggregates ? group : data, column, _this.parent);
                single[disp] = single[disp] || {}, single[disp][key] = val, single[disp][type] = formatFn(val), 
                group.field && (single[disp].field = group.field, single[disp].key = group.key);
            }), helper.format = column.getFormatter(), column.setTemplate(helper), single;
        }, SummaryModelGenerator.prototype.getCellType = function() {
            return CellType.Summary;
        }, SummaryModelGenerator;
    }(), GroupSummaryModelGenerator = function(_super) {
        function GroupSummaryModelGenerator() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$9(GroupSummaryModelGenerator, _super), GroupSummaryModelGenerator.prototype.columnSelector = function(column) {
            return void 0 !== column.groupFooterTemplate;
        }, GroupSummaryModelGenerator.prototype.getIndentByLevel = function(level) {
            return void 0 === level && (level = this.parent.groupSettings.columns.length), this.parent.groupSettings.columns.map(function(v, indx) {
                return indx <= level - 1 ? "" : "e-indentcelltop";
            });
        }, GroupSummaryModelGenerator.prototype.getCellType = function() {
            return CellType.GroupSummary;
        }, GroupSummaryModelGenerator;
    }(SummaryModelGenerator), CaptionSummaryModelGenerator = function(_super) {
        function CaptionSummaryModelGenerator() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$9(CaptionSummaryModelGenerator, _super), CaptionSummaryModelGenerator.prototype.columnSelector = function(column) {
            return void 0 !== column.groupCaptionTemplate;
        }, CaptionSummaryModelGenerator.prototype.getData = function() {
            return [ _super.prototype.getData.call(this).reduce(function(prev, cur) {
                return prev.columns = prev.columns.concat(cur.columns), prev;
            }, {
                columns: []
            }) ];
        }, CaptionSummaryModelGenerator.prototype.isEmpty = function() {
            return 0 === (this.getData()[0].columns || []).length;
        }, CaptionSummaryModelGenerator.prototype.getCellType = function() {
            return CellType.CaptionSummary;
        }, CaptionSummaryModelGenerator;
    }(SummaryModelGenerator), __extends$8 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), GroupModelGenerator = function(_super) {
        function GroupModelGenerator(parent) {
            var _this = _super.call(this, parent) || this;
            return _this.rows = [], _this.index = 0, _this.parent = parent, _this.summaryModelGen = new GroupSummaryModelGenerator(parent), 
            _this.captionModelGen = new CaptionSummaryModelGenerator(parent), _this;
        }
        return __extends$8(GroupModelGenerator, _super), GroupModelGenerator.prototype.generateRows = function(data, args) {
            if (0 === this.parent.groupSettings.columns.length) return _super.prototype.generateRows.call(this, data, args);
            this.rows = [], this.index = this.parent.enableVirtualization ? (this.parent.pageSettings.currentPage - 1) * data.records.length : 0;
            for (var i = 0, len = data.length; i < len; i++) this.getGroupedRecords(0, data[i], data.level);
            return this.index = 0, this.rows;
        }, GroupModelGenerator.prototype.getGroupedRecords = function(index, data, raw) {
            var level = raw;
            if (isNullOrUndefined(data.items)) if (isNullOrUndefined(data.GroupGuid)) this.rows = this.rows.concat(this.generateDataRows(data, index)); else for (var j = 0, len = data.length; j < len; j++) this.getGroupedRecords(index, data[j], data.level); else this.rows = this.rows.concat(this.generateCaptionRow(data, index)), 
            data.items && data.items.length && this.getGroupedRecords(index + 1, data.items, data.items.level), 
            this.parent.aggregates.length && (_a = this.rows).push.apply(_a, this.summaryModelGen.generateRows(data, {
                level: level
            }));
            var _a;
        }, GroupModelGenerator.prototype.getCaptionRowCells = function(field, indent, data) {
            var _this = this, cells = [], visibles = [], column = this.parent.getColumnByField(field), indexes = this.parent.getColumnIndexesInView();
            this.parent.enableColumnVirtualization && (column = this.parent.columns.filter(function(c) {
                return c.field === field;
            })[0]);
            var groupedLen = this.parent.groupSettings.columns.length, gObj = this.parent;
            if (!this.parent.enableColumnVirtualization || -1 !== indexes.indexOf(indent)) {
                for (var i = 0; i < indent; i++) cells.push(this.generateIndentCell());
                cells.push(this.generateCell({}, null, CellType.Expand));
            }
            if (indent = this.parent.enableColumnVirtualization ? 1 : this.parent.getVisibleColumns().length + groupedLen + (gObj.detailTemplate || gObj.childGrid ? 1 : 0) - indent + (this.parent.getVisibleColumns().length ? -1 : 0), 
            this.parent.aggregates.length && !this.captionModelGen.isEmpty()) {
                var captionCells = this.captionModelGen.generateRows(data)[0];
                extend(data, captionCells.data);
                var cIndex_1 = 0;
                captionCells.cells.some(function(cell, index) {
                    return cIndex_1 = index, cell.visible && cell.isDataCell;
                }), visibles = captionCells.cells.slice(cIndex_1).filter(function(cell) {
                    return cell.visible;
                }), captionCells.visible && visibles[0].column.field === this.parent.getVisibleColumns()[0].field && (visibles = visibles.slice(1)), 
                1 === this.parent.getVisibleColumns().length && (visibles = []), indent -= visibles.length;
            }
            var wFlag = !0;
            return (this.parent.enableColumnVirtualization ? this.parent.getColumns() : [ column ]).forEach(function(col, index) {
                var tmpFlag = wFlag && -1 !== indexes.indexOf(indent);
                tmpFlag && (wFlag = !1);
                var cellType = !_this.parent.enableColumnVirtualization || tmpFlag ? CellType.GroupCaption : CellType.GroupCaptionEmpty;
                indent = _this.parent.enableColumnVirtualization && cellType === CellType.GroupCaption ? indent + groupedLen : indent, 
                cells.push(_this.generateCell(column, null, cellType, indent));
            }), cells.push.apply(cells, visibles), cells;
        }, GroupModelGenerator.prototype.generateCaptionRow = function(data, indent) {
            var options = {}, col = this.parent.getColumnByField(data.field);
            options.data = extend({}, data), col && (options.data.field = data.field), options.isDataRow = !1;
            var row = new Row(options);
            return row.indent = indent, this.getForeignKeyData(row), row.cells = this.getCaptionRowCells(data.field, indent, row.data), 
            row;
        }, GroupModelGenerator.prototype.getForeignKeyData = function(row) {
            var data = row.data, col = this.parent.getColumnByField(data.field);
            col && col.isForeignColumn && col.isForeignColumn() && setValue("foreignKey", col.valueAccessor(col.foreignKeyValue, getForeignData(col, {}, data.key)[0], col), row.data);
        }, GroupModelGenerator.prototype.generateDataRows = function(data, indent) {
            for (var rows = [], indexes = this.parent.getColumnIndexesInView(), i = 0, len = data.length; i < len; i++) {
                rows[i] = this.generateRow(data[i], this.index, i ? void 0 : "e-firstchildrow", indent);
                for (var j = 0; j < indent; j++) this.parent.enableColumnVirtualization && -1 === indexes.indexOf(indent) || rows[i].cells.unshift(this.generateIndentCell());
                this.index++;
            }
            return rows;
        }, GroupModelGenerator.prototype.generateIndentCell = function() {
            return this.generateCell({}, null, CellType.Indent);
        }, GroupModelGenerator.prototype.refreshRows = function(input) {
            var _this = this, indexes = this.parent.getColumnIndexesInView();
            return input.forEach(function(row) {
                if (row.isDataRow) {
                    row.cells = _this.generateCells(row);
                    for (var j = 0; j < row.indent; j++) _this.parent.enableColumnVirtualization && -1 === indexes.indexOf(row.indent) || row.cells.unshift(_this.generateIndentCell());
                } else {
                    var cRow = _this.generateCaptionRow(row.data, row.indent);
                    row.cells = cRow.cells;
                }
            }), input;
        }, GroupModelGenerator;
    }(RowModelGenerator), ContentRender = function() {
        function ContentRender(parent, serviceLocator) {
            var _this = this;
            this.rows = [], this.freezeRows = [], this.movableRows = [], this.isLoaded = !0, 
            this.drop = function(e) {
                _this.parent.notify(columnDrop, {
                    target: e.target,
                    droppedElement: e.droppedElement
                }), remove(e.droppedElement);
            }, this.rafCallback = function(args) {
                var arg = args;
                return function() {
                    if (_this.ariaService.setBusy(_this.getPanel().firstChild, !1), !_this.parent.isDestroyed) {
                        var rows = _this.rows.slice(0);
                        if (0 !== _this.parent.getFrozenColumns() && (rows = args.isFrozen ? _this.freezeRows : _this.movableRows), 
                        _this.parent.notify(contentReady, {
                            rows: rows,
                            args: arg
                        }), _this.isLoaded && (_this.parent.trigger(dataBound, {}), _this.parent.allowTextWrap && _this.parent.notify(freezeRender, {
                            case: "textwrap"
                        })), arg) {
                            var action = (arg.requestType || "").toLowerCase() + "-complete";
                            _this.parent.notify(action, arg);
                        }
                        _this.parent.hideSpinner();
                    }
                };
            }, this.parent = parent, this.serviceLocator = serviceLocator, this.ariaService = this.serviceLocator.getService("ariaService"), 
            this.generator = this.getModelGenerator(), this.parent.isDestroyed || (this.parent.on(columnVisibilityChanged, this.setVisible, this), 
            this.parent.on(colGroupRefresh, this.colGroupRefresh, this), this.parent.on(uiUpdate, this.enableAfterRender, this));
        }
        return ContentRender.prototype.renderPanel = function() {
            var gObj = this.parent, div = createElement("div", {
                className: "e-gridcontent"
            }), innerDiv = createElement("div", {
                className: "e-content"
            });
            this.ariaService.setOptions(innerDiv, {
                busy: !1
            }), div.appendChild(innerDiv), this.setPanel(div), gObj.element.appendChild(div);
        }, ContentRender.prototype.renderTable = function() {
            var contentDiv = this.getPanel();
            contentDiv.appendChild(this.createContentTable("_content_table")), this.setTable(contentDiv.querySelector(".e-table")), 
            this.ariaService.setOptions(this.getTable(), {
                multiselectable: "Multiple" === this.parent.selectionSettings.type
            }), this.initializeContentDrop(), this.parent.frozenRows && this.parent.getHeaderContent().classList.add("e-frozenhdrcont");
        }, ContentRender.prototype.createContentTable = function(id) {
            var innerDiv = this.getPanel().firstChild, table = createElement("table", {
                className: "e-table",
                attrs: {
                    cellspacing: "0.25px",
                    role: "grid",
                    id: this.parent.element.id + id
                }
            });
            return this.setColGroup(this.parent.element.querySelector(".e-gridheader").querySelector("colgroup").cloneNode(!0)), 
            table.appendChild(this.getColGroup()), table.appendChild(createElement("tbody")), 
            innerDiv.appendChild(table), innerDiv;
        }, ContentRender.prototype.splitRows = function(idx) {
            this.parent.getFrozenColumns() && (0 === idx ? (this.freezeRows = this.rows, this.freezeRowElements = this.rowElements) : this.movableRows = this.rows);
        }, ContentRender.prototype.refreshContentRows = function(args) {
            var _this = this;
            void 0 === args && (args = {});
            var gObj = this.parent;
            if (0 !== gObj.currentViewData.length) {
                var tr, hdrTbody, dataSource = gObj.currentViewData, frag = document.createDocumentFragment(), hdrfrag = document.createDocumentFragment(), columns = gObj.getColumns(), frzCols = gObj.getFrozenColumns(), row = new RowRenderer(this.serviceLocator, null, this.parent);
                this.rowElements = [], this.rows = [];
                var modelData = this.generator.generateRows(dataSource, args), idx = modelData[0].cells[0].index, fCont = this.getPanel().querySelector(".e-frozencontent"), mCont = this.getPanel().querySelector(".e-movablecontent"), cont = this.getPanel().querySelector(".e-content");
                if (this.parent.enableColumnVirtualization) {
                    new CellMergeRender(this.serviceLocator, this.parent).updateVirtualCells(modelData);
                }
                this.tbody = frzCols && idx >= frzCols ? mCont.querySelector("tbody") : this.getTable().querySelector("tbody");
                for (var i = 0, len = modelData.length; i < len; i++) {
                    if (gObj.rowTemplate) for (var elements = gObj.getRowTemplate()(extend({
                        index: i
                    }, dataSource[i]), gObj, "rowTemplate"), j = 0; j < elements.length; j++) {
                        var isTR = "tr" === elements[j].nodeName.toLowerCase();
                        (isTR || elements[j].querySelectorAll && elements[j].querySelectorAll("tr").length) && (tr = isTR ? elements[j] : elements[j].querySelector("tr"));
                    } else tr = row.render(modelData[i], columns);
                    if (gObj.frozenRows && i < gObj.frozenRows ? hdrfrag.appendChild(tr) : frag.appendChild(tr), 
                    this.rows.push(modelData[i]), modelData[i].isDataRow) {
                        var td = tr.querySelectorAll(".e-rowcell:not(.e-hide)")[0];
                        td && td.classList.add("e-detailrowvisible"), this.rowElements.push(tr);
                    }
                    this.ariaService.setOptions(this.getTable(), {
                        colcount: gObj.getColumns().length.toString()
                    });
                }
                this.splitRows(idx), gObj.frozenRows && ((hdrTbody = frzCols ? gObj.getHeaderContent().querySelector(0 === idx ? ".e-frozenheader" : ".e-movableheader").querySelector("tbody") : gObj.getHeaderTable().querySelector("tbody")).innerHTML = "", 
                hdrTbody.appendChild(hdrfrag)), gObj.frozenRows && 0 === idx && cont.offsetHeight === Number(gObj.height) && (cont.style.height = cont.offsetHeight - hdrTbody.offsetHeight + "px"), 
                frzCols && 0 === idx && (this.getPanel().firstChild.style.overflowY = "hidden"), 
                args.rows = this.rows.slice(0), args.isFrozen = 0 !== this.parent.getFrozenColumns() && !args.isFrozen, 
                function(updateFunction, callBack) {
                    requestAnimationFrame(function() {
                        try {
                            callBack(null, updateFunction());
                        } catch (e) {
                            callBack(e);
                        }
                    });
                }(function() {
                    remove(_this.tbody), _this.tbody = createElement("tbody"), frzCols ? (_this.tbody.appendChild(frag), 
                    0 === idx ? (_this.isLoaded = !1, fCont.querySelector("table").appendChild(_this.tbody)) : (_this.tbody.childElementCount < 1 && _this.tbody.appendChild(createElement("tr").appendChild(createElement("td"))), 
                    _this.isLoaded = !0, mCont.querySelector("table").appendChild(_this.tbody), fCont.style.height = mCont.offsetHeight - getScrollBarWidth() + "px", 
                    mCont.style.overflowY = "auto" !== _this.parent.height ? "scroll" : "auto", fCont.style.borderRightWidth = "1px")) : _this.appendContent(_this.tbody, frag, args), 
                    frzCols && 0 === idx && _this.refreshContentRows(extend({}, args));
                }, this.rafCallback(extend({}, args)));
            }
        }, ContentRender.prototype.appendContent = function(tbody, frag, args) {
            tbody.appendChild(frag), this.getTable().appendChild(tbody);
        }, ContentRender.prototype.getPanel = function() {
            return this.contentPanel;
        }, ContentRender.prototype.setPanel = function(panel) {
            this.contentPanel = panel;
        }, ContentRender.prototype.getTable = function() {
            return this.contentTable;
        }, ContentRender.prototype.setTable = function(table) {
            this.contentTable = table;
        }, ContentRender.prototype.getRows = function() {
            return this.parent.getFrozenColumns() ? this.freezeRows : this.rows;
        }, ContentRender.prototype.getMovableRows = function() {
            return this.movableRows;
        }, ContentRender.prototype.getRowElements = function() {
            return this.parent.getFrozenColumns() ? this.freezeRowElements : this.rowElements;
        }, ContentRender.prototype.getMovableRowElements = function() {
            return this.rowElements;
        }, ContentRender.prototype.setRowElements = function(elements) {
            this.rowElements = elements;
        }, ContentRender.prototype.getColGroup = function() {
            return this.colgroup;
        }, ContentRender.prototype.setColGroup = function(colGroup) {
            return this.colgroup = colGroup;
        }, ContentRender.prototype.setVisible = function(columns) {
            var gObj = this.parent, frzCols = gObj.getFrozenColumns(), rows = [];
            if (frzCols) for (var fRows = this.freezeRows, mRows = this.movableRows, rowLen = fRows.length, cellLen = void 0, i = 0, row = void 0; i < rowLen; i++) {
                cellLen = mRows[i].cells.length, row = fRows[i].clone();
                for (var j = 0; j < cellLen; j++) row.cells.push(mRows[i].cells[j]);
                rows.push(row);
            } else rows = this.getRows();
            var testRow;
            rows.some(function(r) {
                return r.isDataRow && (testRow = r), r.isDataRow;
            });
            for (var c = 0, clen = columns.length; c < clen; c++) {
                var column = columns[c], idx = this.parent.getNormalizedColumnIndex(column.uid);
                if (!this.canSkip(column, testRow, idx)) {
                    var displayVal = !0 === column.visible ? "" : "none";
                    if (frzCols) if (idx < frzCols) setStyleAttribute(this.getColGroup().childNodes[idx], {
                        display: displayVal
                    }); else {
                        setStyleAttribute(gObj.getContent().querySelector(".e-movablecontent").querySelector("colgroup").childNodes[idx - frzCols], {
                            display: displayVal
                        });
                    } else setStyleAttribute(this.getColGroup().childNodes[idx], {
                        display: displayVal
                    });
                }
            }
            this.refreshContentRows({
                requestType: "refresh"
            });
        }, ContentRender.prototype.colGroupRefresh = function() {
            if (this.getColGroup()) {
                var colGroup = this.parent.element.querySelector(".e-gridheader").querySelector("colgroup").cloneNode(!0);
                this.getTable().replaceChild(colGroup, this.getColGroup()), this.setColGroup(colGroup);
            }
        }, ContentRender.prototype.initializeContentDrop = function() {
            var gObj = this.parent;
            new Droppable(gObj.getContent(), {
                accept: ".e-dragclone",
                drop: this.drop
            });
        }, ContentRender.prototype.canSkip = function(column, row, index) {
            return isNullOrUndefined(row) || isNullOrUndefined(column.visible) || row.cells[index].visible === column.visible;
        }, ContentRender.prototype.getModelGenerator = function() {
            return this.generator = this.parent.allowGrouping ? new GroupModelGenerator(this.parent) : new RowModelGenerator(this.parent);
        }, ContentRender.prototype.renderEmpty = function(tbody) {
            this.getTable().appendChild(tbody), this.parent.frozenRows && (this.parent.getHeaderContent().querySelector("tbody").innerHTML = "");
        }, ContentRender.prototype.setSelection = function(uid, set, clearAll) {
            this.parent.getFrozenColumns() && this.getMovableRows().filter(function(row) {
                return clearAll || uid === row.uid;
            }).forEach(function(row) {
                return row.isSelected = set;
            }), this.getRows().filter(function(row) {
                return clearAll || uid === row.uid;
            }).forEach(function(row) {
                row.isSelected = set, row.cells.forEach(function(cell) {
                    return cell.isSelected = set;
                });
            });
        }, ContentRender.prototype.getRowByIndex = function(index) {
            return this.parent.getDataRows()[index];
        }, ContentRender.prototype.getVirtualRowIndex = function(index) {
            return index;
        }, ContentRender.prototype.getMovableRowByIndex = function(index) {
            return this.parent.getMovableDataRows()[index];
        }, ContentRender.prototype.enableAfterRender = function(e) {
            "group" === e.module && e.enable && (this.generator = this.getModelGenerator());
        }, ContentRender;
    }(), HeaderRender = function() {
        function HeaderRender(parent, serviceLocator) {
            var _this = this;
            this.frzIdx = 0, this.helper = function(e) {
                var gObj = _this.parent, target = e.sender.target, parentEle = parentsUntil(target, "e-headercell");
                if (!gObj.allowReordering && !gObj.allowGrouping || !isNullOrUndefined(parentEle) && parentEle.querySelectorAll(".e-checkselectall").length > 0) return !1;
                var visualElement = createElement("div", {
                    className: "e-cloneproperties e-dragclone e-headerclone"
                }), element = target.classList.contains("e-headercell") ? target : parentEle;
                if (!element || !gObj.allowReordering && element.classList.contains("e-stackedheadercell")) return !1;
                var col, height = element.offsetHeight, headercelldiv = element.querySelector(".e-headercelldiv");
                return headercelldiv && (col = gObj.getColumnByUid(headercelldiv.getAttribute("e-mappinguid")), 
                _this.column = col, visualElement.setAttribute("e-mappinguid", _this.column.uid)), 
                col && !isNullOrUndefined(col.headerTemplate) ? -1 !== col.headerTemplate.indexOf("#") ? visualElement.innerHTML = document.querySelector(col.headerTemplate).innerHTML.trim() : visualElement.innerHTML = col.headerTemplate : visualElement.textContent = headercelldiv ? col.headerText : element.firstElementChild.innerHTML, 
                visualElement.style.width = element.offsetWidth + "px", visualElement.style.height = element.offsetHeight + "px", 
                visualElement.style.lineHeight = (height - 6).toString() + "px", gObj.element.appendChild(visualElement), 
                visualElement;
            }, this.dragStart = function(e) {
                var gObj = _this.parent;
                gObj.element.querySelector(".e-gridpopup").style.display = "none", gObj.notify(columnDragStart, {
                    target: e.target,
                    column: _this.column,
                    event: e.event
                });
            }, this.drag = function(e) {
                var gObj = _this.parent, target = e.target;
                if (target) {
                    var closest$$1 = closest(target, ".e-grid"), cloneElement = _this.parent.element.querySelector(".e-cloneproperties");
                    if (!closest$$1 || closest$$1.getAttribute("id") !== gObj.element.getAttribute("id")) return classList(cloneElement, [ "e-notallowedcur" ], [ "e-defaultcur" ]), 
                    void (gObj.allowReordering && (gObj.element.querySelector(".e-reorderuparrow").style.display = "none", 
                    gObj.element.querySelector(".e-reorderdownarrow").style.display = "none"));
                    gObj.notify(columnDrag, {
                        target: e.target,
                        column: _this.column,
                        event: e.event
                    });
                }
            }, this.dragStop = function(e) {
                var cancel, gObj = _this.parent;
                gObj.element.querySelector(".e-gridpopup").style.display = "none", (!parentsUntil(e.target, "e-headercell") && !parentsUntil(e.target, "e-groupdroparea") || !gObj.allowReordering && parentsUntil(e.target, "e-headercell") || !e.helper.getAttribute("e-mappinguid") && parentsUntil(e.target, "e-groupdroparea")) && (remove(e.helper), 
                cancel = !0), gObj.notify(columnDragStop, {
                    target: e.target,
                    event: e.event,
                    column: _this.column,
                    cancel: cancel
                });
            }, this.drop = function(e) {
                var gObj = _this.parent, uid = e.droppedElement.getAttribute("e-mappinguid"), closest$$1 = closest(e.target, ".e-grid");
                remove(e.droppedElement), closest$$1 && closest$$1.getAttribute("id") !== gObj.element.getAttribute("id") || !gObj.allowReordering && !gObj.allowGrouping || gObj.notify(headerDrop, {
                    target: e.target,
                    uid: uid
                });
            }, this.parent = parent, this.serviceLocator = serviceLocator, this.ariaService = this.serviceLocator.getService("ariaService"), 
            this.widthService = this.serviceLocator.getService("widthService"), this.parent.isDestroyed || (this.parent.on(columnVisibilityChanged, this.setVisible, this), 
            this.parent.on(columnPositionChanged, this.colPosRefresh, this));
        }
        return HeaderRender.prototype.renderPanel = function() {
            var div = createElement("div", {
                className: "e-gridheader"
            }), innerDiv = createElement("div", {
                className: "e-headercontent"
            });
            div.appendChild(innerDiv), this.setPanel(div), this.parent.element.appendChild(div);
        }, HeaderRender.prototype.renderTable = function() {
            var headerDiv = this.getPanel();
            headerDiv.appendChild(this.createHeaderTable()), this.setTable(headerDiv.querySelector(".e-table")), 
            this.parent.getFrozenColumns() || (this.initializeHeaderDrag(), this.initializeHeaderDrop()), 
            this.parent.notify(headerRefreshed, {
                rows: this.rows,
                args: {
                    isFrozen: 0 !== this.parent.getFrozenColumns()
                }
            });
        }, HeaderRender.prototype.getPanel = function() {
            return this.headerPanel;
        }, HeaderRender.prototype.setPanel = function(panel) {
            this.headerPanel = panel;
        }, HeaderRender.prototype.getTable = function() {
            return this.headerTable;
        }, HeaderRender.prototype.setTable = function(table) {
            this.headerTable = table;
        }, HeaderRender.prototype.getColGroup = function() {
            return this.colgroup;
        }, HeaderRender.prototype.setColGroup = function(colGroup) {
            return this.colgroup = colGroup;
        }, HeaderRender.prototype.getRows = function() {
            return this.getTable().tHead.rows;
        }, HeaderRender.prototype.createHeaderTable = function() {
            var table = this.createTable(), innerDiv = this.getPanel().firstChild;
            return innerDiv.appendChild(table), innerDiv;
        }, HeaderRender.prototype.createTable = function() {
            var gObj = this.parent, table = (gObj.getColumns(), createElement("table", {
                className: "e-table",
                attrs: {
                    cellspacing: "0.25px",
                    role: "grid"
                }
            })), findHeaderRow = (this.getPanel().firstChild, this.createHeaderContent()), thead = findHeaderRow.thead, tbody = createElement("tbody", {
                className: this.parent.frozenRows ? "" : "e-hide"
            });
            this.caption = createElement("caption", {
                innerHTML: this.parent.element.id + "_header_table",
                className: "e-hide"
            });
            for (var bodyCell, colGroup = createElement("colgroup"), rowBody = createElement("tr"), rows = this.rows = findHeaderRow.rows, i = (new RowRenderer(this.serviceLocator, CellType.Header), 
            0), len = rows.length; i < len; i++) for (var j = 0, len_1 = rows[i].cells.length; j < len_1; j++) {
                rows[i].cells[j];
                bodyCell = createElement("td"), rowBody.appendChild(bodyCell);
            }
            return (gObj.allowFiltering || gObj.allowSorting || gObj.allowGrouping) && table.classList.add("e-sortfilter"), 
            this.updateColGroup(colGroup), tbody.appendChild(rowBody), table.appendChild(this.setColGroup(colGroup)), 
            table.appendChild(thead), table.appendChild(tbody), table.appendChild(this.caption), 
            this.ariaService.setOptions(table, {
                colcount: gObj.getColumns().length.toString()
            }), table;
        }, HeaderRender.prototype.createHeaderContent = function() {
            var gObj = this.parent, columns = gObj.getColumns(), thead = createElement("thead"), colHeader = createElement("tr", {
                className: "e-columnheader"
            }), rowRenderer = new RowRenderer(this.serviceLocator, CellType.Header, gObj);
            rowRenderer.element = colHeader;
            var headerRow, rows = [];
            this.colDepth = this.getObjDepth();
            for (var i = 0, len = this.colDepth; i < len; i++) rows[i] = this.generateRow(i), 
            rows[i].cells = [];
            rows = this.ensureColumns(rows), rows = this.getHeaderCells(rows);
            for (i = 0, len = this.colDepth; i < len; i++) headerRow = rowRenderer.render(rows[i], columns), 
            this.parent.rowHeight && (headerRow.style.height = this.parent.rowHeight + "px"), 
            thead.appendChild(headerRow);
            return {
                thead: thead,
                rows: rows
            };
        }, HeaderRender.prototype.updateColGroup = function(colGroup) {
            var col, cols = this.parent.getColumns(), indexes = this.parent.getColumnIndexesInView();
            if (this.parent.allowGrouping) for (var i = 0, len = this.parent.groupSettings.columns.length; i < len; i++) this.parent.enableColumnVirtualization && -1 === indexes.indexOf(i) || (col = createElement("col"), 
            colGroup.appendChild(col));
            (this.parent.detailTemplate || this.parent.childGrid) && (col = createElement("col"), 
            colGroup.appendChild(col));
            for (i = 0, len = cols.length; i < len; i++) col = createElement("col"), !1 === cols[i].visible && setStyleAttribute(col, {
                display: "none"
            }), colGroup.appendChild(col);
            return colGroup;
        }, HeaderRender.prototype.ensureColumns = function(rows) {
            for (var gObj = this.parent, indexes = this.parent.getColumnIndexesInView(), i = 0, len = rows.length; i < len; i++) {
                if (gObj.allowGrouping) for (var c = 0, len_2 = gObj.groupSettings.columns.length; c < len_2; c++) this.parent.enableColumnVirtualization && -1 === indexes.indexOf(c) || rows[i].cells.push(this.generateCell({}, CellType.HeaderIndent));
                (gObj.detailTemplate || gObj.childGrid) && rows[i].cells.push(this.generateCell({}, CellType.DetailHeader));
            }
            return rows;
        }, HeaderRender.prototype.getHeaderCells = function(rows) {
            var thead = this.parent.getHeaderTable() && this.parent.getHeaderTable().querySelector("thead"), cols = this.parent.enableColumnVirtualization ? this.parent.getColumns() : this.parent.columns;
            this.frzIdx = 0;
            for (var i = 0, len = cols.length; i < len; i++) rows = this.appendCells(cols[i], rows, 0, 0 === i, !1, i === len - 1, thead);
            return rows;
        }, HeaderRender.prototype.appendCells = function(cols, rows, index, isFirstObj, isFirstCol, isLastCol, isMovable) {
            var lastCol = isLastCol ? "e-lastcell" : "", frzCols = this.parent.getFrozenColumns();
            if (cols.columns) {
                var colSpan = this.getCellCnt(cols, 0);
                if (colSpan) {
                    var frzObj = this.refreshFrozenHdr(cols.columns, {
                        isPartial: !1,
                        isComp: !0,
                        cnt: 0
                    });
                    (!frzCols || frzCols && (!isMovable && (this.parent.frozenColumns - this.frzIdx > 0 || frzObj.isPartial) || isMovable && colSpan + this.frzIdx > this.parent.frozenColumns && !frzObj.isComp)) && rows[index].cells.push(new Cell({
                        cellType: CellType.StackedHeader,
                        column: cols,
                        colSpan: this.getColSpan(colSpan, isMovable, frzObj.cnt)
                    }));
                }
                for (var i = 0, len = cols.columns.length; i < len; i++) rows = this.appendCells(cols.columns[i], rows, index + 1, isFirstObj, 0 === i, i === len - 1 && isLastCol, isMovable);
            } else (!frzCols || frzCols && (!isMovable && (this.frzIdx < this.parent.frozenColumns || cols.isFrozen) || isMovable && this.frzIdx >= this.parent.frozenColumns && !cols.isFrozen)) && rows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, (isFirstObj ? "" : isFirstCol ? "e-firstcell" : "") + lastCol, index, this.parent.getColumnIndexByUid(cols.uid))), 
            this.frzIdx++;
            return rows;
        }, HeaderRender.prototype.refreshFrozenHdr = function(cols, frzObj) {
            for (var i = 0; i < cols.length; i++) cols[i].columns ? frzObj = this.refreshFrozenHdr(cols[i].columns, frzObj) : (cols[i].isFrozen && (frzObj.isPartial = !0, 
            frzObj.cnt++), frzObj.isComp = frzObj.isComp && (cols[i].isFrozen || this.parent.getColumnIndexByField(cols[i].field) < this.parent.frozenColumns));
            return frzObj;
        }, HeaderRender.prototype.getColSpan = function(colSpan, isMovable, frozenCnt) {
            var frzCol = this.parent.frozenColumns;
            return this.parent.getFrozenColumns() && this.frzIdx + colSpan > frzCol && (isMovable ? colSpan = colSpan - (frzCol > this.frzIdx ? frzCol - this.frzIdx : 0) - frozenCnt : colSpan -= colSpan - (frzCol > this.frzIdx ? frzCol + frozenCnt - this.frzIdx : frozenCnt)), 
            colSpan;
        }, HeaderRender.prototype.generateRow = function(index) {
            return new Row({});
        }, HeaderRender.prototype.generateCell = function(column, cellType, rowSpan, className, rowIndex, colIndex) {
            var opt = {
                visible: column.visible,
                isDataCell: !1,
                isTemplate: !isNullOrUndefined(column.headerTemplate),
                rowID: "",
                column: column,
                cellType: cellType,
                rowSpan: rowSpan,
                className: className,
                index: rowIndex,
                colIndex: colIndex
            };
            return (!opt.rowSpan || opt.rowSpan < 2) && delete opt.rowSpan, new Cell(opt);
        }, HeaderRender.prototype.setVisible = function(columns) {
            for (var idx, gObj = this.parent, displayVal = ([].slice.call(this.getRows()), ""), frzCols = gObj.getFrozenColumns(), c = 0, clen = columns.length; c < clen; c++) {
                var column = columns[c];
                if (idx = gObj.getNormalizedColumnIndex(column.uid), !1 === column.visible && (displayVal = "none"), 
                frzCols) if (idx < frzCols) setStyleAttribute(this.getColGroup().children[idx], {
                    display: displayVal
                }); else {
                    setStyleAttribute(gObj.getHeaderContent().querySelector(".e-movableheader").querySelector("colgroup").children[idx - frzCols], {
                        display: displayVal
                    });
                } else setStyleAttribute(this.getColGroup().children[idx], {
                    display: displayVal
                });
                this.refreshUI();
            }
        }, HeaderRender.prototype.colPosRefresh = function() {
            this.refreshUI();
        }, HeaderRender.prototype.refreshUI = function() {
            var headerDiv = this.getPanel(), table = this.getTable(), frzCols = this.parent.getFrozenColumns();
            remove(this.getTable()), table.removeChild(table.firstChild), table.removeChild(table.childNodes[0]);
            var colGroup = createElement("colgroup"), findHeaderRow = this.createHeaderContent();
            this.rows = findHeaderRow.rows, table.insertBefore(findHeaderRow.thead, table.firstChild), 
            this.updateColGroup(colGroup), table.insertBefore(this.setColGroup(colGroup), table.firstChild), 
            this.setTable(table), this.appendContent(table), this.parent.notify(colGroupRefresh, {}), 
            this.widthService.setWidthToColumns(), frzCols || this.initializeHeaderDrag();
            for (var rows = [].slice.call(headerDiv.querySelectorAll("tr.e-columnheader")), _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {
                var row = rows_1[_i], gCells = [].slice.call(row.querySelectorAll(".e-grouptopleftcell"));
                gCells.length && gCells[gCells.length - 1].classList.add("e-lastgrouptopleftcell");
            }
            frzCols || this.parent.notify(headerRefreshed, {
                rows: this.rows,
                args: {
                    isFrozen: 0 !== this.parent.getFrozenColumns()
                }
            }), this.parent.allowTextWrap && "Header" === this.parent.textWrapSettings.wrapMode && wrap(rows, !0);
        }, HeaderRender.prototype.appendContent = function(table) {
            this.getPanel().firstChild.appendChild(table);
        }, HeaderRender.prototype.getObjDepth = function() {
            for (var max = 0, cols = this.parent.columns, i = 0, len = cols.length; i < len; i++) {
                var depth = this.checkDepth(cols[i], 0);
                max < depth && (max = depth);
            }
            return max + 1;
        }, HeaderRender.prototype.checkDepth = function(col, index) {
            if (col.columns) {
                index++;
                for (var i = 0, len = col.columns.length; i < len; i++) index = this.checkDepth(col.columns[i], index);
            }
            return index;
        }, HeaderRender.prototype.getCellCnt = function(col, cnt) {
            if (col.columns) for (var i = 0, len = col.columns.length; i < len; i++) cnt = this.getCellCnt(col.columns[i], cnt); else col.visible && cnt++;
            return cnt;
        }, HeaderRender.prototype.initializeHeaderDrag = function() {
            var gObj = this.parent;
            if (this.parent.allowReordering || this.parent.allowGrouping && this.parent.groupSettings.showDropArea) for (var headerRows = [].slice.call(gObj.getHeaderContent().querySelectorAll(".e-columnheader")), i = 0, len = headerRows.length; i < len; i++) new Draggable(headerRows[i], {
                dragTarget: ".e-headercell",
                distance: 5,
                helper: this.helper,
                dragStart: this.dragStart,
                drag: this.drag,
                dragStop: this.dragStop,
                abort: ".e-rhandler"
            });
        }, HeaderRender.prototype.initializeHeaderDrop = function() {
            var gObj = this.parent;
            new Droppable(gObj.getHeaderContent(), {
                accept: ".e-dragclone",
                drop: this.drop
            });
        }, HeaderRender;
    }(), CellRenderer = function() {
        function CellRenderer(parent, locator) {
            this.element = createElement("TD", {
                className: "e-rowcell",
                attrs: {
                    role: "gridcell",
                    tabindex: "-1"
                }
            }), this.rowChkBox = createElement("input", {
                className: "e-checkselect",
                attrs: {
                    type: "checkbox"
                }
            }), this.localizer = locator.getService("localization"), this.formatter = locator.getService("valueFormatter"), 
            this.parent = parent;
        }
        return CellRenderer.prototype.getGui = function() {
            return "";
        }, CellRenderer.prototype.format = function(column, value, data) {
            return isNullOrUndefined(column.format) || (value = this.formatter.toView(value, column.getFormatter())), 
            isNullOrUndefined(value) ? "" : value.toString();
        }, CellRenderer.prototype.evaluate = function(node, cell, data, attributes$$1, fData) {
            var result;
            if (cell.column.template) {
                var dummyData = extend({}, data, (_a = {}, _a.foreignKeyData = fData, _a));
                return result = cell.column.getColumnTemplate()(extend({
                    index: attributes$$1.index
                }, dummyData), this.parent, "template"), appendChildren(node, result), node.setAttribute("aria-label", node.innerText + " is template cell column header " + cell.column.headerText), 
                !1;
            }
            return !0;
            var _a;
        }, CellRenderer.prototype.invokeFormatter = function(column, value, data) {
            if (!isNullOrUndefined(column.formatter)) if (function(target, checkFor) {
                return target.prototype && checkFor in target.prototype;
            }(column.formatter, "getValue")) {
                value = new (0, column.formatter)().getValue(column, data);
            } else value = "function" == typeof column.formatter ? column.formatter(column, data) : column.formatter.getValue(column, data);
            return value;
        }, CellRenderer.prototype.render = function(cell, data, attributes$$1) {
            return this.refreshCell(cell, data, attributes$$1);
        }, CellRenderer.prototype.refreshTD = function(td, cell, data, attributes$$1) {
            var node = this.refreshCell(cell, data, attributes$$1);
            td.innerHTML = "";
            for (var _i = 0, elements_1 = [].slice.call(node.childNodes); _i < elements_1.length; _i++) {
                var elem = elements_1[_i];
                td.appendChild(elem);
            }
        }, CellRenderer.prototype.refreshCell = function(cell, data, attributes$$1) {
            var fData, node = this.element.cloneNode(), column = cell.column;
            cell.isForeignKey && (fData = cell.foreignKeyData[0]);
            var innerHtml = this.getGui(), value = cell.isForeignKey ? this.getValue(column.foreignKeyValue, fData, column) : this.getValue(column.field, data, column);
            if ("date" !== column.type || isNullOrUndefined(value) || (value = new Date(value)), 
            value = this.format(column, value, data), innerHtml = value.toString(), "boolean" === column.type) if (column.displayAsCheckBox) node.classList.add("e-checkbox"), 
            innerHtml = '<input type="checkbox" disabled />'; else {
                var localeStr = "true" !== value && "false" !== value ? null : "true" === value ? "True" : "False";
                innerHtml = localeStr ? this.localizer.getConstant(localeStr) : innerHtml;
            }
            var fromFormatter = this.invokeFormatter(column, value, data);
            if (innerHtml = isNullOrUndefined(column.formatter) ? innerHtml : isNullOrUndefined(fromFormatter) ? "" : fromFormatter.toString(), 
            node.setAttribute("aria-label", ("" === innerHtml ? "empty" : innerHtml) + " column header " + cell.column.headerText), 
            isNullOrUndefined(cell.column.headerText) || node.setAttribute("aria-label", innerHtml + " column header " + cell.column.headerText), 
            this.evaluate(node, cell, data, attributes$$1, fData) && "checkbox" !== column.type) this.appendHtml(node, innerHtml, column.getDomSetter ? column.getDomSetter() : "innerHTML"); else if ("checkbox" === column.type) {
                node.classList.add("e-gridchkbox"), node.setAttribute("aria-label", "checkbox");
                var checkWrap = createCheckBox(!1, {
                    checked: value = !!this.parent.selectionSettings.persistSelection && "true" === value,
                    label: " "
                });
                checkWrap.insertBefore(this.rowChkBox.cloneNode(), checkWrap.firstChild), node.appendChild(checkWrap);
            }
            if ("Check" === this.parent.checkAllRows && this.parent.enableVirtualization && (cell.isSelected = !0), 
            this.setAttributes(node, cell, attributes$$1), "boolean" === column.type) {
                var obj = new CheckBox({
                    disabled: !0,
                    checked: isNaN(parseInt(value, 10)) ? "true" === value : parseInt(value, 10) > 0
                });
                obj.appendTo(node.firstElementChild), node.setAttribute("aria-label", obj.checked + " column header " + cell.column.headerText);
            }
            return node;
        }, CellRenderer.prototype.appendHtml = function(node, innerHtml, property) {
            return void 0 === property && (property = "innerHTML"), node[property] = innerHtml, 
            node;
        }, CellRenderer.prototype.setAttributes = function(node, cell, attributes$$1) {
            var column = cell.column;
            this.buildAttributeFromCell(node, cell, "checkbox" === column.type), setStyleAndAttributes(node, attributes$$1), 
            setStyleAndAttributes(node, cell.attributes), column.customAttributes && setStyleAndAttributes(node, column.customAttributes), 
            column.textAlign && (node.style.textAlign = column.textAlign), "Clip" === column.clipMode ? node.classList.add("e-gridclip") : "EllipsisWithTooltip" === column.clipMode && node.classList.add("e-ellipsistooltip");
        }, CellRenderer.prototype.buildAttributeFromCell = function(node, cell, isCheckBoxType) {
            var attr = {}, classes = [];
            cell.colSpan && (attr.colSpan = cell.colSpan), cell.rowSpan && (attr.rowSpan = cell.rowSpan), 
            cell.isTemplate && classes.push("e-templatecell"), cell.isSelected && (classes.push.apply(classes, [ "e-selectionbackground", "e-active" ]), 
            isCheckBoxType && node.querySelector(".e-frame").classList.add("e-check")), isNullOrUndefined(cell.index) || (attr["aria-colindex"] = cell.index), 
            cell.visible || classes.push("e-hide"), attr.class = classes, setStyleAndAttributes(node, attr);
        }, CellRenderer.prototype.getValue = function(field, data, column) {
            return column.valueAccessor(field, data, column);
        }, CellRenderer;
    }(), AriaService = function() {
        function AriaService() {}
        return AriaService.prototype.setOptions = function(target, options) {
            Object.keys(options).forEach(function(name) {
                return setStateAndProperties(target, config[name], options[name]);
            });
        }, AriaService.prototype.setExpand = function(target, expand) {
            setStateAndProperties(target, config.expand, expand);
        }, AriaService.prototype.setSort = function(target, direction) {
            setStateAndProperties(target, config.sort, direction, "boolean" == typeof direction);
        }, AriaService.prototype.setBusy = function(target, isBusy) {
            setStateAndProperties(target, config.busy, isBusy), setStateAndProperties(target, config.invalid, null, !0);
        }, AriaService.prototype.setGrabbed = function(target, isGrabbed, remove) {
            setStateAndProperties(target, config.grabbed, isGrabbed, remove);
        }, AriaService.prototype.setDropTarget = function(target, isTarget) {
            setStateAndProperties(target, config.dropeffect, "copy", !isTarget);
        }, AriaService;
    }(), config = {
        expand: "aria-expanded",
        role: "role",
        selected: "aria-selected",
        multiselectable: "aria-multiselectable",
        sort: "aria-sort",
        busy: "aria-busy",
        invalid: "aria-invalid",
        grabbed: "aria-grabbed",
        dropeffect: "aria-dropeffect",
        haspopup: "aria-haspopup",
        level: "aria-level",
        colcount: "aria-colcount"
    }, __extends$10 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), HeaderCellRenderer = function(_super) {
        function HeaderCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TH", {
                className: "e-headercell",
                attrs: {
                    role: "columnheader",
                    tabindex: "-1"
                }
            }), _this.ariaService = new AriaService(), _this.hTxtEle = createElement("span", {
                className: "e-headertext"
            }), _this.sortEle = createElement("div", {
                className: "e-sortfilterdiv e-icons"
            }), _this.gui = createElement("div"), _this.chkAllBox = createElement("input", {
                className: "e-checkselectall",
                attrs: {
                    type: "checkbox"
                }
            }), _this;
        }
        return __extends$10(HeaderCellRenderer, _super), HeaderCellRenderer.prototype.getGui = function() {
            return this.gui.cloneNode();
        }, HeaderCellRenderer.prototype.render = function(cell, data, attributes$$1) {
            var node = this.element.cloneNode(), fltrMenuEle = createElement("div", {
                className: "e-filtermenudiv e-icons e-icon-filter"
            });
            return this.prepareHeader(cell, node, fltrMenuEle);
        }, HeaderCellRenderer.prototype.refresh = function(cell, node) {
            this.clean(node);
            var fltrMenuEle = createElement("div", {
                className: "e-filtermenudiv e-icons e-icon-filter"
            });
            return this.prepareHeader(cell, node, fltrMenuEle);
        }, HeaderCellRenderer.prototype.clean = function(node) {
            node.innerHTML = "";
        }, HeaderCellRenderer.prototype.prepareHeader = function(cell, node, fltrMenuEle) {
            var column = cell.column, ariaAttr = {}, innerDIV = this.getGui();
            if (attributes(innerDIV, {
                "e-mappinguid": column.uid,
                class: "e-headercelldiv"
            }), "checkbox" !== column.type) {
                var value = column.headerText, headerText = this.hTxtEle.cloneNode();
                headerText[column.getDomSetter()] = value, innerDIV.appendChild(headerText);
            } else {
                column.editType = "booleanedit";
                var checkAllWrap = createCheckBox(!1, {
                    checked: !1,
                    label: " "
                });
                checkAllWrap.insertBefore(this.chkAllBox.cloneNode(), checkAllWrap.firstChild), 
                innerDIV.appendChild(checkAllWrap), innerDIV.classList.add("e-headerchkcelldiv");
            }
            if (this.buildAttributeFromCell(node, cell), this.appendHtml(node, innerDIV), node.appendChild(this.sortEle.cloneNode()), 
            this.parent.allowFiltering && "FilterBar" !== this.parent.filterSettings.type && column.allowFiltering && !isNullOrUndefined(column.field) && (!this.parent.showColumnMenu || !column.showColumnMenu)) {
                attributes(fltrMenuEle, {
                    "e-mappinguid": "e-flmenu-" + column.uid
                }), node.classList.add("e-fltr-icon");
                var matchFlColumns = [];
                if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFlColumns.length) for (var index = 0; index < this.parent.columns.length; index++) for (var count = 0; count < this.parent.filterSettings.columns.length; count++) if (this.parent.filterSettings.columns[count].field === column.field) {
                    fltrMenuEle.classList.add("e-filtered"), matchFlColumns.push(column.field);
                    break;
                }
                node.appendChild(fltrMenuEle.cloneNode());
            }
            cell.className && node.classList.add(cell.className), column.customAttributes && setStyleAndAttributes(node, column.customAttributes), 
            column.allowSorting && (ariaAttr.sort = "none"), column.allowGrouping && (ariaAttr.grabbed = !1), 
            node = this.extendPrepareHeader(column, node);
            var gridObj = this.parent, colIndex = gridObj.getColumnIndexByField(column.field);
            if (isNullOrUndefined(column.headerTemplate) || ("object" != typeof column.headerTemplate && -1 !== column.headerTemplate.indexOf("#") ? innerDIV.innerHTML = document.querySelector(column.headerTemplate).innerHTML.trim() : appendChildren(node, column.getHeaderTemplate()(extend({
                index: colIndex
            }, column), gridObj, "headerTemplate"))), this.ariaService.setOptions(node, ariaAttr), 
            !isNullOrUndefined(column.headerTextAlign) || !isNullOrUndefined(column.textAlign)) {
                var alignment = column.headerTextAlign || column.textAlign;
                innerDIV.style.textAlign = alignment, "Right" === alignment || "Left" === alignment ? node.classList.add("Right" === alignment ? "e-rightalign" : "e-leftalign") : "Center" === alignment && node.classList.add("e-centeralign");
            }
            return "Clip" === column.clipMode ? node.classList.add("e-gridclip") : "EllipsisWithTooltip" === column.clipMode && node.classList.add("e-ellipsistooltip"), 
            node.setAttribute("aria-rowspan", (isNullOrUndefined(cell.rowSpan) ? 1 : cell.rowSpan).toString()), 
            node.setAttribute("aria-colspan", "1"), node;
        }, HeaderCellRenderer.prototype.extendPrepareHeader = function(column, node) {
            if (this.parent.showColumnMenu && column.showColumnMenu && !isNullOrUndefined(column.field)) {
                var element = createElement("div", {
                    className: "e-icons e-columnmenu"
                }), matchFilteredColumns = [];
                if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFilteredColumns.length) for (var i = 0; i < this.parent.columns.length; i++) for (var j = 0; j < this.parent.filterSettings.columns.length; j++) if (this.parent.filterSettings.columns[j].field === column.field) {
                    element.classList.add("e-filtered"), matchFilteredColumns.push(column.field);
                    break;
                }
                node.classList.add("e-fltr-icon"), node.appendChild(element);
            }
            if (this.parent.allowResizing) {
                var handler = createElement("div");
                handler.className = column.allowResizing ? "e-rhandler e-rcursor" : "e-rsuppress", 
                node.appendChild(handler);
            }
            return node;
        }, HeaderCellRenderer.prototype.appendHtml = function(node, innerHtml) {
            return node.appendChild(innerHtml), node;
        }, HeaderCellRenderer;
    }(CellRenderer), __extends$11 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), StackedHeaderCellRenderer = function(_super) {
        function StackedHeaderCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TH", {
                className: "e-headercell e-stackedheadercell",
                attrs: {
                    role: "columnheader",
                    tabindex: "-1"
                }
            }), _this;
        }
        return __extends$11(StackedHeaderCellRenderer, _super), StackedHeaderCellRenderer.prototype.render = function(cell, data, attributes$$1) {
            var node = this.element.cloneNode(), div = createElement("div", {
                className: "e-stackedheadercelldiv"
            });
            return node.appendChild(div), div.innerHTML = cell.column.headerText, cell.column.toolTip && node.setAttribute("title", cell.column.toolTip), 
            isNullOrUndefined(cell.column.textAlign) || (div.style.textAlign = cell.column.textAlign), 
            node.setAttribute("colspan", cell.colSpan.toString()), node.setAttribute("aria-colspan", cell.colSpan.toString()), 
            node.setAttribute("aria-rowspan", "1"), node;
        }, StackedHeaderCellRenderer;
    }(CellRenderer), __extends$12 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), IndentCellRenderer = function(_super) {
        function IndentCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TD", {
                className: "e-indentcell"
            }), _this;
        }
        return __extends$12(IndentCellRenderer, _super), IndentCellRenderer.prototype.render = function(cell, data) {
            var node = this.element.cloneNode();
            return setStyleAndAttributes(node, cell.attributes), node;
        }, IndentCellRenderer;
    }(CellRenderer), __extends$13 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), GroupCaptionCellRenderer = function(_super) {
        function GroupCaptionCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TD", {
                className: "e-groupcaption",
                attrs: {
                    role: "gridcell",
                    tabindex: "-1"
                }
            }), _this;
        }
        return __extends$13(GroupCaptionCellRenderer, _super), GroupCaptionCellRenderer.prototype.render = function(cell, data) {
            var fKeyValue, node = this.element.cloneNode(), gObj = this.parent;
            cell.isForeignKey && (fKeyValue = this.format(cell.column, cell.column.valueAccessor("foreignKey", data, cell.column)));
            var value = cell.isForeignKey ? fKeyValue : cell.column.enableGroupByFormat ? data.key : this.format(cell.column, cell.column.valueAccessor("key", data, cell.column));
            return isNullOrUndefined(gObj.groupSettings.captionTemplate) ? node.innerHTML = cell.column.headerText + ": " + value + " - " + data.count + " " + (data.count < 2 ? this.localizer.getConstant("Item") : this.localizer.getConstant("Items")) : appendChildren(node, -1 !== gObj.groupSettings.captionTemplate.indexOf("#") ? templateCompiler(document.querySelector(gObj.groupSettings.captionTemplate).innerHTML.trim())(data) : templateCompiler(gObj.groupSettings.captionTemplate)(data)), 
            node.setAttribute("colspan", cell.colSpan.toString()), node.setAttribute("aria-label", node.innerHTML + " is groupcaption cell"), 
            node.setAttribute("title", node.innerHTML), node;
        }, GroupCaptionCellRenderer;
    }(CellRenderer), GroupCaptionEmptyCellRenderer = function(_super) {
        function GroupCaptionEmptyCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TD", {
                className: "e-groupcaption"
            }), _this;
        }
        return __extends$13(GroupCaptionEmptyCellRenderer, _super), GroupCaptionEmptyCellRenderer.prototype.render = function(cell, data) {
            var node = this.element.cloneNode();
            return node.innerHTML = "&nbsp;", node.setAttribute("colspan", cell.colSpan.toString()), 
            node;
        }, GroupCaptionEmptyCellRenderer;
    }(CellRenderer), __extends$14 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), ExpandCellRenderer = function(_super) {
        function ExpandCellRenderer() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$14(ExpandCellRenderer, _super), ExpandCellRenderer.prototype.render = function(cell, data) {
            var node = this.element.cloneNode();
            return node.className = "e-recordplusexpand", node.setAttribute("ej-mappingname", data.field), 
            node.setAttribute("ej-mappingvalue", data.key), node.setAttribute("aria-expanded", "true"), 
            node.setAttribute("tabindex", "-1"), node.appendChild(createElement("div", {
                className: "e-icons e-gdiagonaldown e-icon-gdownarrow"
            })), node;
        }, ExpandCellRenderer;
    }(IndentCellRenderer), __extends$15 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), HeaderIndentCellRenderer = function(_super) {
        function HeaderIndentCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TH", {
                className: "e-grouptopleftcell"
            }), _this;
        }
        return __extends$15(HeaderIndentCellRenderer, _super), HeaderIndentCellRenderer.prototype.render = function(cell, data) {
            var node = this.element.cloneNode();
            return node.appendChild(createElement("div", {
                className: "e-headercelldiv e-emptycell",
                innerHTML: "&nbsp;"
            })), node;
        }, HeaderIndentCellRenderer;
    }(CellRenderer), __extends$16 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), DetailHeaderIndentCellRenderer = function(_super) {
        function DetailHeaderIndentCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TH", {
                className: "e-detailheadercell"
            }), _this;
        }
        return __extends$16(DetailHeaderIndentCellRenderer, _super), DetailHeaderIndentCellRenderer.prototype.render = function(cell, data) {
            var node = this.element.cloneNode();
            return node.appendChild(createElement("div", {
                className: "e-emptycell"
            })), node;
        }, DetailHeaderIndentCellRenderer;
    }(CellRenderer), __extends$17 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), DetailExpandCellRenderer = function(_super) {
        function DetailExpandCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TD", {
                className: "e-detailrowcollapse",
                attrs: {
                    "aria-expanded": "false",
                    role: "gridcell",
                    tabindex: "-1"
                }
            }), _this;
        }
        return __extends$17(DetailExpandCellRenderer, _super), DetailExpandCellRenderer.prototype.render = function(cell, data, attributes$$1) {
            var node = this.element.cloneNode();
            return attributes$$1 && !isNullOrUndefined(attributes$$1.class) ? (node.className = "", 
            node.className = attributes$$1.class, node.appendChild(createElement("div", {
                className: "e-icons e-dtdiagonaldown e-icon-gdownarrow"
            }))) : node.appendChild(createElement("div", {
                className: "e-icons e-dtdiagonalright e-icon-grightarrow"
            })), node;
        }, DetailExpandCellRenderer;
    }(CellRenderer), Render = function() {
        function Render(parent, locator) {
            this.emptyGrid = !1, this.parent = parent, this.locator = locator, this.data = new Data(parent, locator), 
            this.l10n = locator.getService("localization"), this.ariaService = this.locator.getService("ariaService"), 
            this.renderer = this.locator.getService("rendererFactory"), this.addEventListener();
        }
        return Render.prototype.render = function() {
            var gObj = this.parent;
            this.headerRenderer = this.renderer.getRenderer(RenderType.Header), this.contentRenderer = this.renderer.getRenderer(RenderType.Content), 
            this.headerRenderer.renderPanel(), this.contentRenderer.renderPanel(), gObj.getColumns().length && (this.headerRenderer.renderTable(), 
            this.contentRenderer.renderTable(), this.emptyRow(!1)), this.refreshDataManager();
        }, Render.prototype.refresh = function(e) {
            void 0 === e && (e = {
                requestType: "refresh"
            }), this.parent.notify(e.requestType + "-begin", e), this.parent.trigger(actionBegin, e), 
            e.cancel || this.refreshDataManager(e);
        }, Render.prototype.refreshComplete = function(e) {
            this.parent.trigger(actionComplete, e);
        }, Render.prototype.refreshDataManager = function(args) {
            var _this = this;
            void 0 === args && (args = {}), "virtualscroll" !== args.requestType && this.parent.showSpinner(), 
            this.parent.isEdit = !1, this.emptyGrid = !1;
            var dataManager, isFActon = this.isNeedForeignAction();
            if (this.ariaService.setBusy(this.parent.getContent().firstChild, !0), isFActon) {
                var deffered = new Deferred();
                dataManager = this.getFData(deffered);
            }
            if (dataManager = dataManager ? dataManager.then(function(e) {
                var query = _this.data.generateQuery().requiresCount();
                if (_this.emptyGrid) {
                    var def = new Deferred();
                    return def.resolve({
                        result: [],
                        count: 0
                    }), def.promise;
                }
                return _this.data.getData(args, query);
            }).catch(function(e) {
                return _this.parent.trigger("actionFailure", e), e;
            }) : this.data.getData(args, this.data.generateQuery().requiresCount()).catch(function(e) {
                return _this.parent.trigger("actionFailure", e), e;
            }), this.parent.getForeignKeyColumns().length && (!isFActon || this.parent.searchSettings.key.length)) {
                var deffered_1 = new Deferred();
                dataManager = dataManager.then(function(e) {
                    return _this.parent.notify("getForeignKeyData", {
                        dataManager: dataManager,
                        result: e,
                        promise: deffered_1
                    }), deffered_1.promise;
                });
            }
            this.parent.groupSettings.disablePageWiseAggregates && this.parent.groupSettings.columns.length && (dataManager = dataManager.then(function(e) {
                return _this.validateGroupRecords(e);
            })), dataManager.then(function(e) {
                return _this.dataManagerSuccess(e, args);
            }).catch(function(e) {
                return _this.dataManagerFailure(e);
            });
        }, Render.prototype.getFData = function(deferred) {
            return this.parent.notify("getForeignKeyData", {
                isComplex: !0,
                promise: deferred
            }), deferred.promise;
        }, Render.prototype.isNeedForeignAction = function() {
            var gObj = this.parent;
            return !!(gObj.allowFiltering && gObj.filterSettings.columns.length || gObj.searchSettings.key.length) && this.foreignKey(this.parent.getForeignKeyColumns());
        }, Render.prototype.foreignKey = function(columns) {
            var _this = this;
            return columns.some(function(col) {
                return !(!_this.parent.filterSettings.columns.some(function(value) {
                    return col.foreignKeyValue === value.field;
                }) && !_this.parent.searchSettings.key.length);
            });
        }, Render.prototype.sendBulkRequest = function(args) {
            var _this = this, promise = this.data.saveChanges(args.changes, this.parent.getPrimaryKeyFieldNames()[0]);
            this.data.dataManager.dataSource.offline ? this.refreshDataManager({
                requestType: "batchsave"
            }) : promise.then(function(e) {
                return _this.dmSuccess(e, args);
            }).catch(function(e) {
                return _this.dmFailure(e);
            });
        }, Render.prototype.dmSuccess = function(e, args) {
            this.dataManagerSuccess(e, args);
        }, Render.prototype.dmFailure = function(e) {
            this.dataManagerFailure(e);
        }, Render.prototype.renderEmptyRow = function() {
            this.emptyRow(!0);
        }, Render.prototype.emptyRow = function(isTrigger) {
            var tr, gObj = this.parent, tbody = this.contentRenderer.getTable().querySelector("tbody");
            remove(tbody), tbody = createElement("tbody"), (tr = createElement("tr", {
                className: "e-emptyrow"
            })).appendChild(createElement("td", {
                innerHTML: this.l10n.getConstant("EmptyRecord"),
                attrs: {
                    colspan: gObj.getColumns().length.toString()
                }
            })), tbody.appendChild(tr), this.contentRenderer.renderEmpty(tbody), isTrigger && (this.parent.trigger(dataBound, {}), 
            this.parent.notify(onEmpty, {
                rows: [ new Row({
                    isDataRow: !0,
                    cells: [ new Cell({
                        isDataCell: !0,
                        visible: !0
                    }) ]
                }) ]
            }));
        }, Render.prototype.updateColumnType = function(record) {
            for (var value, columns = this.parent.getColumns(), data = record && record.items ? record.items[0] : record, fmtr = this.locator.getService("valueFormatter"), i = 0, len = columns.length; i < len; i++) {
                isNullOrUndefined(value = columns[i].isForeignColumn() ? getValue(columns[i].foreignKeyValue || "", columns[i].columnData[0]) : getValue(columns[i].field || "", data)) ? columns[i].type = columns[i].type || null : (this.isColTypeDef = !0, 
                columns[i].type || (columns[i].type = value.getDay ? value.getHours() > 0 || value.getMinutes() > 0 || value.getSeconds() > 0 || value.getMilliseconds() > 0 ? "datetime" : "date" : typeof value));
                var valueFormatter = new ValueFormatter();
                columns[i].format && (columns[i].format.skeleton || columns[i].format.format) && (columns[i].setFormatter(valueFormatter.getFormatFunction(columns[i].format)), 
                columns[i].setParser(valueFormatter.getParserFunction(columns[i].format))), "string" == typeof columns[i].format ? setFormatter(this.locator, columns[i]) : columns[i].format || "number" !== columns[i].type || columns[i].setParser(fmtr.getParserFunction({
                    format: "n2"
                }));
            }
        }, Render.prototype.dataManagerSuccess = function(e, args) {
            var gObj = this.parent;
            gObj.trigger("beforeDataBound", e);
            var len = Object.keys(e.result).length;
            if (!this.parent.isDestroyed) {
                if (this.parent.notify("tooltip-destroy", {}), gObj.currentViewData = e.result, 
                !len && e.count && gObj.allowPaging) return gObj.pageSettings.totalRecordsCount = e.count, 
                gObj.pageSettings.currentPage = Math.ceil(e.count / gObj.pageSettings.pageSize), 
                void gObj.dataBind();
                if (!gObj.getColumns().length && len && this.updatesOnInitialRender(e), !this.isColTypeDef && gObj.getCurrentViewRecords() && this.updateColumnType(gObj.getCurrentViewRecords()[0]), 
                this.parent.notify(dataReady, extend({
                    count: e.count,
                    result: e.result,
                    aggregates: e.aggregates
                }, args)), (gObj.groupSettings.columns.length || args && "ungrouping" === args.requestType) && this.headerRenderer.refreshUI(), 
                len) this.contentRenderer.refreshContentRows(args); else {
                    if (!gObj.getColumns().length) return gObj.element.innerHTML = "", void alert(this.l10n.getConstant("EmptyDataSourceError"));
                    if (this.contentRenderer.setRowElements([]), this.renderEmptyRow(), args) {
                        var action = (args.requestType || "").toLowerCase() + "-complete";
                        this.parent.notify(action, args);
                    }
                    this.parent.hideSpinner();
                }
                this.parent.notify("toolbar-refresh", {});
            }
        }, Render.prototype.dataManagerFailure = function(e) {
            this.ariaService.setOptions(this.parent.getContent().firstChild, {
                busy: !1,
                invalid: !0
            }), this.parent.trigger("actionFailure", {
                error: e
            }), this.parent.currentViewData = [], this.renderEmptyRow(), this.parent.hideSpinner();
        }, Render.prototype.updatesOnInitialRender = function(e) {
            this.buildColumns(e.result[0]), prepareColumns(this.parent.columns), this.headerRenderer.renderTable(), 
            this.contentRenderer.renderTable(), this.parent.notify("auto-col", {});
        }, Render.prototype.buildColumns = function(record) {
            for (var columns = Object.keys(record), cols = [], i = 0, len = columns.length; i < len; i++) cols[i] = {
                field: columns[i]
            }, this.parent.enableColumnVirtualization && (cols[i].width = isNullOrUndefined(cols[i].width) ? 200 : cols[i].width);
            this.parent.columns = cols;
        }, Render.prototype.instantiateRenderer = function() {
            this.renderer.addRenderer(RenderType.Header, new HeaderRender(this.parent, this.locator)), 
            this.renderer.addRenderer(RenderType.Content, new ContentRender(this.parent, this.locator));
            var cellrender = this.locator.getService("cellRendererFactory");
            cellrender.addCellRenderer(CellType.Header, new HeaderCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.Data, new CellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.StackedHeader, new StackedHeaderCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.Indent, new IndentCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.GroupCaption, new GroupCaptionCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.GroupCaptionEmpty, new GroupCaptionEmptyCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.Expand, new ExpandCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.HeaderIndent, new HeaderIndentCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.StackedHeader, new StackedHeaderCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.DetailHeader, new DetailHeaderIndentCellRenderer(this.parent, this.locator)), 
            cellrender.addCellRenderer(CellType.DetailExpand, new DetailExpandCellRenderer(this.parent, this.locator));
        }, Render.prototype.addEventListener = function() {
            var _this = this;
            this.parent.isDestroyed || (this.parent.on(initialLoad, this.instantiateRenderer, this), 
            this.parent.on(modelChanged, this.refresh, this), this.parent.on("refresh-complete", this.refreshComplete, this), 
            this.parent.on("bulk-save", this.sendBulkRequest, this), this.parent.on("showEmptyGrid", function() {
                _this.emptyGrid = !0;
            }, this));
        }, Render.prototype.validateGroupRecords = function(e) {
            var _this = this, index = e.result.length - 1;
            if (index < 0) return Promise.resolve(e);
            var group0 = e.result[0], groupN = e.result[index], predicate = [], addWhere = function(input) {
                [ group0, groupN ].forEach(function(group) {
                    return predicate.push(new Predicate$1("field", "==", group.field).and(_this.getPredicate("key", "equal", group.key)));
                }), input.where(Predicate$1.or(predicate));
            }, query = new Query();
            addWhere(query);
            var curFilter = new DataManager(e.result).executeLocal(query), newQuery = this.data.generateQuery(!0), rPredicate = [];
            this.data.isRemote() ? ([ group0, groupN ].forEach(function(group) {
                return rPredicate.push(_this.getPredicate(group.field, "equal", group.key));
            }), newQuery.where(Predicate$1.or(rPredicate))) : addWhere(newQuery);
            var deferred = new Deferred();
            return this.data.getData({}, newQuery).then(function(r) {
                _this.updateGroupInfo(curFilter, r.result), deferred.resolve(e);
            }).catch(function(e) {
                return deferred.reject(e);
            }), deferred.promise;
        }, Render.prototype.getPredicate = function(key, operator, value) {
            return value instanceof Date ? getDatePredicate({
                field: key,
                operator: operator,
                value: value
            }) : new Predicate$1(key, operator, value);
        }, Render.prototype.updateGroupInfo = function(current, untouched) {
            var _this = this, dm = new DataManager(untouched);
            return current.forEach(function(element, index, array) {
                var uGroup = dm.executeLocal(new Query().where(new Predicate$1("field", "==", element.field).and(_this.getPredicate("key", "equal", element.key))))[0];
                element.count = uGroup.count;
                var itemGroup = element.items, uGroupItem = uGroup.items;
                itemGroup.GroupGuid && (element.items = _this.updateGroupInfo(element.items, uGroup.items)), 
                _this.parent.aggregates.forEach(function(row) {
                    return row.columns.forEach(function(column) {
                        (column.type instanceof Array ? column.type : [ column.type ]).forEach(function(type) {
                            var key = column.field + " - " + type;
                            element.aggregates[key] = calculateAggregate(type, itemGroup.level ? uGroupItem.records : uGroup.items, column);
                        });
                    });
                });
            }), current;
        }, Render;
    }(), CellRendererFactory = function() {
        function CellRendererFactory() {
            this.cellRenderMap = {};
        }
        return CellRendererFactory.prototype.addCellRenderer = function(name, type) {
            name = "string" == typeof name ? name : getEnumValue(CellType, name), isNullOrUndefined(this.cellRenderMap[name]) && (this.cellRenderMap[name] = type);
        }, CellRendererFactory.prototype.getCellRenderer = function(name) {
            if (name = "string" == typeof name ? name : getEnumValue(CellType, name), isNullOrUndefined(this.cellRenderMap[name])) throw "The cellRenderer " + name + " is not found";
            return this.cellRenderMap[name];
        }, CellRendererFactory;
    }(), ServiceLocator = function() {
        function ServiceLocator() {
            this.services = {};
        }
        return ServiceLocator.prototype.register = function(name, type) {
            isNullOrUndefined(this.services[name]) && (this.services[name] = type);
        }, ServiceLocator.prototype.getService = function(name) {
            if (isNullOrUndefined(this.services[name])) throw "The service " + name + " is not registered";
            return this.services[name];
        }, ServiceLocator;
    }(), RendererFactory = function() {
        function RendererFactory() {
            this.rendererMap = {};
        }
        return RendererFactory.prototype.addRenderer = function(name, type) {
            var rName = getEnumValue(RenderType, name);
            isNullOrUndefined(this.rendererMap[rName]) && (this.rendererMap[rName] = type);
        }, RendererFactory.prototype.getRenderer = function(name) {
            var rName = getEnumValue(RenderType, name);
            if (isNullOrUndefined(this.rendererMap[rName])) throw "The renderer " + rName + " is not found";
            return this.rendererMap[rName];
        }, RendererFactory;
    }(), ColumnWidthService = function() {
        function ColumnWidthService(parent) {
            this.parent = parent;
        }
        return ColumnWidthService.prototype.setWidthToColumns = function() {
            var _this = this, i = 0, indexes = this.parent.getColumnIndexesInView(), wFlag = !0;
            if (this.parent.allowGrouping) for (var len = this.parent.groupSettings.columns.length; i < len; i++) this.parent.enableColumnVirtualization && -1 === indexes.indexOf(i) ? wFlag = !1 : this.setColumnWidth(new Column({
                width: "30px"
            }), i);
            (this.parent.detailTemplate || this.parent.childGrid) && this.setColumnWidth(new Column({
                width: "30px"
            }), i), this.parent.getColumns().forEach(function(column, index) {
                _this.setColumnWidth(column, wFlag ? void 0 : index);
            });
        }, ColumnWidthService.prototype.setColumnWidth = function(column, index, module) {
            var columnIndex = isNullOrUndefined(index) ? this.parent.getNormalizedColumnIndex(column.uid) : index, cWidth = this.getWidth(column);
            null !== cWidth && (this.setWidth(cWidth, columnIndex), (this.parent.allowResizing && "resize" === module || this.parent.getFrozenColumns() && this.parent.allowResizing) && this.setWidthToTable(), 
            this.parent.notify(columnWidthChanged, {
                index: columnIndex,
                width: cWidth,
                column: column,
                module: module
            }));
        }, ColumnWidthService.prototype.setWidth = function(width, index) {
            var headerCol, header = this.parent.getHeaderTable(), content = this.parent.getContentTable(), fWidth = formatUnit(width), frzCols = this.parent.getFrozenColumns(), mHdr = this.parent.getHeaderContent().querySelector(".e-movableheader");
            (headerCol = frzCols && index >= frzCols && mHdr && mHdr.querySelector("colgroup") ? mHdr.querySelector("colgroup").children[index - frzCols] : header.querySelector("colgroup").children[index]) && (headerCol.style.width = fWidth);
            var contentCol;
            (contentCol = frzCols && index >= frzCols ? this.parent.getContent().querySelector(".e-movablecontent").querySelector("colgroup").children[index - frzCols] : content.querySelector("colgroup").children[index]) && (contentCol.style.width = fWidth);
            var edit = content.querySelector(".e-table.e-inline-edit");
            edit && (edit.querySelector("colgroup").children[index].style.width = fWidth);
        }, ColumnWidthService.prototype.getSiblingsHeight = function(element) {
            return this.getHeightFromDirection(element, "previous") + this.getHeightFromDirection(element, "next");
        }, ColumnWidthService.prototype.getHeightFromDirection = function(element, direction) {
            for (var sibling = element[direction + "ElementSibling"], result = 0, classList$$1 = [ "e-gridheader", "e-gridfooter", "e-groupdroparea", "e-gridpager", "e-toolbar" ]; sibling; ) classList$$1.some(function(value) {
                return sibling.classList.contains(value);
            }) && (result += sibling.offsetHeight), sibling = sibling[direction + "ElementSibling"];
            return result;
        }, ColumnWidthService.prototype.getWidth = function(column) {
            if (isNullOrUndefined(column.width) && this.parent.allowResizing && (column.width = 200), 
            !column.width) return null;
            var width = parseInt(column.width.toString(), 10);
            return column.minWidth && width < parseInt(column.minWidth.toString(), 10) ? column.minWidth : column.maxWidth && width > parseInt(column.maxWidth.toString(), 10) ? column.maxWidth : column.width;
        }, ColumnWidthService.prototype.getTableWidth = function(columns) {
            for (var tWidth = 0, _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {
                var column = columns_1[_i], cWidth = this.getWidth(column);
                !1 !== column.visible && null !== cWidth && (tWidth += parseInt(cWidth.toString(), 10));
            }
            return tWidth;
        }, ColumnWidthService.prototype.setWidthToFrozenTable = function() {
            var columns = this.parent.getColumns();
            columns.splice(this.parent.getFrozenColumns(), columns.length);
            var freezeWidth = formatUnit(this.getTableWidth(columns));
            this.parent.getHeaderTable().style.width = freezeWidth, this.parent.getContentTable().style.width = freezeWidth;
        }, ColumnWidthService.prototype.setWidthToMovableTable = function() {
            var columns = this.parent.getColumns();
            columns.splice(0, this.parent.getFrozenColumns());
            var movableWidth = formatUnit(this.getTableWidth(columns));
            this.parent.getHeaderContent().querySelector(".e-movableheader").firstElementChild && (this.parent.getHeaderContent().querySelector(".e-movableheader").firstElementChild.style.width = movableWidth), 
            this.parent.getContent().querySelector(".e-movablecontent").firstElementChild.style.width = movableWidth;
        }, ColumnWidthService.prototype.setWidthToTable = function() {
            var tWidth = formatUnit(this.getTableWidth(this.parent.getColumns()));
            this.parent.getFrozenColumns() ? (this.setWidthToFrozenTable(), this.setWidthToMovableTable()) : (this.parent.getHeaderTable().style.width = tWidth, 
            this.parent.getContentTable().style.width = tWidth);
            var edit = this.parent.element.querySelector(".e-table.e-inline-edit");
            edit && (edit.style.width = tWidth);
        }, ColumnWidthService;
    }(), __extends$18 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), FocusStrategy = function() {
        function FocusStrategy(parent) {
            this.currentInfo = {}, this.oneTime = !0, this.swap = {}, this.forget = !0, this.skipFocus = !0, 
            this.focusByClick = !1, this.prevIndexes = {}, this.parent = parent, this.addEventListener();
        }
        return FocusStrategy.prototype.focusCheck = function(e) {
            var target = e.target;
            this.focusByClick = !0, this.skipFocus = target.classList.contains("e-grid");
        }, FocusStrategy.prototype.onFocus = function() {
            if (!(this.parent.isDestroyed || Browser.isDevice || this.parent.enableVirtualization)) {
                this.setActive(0 === this.parent.frozenRows, 0 !== this.parent.frozenColumns);
                var current = this.getContent().matrix.get(0, -1, [ 0, 1 ], null, this.getContent().validator());
                this.getContent().matrix.select(current[0], current[1]), this.skipFocus && (this.focus(), 
                this.skipFocus = !1);
            }
        }, FocusStrategy.prototype.passiveFocus = function(e) {
            this.parent.isDestroyed || e.target && e.target.classList.contains("e-detailcell") && (this.currentInfo.skipAction = !1, 
            addClass([ this.currentInfo.element ], [ "e-focused", "e-focus" ]));
        }, FocusStrategy.prototype.onBlur = function(e) {
            this.parent.isEdit || e && (!e.relatedTarget || closest(e.relatedTarget, ".e-grid")) || (this.removeFocus(), 
            this.skipFocus = !1, this.currentInfo.skipAction = !1, this.getContent().getFocusInfo().elementToFocus && (this.getContent().getFocusInfo().elementToFocus.tabIndex = 0));
        }, FocusStrategy.prototype.onClick = function(e, force) {
            var isContent = !isNullOrUndefined(closest(e.target, ".e-gridcontent")), isHeader = !isNullOrUndefined(closest(e.target, ".e-gridheader"));
            isContent = isContent && isHeader ? !isContent : isContent;
            var isFrozen = !isNullOrUndefined(closest(e.target, ".e-frozencontent")) || !isNullOrUndefined(closest(e.target, ".e-frozenheader"));
            if (!(!isContent && isNullOrUndefined(closest(e.target, ".e-gridheader")) || e.target.classList.contains("e-content"))) if (this.setActive(isContent, isFrozen), 
            !isContent && isNullOrUndefined(closest(e.target, ".e-gridheader")) || e.target.classList.contains("e-filtermenudiv")) this.clearOutline(); else {
                var beforeArgs = {
                    cancel: !1,
                    byKey: !1,
                    byClick: !isNullOrUndefined(e.target),
                    clickArgs: e
                };
                if (this.parent.notify("beforecellfocused", beforeArgs), !beforeArgs.cancel && !closest(e.target, ".e-inline-edit") && (this.setActive(isContent, isFrozen), 
                this.getContent())) {
                    if (!1 === this.getContent().onClick(e, force)) return;
                    this.focus();
                }
            }
        }, FocusStrategy.prototype.onKeyPress = function(e) {
            if (!this.skipOn(e)) {
                var beforeArgs = {
                    cancel: !1,
                    byKey: !0,
                    byClick: !1,
                    keyArgs: e
                };
                if (this.parent.notify("beforecellfocused", beforeArgs), !beforeArgs.cancel) {
                    var bValue = this.getContent().matrix.current;
                    this.currentInfo.outline = !0;
                    var swapInfo = this.getContent().jump(e.action, bValue);
                    this.swap = swapInfo, swapInfo.swap && (this.setActive(!swapInfo.toHeader, swapInfo.toFrozen), 
                    this.getContent().matrix.current = this.getContent().getNextCurrent(bValue, swapInfo, this.active, e.action), 
                    this.prevIndexes = {}), this.setActiveByKey(e.action, this.getContent());
                    !1 !== this.getContent().onKeyPress(e) ? (e.preventDefault(), this.focus(e)) : this.clearIndicator();
                }
            }
        }, FocusStrategy.prototype.skipOn = function(e) {
            var target = e.target;
            return !!target && (this.currentInfo.skipAction ? (this.clearIndicator(), !0) : [ "pageUp", "pageDown" ].indexOf(e.action) > -1 ? (this.clearIndicator(), 
            !0) : "delete" === e.action || "Batch" !== this.parent.editSettings.mode && (this.parent.isEdit || [ "insert", "f2" ].indexOf(e.action) > -1) || null !== closest(document.activeElement, ".e-filterbarcell") || null !== closest(document.activeElement, "#" + this.parent.element.id + "_searchbar") && [ "enter", "leftArrow", "rightArrow", "shiftLeft", "shiftRight", "ctrlPlusA" ].indexOf(e.action) > -1 || null === closest(target, ".e-gridcontent") && null === closest(target, ".e-gridheader") || "space" === e.action && !target.classList.contains("e-gridchkbox") && null === closest(target, ".e-gridchkbox") && null === closest(target, ".e-headerchkcelldiv"));
        }, FocusStrategy.prototype.getFocusedElement = function() {
            return this.currentInfo.elementToFocus;
        }, FocusStrategy.prototype.getContent = function() {
            return this.active || this.content;
        }, FocusStrategy.prototype.setActive = function(content, isFrozen) {
            this.active = content ? isFrozen ? this.fContent : this.content : isFrozen ? this.fHeader : this.header;
        }, FocusStrategy.prototype.setFocusedElement = function(element) {
            var _this = this;
            this.currentInfo.elementToFocus = element, setTimeout(function() {
                return _this.currentInfo.elementToFocus.focus();
            }, 0);
        }, FocusStrategy.prototype.focus = function(e) {
            this.removeFocus(), this.addFocus(this.getContent().getFocusInfo(), e);
        }, FocusStrategy.prototype.removeFocus = function(e) {
            this.currentInfo.element && (removeClass([ this.currentInfo.element, this.currentInfo.elementToFocus ], [ "e-focused", "e-focus" ]), 
            this.currentInfo.element.tabIndex = -1);
        }, FocusStrategy.prototype.addFocus = function(info, e) {
            if (this.currentInfo = info, this.currentInfo.outline = info.outline && !isNullOrUndefined(e), 
            info.element) {
                var isFocused = info.elementToFocus.classList.contains("e-focus");
                if (!isFocused) {
                    this.currentInfo.outline && addClass([ info.element ], [ "e-focused" ]), addClass([ info.elementToFocus ], [ "e-focus" ]), 
                    info.element.tabIndex = 0, isFocused || this.setFocusedElement(info.elementToFocus), 
                    this.parent.notify("cellfocused", {
                        element: info.elementToFocus,
                        parent: info.element,
                        indexes: this.getContent().matrix.current,
                        byKey: !isNullOrUndefined(e),
                        byClick: isNullOrUndefined(e),
                        keyArgs: e,
                        isJump: this.swap.swap,
                        container: this.getContent().getInfo(e),
                        outline: !isNullOrUndefined(e),
                        swapInfo: this.swap
                    });
                    var _a = this.getContent().matrix.current, rowIndex = _a[0], cellIndex = _a[1];
                    this.prevIndexes = {
                        rowIndex: rowIndex,
                        cellIndex: cellIndex
                    }, this.focusByClick = !1;
                }
            }
        }, FocusStrategy.prototype.refreshMatrix = function(content) {
            var _this = this;
            return function(e) {
                content && e.args && e.args.isFrozen && !_this.fContent ? _this.fContent = new FixedContentFocus(_this.parent) : content && !_this.content && (_this.content = new ContentFocus(_this.parent)), 
                !content && e.args && e.args.isFrozen && !_this.fHeader ? _this.fHeader = new FixedHeaderFocus(_this.parent) : content || _this.header || (_this.header = new HeaderFocus(_this.parent));
                var cFocus = content ? e.args && e.args.isFrozen ? _this.fContent : _this.content : e.args && e.args.isFrozen ? _this.fHeader : _this.header, rows = content ? e.rows.slice(_this.parent.frozenRows) : e.rows, updateRow = content ? e.rows.slice(0, _this.parent.frozenRows) : e.rows, matrix = cFocus.matrix.generate(updateRow, cFocus.selector);
                cFocus.matrix.generate(rows, cFocus.selector), cFocus.generateRows(updateRow, {
                    matrix: matrix,
                    handlerInstance: e.args && e.args.isFrozen ? _this.fHeader : _this.header
                }), !Browser.isDevice && !_this.focusByClick && e && e.args && "paging" === e.args.requestType && (_this.skipFocus = !1, 
                _this.parent.element.focus());
            };
        }, FocusStrategy.prototype.addEventListener = function() {
            var _this = this;
            this.parent.isDestroyed || (EventHandler.add(this.parent.element, "mousedown", this.focusCheck, this), 
            EventHandler.add(this.parent.element, "focus", this.onFocus, this), this.parent.element.addEventListener("focus", this.passiveHandler = function(e) {
                return _this.passiveFocus(e);
            }, !0), EventHandler.add(this.parent.element, "focusout", this.onBlur, this), this.parent.on(keyPressed, this.onKeyPress, this), 
            this.parent.on(click, this.onClick, this), this.parent.on(contentReady, this.refreshMatrix(!0), this), 
            this.parent.on(headerRefreshed, this.refreshMatrix(), this), this.parent.on("close-edit", this.restoreFocus, this), 
            [ "start-edit", "start-add" ].forEach(function(evt) {
                return _this.parent.on(evt, _this.clearIndicator, _this);
            }), [ "sorting" ].forEach(function(action) {
                return _this.parent.on(action + "-complete", _this.restoreFocus, _this);
            }), this.parent.on("batchAdd", this.refreshMatrix(!0), this), this.parent.on("batchCancel", this.refreshMatrix(!0), this), 
            this.parent.on("batchDelete", this.refreshMatrix(!0), this), this.parent.on("detailDataBound", this.refreshMatrix(!0), this), 
            this.parent.on(onEmpty, this.refreshMatrix(!0), this), this.parent.on("cellfocused", this.internalCellFocus, this));
        }, FocusStrategy.prototype.removeEventListener = function() {
            var _this = this;
            this.parent.isDestroyed || (EventHandler.remove(this.parent.element, "mousedown", this.focusCheck), 
            EventHandler.remove(this.parent.element, "focus", this.onFocus), EventHandler.remove(this.parent.element, "focusout", this.onBlur), 
            this.parent.element.removeEventListener("focus", this.passiveHandler, !0), this.parent.off(keyPressed, this.onKeyPress), 
            this.parent.off(click, this.onClick), this.parent.off(contentReady, this.refreshMatrix(!0)), 
            this.parent.off(headerRefreshed, this.refreshMatrix()), this.parent.off("close-edit", this.restoreFocus), 
            [ "start-edit", "start-add" ].forEach(function(evt) {
                return _this.parent.off(evt, _this.clearOutline);
            }), [ "sorting" ].forEach(function(action) {
                return _this.parent.off(action + "-complete", _this.restoreFocus);
            }), this.parent.off("batchAdd", this.refreshMatrix(!0)), this.parent.off("batchDelete", this.refreshMatrix(!0)), 
            this.parent.off("batchCancel", this.refreshMatrix(!0)), this.parent.off("detailDataBound", this.refreshMatrix(!0)), 
            this.parent.off(onEmpty, this.refreshMatrix(!0)), this.parent.off("cellfocused", this.internalCellFocus));
        }, FocusStrategy.prototype.destroy = function() {
            this.removeEventListener();
        }, FocusStrategy.prototype.restoreFocus = function() {
            this.addFocus(this.getContent().getFocusInfo());
        }, FocusStrategy.prototype.clearOutline = function() {
            this.getContent().matrix.current = this.getContent().matrix.get(0, -1, [ 0, 1 ], "downArrow", this.getContent().validator()), 
            this.clearIndicator();
        }, FocusStrategy.prototype.clearIndicator = function() {
            this.currentInfo.element && this.currentInfo.elementToFocus && removeClass([ this.currentInfo.element, this.currentInfo.elementToFocus ], [ "e-focus", "e-focused" ]);
        }, FocusStrategy.prototype.getPrevIndexes = function() {
            var forget = this.forget;
            return this.forget = !1, forget ? {
                rowIndex: null,
                cellIndex: null
            } : this.prevIndexes;
        }, FocusStrategy.prototype.forgetPrevious = function() {
            this.forget = !0;
        }, FocusStrategy.prototype.setActiveByKey = function(action, active) {
            var _this = this;
            if (0 !== this.parent.frozenColumns || 0 !== this.parent.frozenRows) {
                var info, actions = {
                    home: function() {
                        return {
                            toHeader: !info.isContent,
                            toFrozen: !0
                        };
                    },
                    end: function() {
                        return {
                            toHeader: !info.isContent,
                            toFrozen: !1
                        };
                    },
                    ctrlHome: function() {
                        return {
                            toHeader: !0,
                            toFrozen: 0 !== _this.parent.frozenColumns
                        };
                    },
                    ctrlEnd: function() {
                        return {
                            toHeader: !1,
                            toFrozen: !1
                        };
                    }
                };
                if (action in actions) {
                    info = active.getInfo();
                    var swap = actions[action]();
                    this.setActive(!swap.toHeader, swap.toFrozen), this.getContent().matrix.current = active.matrix.current;
                }
            }
        }, FocusStrategy.prototype.internalCellFocus = function(e) {
            if (e.byKey && e.container.isContent && "enter" === e.keyArgs.action && (e.parent.classList.contains("e-detailcell") || e.parent.classList.contains("e-unboundcell") || e.parent.classList.contains("e-templatecell"))) {
                this.clearIndicator();
                var focusEle = this.getContent().getFocusable(this.getFocusedElement());
                this.setFocusedElement(focusEle), this.currentInfo.skipAction = !0;
            }
        }, FocusStrategy;
    }(), Matrix = function() {
        function Matrix() {
            this.matrix = [], this.current = [];
        }
        return Matrix.prototype.set = function(rowIndex, columnIndex, allow) {
            rowIndex = Math.max(0, Math.min(rowIndex, this.rows)), columnIndex = Math.max(0, Math.min(columnIndex, this.columns)), 
            this.matrix[rowIndex] = this.matrix[rowIndex] || [], this.matrix[rowIndex][columnIndex] = allow ? 1 : 0;
        }, Matrix.prototype.get = function(rowIndex, columnIndex, navigator, action, validator) {
            var tmp = columnIndex;
            if (rowIndex + navigator[0] < 0) return [ rowIndex, columnIndex ];
            if (rowIndex = Math.max(0, Math.min(rowIndex + navigator[0], this.rows)), columnIndex = Math.max(0, Math.min(columnIndex + navigator[1], this.matrix[rowIndex].length - 1)), 
            tmp + navigator[1] > this.matrix[rowIndex].length - 1 && validator(rowIndex, columnIndex, action)) return [ rowIndex, tmp ];
            var first = this.first(this.matrix[rowIndex], columnIndex, navigator, !0, action), val = getValue(rowIndex + "." + (columnIndex = null === first ? tmp : first), this.matrix);
            return this.inValid(val) || !validator(rowIndex, columnIndex, action) ? this.get(rowIndex, tmp, navigator, action, validator) : [ rowIndex, columnIndex ];
        }, Matrix.prototype.first = function(vector, index, navigator, moveTo, action) {
            return (index < 0 || index === vector.length) && this.inValid(vector[index]) && "upArrow" !== action && "downArrow" !== action || !vector.some(function(v) {
                return 1 === v;
            }) ? null : this.inValid(vector[index]) ? this.first(vector, -1 !== [ "upArrow", "downArrow", "shiftUp", "shiftDown" ].indexOf(action) ? moveTo ? 0 : ++index : index + navigator[1], navigator, !1, action) : index;
        }, Matrix.prototype.select = function(rowIndex, columnIndex) {
            rowIndex = Math.max(0, Math.min(rowIndex, this.rows)), columnIndex = Math.max(0, Math.min(columnIndex, this.matrix[rowIndex].length - 1)), 
            this.current = [ rowIndex, columnIndex ];
        }, Matrix.prototype.generate = function(rows, selector) {
            var _this = this;
            return this.rows = rows.length - 1, this.matrix = [], rows.forEach(function(row, rIndex) {
                var cells = row.cells.filter(function(c) {
                    return !0 !== c.isSpanned;
                });
                _this.columns = Math.max(cells.length - 1, 0 | _this.columns), cells.forEach(function(cell, cIndex) {
                    _this.set(rIndex, cIndex, selector(row, cell));
                });
            }), this.matrix;
        }, Matrix.prototype.inValid = function(value) {
            return 0 === value || void 0 === value;
        }, Matrix;
    }(), ContentFocus = function() {
        function ContentFocus(parent) {
            var _this = this;
            this.matrix = new Matrix(), this.parent = parent, this.keyActions = {
                rightArrow: [ 0, 1 ],
                tab: [ 0, 1 ],
                leftArrow: [ 0, -1 ],
                shiftTab: [ 0, -1 ],
                upArrow: [ -1, 0 ],
                downArrow: [ 1, 0 ],
                shiftUp: [ -1, 0 ],
                shiftDown: [ 1, 0 ],
                shiftRight: [ 0, 1 ],
                shiftLeft: [ 0, -1 ],
                enter: [ 1, 0 ],
                shiftEnter: [ -1, 0 ]
            }, this.indexesByKey = function(action) {
                return {
                    home: [ _this.matrix.current[0], -1, 0, 1 ],
                    end: [ _this.matrix.current[0], _this.matrix.columns + 1, 0, -1 ],
                    ctrlHome: [ 0, -1, 0, 1 ],
                    ctrlEnd: [ _this.matrix.rows, _this.matrix.columns + 1, 0, -1 ]
                }[action] || null;
            };
        }
        return ContentFocus.prototype.getTable = function() {
            return this.parent.frozenColumns ? this.parent.getContent().querySelector(".e-movablecontent .e-table") : this.parent.getContentTable();
        }, ContentFocus.prototype.onKeyPress = function(e) {
            var navigator = this.keyActions[e.action], current = this.getCurrentFromAction(e.action, navigator, e.action in this.keyActions, e);
            if (current) return (([ "tab", "shiftTab" ].indexOf(e.action) > -1 && this.matrix.current || []).toString() !== current.toString() || current.toString() !== [ this.matrix.rows, this.matrix.columns ].toString() && current.toString() !== [ 0, 0 ].toString()) && void this.matrix.select(current[0], current[1]);
        }, ContentFocus.prototype.getCurrentFromAction = function(action, navigator, isPresent, e) {
            if (void 0 === navigator && (navigator = [ 0, 0 ]), !isPresent && !this.indexesByKey(action)) return null;
            if (!this.shouldFocusChange(e)) return this.matrix.current;
            var _a = this.indexesByKey(action) || this.matrix.current.concat(navigator), rowIndex = _a[0], cellIndex = _a[1], rN = _a[2], cN = _a[3];
            return this.matrix.get(rowIndex, cellIndex, [ rN, cN ], action, this.validator());
        }, ContentFocus.prototype.onClick = function(e, force) {
            var target = e.target;
            if (target = target.classList.contains("e-rowcell") ? target : closest(target, "td"), 
            target = target || (closest(e.target, "td.e-detailrowcollapse") || closest(e.target, "td.e-detailrowexpand")), 
            target = closest(e.target, "td.e-detailcell") && isNullOrUndefined(closest(closest(e.target, ".e-grid"), "td.e-detailcell")) ? null : target, 
            !(target = target && closest(target, "table").classList.contains("e-table") ? target : null)) return !1;
            var _a = [ target.parentElement.rowIndex, target.cellIndex ], rowIndex = _a[0], cellIndex = _a[1], _b = this.matrix.current, oRowIndex = _b[0], oCellIndex = _b[1], val = getValue(rowIndex + "." + cellIndex, this.matrix.matrix);
            if (this.matrix.inValid(val) || !force && oRowIndex === rowIndex && oCellIndex === cellIndex) return !1;
            this.matrix.select(rowIndex, cellIndex);
        }, ContentFocus.prototype.getFocusInfo = function() {
            var info = {}, _a = this.matrix.current, _b = _a[0], rowIndex = void 0 === _b ? 0 : _b, _c = _a[1], cellIndex = void 0 === _c ? 0 : _c;
            return this.matrix.current = [ rowIndex, cellIndex ], info.element = isNullOrUndefined(this.getTable().rows[rowIndex]) ? null : this.getTable().rows[rowIndex].cells[cellIndex], 
            info.element ? (info.elementToFocus = info.element.classList.contains("e-unboundcell") || info.element.classList.contains("e-detailcell") || info.element.classList.contains("e-templatecell") ? info.element : this.getFocusable(info.element), 
            info.outline = !0, info) : info;
        }, ContentFocus.prototype.getFocusable = function(element) {
            var query = 'button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';
            this.parent.isEdit && (query = 'input:not([type="hidden"]), select:not([aria-hidden="true"]), textarea');
            var child = [].slice.call(element.querySelectorAll(query));
            return child.length ? child[0] : element;
        }, ContentFocus.prototype.selector = function(row, cell) {
            var types = [ CellType.Expand, CellType.GroupCaption, CellType.CaptionSummary, CellType.GroupSummary ];
            return (row.isDataRow && cell.visible && (cell.isDataCell || cell.isTemplate) || row.isDataRow && cell.cellType === CellType.DetailExpand || !row.isDataRow && types.indexOf(cell.cellType) > -1 || cell.column && "checkbox" === cell.column.type || cell.cellType === CellType.CommandColumn) && !("delete" === row.edit && row.isDirty);
        }, ContentFocus.prototype.jump = function(action, current) {
            var frozenSwap = this.parent.frozenColumns > 0 && ("leftArrow" === action || "shiftTab" === action) && 0 === current[1], enterFrozen = 0 !== this.parent.frozenRows && "shiftEnter" === action;
            return {
                swap: ("upArrow" === action || enterFrozen) && 0 === current[0] || frozenSwap,
                toHeader: ("upArrow" === action || enterFrozen) && 0 === current[0],
                toFrozen: frozenSwap
            };
        }, ContentFocus.prototype.getNextCurrent = function(previous, swap, active, action) {
            void 0 === previous && (previous = []);
            var current = [];
            return "rightArrow" === action || "tab" === action ? (current[0] = previous[0], 
            current[1] = -1) : "downArrow" !== action && "enter" !== action || (current[0] = -1, 
            current[1] = previous[1]), current;
        }, ContentFocus.prototype.generateRows = function(rows, optionals) {
            var matrix = optionals.matrix, handlerInstance = optionals.handlerInstance, len = handlerInstance.matrix.matrix.length, defaultLen = this.parent.allowFiltering && "FilterBar" === this.parent.filterSettings.type ? len + 1 : len;
            handlerInstance.matrix.matrix = handlerInstance.matrix.matrix.slice(0, defaultLen), 
            handlerInstance.matrix.rows = defaultLen, (_a = handlerInstance.matrix.matrix).push.apply(_a, matrix), 
            handlerInstance.matrix.rows += matrix.length;
            var _a;
        }, ContentFocus.prototype.getInfo = function(e) {
            var info = this.getFocusInfo(), _a = this.matrix.current, rIndex = _a[0], cIndex = _a[1], isData = info.element.classList.contains("e-rowcell"), isSelectable = isData || e && "enter" !== e.action && (info.element.classList.contains("e-detailrowcollapse") || info.element.classList.contains("e-detailrowexpand")), _b = [ Math.min(parseInt(info.element.parentElement.getAttribute("aria-rowindex"), 10), rIndex), Math.min(parseInt(info.element.getAttribute("aria-colindex"), 10), cIndex) ];
            return {
                isContent: !0,
                isDataCell: isData,
                indexes: [ _b[0], _b[1] ],
                isSelectable: isSelectable
            };
        }, ContentFocus.prototype.validator = function() {
            var table = this.getTable();
            return function(rowIndex, cellIndex, action) {
                var cell = table.rows[rowIndex].cells[cellIndex];
                return "enter" === action || "shiftEnter" === action ? cell.classList.contains("e-rowcell") : !("shiftUp" !== action && "shiftDown" !== action || !cell.classList.contains("e-rowcell")) || "shiftUp" !== action && "shiftDown" !== action && 0 !== cell.getBoundingClientRect().width;
            };
        }, ContentFocus.prototype.shouldFocusChange = function(e) {
            var _a = this.matrix.current, _b = _a[0], rIndex = void 0 === _b ? -1 : _b, _c = _a[1], cIndex = void 0 === _c ? -1 : _c;
            if (rIndex < 0 || cIndex < 0) return !0;
            var cell = getValue(rIndex + ".cells." + cIndex, this.getTable().rows);
            return !cell || ("enter" !== e.action && "shiftEnter" !== e.action || cell.classList.contains("e-rowcell") && !cell.classList.contains("e-unboundcell") && !cell.classList.contains("e-templatecell") && !cell.classList.contains("e-detailcell"));
        }, ContentFocus;
    }(), HeaderFocus = function(_super) {
        function HeaderFocus(parent) {
            return _super.call(this, parent) || this;
        }
        return __extends$18(HeaderFocus, _super), HeaderFocus.prototype.getTable = function() {
            return this.parent.frozenColumns ? this.parent.getHeaderContent().querySelector(".e-movableheader .e-table") : this.parent.getHeaderTable();
        }, HeaderFocus.prototype.onClick = function(e) {
            var target = e.target;
            if ((target = target.classList.contains("e-headercell") ? target : closest(target, "th")) || 0 === this.parent.frozenRows || (target = e.target.classList.contains("e-rowcell") ? e.target : closest(e.target, "td")), 
            target) {
                var _a = [ target.parentElement.rowIndex, target.cellIndex ], val = getValue(_a[0] + "." + _a[1], this.matrix.matrix);
                if (this.matrix.inValid(val)) return !1;
                this.matrix.select(target.parentElement.rowIndex, target.cellIndex);
            }
        }, HeaderFocus.prototype.getFocusInfo = function() {
            var info = {}, _a = this.matrix.current, _b = _a[0], rowIndex = void 0 === _b ? 0 : _b, _c = _a[1], cellIndex = void 0 === _c ? 0 : _c;
            return info.element = this.getTable().rows[rowIndex].cells[cellIndex], info.elementToFocus = this.getFocusable(info.element), 
            info.outline = !info.element.classList.contains("e-filterbarcell"), info;
        }, HeaderFocus.prototype.selector = function(row, cell) {
            return cell.visible && (void 0 !== cell.column.field || cell.isTemplate) || "checkbox" === cell.column.type || cell.cellType === CellType.StackedHeader;
        }, HeaderFocus.prototype.jump = function(action, current) {
            var frozenSwap = this.parent.frozenColumns > 0 && ("leftArrow" === action || "shiftTab" === action) && 0 === current[1], enterFrozen = 0 !== this.parent.frozenRows && "enter" === action;
            return {
                swap: ("downArrow" === action || enterFrozen) && current[0] === this.matrix.matrix.length - 1 || frozenSwap,
                toHeader: frozenSwap,
                toFrozen: frozenSwap
            };
        }, HeaderFocus.prototype.getNextCurrent = function(previous, swap, active, action) {
            void 0 === previous && (previous = []);
            var current = [];
            return "upArrow" === action || "shiftEnter" === action ? (current[0] = this.matrix.matrix.length, 
            current[1] = previous[1]) : "rightArrow" !== action && "tab" !== action || (current[0] = previous[0], 
            current[1] = -1), current;
        }, HeaderFocus.prototype.generateRows = function(rows) {
            var _this = this, length = this.matrix.matrix.length;
            this.parent.allowFiltering && "FilterBar" === this.parent.filterSettings.type && (this.matrix.rows = ++this.matrix.rows, 
            rows[0].cells.forEach(function(cell, cIndex) {
                return _this.matrix.set(length, cIndex, cell.visible && !1 !== cell.column.allowFiltering);
            }));
        }, HeaderFocus.prototype.getInfo = function(e) {
            return extend(_super.prototype.getInfo.call(this, e), {
                isContent: !1,
                isHeader: !0
            });
        }, HeaderFocus.prototype.validator = function() {
            return function() {
                return !0;
            };
        }, HeaderFocus.prototype.shouldFocusChange = function(e) {
            var _a = this.matrix.current, rIndex = _a[0], cIndex = _a[1];
            if (rIndex < 0 || cIndex < 0) return !0;
            var cell = getValue(rIndex + ".cells." + cIndex, this.getTable().rows);
            return !cell || ("enter" !== e.action && "altDownArrow" !== e.action || !cell.classList.contains("e-headercell"));
        }, HeaderFocus;
    }(ContentFocus), FixedContentFocus = function(_super) {
        function FixedContentFocus() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$18(FixedContentFocus, _super), FixedContentFocus.prototype.getTable = function() {
            return this.parent.getContent().querySelector(".e-frozencontent .e-table");
        }, FixedContentFocus.prototype.jump = function(action, current) {
            var enterFrozen = 0 !== this.parent.frozenRows && "shiftEnter" === action;
            return {
                swap: ("upArrow" === action || enterFrozen) && 0 === current[0] || ("tab" === action || "rightArrow" === action) && current[1] === this.matrix.columns,
                toHeader: ("upArrow" === action || enterFrozen) && 0 === current[0],
                toFrozen: ("upArrow" === action || enterFrozen) && 0 === current[0]
            };
        }, FixedContentFocus.prototype.getNextCurrent = function(previous, swap, active, action) {
            void 0 === previous && (previous = []);
            var current = [];
            return "leftArrow" === action || "shiftTab" === action ? (current[0] = previous[0], 
            current[1] = active.matrix.columns + 1) : "downArrow" !== action && "enter" !== action || (current[0] = -1, 
            current[1] = previous[1]), current;
        }, FixedContentFocus;
    }(ContentFocus), FixedHeaderFocus = function(_super) {
        function FixedHeaderFocus() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$18(FixedHeaderFocus, _super), FixedHeaderFocus.prototype.jump = function(action, current) {
            var enterFrozen = 0 !== this.parent.frozenRows && "enter" === action;
            return {
                swap: ("downArrow" === action || enterFrozen) && current[0] === this.matrix.matrix.length - 1 || ("rightArrow" === action || "tab" === action) && current[1] === this.matrix.columns,
                toHeader: ("rightArrow" === action || "tab" === action) && current[1] === this.matrix.columns,
                toFrozen: ("downArrow" === action || enterFrozen) && current[0] === this.matrix.matrix.length - 1
            };
        }, FixedHeaderFocus.prototype.getTable = function() {
            return this.parent.getHeaderContent().querySelector(".e-frozenheader .e-table");
        }, FixedHeaderFocus.prototype.getNextCurrent = function(previous, swap, active, action) {
            void 0 === previous && (previous = []);
            var current = [];
            return "leftArrow" === action || "shiftTab" === action ? (current[0] = previous[0], 
            current[1] = active.matrix.columns + 1) : "upArrow" !== action && "shiftEnter" !== action || (current[0] = this.matrix.matrix.length, 
            current[1] = previous[1]), current;
        }, FixedHeaderFocus;
    }(HeaderFocus), SearchBox = function() {
        function SearchBox(searchBox) {
            this.searchBox = searchBox;
        }
        return SearchBox.prototype.searchFocus = function(args) {
            args.target.parentElement.classList.add("e-input-focus");
        }, SearchBox.prototype.searchBlur = function(args) {
            args.target.parentElement.classList.remove("e-input-focus");
        }, SearchBox.prototype.wireEvent = function() {
            this.searchBox && (EventHandler.add(this.searchBox, "focus", this.searchFocus, this), 
            EventHandler.add(this.searchBox, "blur", this.searchBlur, this));
        }, SearchBox.prototype.unWireEvent = function() {
            this.searchBox && (EventHandler.remove(this.searchBox, "focus", this.searchFocus), 
            EventHandler.remove(this.searchBox, "blur", this.searchBlur));
        }, SearchBox;
    }(), __extends$19 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$7 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, PageSettings = function(_super) {
        function PageSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$19(PageSettings, _super), __decorate$7([ Property(12) ], PageSettings.prototype, "pageSize", void 0), 
        __decorate$7([ Property(8) ], PageSettings.prototype, "pageCount", void 0), __decorate$7([ Property(1) ], PageSettings.prototype, "currentPage", void 0), 
        __decorate$7([ Property() ], PageSettings.prototype, "totalRecordsCount", void 0), 
        __decorate$7([ Property(!1) ], PageSettings.prototype, "enableQueryString", void 0), 
        __decorate$7([ Property(!1) ], PageSettings.prototype, "pageSizes", void 0), __decorate$7([ Property(null) ], PageSettings.prototype, "template", void 0), 
        PageSettings;
    }(ChildProperty), __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);
        }
        return t;
    }, Selection = function() {
        function Selection(parent, selectionSettings, locator) {
            this.selectedRowIndexes = [], this.selectedRowCellIndexes = [], this.selectedRecords = [], 
            this.preventFocus = !1, this.isMultiShiftRequest = !1, this.isMultiCtrlRequest = !1, 
            this.enableSelectMultiTouch = !1, this.selectedRowState = {}, this.totalRecordsCount = 0, 
            this.chkAllCollec = [], this.isCheckedOnAdd = !1, this.persistSelectedData = [], 
            this.isCancelDeSelect = !1, this.isPreventCellSelect = !1, this.parent = parent, 
            this.selectionSettings = selectionSettings, this.factory = locator.getService("rendererFactory"), 
            this.focus = locator.getService("focus"), this.addEventListener();
        }
        return Selection.prototype.initializeSelection = function() {
            EventHandler.add(this.parent.getContent(), "mousedown", this.mouseDownHandler, this);
        }, Selection.prototype.onActionBegin = function(args, type) {
            this.parent.trigger(type, this.fDataUpdate(args));
        }, Selection.prototype.fDataUpdate = function(args) {
            if (args.cellIndex || args.rowIndex) {
                var rowObj = this.getRowObj(isNullOrUndefined(args.rowIndex) ? isNullOrUndefined(args.cellIndex) ? this.currentIndex : args.cellIndex.rowIndex : args.rowIndex);
                args.foreignKeyData = rowObj.foreignKeyData;
            }
            return args;
        }, Selection.prototype.onActionComplete = function(args, type) {
            this.parent.trigger(type, this.fDataUpdate(args));
        }, Selection.prototype.getModuleName = function() {
            return "selection";
        }, Selection.prototype.destroy = function() {
            this.hidePopUp(), this.clearSelection(), this.removeEventListener(), EventHandler.remove(this.parent.getContent(), "mousedown", this.mouseDownHandler);
        }, Selection.prototype.isEditing = function() {
            return ("Normal" === this.parent.editSettings.mode || "Batch" === this.parent.editSettings.mode && this.parent.editModule.formObj && !this.parent.editModule.formObj.validate()) && this.parent.isEdit && !this.parent.isPersistSelection;
        }, Selection.prototype.getSelectedMovableRow = function(index) {
            var gObj = this.parent;
            return gObj.getFrozenColumns() ? gObj.getMovableRowByIndex(index) : null;
        }, Selection.prototype.selectRow = function(index, isToggle) {
            var gObj = this.parent, selectedRow = gObj.getRowByIndex(index), selectedMovableRow = this.getSelectedMovableRow(index), selectData = gObj.getCurrentViewRecords()[index];
            if (this.isRowType() && selectedRow && !this.isEditing()) {
                var args, isRowSelected = selectedRow.hasAttribute("aria-selected");
                (isToggle = isToggle ? index === this.prevRowIndex && isRowSelected : isToggle) || (args = {
                    data: selectData,
                    rowIndex: index,
                    isCtrlPressed: this.isMultiCtrlRequest,
                    isShiftPressed: this.isMultiShiftRequest,
                    row: selectedRow,
                    previousRow: gObj.getRows()[this.prevRowIndex],
                    previousRowIndex: this.prevRowIndex,
                    target: this.target,
                    cancel: !1
                }, args = this.addMovableArgs(args, selectedMovableRow), this.onActionBegin(args, "rowSelecting")), 
                (isNullOrUndefined(args) || !0 !== args.cancel) && (this.clearRow(), isToggle || (this.updateRowSelection(selectedRow, index), 
                gObj.getFrozenColumns() && this.updateRowSelection(selectedMovableRow, index), gObj.selectedRowIndex = index), 
                this.updateRowProps(index), isToggle || (args = {
                    data: selectData,
                    rowIndex: index,
                    row: selectedRow,
                    previousRow: gObj.getRows()[this.prevRowIndex],
                    previousRowIndex: this.prevRowIndex,
                    target: this.target
                }, args = this.addMovableArgs(args, selectedMovableRow), this.onActionComplete(args, "rowSelected")));
            }
        }, Selection.prototype.addMovableArgs = function(targetObj, mRow) {
            if (this.parent.getFrozenColumns()) {
                var mObj = {
                    mRow: mRow,
                    previousMovRow: this.parent.getMovableRows()[this.prevRowIndex]
                };
                targetObj = __assign({}, targetObj, mObj);
            }
            return targetObj;
        }, Selection.prototype.selectRowsByRange = function(startIndex, endIndex) {
            this.selectRows(this.getCollectionFromIndexes(startIndex, endIndex)), this.parent.selectedRowIndex = endIndex;
        }, Selection.prototype.selectRows = function(rowIndexes) {
            var gObj = this.parent, rowIndex = this.isSingleSel() ? rowIndexes[rowIndexes.length - 1] : rowIndexes[0], selectedRow = gObj.getRowByIndex(rowIndex), selectedMovableRow = this.getSelectedMovableRow(rowIndex), frzCols = gObj.getFrozenColumns(), selectedData = gObj.getCurrentViewRecords()[rowIndexes[0]];
            if (this.isRowType() && !this.isEditing()) {
                var args = {
                    rowIndexes: rowIndexes,
                    row: selectedRow,
                    rowIndex: rowIndex,
                    target: this.target,
                    prevRow: gObj.getRows()[this.prevRowIndex],
                    previousRowIndex: this.prevRowIndex,
                    isCtrlPressed: this.isMultiCtrlRequest,
                    isShiftPressed: this.isMultiShiftRequest,
                    data: selectedData
                };
                if (args = this.addMovableArgs(args, selectedMovableRow), this.onActionBegin(args, "rowSelecting"), 
                isNullOrUndefined(args) || !0 !== args.cancel) {
                    if (this.clearRow(), this.isSingleSel()) this.updateRowSelection(gObj.getRowByIndex(rowIndex), rowIndex), 
                    frzCols && this.updateRowSelection(gObj.getMovableRowByIndex(rowIndex), rowIndex), 
                    this.updateRowProps(rowIndex); else for (var _i = 0, rowIndexes_1 = rowIndexes; _i < rowIndexes_1.length; _i++) {
                        var rowIdx = rowIndexes_1[_i];
                        this.updateRowSelection(gObj.getRowByIndex(rowIdx), rowIdx), frzCols && this.updateRowSelection(gObj.getMovableRowByIndex(rowIdx), rowIdx), 
                        this.updateRowProps(rowIndex);
                    }
                    args = {
                        rowIndexes: rowIndexes,
                        row: selectedRow,
                        rowIndex: rowIndex,
                        target: this.target,
                        prevRow: gObj.getRows()[this.prevRowIndex],
                        previousRowIndex: this.prevRowIndex,
                        data: selectedData
                    }, args = this.addMovableArgs(args, selectedMovableRow), this.onActionComplete(args, "rowSelected");
                }
            }
        }, Selection.prototype.addRowsToSelection = function(rowIndexes) {
            var gObj = this.parent, selectedRow = this.isSingleSel() ? gObj.getRowByIndex(rowIndexes[rowIndexes.length - 1]) : gObj.getRowByIndex(rowIndexes[0]), selectedMovableRow = this.isSingleSel() ? this.getSelectedMovableRow(rowIndexes[rowIndexes.length - 1]) : this.getSelectedMovableRow(rowIndexes[0]), frzCols = gObj.getFrozenColumns();
            if (this.isRowType() && !this.isEditing()) for (var args, _i = 0, rowIndexes_2 = rowIndexes; _i < rowIndexes_2.length; _i++) {
                var rowIndex = rowIndexes_2[_i], rowObj = this.getRowObj(rowIndex), isUnSelected = this.selectedRowIndexes.indexOf(rowIndex) > -1;
                if (gObj.selectedRowIndex = rowIndex, isUnSelected) this.rowDeselect("rowDeselecting", [ rowIndex ], [ rowObj.data ], [ selectedRow ], [ rowObj.foreignKeyData ]), 
                this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(rowIndex), 1), this.selectedRecords.splice(this.selectedRecords.indexOf(selectedRow), 1), 
                selectedRow.removeAttribute("aria-selected"), this.addRemoveClassesForRow(selectedRow, !1, null, "e-selectionbackground", "e-active"), 
                selectedMovableRow && (this.selectedRecords.splice(this.selectedRecords.indexOf(selectedMovableRow), 1), 
                selectedMovableRow.removeAttribute("aria-selected"), this.addRemoveClassesForRow(selectedMovableRow, !1, null, "e-selectionbackground", "e-active")), 
                this.rowDeselect("rowDeselected", [ rowIndex ], [ rowObj.data ], [ selectedRow ], [ rowObj.foreignKeyData ], [ selectedMovableRow ]); else {
                    if (args = {
                        data: rowObj.data,
                        rowIndex: rowIndex,
                        row: selectedRow,
                        target: this.target,
                        prevRow: gObj.getRows()[this.prevRowIndex],
                        previousRowIndex: this.prevRowIndex,
                        isCtrlPressed: this.isMultiCtrlRequest,
                        isShiftPressed: this.isMultiShiftRequest,
                        foreignKeyData: rowObj.foreignKeyData
                    }, args = this.addMovableArgs(args, selectedMovableRow), this.onActionBegin(args, "rowSelecting"), 
                    !isNullOrUndefined(args) && !0 === args.cancel) return;
                    this.isSingleSel() && this.clearRow(), this.updateRowSelection(selectedRow, rowIndex), 
                    frzCols && this.updateRowSelection(selectedMovableRow, rowIndex);
                }
                if (this.updateRowProps(rowIndex), isUnSelected || (args = {
                    data: rowObj.data,
                    rowIndex: rowIndex,
                    row: selectedRow,
                    target: this.target,
                    prevRow: gObj.getRows()[this.prevRowIndex],
                    previousRowIndex: this.prevRowIndex,
                    foreignKeyData: rowObj.foreignKeyData
                }, args = this.addMovableArgs(args, selectedMovableRow), this.onActionComplete(args, "rowSelected")), 
                this.isSingleSel()) break;
            }
        }, Selection.prototype.getCollectionFromIndexes = function(startIndex, endIndex) {
            for (var indexes = [], _a = startIndex < endIndex ? {
                i: startIndex,
                max: endIndex
            } : {
                i: endIndex,
                max: startIndex
            }, i = _a.i, max = _a.max; i <= max; i++) indexes.push(i);
            return startIndex > endIndex && indexes.reverse(), indexes;
        }, Selection.prototype.clearRow = function() {
            this.clearRowSelection(), this.selectedRowIndexes = [], this.selectedRecords = [], 
            this.parent.selectedRowIndex = -1, this.isSingleSel() && this.parent.isPersistSelection && (this.selectedRowState = {});
        }, Selection.prototype.updateRowProps = function(startIndex) {
            this.prevRowIndex = startIndex, this.isRowSelected = this.selectedRowIndexes.length && !0;
        }, Selection.prototype.updatePersistCollection = function(selectedRow, chkState) {
            if (this.parent.isPersistSelection && !isNullOrUndefined(selectedRow)) {
                var rowObj = this.getRowObj(selectedRow), pKey = rowObj.data ? rowObj.data[this.primaryKey] : null;
                if (null === pKey) return;
                rowObj.isSelected = chkState, chkState ? (this.selectedRowState[pKey] = chkState, 
                this.persistSelectedData.indexOf(rowObj.data) < 0 && this.persistSelectedData.push(rowObj.data)) : (delete this.selectedRowState[pKey], 
                this.persistSelectedData.indexOf(rowObj.data) >= 0 && this.persistSelectedData.splice(this.persistSelectedData.indexOf(rowObj.data), 1));
            }
        }, Selection.prototype.updateCheckBoxes = function(row, chkState) {
            if (!isNullOrUndefined(row)) {
                var chkBox = row.querySelector(".e-checkselect");
                isNullOrUndefined(chkBox) || (removeAddCboxClasses(chkBox.nextElementSibling, chkState), 
                (isNullOrUndefined(this.checkedTarget) || !isNullOrUndefined(this.checkedTarget) && !this.checkedTarget.classList.contains("e-checkselectall")) && this.setCheckAllState());
            }
        }, Selection.prototype.updateRowSelection = function(selectedRow, startIndex) {
            if (selectedRow) {
                this.selectedRowIndexes.push(startIndex);
                var len = this.selectedRowIndexes.length;
                if (this.parent.getFrozenColumns() && len > 1 && this.selectedRowIndexes[len - 2] === this.selectedRowIndexes[len - 1] && this.selectedRowIndexes.pop(), 
                this.selectedRecords.push(selectedRow), selectedRow.setAttribute("aria-selected", "true"), 
                this.updatePersistCollection(selectedRow, !0), this.updateCheckBoxes(selectedRow, !0), 
                this.addRemoveClassesForRow(selectedRow, !0, null, "e-selectionbackground", "e-active"), 
                !this.preventFocus) {
                    var target = this.focus.getPrevIndexes().cellIndex ? selectedRow.cells[this.focus.getPrevIndexes().cellIndex] : selectedRow.querySelector(".e-selectionbackground:not(.e-hide)");
                    if (!target) return;
                    this.focus.onClick({
                        target: target
                    }, !0);
                }
            }
        }, Selection.prototype.clearSelection = function() {
            if (!this.parent.isPersistSelection || this.parent.isPersistSelection && !this.parent.isEdit || !isNullOrUndefined(this.checkedTarget) && this.checkedTarget.classList.contains("e-checkselectall")) {
                var span = this.parent.element.querySelector(".e-gridpopup").querySelector("span");
                span.classList.contains("e-rowselect") && span.classList.remove("e-spanclicked"), 
                this.clearRowSelection(), this.clearCellSelection(), this.enableSelectMultiTouch = !1;
            }
        }, Selection.prototype.clearRowSelection = function() {
            var _this = this;
            if (this.isRowSelected) {
                for (var gObj = this.parent, rows = this.parent.getDataRows(), data = [], row = [], mRow = [], rowIndex = [], frzCols = gObj.getFrozenColumns(), foreignKeyData$$1 = [], i = (this.parent.getCurrentViewRecords(), 
                0), len = this.selectedRowIndexes.length; i < len; i++) {
                    var currentRow = this.parent.getDataRows()[this.selectedRowIndexes[i]], rowObj = this.getRowObj(currentRow);
                    rowObj && (data.push(rowObj.data), row.push(currentRow), rowIndex.push(this.selectedRowIndexes[i]), 
                    foreignKeyData$$1.push(rowObj.foreignKeyData)), frzCols && mRow.push(gObj.getMovableRows()[this.selectedRowIndexes[i]]);
                }
                if (this.rowDeselect("rowDeselecting", rowIndex, data, row, foreignKeyData$$1, mRow), 
                !0 === this.isCancelDeSelect) return;
                rows.filter(function(record) {
                    return record.hasAttribute("aria-selected");
                }).forEach(function(ele) {
                    ele.removeAttribute("aria-selected"), _this.addRemoveClassesForRow(ele, !1, !0, "e-selectionbackground", "e-active"), 
                    _this.updatePersistCollection(ele, !1), _this.updateCheckBoxes(ele);
                });
                for (i = 0, len = this.selectedRowIndexes.length; i < len; i++) {
                    var movableRow = this.getSelectedMovableRow(this.selectedRowIndexes[i]);
                    movableRow && (movableRow.removeAttribute("aria-selected"), this.addRemoveClassesForRow(movableRow, !1, !0, "e-selectionbackground", "e-active"), 
                    this.updatePersistCollection(movableRow, !1));
                }
                this.selectedRowIndexes = [], this.selectedRecords = [], this.isRowSelected = !1, 
                this.parent.selectedRowIndex = -1, this.rowDeselect("rowDeselected", rowIndex, data, row, foreignKeyData$$1, mRow);
            }
        }, Selection.prototype.rowDeselect = function(type, rowIndex, data, row, foreignKeyData$$1, mRow) {
            this.updatePersistCollection(row[0], !1);
            var rowDeselectObj = {
                rowIndex: rowIndex,
                data: data,
                row: row,
                foreignKeyData: foreignKeyData$$1,
                cancel: !1
            };
            this.parent.trigger(type, this.parent.getFrozenColumns() ? __assign({}, rowDeselectObj, {
                mRow: mRow
            }) : rowDeselectObj), this.isCancelDeSelect = rowDeselectObj.cancel, this.updateCheckBoxes(row[0]);
        }, Selection.prototype.getRowObj = function(row) {
            return void 0 === row && (row = this.currentIndex), isNullOrUndefined(row) ? {} : ("number" == typeof row && (row = this.parent.getRowByIndex(row)), 
            row ? this.parent.getRowObjectFromUID(row.getAttribute("data-uid")) || {} : {});
        }, Selection.prototype.getSelectedMovableCell = function(cellIndex) {
            var gObj = this.parent, frzCols = gObj.getFrozenColumns();
            return frzCols && cellIndex.cellIndex >= frzCols ? gObj.getMovableCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex)) : null;
        }, Selection.prototype.selectCell = function(cellIndex, isToggle) {
            if (this.isCellType()) {
                var args, gObj = this.parent, selectedCell = this.getSelectedMovableCell(cellIndex);
                selectedCell || (selectedCell = gObj.getCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex))), 
                this.currentIndex = cellIndex.rowIndex;
                var selectedData = gObj.getCurrentViewRecords()[this.currentIndex];
                if (this.isCellType() && selectedCell && !this.isEditing()) {
                    var isCellSelected = selectedCell.classList.contains("e-cellselectionbackground");
                    (isToggle = isToggle ? !isUndefined(this.prevCIdxs) && cellIndex.rowIndex === this.prevCIdxs.rowIndex && cellIndex.cellIndex === this.prevCIdxs.cellIndex && isCellSelected : isToggle) || (args = {
                        data: selectedData,
                        cellIndex: cellIndex,
                        currentCell: selectedCell,
                        isCtrlPressed: this.isMultiCtrlRequest,
                        isShiftPressed: this.isMultiShiftRequest,
                        previousRowCellIndex: this.prevECIdxs,
                        previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : void 0,
                        cancel: !1
                    }, this.onActionBegin(args, "cellSelecting")), (isNullOrUndefined(args) || !0 !== args.cancel) && (this.clearCell(), 
                    isToggle || this.updateCellSelection(selectedCell, cellIndex.rowIndex, cellIndex.cellIndex), 
                    this.updateCellProps(cellIndex, cellIndex), isToggle || this.onActionComplete({
                        data: selectedData,
                        cellIndex: cellIndex,
                        currentCell: selectedCell,
                        previousRowCellIndex: this.prevECIdxs,
                        selectedRowCellIndex: this.selectedRowCellIndexes,
                        previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : void 0
                    }, "cellSelected"));
                }
            }
        }, Selection.prototype.getCellIndex = function(rIdx, cIdx) {
            return this.parent.getFrozenColumns() && cIdx >= this.parent.getFrozenColumns() ? this.parent.getMovableCellFromIndex(rIdx, cIdx) : this.parent.getCellFromIndex(rIdx, cIdx);
        }, Selection.prototype.selectCellsByRange = function(startIndex, endIndex) {
            if (this.isCellType()) {
                var gObj = this.parent, selectedCell = this.getSelectedMovableCell(startIndex), frzCols = gObj.getFrozenColumns();
                selectedCell || (selectedCell = gObj.getCellFromIndex(startIndex.rowIndex, startIndex.cellIndex));
                var min, max, cellIndexes, stIndex = startIndex, edIndex = endIndex = endIndex || startIndex;
                this.currentIndex = startIndex.rowIndex;
                var selectedData = gObj.getCurrentViewRecords()[this.currentIndex];
                if (!this.isSingleSel() && this.isCellType() && !this.isEditing()) {
                    var args = {
                        data: selectedData,
                        cellIndex: startIndex,
                        currentCell: selectedCell,
                        isCtrlPressed: this.isMultiCtrlRequest,
                        isShiftPressed: this.isMultiShiftRequest,
                        previousRowCellIndex: this.prevECIdxs,
                        previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : void 0
                    };
                    if (this.onActionBegin(args, "cellSelecting"), isNullOrUndefined(args) || !0 !== args.cancel) {
                        if (this.clearCell(), startIndex.rowIndex > endIndex.rowIndex) {
                            var temp = startIndex;
                            startIndex = endIndex, endIndex = temp;
                        }
                        for (var i = startIndex.rowIndex; i <= endIndex.rowIndex; i++) {
                            "Box" !== this.selectionSettings.cellSelectionMode ? (min = i === startIndex.rowIndex ? startIndex.cellIndex : 0, 
                            max = i === endIndex.rowIndex ? endIndex.cellIndex : this.getLastColIndex(i)) : (min = startIndex.cellIndex, 
                            max = endIndex.cellIndex), cellIndexes = [];
                            for (var j = min < max ? min : max, len = min > max ? min : max; j <= len; j++) (selectedCell = frzCols ? j < frzCols ? gObj.getCellFromIndex(i, j) : gObj.getMovableCellFromIndex(i, j) : gObj.getCellFromIndex(i, j)) && (cellIndexes.push(j), 
                            this.updateCellSelection(selectedCell), this.addAttribute(selectedCell));
                            this.selectedRowCellIndexes.push({
                                rowIndex: i,
                                cellIndexes: cellIndexes
                            });
                        }
                        this.updateCellProps(stIndex, edIndex), this.onActionComplete({
                            data: selectedData,
                            cellIndex: startIndex,
                            currentCell: selectedCell,
                            previousRowCellIndex: this.prevECIdxs,
                            selectedRowCellIndex: this.selectedRowCellIndexes,
                            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : void 0
                        }, "cellSelected");
                    }
                }
            }
        }, Selection.prototype.selectCells = function(rowCellIndexes) {
            if (this.isCellType()) {
                var gObj = this.parent, selectedCell = this.getSelectedMovableCell(rowCellIndexes[0]), frzCols = gObj.getFrozenColumns();
                selectedCell || (selectedCell = gObj.getCellFromIndex(rowCellIndexes[0].rowIndex, rowCellIndexes[0].cellIndexes[0])), 
                this.currentIndex = rowCellIndexes[0].rowIndex;
                var selectedData = gObj.getCurrentViewRecords()[this.currentIndex];
                if (!this.isSingleSel() && this.isCellType() && !this.isEditing()) {
                    this.onActionBegin({
                        data: selectedData,
                        cellIndex: rowCellIndexes[0].cellIndexes[0],
                        currentCell: selectedCell,
                        isCtrlPressed: this.isMultiCtrlRequest,
                        isShiftPressed: this.isMultiShiftRequest,
                        previousRowCellIndex: this.prevECIdxs,
                        previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : void 0
                    }, "cellSelecting");
                    for (var i = 0, len = rowCellIndexes.length; i < len; i++) for (var j = 0, cellLen = rowCellIndexes[i].cellIndexes.length; j < cellLen; j++) (selectedCell = frzCols ? rowCellIndexes[i].cellIndexes[j] < frzCols ? gObj.getCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]) : gObj.getMovableCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]) : gObj.getCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j])) && (this.updateCellSelection(selectedCell), 
                    this.addAttribute(selectedCell), this.addRowCellIndex({
                        rowIndex: rowCellIndexes[i].rowIndex,
                        cellIndex: rowCellIndexes[i].cellIndexes[j]
                    }));
                    this.updateCellProps({
                        rowIndex: rowCellIndexes[0].rowIndex,
                        cellIndex: rowCellIndexes[0].cellIndexes[0]
                    }, {
                        rowIndex: rowCellIndexes[0].rowIndex,
                        cellIndex: rowCellIndexes[0].cellIndexes[0]
                    }), this.onActionComplete({
                        data: selectedData,
                        cellIndex: rowCellIndexes[0].cellIndexes[0],
                        currentCell: selectedCell,
                        previousRowCellIndex: this.prevECIdxs,
                        selectedRowCellIndex: this.selectedRowCellIndexes,
                        previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : void 0
                    }, "cellSelected");
                }
            }
        }, Selection.prototype.addCellsToSelection = function(cellIndexes) {
            if (this.isCellType()) {
                var selectedCell, index, gObj = this.parent, frzCols = gObj.getFrozenColumns();
                this.currentIndex = cellIndexes[0].rowIndex;
                var selectedData = gObj.getCurrentViewRecords()[this.currentIndex];
                if (!this.isSingleSel() && this.isCellType() && !this.isEditing()) {
                    var rowObj;
                    rowObj = frzCols && cellIndexes[0].cellIndex >= frzCols ? gObj.getMovableRowsObject()[cellIndexes[0].rowIndex] : this.getRowObj(cellIndexes[0].rowIndex);
                    for (var foreignKeyData$$1 = [], _i = 0, cellIndexes_1 = cellIndexes; _i < cellIndexes_1.length; _i++) {
                        for (var cellIndex = cellIndexes_1[_i], i = 0, len = this.selectedRowCellIndexes.length; i < len; i++) if (this.selectedRowCellIndexes[i].rowIndex === cellIndex.rowIndex) {
                            index = i;
                            break;
                        }
                        (selectedCell = this.getSelectedMovableCell(cellIndex)) || (selectedCell = gObj.getCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex))), 
                        foreignKeyData$$1.push(rowObj.cells[frzCols && cellIndexes[0].cellIndex >= frzCols ? cellIndex.cellIndex - frzCols : cellIndex.cellIndex].foreignKeyData);
                        var args = {
                            data: selectedData,
                            cellIndex: cellIndexes[0],
                            isShiftPressed: this.isMultiShiftRequest,
                            previousRowCellIndex: this.prevECIdxs,
                            currentCell: selectedCell,
                            isCtrlPressed: this.isMultiCtrlRequest,
                            previousRowCell: this.prevECIdxs ? gObj.getCellFromIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : void 0
                        }, isUnSelected = index > -1;
                        if (isUnSelected) {
                            var selectedCellIdx = this.selectedRowCellIndexes[index].cellIndexes;
                            selectedCellIdx.indexOf(cellIndex.cellIndex) > -1 ? (this.cellDeselect("cellDeselecting", [ {
                                rowIndex: cellIndex.rowIndex,
                                cellIndexes: [ cellIndex.cellIndex ]
                            } ], selectedData, [ selectedCell ], foreignKeyData$$1), selectedCellIdx.splice(selectedCellIdx.indexOf(cellIndex.cellIndex), 1), 
                            selectedCell.classList.remove("e-cellselectionbackground"), selectedCell.removeAttribute("aria-selected"), 
                            this.cellDeselect("cellDeselected", [ {
                                rowIndex: cellIndex.rowIndex,
                                cellIndexes: [ cellIndex.cellIndex ]
                            } ], selectedData, [ selectedCell ], foreignKeyData$$1)) : (isUnSelected = !1, this.onActionBegin(args, "cellSelecting"), 
                            this.addRowCellIndex({
                                rowIndex: cellIndex.rowIndex,
                                cellIndex: cellIndex.cellIndex
                            }), this.updateCellSelection(selectedCell), this.addAttribute(selectedCell));
                        } else this.onActionBegin(args, "cellSelecting"), this.updateCellSelection(selectedCell, cellIndex.rowIndex, cellIndex.cellIndex);
                        this.updateCellProps(cellIndex, cellIndex), isUnSelected || this.onActionComplete({
                            data: selectedData,
                            cellIndex: cellIndexes[0],
                            currentCell: selectedCell,
                            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : void 0,
                            previousRowCellIndex: this.prevECIdxs,
                            selectedRowCellIndex: this.selectedRowCellIndexes
                        }, "cellSelected");
                    }
                }
            }
        }, Selection.prototype.getColIndex = function(rowIndex, index) {
            var cells, frzCols = this.parent.getFrozenColumns();
            frzCols && index >= frzCols && (cells = this.parent.getMovableDataRows()[rowIndex].querySelectorAll("td.e-rowcell")), 
            cells || (cells = this.parent.getDataRows()[rowIndex].querySelectorAll("td.e-rowcell"));
            for (var m = 0; m < cells.length; m++) {
                if (parseInt(cells[m].getAttribute("aria-colindex"), 10) === index) return frzCols && index >= frzCols && (m += frzCols), 
                m;
            }
            return -1;
        }, Selection.prototype.getLastColIndex = function(rowIndex) {
            var cells = this.parent.getFrozenColumns() ? this.parent.getMovableDataRows()[rowIndex].querySelectorAll("td.e-rowcell") : this.parent.getDataRows()[rowIndex].querySelectorAll("td.e-rowcell");
            return parseInt(cells[cells.length - 1].getAttribute("aria-colindex"), 10);
        }, Selection.prototype.clearCell = function() {
            this.clearCellSelection();
        }, Selection.prototype.cellDeselect = function(type, cellIndexes, data, cells, foreignKeyData$$1) {
            cells[0] && cells[0].classList.contains("e-gridchkbox") && this.updateCheckBoxes(closest(cells[0], "tr"));
            var args = {
                cells: cells,
                data: data,
                cellIndexes: cellIndexes,
                foreignKeyData: foreignKeyData$$1,
                cancel: !1
            };
            this.parent.trigger(type, args), this.isPreventCellSelect = args.cancel;
        }, Selection.prototype.updateCellSelection = function(selectedCell, rowIndex, cellIndex) {
            isNullOrUndefined(rowIndex) || this.addRowCellIndex({
                rowIndex: rowIndex,
                cellIndex: cellIndex
            }), selectedCell.classList.add("e-cellselectionbackground"), selectedCell.classList.contains("e-gridchkbox") && this.updateCheckBoxes(closest(selectedCell, "tr"), !0), 
            this.addAttribute(selectedCell);
        }, Selection.prototype.addAttribute = function(cell) {
            this.target = cell, isNullOrUndefined(cell) || (cell.setAttribute("aria-selected", "true"), 
            this.preventFocus || this.focus.onClick({
                target: cell
            }, !0));
        }, Selection.prototype.updateCellProps = function(startIndex, endIndex) {
            this.prevCIdxs = startIndex, this.prevECIdxs = endIndex, this.isCellSelected = this.selectedRowCellIndexes.length && !0;
        }, Selection.prototype.addRowCellIndex = function(rowCellIndex) {
            for (var isRowAvail, index, i = 0, len = this.selectedRowCellIndexes.length; i < len; i++) if (this.selectedRowCellIndexes[i].rowIndex === rowCellIndex.rowIndex) {
                isRowAvail = !0, index = i;
                break;
            }
            isRowAvail ? this.selectedRowCellIndexes[index].cellIndexes.indexOf(rowCellIndex.cellIndex) < 0 && this.selectedRowCellIndexes[index].cellIndexes.push(rowCellIndex.cellIndex) : this.selectedRowCellIndexes.push({
                rowIndex: rowCellIndex.rowIndex,
                cellIndexes: [ rowCellIndex.cellIndex ]
            });
        }, Selection.prototype.clearCellSelection = function() {
            if (this.isCellSelected) {
                for (var gObj = this.parent, selectedCells = this.getSelectedCellsElement(), rowCell = this.selectedRowCellIndexes, data = [], cells = [], foreignKeyData$$1 = [], currentViewData = gObj.getCurrentViewRecords(), frzCols = gObj.getFrozenColumns(), i = 0, len = rowCell.length; i < len; i++) {
                    data.push(currentViewData[rowCell[i].rowIndex]);
                    for (var rowObj = this.getRowObj(rowCell[i].rowIndex), j = 0, cLen = rowCell[i].cellIndexes.length; j < cLen; j++) frzCols ? rowCell[i].cellIndexes[j] < frzCols ? cells.push(gObj.getCellFromIndex(rowCell[i].rowIndex, rowCell[i].cellIndexes[j])) : cells.push(gObj.getMovableCellFromIndex(rowCell[i].rowIndex, rowCell[i].cellIndexes[j])) : (foreignKeyData$$1.push(rowObj.cells[rowCell[i].cellIndexes[j]].foreignKeyData), 
                    cells.push(gObj.getCellFromIndex(rowCell[i].rowIndex, rowCell[i].cellIndexes[j])));
                }
                if (this.cellDeselect("cellDeselecting", rowCell, data, cells, foreignKeyData$$1), 
                !0 === this.isPreventCellSelect) return;
                for (i = 0, len = selectedCells.length; i < len; i++) selectedCells[i].classList.remove("e-cellselectionbackground"), 
                selectedCells[i].removeAttribute("aria-selected");
                this.selectedRowCellIndexes = [], this.isCellSelected = !1, this.cellDeselect("cellDeselected", rowCell, data, cells, foreignKeyData$$1);
            }
        }, Selection.prototype.getSelectedCellsElement = function() {
            var mRows, gObj = this.parent, rows = gObj.getDataRows();
            gObj.getFrozenColumns() && (mRows = gObj.getMovableDataRows(), rows = gObj.addMovableRows(rows, mRows));
            for (var cells = [], i = 0, len = rows.length; i < len; i++) cells = cells.concat([].slice.call(rows[i].querySelectorAll(".e-cellselectionbackground")));
            return cells;
        }, Selection.prototype.mouseMoveHandler = function(e) {
            e.preventDefault();
            var tmp, gBRect = this.parent.element.getBoundingClientRect(), x1 = this.x, y1 = this.y, position = getPosition(e), x2 = position.x - gBRect.left, y2 = position.y - gBRect.top, target = closest(e.target, "tr");
            if (this.isDragged = !0, this.isCellDrag || (target || (target = closest(document.elementFromPoint(this.parent.element.offsetLeft + 2, e.clientY), "tr")), 
            x1 > x2 && (tmp = x2, x2 = x1, x1 = tmp), y1 > y2 && (tmp = y2, y2 = y1, y1 = tmp), 
            this.element.style.left = x1 + "px", this.element.style.top = y1 + "px", this.element.style.width = x2 - x1 + "px", 
            this.element.style.height = y2 - y1 + "px"), target && !e.ctrlKey && !e.shiftKey) {
                var rowIndex = parseInt(target.getAttribute("aria-rowindex"), 10);
                if (this.isCellDrag) {
                    var td = parentsUntil(e.target, "e-rowcell");
                    td && this.selectLikeExcel(rowIndex, parseInt(td.getAttribute("aria-colindex"), 10));
                } else this.selectRowsByRange(this.startIndex, rowIndex);
            }
        }, Selection.prototype.selectLikeExcel = function(rowIndex, cellIndex) {
            this.clearCellSelection(), this.selectCellsByRange({
                rowIndex: this.startIndex,
                cellIndex: this.startCellIndex
            }, {
                rowIndex: rowIndex,
                cellIndex: cellIndex
            });
        }, Selection.prototype.mouseUpHandler = function(e) {
            document.body.classList.remove("e-disableuserselect"), this.element && remove(this.element), 
            EventHandler.remove(this.parent.getContent(), "mousemove", this.mouseMoveHandler), 
            EventHandler.remove(document.body, "mouseup", this.mouseUpHandler), this.isDragged = !1;
        }, Selection.prototype.mouseDownHandler = function(e) {
            var isDrag, target = e.target, gObj = this.parent, gridElement = parentsUntil(target, "e-grid");
            if ((!gridElement || gridElement.id === gObj.element.id) && ((e.shiftKey || e.ctrlKey) && e.preventDefault(), 
            target.classList.contains("e-rowcell") && !e.shiftKey && !e.ctrlKey)) {
                if ("Box" !== gObj.selectionSettings.cellSelectionMode || this.isRowType() || this.isSingleSel()) {
                    if (gObj.allowRowDragAndDrop) {
                        if (!this.isRowType() || this.isSingleSel() || closest(target, "td").classList.contains("e-selectionbackground")) return void (this.isDragged = !1);
                        isDrag = !0, this.element = createElement("div", {
                            className: "e-griddragarea"
                        }), gObj.getContent().appendChild(this.element);
                    }
                } else this.isCellDrag = !0, isDrag = !0;
                if (isDrag) {
                    var tr = closest(e.target, "tr");
                    this.startIndex = parseInt(tr.getAttribute("aria-rowindex"), 10), this.startCellIndex = parseInt(parentsUntil(target, "e-rowcell").getAttribute("aria-colindex"), 10), 
                    document.body.classList.add("e-disableuserselect");
                    var gBRect = gObj.element.getBoundingClientRect(), postion = getPosition(e);
                    this.x = postion.x - gBRect.left, this.y = postion.y - gBRect.top, EventHandler.add(gObj.getContent(), "mousemove", this.mouseMoveHandler, this), 
                    EventHandler.add(document.body, "mouseup", this.mouseUpHandler, this);
                }
            }
        }, Selection.prototype.clearSelAfterRefresh = function(e) {
            "virtualscroll" === e.requestType || this.parent.isPersistSelection || this.clearSelection();
        }, Selection.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(initialEnd, this.initializeSelection, this), 
            this.parent.on("rowselected", this.onActionComplete, this), this.parent.on("cellselected", this.onActionComplete, this), 
            this.parent.on(inBoundModelChanged, this.onPropertyChanged, this), this.parent.on("cellfocused", this.onCellFocused, this), 
            this.parent.on(dataReady, this.clearSelAfterRefresh, this), this.parent.on(columnPositionChanged, this.columnPositionChanged, this), 
            this.parent.on(contentReady, this.initialEnd, this), this.actionBeginFunction = this.actionBegin.bind(this), 
            this.actionCompleteFunction = this.actionComplete.bind(this), this.parent.addEventListener(actionBegin, this.actionBeginFunction), 
            this.parent.addEventListener(actionComplete, this.actionCompleteFunction), this.parent.on(rowsRemoved, this.rowsRemoved, this), 
            this.parent.on(headerRefreshed, this.refreshHeader, this), this.addEventListener_checkbox());
        }, Selection.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(initialEnd, this.initializeSelection), 
            this.parent.off("rowselected", this.onActionComplete), this.parent.off("cellselected", this.onActionComplete), 
            this.parent.off(inBoundModelChanged, this.onPropertyChanged), this.parent.off("cellfocused", this.onCellFocused), 
            this.parent.off(dataReady, this.clearSelAfterRefresh), this.parent.off(columnPositionChanged, this.columnPositionChanged), 
            this.parent.removeEventListener(actionBegin, this.actionBeginFunction), this.parent.removeEventListener(actionComplete, this.actionCompleteFunction), 
            this.parent.off(rowsRemoved, this.rowsRemoved), this.parent.off(headerRefreshed, this.refreshHeader), 
            this.removeEventListener_checkbox());
        }, Selection.prototype.columnPositionChanged = function() {
            this.parent.isPersistSelection || this.clearSelection();
        }, Selection.prototype.refreshHeader = function() {
            this.setCheckAllState();
        }, Selection.prototype.rowsRemoved = function(e) {
            for (var i = 0; i < e.records.length; i++) delete this.selectedRowState[e.records[i][this.primaryKey]], 
            --this.totalRecordsCount;
            this.setCheckAllState();
        }, Selection.prototype.dataReady = function(e) {
            "virtualscroll" === e.requestType || this.parent.isPersistSelection || this.clearSelection();
        }, Selection.prototype.getCheckAllBox = function() {
            return this.parent.getHeaderContent().querySelector(".e-checkselectall");
        }, Selection.prototype.onPropertyChanged = function(e) {
            if (e.module === this.getModuleName()) {
                this.parent;
                isNullOrUndefined(e.properties.type) || "Single" !== this.selectionSettings.type || (this.selectedRowCellIndexes.length > 1 && this.clearCellSelection(), 
                this.selectedRowIndexes.length > 1 && this.clearRowSelection(), this.enableSelectMultiTouch = !1, 
                this.hidePopUp()), isNullOrUndefined(e.properties.mode) && isNullOrUndefined(e.properties.cellSelectionMode) || this.clearSelection(), 
                this.checkBoxSelectionChanged(), this.initPerisistSelection();
            }
        }, Selection.prototype.hidePopUp = function() {
            this.parent.element.querySelector(".e-gridpopup").querySelectorAll(".e-rowselect").length && (this.parent.element.querySelector(".e-gridpopup").style.display = "none");
        }, Selection.prototype.initialEnd = function() {
            this.parent.off(contentReady, this.initialEnd), this.selectRow(this.parent.selectedRowIndex);
        }, Selection.prototype.checkBoxSelectionChanged = function() {
            this.parent.off(contentReady, this.checkBoxSelectionChanged);
            var gobj = this.parent, checkboxColumn = gobj.getColumns().filter(function(col) {
                return "checkbox" === col.type;
            });
            checkboxColumn.length > 0 && (gobj.isCheckBoxSelection = !0, this.chkField = checkboxColumn[0].field, 
            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount, isNullOrUndefined(this.totalRecordsCount) && (this.totalRecordsCount = this.parent.getCurrentViewRecords().length), 
            this.isSingleSel() ? (gobj.selectionSettings.type = "Multiple", gobj.dataBind()) : this.initPerisistSelection()), 
            gobj.isCheckBoxSelection || (this.chkField = null, this.initPerisistSelection());
        }, Selection.prototype.initPerisistSelection = function() {
            var gobj = this.parent;
            this.parent.selectionSettings.persistSelection && this.parent.getPrimaryKeyFieldNames().length > 0 ? (gobj.isPersistSelection = !0, 
            this.ensureCheckboxFieldSelection()) : this.parent.getPrimaryKeyFieldNames().length > 0 ? (gobj.isPersistSelection = !1, 
            this.ensureCheckboxFieldSelection()) : (gobj.isPersistSelection = !1, this.selectedRowState = {});
        }, Selection.prototype.ensureCheckboxFieldSelection = function() {
            var gobj = this.parent;
            if (this.primaryKey = this.parent.getPrimaryKeyFieldNames()[0], !gobj.enableVirtualization && this.chkField && (gobj.isPersistSelection && 0 === Object.keys(this.selectedRowState).length || !gobj.isPersistSelection)) {
                var data = this.parent.getDataModule(), query = new Query().where(this.chkField, "equal", !0), dataManager = data.getData({}, query), proxy_1 = this;
                this.parent.showSpinner(), dataManager.then(function(e) {
                    proxy_1.dataSuccess(e.result), proxy_1.refreshPersistSelection(), proxy_1.parent.hideSpinner();
                });
            }
        }, Selection.prototype.dataSuccess = function(res) {
            for (var i = 0; i < res.length; i++) isNullOrUndefined(this.selectedRowState[res[i][this.primaryKey]]) && res[i][this.chkField] && (this.selectedRowState[res[i][this.primaryKey]] = res[i][this.chkField]);
            this.persistSelectedData = res;
        }, Selection.prototype.setRowSelection = function(state) {
            if (!this.parent.getDataModule().isRemote()) if (state) for (var _i = 0, _a = this.getData(); _i < _a.length; _i++) {
                var data = _a[_i];
                this.selectedRowState[data[this.primaryKey]] = !0;
            } else this.selectedRowState = {};
        }, Selection.prototype.getData = function() {
            return this.parent.getDataModule().dataManager.dataSource.json;
        }, Selection.prototype.refreshPersistSelection = function() {
            var rows = this.parent.getRows();
            if (rows.length > 0 && (this.parent.isPersistSelection || this.chkField)) {
                for (var indexes = [], j = 0; j < rows.length; j++) {
                    var rowObj = this.getRowObj(rows[j]), pKey = rowObj ? rowObj.data[this.primaryKey] : null;
                    if (null === pKey) return;
                    var checkState = void 0, chkBox = rows[j].querySelector(".e-checkselect");
                    this.selectedRowState[pKey] || "Check" === this.parent.checkAllRows && this.chkAllCollec.indexOf(pKey) < 0 || "Uncheck" === this.parent.checkAllRows && this.chkAllCollec.indexOf(pKey) > 0 || "Intermediate" === this.parent.checkAllRows && !isNullOrUndefined(this.chkField) && rowObj.data[this.chkField] ? (indexes.push(parseInt(rows[j].getAttribute("aria-rowindex"), 10)), 
                    checkState = !0) : (checkState = !1, this.checkedTarget !== chkBox && this.parent.isCheckBoxSelection && removeAddCboxClasses(chkBox.nextElementSibling, checkState)), 
                    this.updatePersistCollection(rows[j], checkState);
                }
                this.isSingleSel() && indexes.length > 0 ? this.selectRow(indexes[0], !0) : this.selectRows(indexes);
            }
            this.parent.isCheckBoxSelection && this.parent.getCurrentViewRecords().length > 0 && this.setCheckAllState();
        }, Selection.prototype.actionBegin = function(e) {
            if ("save" === e.requestType && this.parent.isPersistSelection) {
                var editChkBox = this.parent.element.querySelector(".e-edit-checkselect");
                if (!isNullOrUndefined(editChkBox)) {
                    var row = closest(editChkBox, ".e-editedrow");
                    if (row) {
                        "Dialog" === this.parent.editSettings.mode && (row = this.parent.element.querySelector(".e-dlgeditrow"));
                        var rowObj = this.getRowObj(row);
                        if (!rowObj) return;
                        this.selectedRowState[rowObj.data[this.primaryKey]] = rowObj.isSelected = editChkBox.checked;
                    } else this.isCheckedOnAdd = editChkBox.checked;
                }
            }
        }, Selection.prototype.actionComplete = function(e) {
            if ("save" === e.requestType && this.parent.isPersistSelection) {
                if ("add" === e.action && this.isCheckedOnAdd) {
                    var rowObj = this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute("data-uid"));
                    this.selectedRowState[rowObj.data[this.primaryKey]] = rowObj.isSelected = this.isCheckedOnAdd;
                }
                this.refreshPersistSelection();
            }
        }, Selection.prototype.onDataBound = function() {
            !this.parent.enableVirtualization && this.parent.isPersistSelection && this.refreshPersistSelection();
        }, Selection.prototype.checkSelectAllAction = function(checkState) {
            var cRenderer = this.getRenderer(), editForm = this.parent.element.querySelector(".e-gridform");
            if (this.checkedTarget = this.getCheckAllBox(), checkState && this.parent.getCurrentViewRecords().length ? (this.selectRowsByRange(cRenderer.getVirtualRowIndex(0), cRenderer.getVirtualRowIndex(this.parent.getCurrentViewRecords().length)), 
            this.parent.checkAllRows = "Check") : (this.clearSelection(), this.parent.checkAllRows = "Uncheck"), 
            this.chkAllCollec = [], this.parent.isPersistSelection) {
                for (var rows = this.parent.getRows(), i = 0; i < rows.length; i++) this.updatePersistCollection(rows[i], checkState);
                "Uncheck" === this.parent.checkAllRows ? (this.setRowSelection(!1), this.persistSelectedData = []) : "Check" === this.parent.checkAllRows && (this.setRowSelection(!0), 
                this.persistSelectedData = this.getData().slice());
            }
            if (!isNullOrUndefined(editForm)) {
                removeAddCboxClasses(editForm.querySelector(".e-edit-checkselect").nextElementSibling, checkState);
            }
        }, Selection.prototype.checkSelectAll = function(checkBox) {
            var state = "Check" === this.getCheckAllStatus(checkBox);
            this.checkSelectAllAction(!state), this.target = null, this.parent.getCurrentViewRecords().length > 0 && this.setCheckAllState(), 
            this.triggerChkChangeEvent(checkBox, !state);
        }, Selection.prototype.getCheckAllStatus = function(ele) {
            var classes = ele ? ele.nextElementSibling.classList : this.getCheckAllBox().nextElementSibling.classList;
            return classes.contains("e-check") ? "Check" : classes.contains("e-uncheck") ? "Uncheck" : classes.contains("e-stop") ? "Intermediate" : "None";
        }, Selection.prototype.checkSelect = function(checkBox) {
            var target = closest(this.checkedTarget, ".e-rowcell");
            this.isMultiCtrlRequest = !0;
            var rIndex = parseInt(target.parentElement.getAttribute("aria-rowindex"), 10);
            this.parent.isPersistSelection && this.parent.element.querySelectorAll(".e-addedrow").length > 0 && ++rIndex, 
            this.rowCellSelectionHandler(rIndex, parseInt(target.getAttribute("aria-colindex"), 10)), 
            this.moveIntoUncheckCollection(closest(target, ".e-row")), this.setCheckAllState(), 
            this.isMultiCtrlRequest = !1, this.triggerChkChangeEvent(checkBox, checkBox.nextElementSibling.classList.contains("e-check"));
        }, Selection.prototype.moveIntoUncheckCollection = function(row) {
            if ("Check" === this.parent.checkAllRows || "Uncheck" === this.parent.checkAllRows) {
                var rowObj = this.getRowObj(row), pKey = rowObj && rowObj.data ? rowObj.data[this.primaryKey] : null;
                if (!pKey) return;
                this.chkAllCollec.indexOf(pKey) < 0 ? this.chkAllCollec.push(pKey) : this.chkAllCollec.splice(this.chkAllCollec.indexOf(pKey), 1);
            }
        }, Selection.prototype.triggerChkChangeEvent = function(checkBox, checkState) {
            this.parent.trigger("checkBoxChange", {
                checked: checkState,
                selectedRowIndexes: this.parent.getSelectedRowIndexes(),
                target: checkBox
            }), this.parent.isEdit || (this.checkedTarget = null);
        }, Selection.prototype.setCheckAllState = function(isInteraction) {
            if (this.parent.isCheckBoxSelection) {
                var checkedLen = Object.keys(this.selectedRowState).length;
                if (this.parent.isPersistSelection || (checkedLen = this.selectedRecords.length, 
                this.totalRecordsCount = this.parent.getCurrentViewRecords().length), this.getCheckAllBox()) {
                    var spanEle = this.getCheckAllBox().nextElementSibling;
                    removeClass([ spanEle ], [ "e-check", "e-stop", "e-uncheck" ]), checkedLen === this.totalRecordsCount ? (addClass([ spanEle ], [ "e-check" ]), 
                    isInteraction && this.getRenderer().setSelection(null, !0, !0), this.parent.checkAllRows = "Check") : 0 === checkedLen || 0 === this.parent.getCurrentViewRecords().length ? (addClass([ spanEle ], [ "e-uncheck" ]), 
                    isInteraction && this.getRenderer().setSelection(null, !1, !0), this.parent.checkAllRows = "Uncheck") : (addClass([ spanEle ], [ "e-stop" ]), 
                    this.parent.checkAllRows = "Intermediate");
                }
            }
        }, Selection.prototype.clickHandler = function(e) {
            var target = e.target;
            this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch, this.isMultiShiftRequest = e.shiftKey, 
            this.popUpClickHandler(e);
            var chkSelect = !1;
            this.preventFocus = !0;
            var checkBox, checkWrap = parentsUntil(target, "e-checkbox-wrapper");
            if (checkWrap && checkWrap.querySelectorAll(".e-checkselect,.e-checkselectall").length > 0 && (checkBox = checkWrap.querySelector('input[type="checkbox"]'), 
            chkSelect = !0), (target = parentsUntil(target, "e-rowcell")) && target.parentElement.classList.contains("e-row") && !this.parent.selectionSettings.checkboxOnly || chkSelect) {
                if (this.parent.isCheckBoxSelection && (this.isMultiCtrlRequest = !0), this.target = target, 
                isNullOrUndefined(checkBox)) {
                    var rIndex = parseInt(target.parentElement.getAttribute("aria-rowindex"), 10);
                    this.parent.isPersistSelection && this.parent.element.querySelectorAll(".e-addedrow").length > 0 && ++rIndex, 
                    this.rowCellSelectionHandler(rIndex, parseInt(target.getAttribute("aria-colindex"), 10)), 
                    this.parent.isCheckBoxSelection && (this.moveIntoUncheckCollection(closest(target, ".e-row")), 
                    this.setCheckAllState());
                } else this.checkedTarget = checkBox, checkBox.classList.contains("e-checkselectall") ? this.checkSelectAll(checkBox) : (this.checkSelect(checkBox), 
                this.target = closest(target, ".e-rowcell"));
                this.parent.isCheckBoxSelection || !Browser.isDevice || this.isSingleSel() || this.showPopup(e);
            }
            this.isMultiCtrlRequest = !1, this.isMultiShiftRequest = !1, this.preventFocus = !1;
        }, Selection.prototype.popUpClickHandler = function(e) {
            var target = e.target;
            closest(target, ".e-headercell") || e.target.classList.contains("e-rowcell") || closest(target, ".e-gridpopup") ? target.classList.contains("e-rowselect") && (target.classList.contains("e-spanclicked") ? (target.classList.remove("e-spanclicked"), 
            this.enableSelectMultiTouch = !1, this.parent.element.querySelector(".e-gridpopup").style.display = "none") : (target.classList.add("e-spanclicked"), 
            this.enableSelectMultiTouch = !0)) : this.parent.element.querySelector(".e-gridpopup").style.display = "none";
        }, Selection.prototype.showPopup = function(e) {
            setCssInGridPopUp(this.parent.element.querySelector(".e-gridpopup"), e, "e-rowselect e-icons e-icon-rowselect" + (!this.isSingleSel() && (this.selectedRecords.length > (this.parent.getFrozenColumns() ? 2 : 1) || this.selectedRowCellIndexes.length > 1) ? " e-spanclicked" : ""));
        }, Selection.prototype.rowCellSelectionHandler = function(rowIndex, cellIndex) {
            !this.isMultiCtrlRequest && !this.isMultiShiftRequest || this.isSingleSel() ? (this.isDragged || this.selectRow(rowIndex, !0), 
            this.selectCell({
                rowIndex: rowIndex,
                cellIndex: cellIndex
            }, !0)) : this.isMultiShiftRequest ? (this.selectRowsByRange(isUndefined(this.prevRowIndex) ? rowIndex : this.prevRowIndex, rowIndex), 
            this.selectCellsByRange(isUndefined(this.prevCIdxs) ? {
                rowIndex: rowIndex,
                cellIndex: cellIndex
            } : this.prevCIdxs, {
                rowIndex: rowIndex,
                cellIndex: cellIndex
            })) : (this.addRowsToSelection([ rowIndex ]), this.addCellsToSelection([ {
                rowIndex: rowIndex,
                cellIndex: cellIndex
            } ])), this.isDragged = !1;
        }, Selection.prototype.onCellFocused = function(e) {
            if (this.parent.frozenRows && e.container.isHeader && e.byKey) if ("upArrow" === e.keyArgs.action) this.parent.allowFiltering ? e.isJump = "INPUT" === e.element.tagName : e.isJump = "TH" === e.element.tagName; else if ("downArrow" === e.keyArgs.action) {
                var rIdx = Number(e.element.parentElement.getAttribute("aria-rowindex"));
                e.isJump = 0 === rIdx;
            } else "ctrlHome" === e.keyArgs.action && (e.isJump = !0);
            var clear = this.parent.getFrozenColumns() ? (e.container.isHeader && "TD" !== e.element.tagName && e.isJump || (e.container.isContent || "TD" === e.element.tagName) && !(e.container.isSelectable || "TD" === e.element.tagName)) && !(e.byKey && "space" === e.keyArgs.action) : (e.container.isHeader && e.isJump || e.container.isContent && !e.container.isSelectable) && !(e.byKey && "space" === e.keyArgs.action), headerAction = e.container.isHeader && "TD" !== e.element.tagName && !closest(e.element, ".e-rowcell") && !(e.byKey && "space" === e.keyArgs.action);
            if (e.byKey && !clear) {
                var _a = e.container.isContent ? e.container.indexes : e.indexes, rowIndex = _a[0], cellIndex = _a[1], prev = this.focus.getPrevIndexes();
                if (this.parent.frozenRows) {
                    if (e.container.isHeader && ("TD" === e.element.tagName || closest(e.element, ".e-rowcell"))) {
                        var thLen = this.parent.getHeaderTable().querySelector("thead").childElementCount;
                        rowIndex -= thLen, prev.rowIndex = prev.rowIndex ? prev.rowIndex - thLen : null;
                    } else rowIndex += this.parent.frozenRows, prev.rowIndex = 0 !== prev.rowIndex && isNullOrUndefined(prev.rowIndex) ? null : prev.rowIndex + this.parent.frozenRows;
                    if (this.parent.getFrozenColumns()) {
                        var cIdx = Number(e.element.getAttribute("aria-colindex"));
                        prev.cellIndex = prev.cellIndex ? prev.cellIndex === cellIndex ? cIdx : cIdx - 1 : null, 
                        cellIndex = cIdx;
                    }
                }
                if (!(headerAction || -1 === [ "ctrlPlusA", "escape" ].indexOf(e.keyArgs.action) && "space" !== e.keyArgs.action && rowIndex === prev.rowIndex && cellIndex === prev.cellIndex)) {
                    switch (this.preventFocus = !0, e.keyArgs.action) {
                      case "downArrow":
                      case "upArrow":
                      case "enter":
                      case "shiftEnter":
                        this.applyDownUpKey(rowIndex, cellIndex);
                        break;

                      case "rightArrow":
                      case "leftArrow":
                        this.applyRightLeftKey(rowIndex, cellIndex);
                        break;

                      case "shiftDown":
                      case "shiftUp":
                        this.shiftDownKey(rowIndex, cellIndex);
                        break;

                      case "shiftLeft":
                      case "shiftRight":
                        this.applyShiftLeftRightKey(rowIndex, cellIndex);
                        break;

                      case "home":
                      case "end":
                        cellIndex = "end" === e.keyArgs.action ? this.getLastColIndex(rowIndex) : 0, this.applyHomeEndKey(rowIndex, cellIndex);
                        break;

                      case "ctrlHome":
                      case "ctrlEnd":
                        this.applyCtrlHomeEndKey(rowIndex, cellIndex);
                        break;

                      case "escape":
                        this.clearSelection();
                        break;

                      case "ctrlPlusA":
                        this.ctrlPlusA();
                        break;

                      case "space":
                        this.applySpaceSelection(e.element);
                    }
                    this.preventFocus = !1;
                }
            } else clear && this.clearSelection();
        }, Selection.prototype.ctrlPlusA = function() {
            this.isRowType() && !this.isSingleSel() && this.selectRowsByRange(0, this.parent.getRows().length - 1), 
            this.isCellType() && !this.isSingleSel() && this.selectCellsByRange({
                rowIndex: 0,
                cellIndex: 0
            }, {
                rowIndex: this.parent.getRows().length - 1,
                cellIndex: this.parent.getColumns().length - 1
            });
        }, Selection.prototype.applySpaceSelection = function(target) {
            target.classList.contains("e-checkselectall") ? (this.checkedTarget = target, this.checkSelectAll(this.checkedTarget)) : target.classList.contains("e-checkselect") && (this.checkedTarget = target, 
            this.checkSelect(this.checkedTarget));
        }, Selection.prototype.applyDownUpKey = function(rowIndex, cellIndex) {
            var gObj = this.parent;
            this.parent.isCheckBoxSelection && "Check" === this.parent.checkAllRows && (this.checkSelectAllAction(!1), 
            this.checkedTarget = null), this.isRowType() && (this.parent.frozenRows, this.selectRow(rowIndex, !0), 
            this.applyUpDown(gObj.selectedRowIndex)), this.isCellType() && this.selectCell({
                rowIndex: rowIndex,
                cellIndex: cellIndex
            }, !0);
        }, Selection.prototype.applyUpDown = function(rowIndex) {
            if (!(rowIndex < 0)) {
                this.target || (this.target = this.parent.getRows()[0].children[this.parent.groupSettings.columns.length || 0]);
                var cIndex = parseInt(this.target.getAttribute("aria-colindex"), 10), frzCols = this.parent.getFrozenColumns();
                this.target = frzCols && cIndex >= frzCols ? this.contentRenderer.getMovableRowByIndex(rowIndex).querySelectorAll(".e-rowcell")[cIndex - frzCols] : this.contentRenderer.getRowByIndex(rowIndex).querySelectorAll(".e-rowcell")[cIndex], 
                this.addAttribute(this.target);
            }
        }, Selection.prototype.applyRightLeftKey = function(rowIndex, cellIndex) {
            this.parent;
            this.isCellType() && (this.selectCell({
                rowIndex: rowIndex,
                cellIndex: cellIndex
            }, !0), this.addAttribute(this.target));
        }, Selection.prototype.applyHomeEndKey = function(rowIndex, cellIndex) {
            this.isCellType() ? this.selectCell({
                rowIndex: rowIndex,
                cellIndex: cellIndex
            }, !0) : this.addAttribute(this.parent.getCellFromIndex(rowIndex, cellIndex));
        }, Selection.prototype.shiftDownKey = function(rowIndex, cellIndex) {
            this.parent;
            this.isMultiShiftRequest = !0, this.isRowType() && !this.isSingleSel() && (isUndefined(this.prevRowIndex) ? this.selectRow(0, !0) : (this.selectRowsByRange(this.prevRowIndex, rowIndex), 
            this.applyUpDown(rowIndex))), this.isCellType() && !this.isSingleSel() && this.selectCellsByRange(this.prevCIdxs || {
                rowIndex: 0,
                cellIndex: 0
            }, {
                rowIndex: rowIndex,
                cellIndex: cellIndex
            }), this.isMultiShiftRequest = !1;
        }, Selection.prototype.applyShiftLeftRightKey = function(rowIndex, cellIndex) {
            this.parent;
            this.isMultiShiftRequest = !0, this.selectCellsByRange(this.prevCIdxs, {
                rowIndex: rowIndex,
                cellIndex: cellIndex
            }), this.isMultiShiftRequest = !1;
        }, Selection.prototype.applyCtrlHomeEndKey = function(rowIndex, cellIndex) {
            this.isRowType() && (this.selectRow(rowIndex, !0), this.addAttribute(this.parent.getCellFromIndex(rowIndex, cellIndex))), 
            this.isCellType() && this.selectCell({
                rowIndex: rowIndex,
                cellIndex: cellIndex
            }, !0);
        }, Selection.prototype.addRemoveClassesForRow = function(row, isAdd, clearAll) {
            for (var args = [], _i = 3; _i < arguments.length; _i++) args[_i - 3] = arguments[_i];
            if (row) {
                var cells = [].slice.call(row.querySelectorAll(".e-rowcell")), cell = row.querySelector(".e-detailrowcollapse") || row.querySelector(".e-detailrowexpand");
                cell && cells.push(cell), addRemoveActiveClasses.apply(void 0, [ cells, isAdd ].concat(args));
            }
            this.getRenderer().setSelection(row ? row.getAttribute("data-uid") : null, isAdd, clearAll);
        }, Selection.prototype.isRowType = function() {
            return "Row" === this.selectionSettings.mode || "Both" === this.selectionSettings.mode;
        }, Selection.prototype.isCellType = function() {
            return "Cell" === this.selectionSettings.mode || "Both" === this.selectionSettings.mode;
        }, Selection.prototype.isSingleSel = function() {
            return "Single" === this.selectionSettings.type;
        }, Selection.prototype.getRenderer = function() {
            return isNullOrUndefined(this.contentRenderer) && (this.contentRenderer = this.factory.getRenderer(RenderType.Content)), 
            this.contentRenderer;
        }, Selection.prototype.getSelectedRecords = function() {
            return this.selectionSettings.persistSelection ? this.persistSelectedData : this.parent.getRowsObject().filter(function(row) {
                return row.isSelected;
            }).map(function(m) {
                return m.data;
            });
        }, Selection.prototype.addEventListener_checkbox = function() {
            this.parent.on(dataReady, this.dataReady, this), this.onDataBoundFunction = this.onDataBound.bind(this), 
            this.parent.addEventListener(dataBound, this.onDataBoundFunction), this.parent.on(contentReady, this.checkBoxSelectionChanged, this), 
            this.actionCompleteFunc = this.actionCompleteHandler.bind(this), this.parent.addEventListener(actionComplete, this.actionCompleteFunc), 
            this.parent.on(click, this.clickHandler, this);
        }, Selection.prototype.removeEventListener_checkbox = function() {
            this.parent.off(dataReady, this.dataReady), this.parent.removeEventListener(dataBound, this.onDataBoundFunction), 
            this.parent.removeEventListener(actionComplete, this.actionCompleteFunc), this.parent.off(click, this.clickHandler);
        }, Selection.prototype.actionCompleteHandler = function(e) {
            "save" === e.requestType && this.parent.isPersistSelection && this.refreshPersistSelection();
        }, Selection;
    }(), Search = function() {
        function Search(parent) {
            this.parent = parent, this.addEventListener();
        }
        return Search.prototype.search = function(searchString) {
            var gObj = this.parent;
            searchString = isNullOrUndefined(searchString) ? "" : searchString, isActionPrevent(gObj) ? gObj.notify(preventBatch, {
                instance: this,
                handler: this.search,
                arg1: searchString
            }) : searchString !== gObj.searchSettings.key ? (gObj.searchSettings.key = searchString.toString(), 
            gObj.dataBind()) : this.refreshSearch && gObj.refresh();
        }, Search.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(inBoundModelChanged, this.onPropertyChanged, this), 
            this.parent.on("searching-complete", this.onSearchComplete, this), this.parent.on(destroy, this.destroy, this), 
            this.actionCompleteFunc = this.onActionComplete.bind(this), this.parent.addEventListener(actionComplete, this.actionCompleteFunc));
        }, Search.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(inBoundModelChanged, this.onPropertyChanged), 
            this.parent.off("searching-complete", this.onSearchComplete), this.parent.off(destroy, this.destroy), 
            this.parent.removeEventListener(actionComplete, this.actionCompleteFunc));
        }, Search.prototype.destroy = function() {
            this.removeEventListener();
        }, Search.prototype.onPropertyChanged = function(e) {
            e.module === this.getModuleName() && (isNullOrUndefined(e.properties.key) ? this.parent.notify(modelChanged, {
                requestType: "searching",
                type: actionBegin
            }) : this.parent.notify(modelChanged, {
                requestType: "searching",
                type: actionBegin,
                searchString: this.parent.searchSettings.key
            }));
        }, Search.prototype.onSearchComplete = function(e) {
            this.parent.trigger(actionComplete, extend(e, {
                searchString: this.parent.searchSettings.key,
                requestType: "searching",
                type: actionComplete
            }));
        }, Search.prototype.onActionComplete = function(e) {
            this.refreshSearch = "searching" !== e.requestType;
        }, Search.prototype.getModuleName = function() {
            return "search";
        }, Search;
    }(), ShowHide = function() {
        function ShowHide(parent) {
            this.parent = parent;
        }
        return ShowHide.prototype.show = function(columnName, showBy) {
            var keys = this.getToggleFields(columnName), columns = this.getColumns(keys, showBy);
            this.parent.notify("tooltip-destroy", {
                module: "edit"
            }), columns.forEach(function(value) {
                value.visible = !0;
            }), this.setVisible(columns);
        }, ShowHide.prototype.hide = function(columnName, hideBy) {
            var keys = this.getToggleFields(columnName), columns = this.getColumns(keys, hideBy);
            this.parent.notify("tooltip-destroy", {
                module: "edit"
            }), columns.forEach(function(value) {
                value.visible = !1;
            }), this.setVisible(columns);
        }, ShowHide.prototype.getToggleFields = function(key) {
            return "string" == typeof key ? [ key ] : key;
        }, ShowHide.prototype.getColumns = function(keys, getKeyBy) {
            var _this = this;
            return iterateArrayOrObject(keys, function(key, index) {
                return iterateArrayOrObject(_this.parent.getColumns(), function(item, index) {
                    if (item[getKeyBy] === key) return item;
                })[0];
            });
        }, ShowHide.prototype.setVisible = function(columns) {
            isActionPrevent(this.parent) ? this.parent.notify(preventBatch, {
                instance: this,
                handler: this.setVisible,
                arg1: columns
            }) : (columns = isNullOrUndefined(columns) ? this.parent.getColumns() : columns, 
            this.parent.allowSelection && this.parent.getSelectedRecords().length && this.parent.clearSelection(), 
            this.parent.notify(columnVisibilityChanged, columns));
        }, ShowHide;
    }(), Scroll = function() {
        function Scroll(parent) {
            this.lastScrollTop = 0, this.previousValues = {
                top: 0,
                left: 0
            }, this.oneTimeReady = !0, this.parent = parent, this.widthService = new ColumnWidthService(parent), 
            this.addEventListener();
        }
        return Scroll.prototype.getModuleName = function() {
            return "scroll";
        }, Scroll.prototype.setWidth = function() {
            this.parent.element.style.width = formatUnit(this.parent.width), this.parent.toolbarModule && this.parent.toolbarModule.toolbar && this.parent.toolbarModule.toolbar.element && this.parent.toolbarModule.toolbar.refreshOverflow();
        }, Scroll.prototype.setHeight = function() {
            var mHdrHeight = 0, content = this.parent.getContent().firstChild;
            this.parent.frozenRows && "auto" !== this.parent.height ? (mHdrHeight = this.parent.getHeaderContent().querySelector("tbody").offsetHeight, 
            content.style.height = formatUnit(this.parent.height - mHdrHeight)) : content.style.height = formatUnit(this.parent.height), 
            this.ensureOverflow(content);
        }, Scroll.prototype.setPadding = function() {
            var content = this.parent.getHeaderContent(), scrollWidth = Scroll.getScrollBarWidth() - this.getThreshold(), cssProps = this.getCssProperties();
            content.firstChild.style[cssProps.border] = scrollWidth > 0 ? "1px" : "0px", content.style[cssProps.padding] = scrollWidth > 0 ? scrollWidth + "px" : "0px";
        }, Scroll.prototype.removePadding = function(rtl) {
            var cssProps = this.getCssProperties(rtl);
            this.parent.getHeaderContent().firstChild.style[cssProps.border] = "", this.parent.getHeaderContent().firstChild.parentElement.style[cssProps.padding] = "";
        }, Scroll.prototype.refresh = function() {
            if ("100%" === this.parent.height) {
                var content = this.parent.getContent();
                this.parent.element.style.height = "100%";
                var height = this.widthService.getSiblingsHeight(content);
                content.style.height = "calc(100% - " + height + "px)";
            }
        }, Scroll.prototype.getThreshold = function() {
            return "mozilla" === Browser.info.name ? .5 : 1;
        }, Scroll.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(onEmpty, this.wireEvents, this), this.parent.on(contentReady, this.wireEvents, this), 
            this.parent.on(uiUpdate, this.onPropertyChanged, this));
        }, Scroll.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(onEmpty, this.wireEvents), this.parent.off(contentReady, this.wireEvents), 
            this.parent.off(uiUpdate, this.onPropertyChanged));
        }, Scroll.prototype.onContentScroll = function(scrollTarget) {
            var _this = this, element = scrollTarget, isHeader = element.classList.contains("e-headercontent");
            return function(e) {
                if (null !== _this.content.querySelector("tbody")) {
                    var target = e.target, left = target.scrollLeft, isFooter = (target.scrollWidth, 
                    target.classList.contains("e-summarycontent"));
                    _this.previousValues.left !== left ? (element.scrollLeft = left, isFooter && (_this.header.scrollLeft = left), 
                    _this.previousValues.left = left, _this.parent.notify("scroll", {
                        left: left
                    })) : _this.previousValues.top = isHeader ? target.scrollTop : _this.previousValues.top;
                }
            };
        }, Scroll.prototype.onFreezeContentScroll = function(scrollTarget) {
            var _this = this, element = scrollTarget;
            return function(e) {
                if (null !== _this.content.querySelector("tbody")) {
                    var top = e.target.scrollTop;
                    _this.previousValues.top !== top && (element.scrollTop = top, _this.previousValues.top = top, 
                    _this.parent.isDestroyed);
                }
            };
        }, Scroll.prototype.onWheelScroll = function(scrollTarget) {
            var _this = this, element = scrollTarget;
            return function(e) {
                if (null !== _this.content.querySelector("tbody")) {
                    var top = element.scrollTop + e.deltaMode === 1 ? 30 * e.deltaY : e.deltaY;
                    _this.previousValues.top !== top && (e.preventDefault(), _this.parent.getContent().querySelector(".e-frozencontent").scrollTop = top, 
                    element.scrollTop = top, _this.previousValues.top = top);
                }
            };
        }, Scroll.prototype.onTouchScroll = function(scrollTarget) {
            var _this = this, element = scrollTarget;
            return function(e) {
                if ("mouse" !== e.pointerType) {
                    var cont, mHdr, pageXY = _this.getPointXY(e), top = element.scrollTop + (_this.pageXY.y - pageXY.y), left = element.scrollLeft + (_this.pageXY.x - pageXY.x);
                    if (_this.parent.getHeaderContent().contains(e.target)) {
                        if (mHdr = _this.parent.getFrozenColumns() ? _this.parent.getHeaderContent().querySelector(".e-movableheader") : _this.parent.getHeaderContent().firstChild, 
                        _this.previousValues.left === left || left < 0 || mHdr.scrollWidth - mHdr.clientWidth < left) return;
                        e.preventDefault(), mHdr.scrollLeft = left, element.scrollLeft = left, _this.pageXY.x = pageXY.x, 
                        _this.previousValues.left = left;
                    } else {
                        if (cont = _this.parent.getContent().querySelector(".e-frozencontent"), _this.previousValues.top === top || top < 0 || cont.scrollHeight - cont.clientHeight < top) return;
                        e.preventDefault(), cont.scrollTop = top, element.scrollTop = top, _this.pageXY.y = pageXY.y, 
                        _this.previousValues.top = top;
                    }
                }
            };
        }, Scroll.prototype.setPageXY = function() {
            var _this = this;
            return function(e) {
                "mouse" !== e.pointerType && (_this.pageXY = _this.getPointXY(e));
            };
        }, Scroll.prototype.getPointXY = function(e) {
            var pageXY = {
                x: 0,
                y: 0
            };
            return e.touches && e.touches.length ? (pageXY.x = e.touches[0].pageX, pageXY.y = e.touches[0].pageY) : (pageXY.x = e.pageX, 
            pageXY.y = e.pageY), pageXY;
        }, Scroll.prototype.wireEvents = function() {
            if (this.oneTimeReady) {
                var frzCols = this.parent.getFrozenColumns();
                this.content = this.parent.getContent().firstChild, this.header = this.parent.getHeaderContent().firstChild;
                var mCont = this.content.querySelector(".e-movablecontent"), fCont = this.content.querySelector(".e-frozencontent"), mHdr = this.header.querySelector(".e-movableheader");
                this.parent.frozenRows && (EventHandler.add(frzCols ? mHdr : this.header, "touchstart pointerdown", this.setPageXY(), this), 
                EventHandler.add(frzCols ? mHdr : this.header, "touchmove pointermove", this.onTouchScroll(frzCols ? mCont : this.content), this)), 
                frzCols ? (EventHandler.add(mCont, "scroll", this.onContentScroll(mHdr), this), 
                EventHandler.add(mCont, "scroll", this.onFreezeContentScroll(fCont), this), EventHandler.add(fCont, "scroll", this.onFreezeContentScroll(mCont), this), 
                EventHandler.add(mHdr, "scroll", this.onContentScroll(mCont), this), EventHandler.add(fCont, "wheel", this.onWheelScroll(mCont), this), 
                EventHandler.add(fCont, "touchstart pointerdown", this.setPageXY(), this), EventHandler.add(fCont, "touchmove pointermove", this.onTouchScroll(mCont), this)) : (EventHandler.add(this.content, "scroll", this.onContentScroll(this.header), this), 
                EventHandler.add(this.header, "scroll", this.onContentScroll(this.content), this)), 
                this.parent.aggregates.length && EventHandler.add(this.parent.getFooterContent().firstChild, "scroll", this.onContentScroll(this.content), this), 
                this.refresh(), this.oneTimeReady = !1;
            }
            var table = this.parent.getContentTable();
            table.scrollHeight < this.parent.getContent().clientHeight && (addClass(table.querySelectorAll("tr:last-child td"), "e-lastrowcell"), 
            this.parent.getFrozenColumns() && addClass(this.parent.getContent().querySelector(".e-movablecontent").querySelectorAll("tr:last-child td"), "e-lastrowcell")), 
            this.parent.enableVirtualization || (this.content.scrollLeft = this.header.scrollLeft, 
            this.content.scrollTop = this.previousValues.top), this.parent.enableColumnVirtualization || (this.content.scrollLeft = this.header.scrollLeft);
        }, Scroll.prototype.getCssProperties = function(rtl) {
            var css = {}, enableRtl$$1 = isNullOrUndefined(rtl) ? this.parent.enableRtl : rtl;
            return css.border = enableRtl$$1 ? "borderLeftWidth" : "borderRightWidth", css.padding = enableRtl$$1 ? "paddingLeft" : "paddingRight", 
            css;
        }, Scroll.prototype.ensureOverflow = function(content) {
            this.parent.getFrozenColumns() ? content.querySelector(".e-movablecontent").style.overflowY = "auto" === this.parent.height ? "auto" : "scroll" : content.style.overflowY = "auto" === this.parent.height ? "auto" : "scroll";
        }, Scroll.prototype.onPropertyChanged = function(e) {
            e.module === this.getModuleName() && (this.setPadding(), this.oneTimeReady = !0, 
            "auto" === this.parent.height && this.removePadding(), this.wireEvents(), this.setHeight(), 
            this.setWidth());
        }, Scroll.prototype.destroy = function() {
            this.removeEventListener(), this.removePadding(), removeClass([ this.parent.getHeaderContent().firstChild ], "e-headercontent"), 
            removeClass([ this.parent.getContent().firstChild ], "e-content"), this.parent.getContent().firstChild.style.height = "", 
            this.parent.element.style.width = "", EventHandler.remove(this.parent.getContent().firstChild, "scroll", this.onContentScroll);
        }, Scroll.getScrollBarWidth = function() {
            return getScrollBarWidth();
        }, Scroll;
    }(), Print = function() {
        function Print(parent, scrollModule) {
            this.isAsyncPrint = !1, this.printing = "isPrinting", this.parent = parent, this.parent.isDestroyed || (this.parent.on(contentReady, this.contentReady.bind(this)), 
            this.parent.addEventListener(actionBegin, this.actionBegin.bind(this)), this.parent.on(onEmpty, this.onEmpty.bind(this)), 
            this.scrollModule = scrollModule);
        }
        return Print.prototype.print = function() {
            this.renderPrintGrid(), this.printWind = window.open("", "print", "height=" + window.outerHeight + ",width=" + window.outerWidth + ",tabbar=no"), 
            this.printWind.moveTo(0, 0), this.printWind.resizeTo(screen.availWidth, screen.availHeight);
        }, Print.prototype.onEmpty = function() {
            this.isPrintGrid() && this.contentReady();
        }, Print.prototype.actionBegin = function() {
            this.isPrintGrid() && (this.isAsyncPrint = !0);
        }, Print.prototype.renderPrintGrid = function() {
            var gObj = this.parent, printGridModel = {}, element = createElement("div", {
                id: this.parent.element.id + "_print",
                className: gObj.element.className + " e-print-grid"
            });
            document.body.appendChild(element);
            for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {
                var key = _a[_i];
                printGridModel[key] = "columns" === key ? getActualPropFromColl(gObj[key]) : "allowPaging" === key ? "CurrentPage" === this.parent.printMode : getActualProperties(gObj[key]);
            }
            var printGrid = new Grid(printGridModel);
            printGrid.appendTo(element), printGrid[this.printing] = !0, printGrid.trigger = gObj.trigger;
        }, Print.prototype.contentReady = function() {
            if (this.isPrintGrid()) {
                var gObj = this.parent;
                if (this.isAsyncPrint) return void this.printGrid();
                var args = {
                    requestType: "print",
                    element: gObj.element,
                    selectedRows: gObj.getContentTable().querySelectorAll('tr[aria-selected="true"]'),
                    cancel: !1
                };
                if (this.isAsyncPrint || gObj.trigger("beforePrint", args), args.cancel) return void detach(gObj.element);
                this.isAsyncPrint || this.printGrid();
            }
        }, Print.prototype.printGrid = function() {
            var gObj = this.parent;
            if (gObj.allowPaging && "CurrentPage" === gObj.printMode && (gObj.element.querySelector(".e-gridpager").style.display = "none"), 
            "auto" !== gObj.height) {
                var cssProps = this.scrollModule.getCssProperties(), contentDiv = gObj.element.querySelector(".e-content"), headerDiv = gObj.element.querySelector(".e-gridheader");
                contentDiv.style.height = "auto", contentDiv.style.overflowY = "auto", headerDiv.style[cssProps.padding] = "", 
                headerDiv.firstElementChild.style[cssProps.border] = "";
            }
            gObj.allowGrouping && (gObj.groupSettings.columns.length ? (this.removeColGroup(gObj.groupSettings.columns.length, gObj.element), 
            removeElement(gObj.element, ".e-grouptopleftcell"), removeElement(gObj.element, ".e-recordpluscollapse"), 
            removeElement(gObj.element, ".e-indentcell"), removeElement(gObj.element, ".e-recordplusexpand")) : gObj.element.querySelector(".e-groupdroparea").style.display = "none"), 
            gObj.element.querySelector(".e-content").style.overflowX = "hidden", gObj.allowFiltering && "FilterBar" === gObj.filterSettings.type && (gObj.element.querySelector(".e-filterbar").style.display = "none");
            var waitingPop = gObj.element.querySelectorAll(".e-spin-show");
            waitingPop.length > 0 && (waitingPop[0].classList.add("e-spin-hide"), waitingPop[0].classList.remove("e-spin-show")), 
            gObj[this.printing] && detach(gObj.element), gObj.element.classList.remove("e-print-grid"), 
            this.printWind = print(gObj.element, this.printWind), gObj[this.printing] = !1;
            var args = {
                element: gObj.element
            };
            gObj.trigger("printComplete", args);
        }, Print.prototype.removeColGroup = function(depth, element) {
            for (var groupCaption = element.querySelectorAll(".e-groupcaption"), colSpan = groupCaption[depth - 1].getAttribute("colspan"), i = 0; i < groupCaption.length; i++) groupCaption[i].setAttribute("colspan", colSpan);
            var colGroups = element.querySelectorAll("colgroup");
            for (i = 0; i < colGroups.length; i++) for (var j = 0; j < depth; j++) colGroups[i].childNodes[j].style.display = "none";
        }, Print.prototype.isPrintGrid = function() {
            return this.parent.element.id.indexOf("_print") > 0 && this.parent[this.printing];
        }, Print.prototype.destroy = function() {
            this.parent.isDestroyed || (this.parent.off(contentReady, this.contentReady.bind(this)), 
            this.parent.removeEventListener(actionBegin, this.actionBegin.bind(this)), this.parent.off(onEmpty, this.onEmpty.bind(this)));
        }, Print.prototype.getModuleName = function() {
            return "print";
        }, Print.printGridProp = [ "aggregates", "allowGrouping", "allowFiltering", "allowMultiSorting", "allowReordering", "allowSorting", "allowTextWrap", "childGrid", "columns", "currentViewData", "dataSource", "detailTemplate", "enableAltRow", "enableColumnVirtualization", "filterSettings", "gridLines", "groupSettings", "height", "locale", "pageSettings", "printMode", "query", "queryString", "rowHeight", "rowTemplate", "sortSettings", "textWrapSettings", "allowPaging", "beforePrint", "printComplete" ], 
        Print;
    }(), __extends$20 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$8 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, AggregateColumn = function(_super) {
        function AggregateColumn() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.templateFn = {}, _this;
        }
        return __extends$20(AggregateColumn, _super), AggregateColumn.prototype.setFormatter = function() {
            var valueFormatter = new ValueFormatter();
            this.format && (this.format.skeleton || this.format.format) && (this.formatFn = valueFormatter.getFormatFunction(this.format));
        }, AggregateColumn.prototype.getFormatter = function() {
            return this.formatFn;
        }, AggregateColumn.prototype.setTemplate = function(helper) {
            void 0 === helper && (helper = {}), void 0 !== this.footerTemplate && (this.templateFn[getEnumValue(CellType, CellType.Summary)] = {
                fn: compile$$1(this.footerTemplate, helper),
                property: "footerTemplate"
            }), void 0 !== this.groupFooterTemplate && (this.templateFn[getEnumValue(CellType, CellType.GroupSummary)] = {
                fn: compile$$1(this.groupFooterTemplate, helper),
                property: "groupFooterTemplate"
            }), void 0 !== this.groupCaptionTemplate && (this.templateFn[getEnumValue(CellType, CellType.CaptionSummary)] = {
                fn: compile$$1(this.groupCaptionTemplate, helper),
                property: "groupCaptionTemplate"
            });
        }, AggregateColumn.prototype.getTemplate = function(type) {
            return this.templateFn[getEnumValue(CellType, type)];
        }, AggregateColumn.prototype.setPropertiesSilent = function(prop) {
            this.setProperties(prop, !0);
        }, __decorate$8([ Property() ], AggregateColumn.prototype, "type", void 0), __decorate$8([ Property() ], AggregateColumn.prototype, "field", void 0), 
        __decorate$8([ Property() ], AggregateColumn.prototype, "columnName", void 0), __decorate$8([ Property() ], AggregateColumn.prototype, "format", void 0), 
        __decorate$8([ Property() ], AggregateColumn.prototype, "footerTemplate", void 0), 
        __decorate$8([ Property() ], AggregateColumn.prototype, "groupFooterTemplate", void 0), 
        __decorate$8([ Property() ], AggregateColumn.prototype, "groupCaptionTemplate", void 0), 
        __decorate$8([ Property() ], AggregateColumn.prototype, "customAggregate", void 0), 
        AggregateColumn;
    }(ChildProperty), AggregateRow = function(_super) {
        function AggregateRow() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$20(AggregateRow, _super), __decorate$8([ Collection([], AggregateColumn) ], AggregateRow.prototype, "columns", void 0), 
        AggregateRow;
    }(ChildProperty), Clipboard = function() {
        function Clipboard(parent) {
            this.copyContent = "", this.isSelect = !1, this.parent = parent, this.addEventListener();
        }
        return Clipboard.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(contentReady, this.initialEnd, this), 
            this.parent.on(keyPressed, this.keyDownHandler, this));
        }, Clipboard.prototype.removeEventListener = function() {
            this.parent.isDestroyed || this.parent.off(keyPressed, this.keyDownHandler);
        }, Clipboard.prototype.initialEnd = function() {
            this.parent.off(contentReady, this.initialEnd), this.clipBoardTextArea = createElement("textarea", {
                className: "e-clipboard",
                styles: "opacity: 0",
                attrs: {
                    readonly: "true",
                    tabindex: "-1",
                    "aria-label": "clipboard"
                }
            }), this.parent.element.appendChild(this.clipBoardTextArea);
        }, Clipboard.prototype.keyDownHandler = function(e) {
            "ctrlPlusC" === e.action ? this.copy() : "ctrlShiftPlusH" === e.action && this.copy(!0);
        }, Clipboard.prototype.setCopyData = function(withHeader) {
            if ("" === window.getSelection().toString()) {
                var isFrozen = this.parent.getFrozenColumns();
                this.clipBoardTextArea.value = this.copyContent = "";
                var mRows = void 0, rows = this.parent.getRows();
                if (isFrozen && (mRows = this.parent.getMovableDataRows()), "Cell" !== this.parent.selectionSettings.mode) {
                    var selectedIndexes = this.parent.getSelectedRowIndexes().sort(function(a, b) {
                        return a - b;
                    });
                    if (withHeader) {
                        for (var headerTextArray = [], i = 0; i < this.parent.getVisibleColumns().length; i++) headerTextArray[i] = this.parent.getVisibleColumns()[i].headerText;
                        this.getCopyData(headerTextArray, !1, "\t", withHeader), this.copyContent += "\n";
                    }
                    for (i = 0; i < selectedIndexes.length; i++) {
                        i > 0 && (this.copyContent += "\n");
                        var cells = [].slice.call(rows[selectedIndexes[i]].querySelectorAll(".e-rowcell"));
                        isFrozen && cells.push.apply(cells, [].slice.call(mRows[selectedIndexes[i]].querySelectorAll(".e-rowcell"))), 
                        this.getCopyData(cells, !1, "\t", withHeader);
                    }
                } else {
                    var obj = this.checkBoxSelection();
                    if (obj.status) {
                        if (withHeader) {
                            var headers = [];
                            for (i = 0; i < obj.colIndexes.length; i++) headers.push(this.parent.getColumnHeaderByIndex(obj.colIndexes[i]));
                            this.getCopyData(headers, !1, "\t", withHeader), this.copyContent += "\n";
                        }
                        for (i = 0; i < obj.rowIndexes.length; i++) {
                            i > 0 && (this.copyContent += "\n");
                            cells = [].slice.call(rows[obj.rowIndexes[i]].querySelectorAll(".e-cellselectionbackground"));
                            isFrozen && cells.push.apply(cells, [].slice.call(mRows[obj.rowIndexes[i]].querySelectorAll(".e-cellselectionbackground"))), 
                            this.getCopyData(cells, !1, "\t", withHeader);
                        }
                    } else this.getCopyData([].slice.call(this.parent.element.querySelectorAll(".e-cellselectionbackground")), !0, "\n", withHeader);
                }
                var args = {
                    data: this.copyContent,
                    cancel: !1
                };
                if (this.parent.trigger("beforeCopy", args), args.cancel) return;
                this.clipBoardTextArea.value = this.copyContent = args.data, Browser.userAgent.match(/ipad|ipod|iphone/i) ? this.clipBoardTextArea.setSelectionRange(0, this.clipBoardTextArea.value.length) : this.clipBoardTextArea.select(), 
                this.isSelect = !0;
            }
        }, Clipboard.prototype.getCopyData = function(cells, isCell, splitKey, withHeader) {
            for (var isElement = "string" != typeof cells[0], j = 0; j < cells.length; j++) withHeader && isCell && (this.copyContent += this.parent.getColumns()[parseInt(cells[j].getAttribute("aria-colindex"), 10)].headerText + "\n"), 
            isElement ? cells[j].classList.contains("e-hide") || (this.copyContent += cells[j].textContent) : this.copyContent += cells[j], 
            j < cells.length - 1 && (this.copyContent += splitKey);
        }, Clipboard.prototype.copy = function(withHeader) {
            document.queryCommandSupported("copy") && (this.setCopyData(withHeader), document.execCommand("copy"), 
            this.clipBoardTextArea.blur()), this.isSelect && (window.getSelection().removeAllRanges(), 
            this.isSelect = !1);
        }, Clipboard.prototype.getModuleName = function() {
            return "clipboard";
        }, Clipboard.prototype.destroy = function() {
            this.removeEventListener(), remove(this.clipBoardTextArea);
        }, Clipboard.prototype.checkBoxSelection = function() {
            var gridObj = this.parent, obj = {
                status: !1
            };
            if ("Cell" === gridObj.selectionSettings.mode) {
                var rowCellIndxes = gridObj.getSelectedRowCellIndexes(), str = void 0, rowIndexes = [], i = void 0;
                for (i = 0; i < rowCellIndxes.length && (rowCellIndxes[i].cellIndexes.length && rowIndexes.push(rowCellIndxes[i].rowIndex), 
                !rowCellIndxes[i].cellIndexes.length || (str || (str = JSON.stringify(rowCellIndxes[i].cellIndexes.sort())), 
                str === JSON.stringify(rowCellIndxes[i].cellIndexes.sort()))); i++) ;
                rowIndexes.sort(), i === rowCellIndxes.length && rowIndexes[rowIndexes.length - 1] - rowIndexes[0] == rowIndexes.length - 1 && (obj = {
                    status: !0,
                    rowIndexes: rowIndexes,
                    colIndexes: rowCellIndxes[0].cellIndexes
                });
            }
            return obj;
        }, Clipboard;
    }(), __extends$4$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$4$1 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, SortDescriptor = function(_super) {
        function SortDescriptor() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(SortDescriptor, _super), __decorate$4$1([ Property() ], SortDescriptor.prototype, "field", void 0), 
        __decorate$4$1([ Property() ], SortDescriptor.prototype, "direction", void 0), SortDescriptor;
    }(ChildProperty), SortSettings = function(_super) {
        function SortSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(SortSettings, _super), __decorate$4$1([ Collection([], SortDescriptor) ], SortSettings.prototype, "columns", void 0), 
        __decorate$4$1([ Property(!0) ], SortSettings.prototype, "allowUnsort", void 0), 
        SortSettings;
    }(ChildProperty), Predicate = function(_super) {
        function Predicate() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(Predicate, _super), __decorate$4$1([ Property() ], Predicate.prototype, "field", void 0), 
        __decorate$4$1([ Property() ], Predicate.prototype, "operator", void 0), __decorate$4$1([ Property() ], Predicate.prototype, "value", void 0), 
        __decorate$4$1([ Property() ], Predicate.prototype, "matchCase", void 0), __decorate$4$1([ Property() ], Predicate.prototype, "ignoreAccent", void 0), 
        __decorate$4$1([ Property() ], Predicate.prototype, "predicate", void 0), __decorate$4$1([ Property({}) ], Predicate.prototype, "actualFilterValue", void 0), 
        __decorate$4$1([ Property({}) ], Predicate.prototype, "actualOperator", void 0), 
        __decorate$4$1([ Property() ], Predicate.prototype, "type", void 0), __decorate$4$1([ Property() ], Predicate.prototype, "ejpredicate", void 0), 
        Predicate;
    }(ChildProperty), FilterSettings = function(_super) {
        function FilterSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(FilterSettings, _super), __decorate$4$1([ Collection([], Predicate) ], FilterSettings.prototype, "columns", void 0), 
        __decorate$4$1([ Property("FilterBar") ], FilterSettings.prototype, "type", void 0), 
        __decorate$4$1([ Property() ], FilterSettings.prototype, "mode", void 0), __decorate$4$1([ Property(!0) ], FilterSettings.prototype, "showFilterBarStatus", void 0), 
        __decorate$4$1([ Property(1500) ], FilterSettings.prototype, "immediateModeDelay", void 0), 
        __decorate$4$1([ Property() ], FilterSettings.prototype, "operators", void 0), __decorate$4$1([ Property(!1) ], FilterSettings.prototype, "ignoreAccent", void 0), 
        FilterSettings;
    }(ChildProperty), SelectionSettings = function(_super) {
        function SelectionSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(SelectionSettings, _super), __decorate$4$1([ Property("Row") ], SelectionSettings.prototype, "mode", void 0), 
        __decorate$4$1([ Property("Flow") ], SelectionSettings.prototype, "cellSelectionMode", void 0), 
        __decorate$4$1([ Property("Single") ], SelectionSettings.prototype, "type", void 0), 
        __decorate$4$1([ Property(!1) ], SelectionSettings.prototype, "checkboxOnly", void 0), 
        __decorate$4$1([ Property(!1) ], SelectionSettings.prototype, "persistSelection", void 0), 
        SelectionSettings;
    }(ChildProperty), SearchSettings = function(_super) {
        function SearchSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(SearchSettings, _super), __decorate$4$1([ Property([]) ], SearchSettings.prototype, "fields", void 0), 
        __decorate$4$1([ Property("") ], SearchSettings.prototype, "key", void 0), __decorate$4$1([ Property("contains") ], SearchSettings.prototype, "operator", void 0), 
        __decorate$4$1([ Property(!0) ], SearchSettings.prototype, "ignoreCase", void 0), 
        SearchSettings;
    }(ChildProperty), RowDropSettings = function(_super) {
        function RowDropSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(RowDropSettings, _super), __decorate$4$1([ Property() ], RowDropSettings.prototype, "targetID", void 0), 
        RowDropSettings;
    }(ChildProperty), TextWrapSettings = function(_super) {
        function TextWrapSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(TextWrapSettings, _super), __decorate$4$1([ Property("Both") ], TextWrapSettings.prototype, "wrapMode", void 0), 
        TextWrapSettings;
    }(ChildProperty), GroupSettings = function(_super) {
        function GroupSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(GroupSettings, _super), __decorate$4$1([ Property(!0) ], GroupSettings.prototype, "showDropArea", void 0), 
        __decorate$4$1([ Property(!1) ], GroupSettings.prototype, "showToggleButton", void 0), 
        __decorate$4$1([ Property(!1) ], GroupSettings.prototype, "showGroupedColumn", void 0), 
        __decorate$4$1([ Property(!0) ], GroupSettings.prototype, "showUngroupButton", void 0), 
        __decorate$4$1([ Property(!1) ], GroupSettings.prototype, "disablePageWiseAggregates", void 0), 
        __decorate$4$1([ Property([]) ], GroupSettings.prototype, "columns", void 0), __decorate$4$1([ Property() ], GroupSettings.prototype, "captionTemplate", void 0), 
        GroupSettings;
    }(ChildProperty), EditSettings = function(_super) {
        function EditSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$4$1(EditSettings, _super), __decorate$4$1([ Property(!1) ], EditSettings.prototype, "allowAdding", void 0), 
        __decorate$4$1([ Property(!1) ], EditSettings.prototype, "allowEditing", void 0), 
        __decorate$4$1([ Property(!1) ], EditSettings.prototype, "allowDeleting", void 0), 
        __decorate$4$1([ Property("Normal") ], EditSettings.prototype, "mode", void 0), 
        __decorate$4$1([ Property(!0) ], EditSettings.prototype, "allowEditOnDblClick", void 0), 
        __decorate$4$1([ Property(!0) ], EditSettings.prototype, "showConfirmDialog", void 0), 
        __decorate$4$1([ Property(!1) ], EditSettings.prototype, "showDeleteConfirmDialog", void 0), 
        EditSettings;
    }(ChildProperty), Grid = function(_super) {
        function Grid(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.inViewIndexes = [], _this.freezeRefresh = Component.prototype.refresh, 
            _this.needsID = !0, setValue("mergePersistData", _this.mergePersistGridData, _this), 
            _this;
        }
        return __extends$4$1(Grid, _super), Grid.prototype.getPersistData = function() {
            var _this = this, keyEntity = [ "pageSettings", "sortSettings", "filterSettings", "groupSettings", "columns", "searchSettings", "selectedRowIndex" ], ignoreOnPersist = {
                pageSettings: [ "template", "pageSizes", "enableQueryString", "totalRecordsCount", "pageCount" ],
                filterSettings: [ "type", "mode", "showFilterBarStatus", "immediateModeDelay", "ignoreAccent" ],
                groupSettings: [ "showDropArea", "showToggleButton", "showGroupedColumn", "showUngroupButton", "disablePageWiseAggregates", "hideCaptionCount" ],
                searchSettings: [ "fields", "operator", "ignoreCase" ],
                sortSettings: [],
                columns: [],
                selectedRowIndex: []
            };
            return keyEntity.forEach(function(value) {
                for (var currentObject = _this[value], _i = 0, _a = ignoreOnPersist[value]; _i < _a.length; _i++) {
                    delete currentObject[_a[_i]];
                }
            }), this.ignoreInArrays([ "filter", "edit", "filterBarTemplate", "headerTemplate", "template", "commandTemplate", "commands", "dataSource" ], this.columns), 
            this.addOnPersist(keyEntity);
        }, Grid.prototype.ignoreInArrays = function(ignoreOnColumn, columns) {
            var _this = this;
            columns.forEach(function(column) {
                column.columns ? (_this.ignoreInColumn(ignoreOnColumn, column), _this.ignoreInArrays(ignoreOnColumn, column.columns)) : _this.ignoreInColumn(ignoreOnColumn, column);
            });
        }, Grid.prototype.ignoreInColumn = function(ignoreOnColumn, column) {
            ignoreOnColumn.forEach(function(val) {
                delete column[val];
            });
        }, Grid.prototype.requiredModules = function() {
            var modules = [];
            return this.allowFiltering && modules.push({
                member: "filter",
                args: [ this, this.filterSettings, this.serviceLocator ]
            }), this.allowExcelExport && modules.push({
                member: "ExcelExport",
                args: [ this ]
            }), this.allowPdfExport && modules.push({
                member: "PdfExport",
                args: [ this ]
            }), this.allowSorting && modules.push({
                member: "sort",
                args: [ this, this.sortSettings, this.sortedColumns, this.serviceLocator ]
            }), this.allowPaging && modules.push({
                member: "pager",
                args: [ this, this.pageSettings ]
            }), this.allowSelection && modules.push({
                member: "selection",
                args: [ this, this.selectionSettings, this.serviceLocator ]
            }), modules.push({
                member: "resize",
                args: [ this ]
            }), this.allowReordering && modules.push({
                member: "reorder",
                args: [ this ]
            }), this.allowRowDragAndDrop && modules.push({
                member: "rowDragAndDrop",
                args: [ this ]
            }), this.allowGrouping && modules.push({
                member: "group",
                args: [ this, this.groupSettings, this.sortedColumns, this.serviceLocator ]
            }), this.aggregates.length && modules.push({
                member: "aggregate",
                args: [ this, this.serviceLocator ]
            }), this.isDetail() && modules.push({
                member: "detailRow",
                args: [ this, this.serviceLocator ]
            }), (this.toolbar || this.toolbarTemplate) && modules.push({
                member: "toolbar",
                args: [ this, this.serviceLocator ]
            }), (this.enableVirtualization || this.enableColumnVirtualization) && modules.push({
                member: "virtualscroll",
                args: [ this, this.serviceLocator ]
            }), (this.getFrozenColumns() || this.frozenRows) && modules.push({
                member: "freeze",
                args: [ this, this.serviceLocator ]
            }), this.isCommandColumn(this.columns) && modules.push({
                member: "commandColumn",
                args: [ this, this.serviceLocator ]
            }), (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing) && modules.push({
                member: "edit",
                args: [ this, this.serviceLocator ]
            }), this.extendRequiredModules(modules), modules;
        }, Grid.prototype.extendRequiredModules = function(modules) {
            this.contextMenuItems && modules.push({
                member: "contextMenu",
                args: [ this, this.serviceLocator ]
            }), this.showColumnMenu && modules.push({
                member: "columnMenu",
                args: [ this, this.serviceLocator ]
            }), this.showColumnChooser && modules.push({
                member: "columnChooser",
                args: [ this, this.serviceLocator ]
            }), this.isForeignKeyEnabled(this.columns) && modules.push({
                member: "foreignKey",
                args: [ this, this.serviceLocator ]
            });
        }, Grid.prototype.preRender = function() {
            this.serviceLocator = new ServiceLocator(), this.initProperties(), this.initializeServices();
        }, Grid.prototype.initProperties = function() {
            this.isInitial = !0, this.sortedColumns = [], this.inViewIndexes = [], this.mediaCol = [], 
            this.isMediaQuery = !1, this.isInitialLoad = !1, this.mergeCells = {}, this.isEdit = !1, 
            this.checkAllRows = "None", this.isCheckBoxSelection = !1, this.isPersistSelection = !1, 
            this.freezeRefresh = Component.prototype.refresh, this.filterOperators = {
                contains: "contains",
                endsWith: "endswith",
                equal: "equal",
                greaterThan: "greaterthan",
                greaterThanOrEqual: "greaterthanorequal",
                lessThan: "lessthan",
                lessThanOrEqual: "lessthanorequal",
                notEqual: "notequal",
                startsWith: "startswith"
            }, this.defaultLocale = {
                EmptyRecord: "No records to display",
                True: "true",
                False: "false",
                InvalidFilterMessage: "Invalid Filter Data",
                GroupDropArea: "Drag a column header here to group its column",
                UnGroup: "Click here to ungroup",
                GroupDisable: "Grouping is disabled for this column",
                FilterbarTitle: "'s filter bar cell",
                EmptyDataSourceError: "DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid",
                Add: "Add",
                Edit: "Edit",
                Cancel: "Cancel",
                Update: "Update",
                Delete: "Delete",
                Print: "Print",
                Pdfexport: "PDF Export",
                Excelexport: "Excel Export",
                Wordexport: "Word Export",
                Csvexport: "CSV Export",
                Search: "Search",
                Columnchooser: "Columns",
                Save: "Save",
                Item: "item",
                Items: "items",
                EditOperationAlert: "No records selected for edit operation",
                DeleteOperationAlert: "No records selected for delete operation",
                SaveButton: "Save",
                OKButton: "OK",
                CancelButton: "Cancel",
                EditFormTitle: "Details of ",
                AddFormTitle: "Add New Record",
                BatchSaveConfirm: "Are you sure you want to save changes?",
                BatchSaveLostChanges: "Unsaved changes will be lost. Are you sure you want to continue?",
                ConfirmDelete: "Are you sure you want to Delete Record?",
                CancelEdit: "Are you sure you want to Cancel the changes?",
                ChooseColumns: "Choose Column",
                SearchColumns: "search columns",
                Matchs: "No Matches Found",
                FilterButton: "Filter",
                ClearButton: "Clear",
                StartsWith: "Starts With",
                EndsWith: "Ends With",
                Contains: "Contains",
                Equal: "Equal",
                NotEqual: "Not Equal",
                LessThan: "Less Than",
                LessThanOrEqual: "Less Than Or Equal",
                GreaterThan: "Greater Than",
                GreaterThanOrEqual: "Greater Than Or Equal",
                ChooseDate: "Choose a Date",
                EnterValue: "Enter the value",
                Copy: "Copy",
                Group: "Group by this column",
                Ungroup: "Ungroup by this column",
                autoFitAll: "Auto Fit all columns",
                autoFit: "Auto Fit this column",
                Export: "Export",
                FirstPage: "First Page",
                LastPage: "Last Page",
                PreviousPage: "Previous Page",
                NextPage: "Next Page",
                SortAscending: "Sort Ascending",
                SortDescending: "Sort Descending",
                EditRecord: "Edit Record",
                DeleteRecord: "Delete Record",
                FilterMenu: "Filter",
                OK: "OK",
                Filter: "Filter",
                Clear: "Clear",
                SelectAll: "Select All",
                Blanks: "Blanks",
                FilterTrue: "True",
                FilterFalse: "False",
                NoResult: "No Matches Found",
                ClearFilter: "Clear Filter",
                NumberFilter: "Number Filters",
                TextFilter: "Text Filters",
                DateFilter: "Date Filters",
                MatchCase: "Match Case",
                Between: "Between",
                CustomFilter: "Custom Filter",
                CustomFilterPlaceHolder: "Enter the value",
                CustomFilterDatePlaceHolder: "Choose a date",
                AND: "AND",
                OR: "OR",
                ShowRowsWhere: "Show rows where:"
            }, this.keyConfigs = {
                downArrow: "downarrow",
                upArrow: "uparrow",
                rightArrow: "rightarrow",
                leftArrow: "leftarrow",
                shiftDown: "shift+downarrow",
                shiftUp: "shift+uparrow",
                shiftRight: "shift+rightarrow",
                shiftLeft: "shift+leftarrow",
                home: "home",
                end: "end",
                escape: "escape",
                ctrlHome: "ctrl+home",
                ctrlEnd: "ctrl+end",
                pageUp: "pageup",
                pageDown: "pagedown",
                ctrlAltPageUp: "ctrl+alt+pageup",
                ctrlAltPageDown: "ctrl+alt+pagedown",
                altPageUp: "alt+pageup",
                altPageDown: "alt+pagedown",
                altDownArrow: "alt+downarrow",
                altUpArrow: "alt+uparrow",
                ctrlDownArrow: "ctrl+downarrow",
                ctrlUpArrow: "ctrl+uparrow",
                ctrlPlusA: "ctrl+A",
                ctrlPlusP: "ctrl+P",
                insert: "insert",
                delete: "delete",
                f2: "f2",
                enter: "enter",
                ctrlEnter: "ctrl+enter",
                shiftEnter: "shift+enter",
                tab: "tab",
                shiftTab: "shift+tab",
                space: "space",
                ctrlPlusC: "ctrl+C",
                ctrlShiftPlusH: "ctrl+shift+H"
            };
        }, Grid.prototype.render = function() {
            this.ariaService.setOptions(this.element, {
                role: "grid"
            }), createSpinner({
                target: this.element
            }), this.renderModule = new Render(this, this.serviceLocator), this.getMediaColumns(), 
            this.searchModule = new Search(this), this.scrollModule = new Scroll(this), this.notify(initialLoad, {}), 
            this.trigger("load"), prepareColumns(this.columns, this.enableColumnVirtualization), 
            this.getColumns(), this.processModel(), this.gridRender(), this.wireEvents(), this.addListener(), 
            this.updateDefaultCursor(), this.updateStackedFilter(), this.showSpinner(), this.notify(initialEnd, {});
        }, Grid.prototype.showSpinner = function() {
            showSpinner(this.element);
        }, Grid.prototype.hideSpinner = function() {
            hideSpinner(this.element);
        }, Grid.prototype.updateStackedFilter = function() {
            this.allowFiltering && "FilterBar" === this.filterSettings.type && this.getHeaderContent().querySelectorAll(".e-stackedheadercell").length ? this.getHeaderContent().classList.add("e-stackedfilter") : this.getHeaderContent().classList.remove("e-stackedfilter");
        }, Grid.prototype.getMediaColumns = function() {
            if (!this.enableColumnVirtualization) {
                var gcol = this.getColumns();
                if (this.getShowHideService = this.serviceLocator.getService("showHideService"), 
                !isNullOrUndefined(gcol)) for (var index = 0; index < gcol.length; index++) if (!isNullOrUndefined(gcol[index].hideAtMedia)) {
                    this.mediaCol.push(gcol[index]);
                    var media = window.matchMedia(gcol[index].hideAtMedia);
                    this.mediaQueryUpdate(index, media), media.addListener(this.mediaQueryUpdate.bind(this, index));
                }
            }
        }, Grid.prototype.mediaQueryUpdate = function(columnIndex, e) {
            this.isMediaQuery = !0;
            var col = this.getColumns()[columnIndex];
            col.visible = e.matches, this.isInitialLoad && (col.visible ? this.showHider.show(col.headerText, "headerText") : this.showHider.hide(col.headerText, "headerText"));
        }, Grid.prototype.refreshMediaCol = function() {
            this.isMediaQuery && (this.refresh(), this.isMediaQuery = !1), this.isInitialLoad = !0;
        }, Grid.prototype.eventInitializer = function() {}, Grid.prototype.destroy = function() {
            this.unwireEvents(), this.removeListener(), this.notify(destroy, {}), this.destroyDependentModules(), 
            _super.prototype.destroy.call(this), this.element.innerHTML = "", classList(this.element, [], [ "e-rtl", "e-gridhover", "e-responsive", "e-default", "e-device", "e-grid-min-height" ]);
        }, Grid.prototype.destroyDependentModules = function() {
            this.scrollModule.destroy(), this.keyboardModule.destroy(), this.focusModule.destroy();
        }, Grid.prototype.getModuleName = function() {
            return "grid";
        }, Grid.prototype.onPropertyChanged = function(newProp, oldProp) {
            var checkCursor, requireRefresh = !1, requireGridRefresh = !1;
            if (!this.isDestroyed) {
                for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                    var prop = _a[_i];
                    switch (prop) {
                      case "allowPaging":
                        this.notify(uiUpdate, {
                            module: "pager",
                            enable: this.allowPaging
                        }), requireRefresh = !0;
                        break;

                      case "pageSettings":
                        this.notify(inBoundModelChanged, {
                            module: "pager",
                            properties: newProp.pageSettings
                        }), isNullOrUndefined(newProp.pageSettings.currentPage) && isNullOrUndefined(newProp.pageSettings.totalRecordsCount) && (requireRefresh = !0);
                        break;

                      case "currencyCode":
                      case "locale":
                        _super.prototype.refresh.call(this);
                        break;

                      case "allowSorting":
                        this.notify(uiUpdate, {
                            module: "sort",
                            enable: this.allowSorting
                        }), requireRefresh = !0, checkCursor = !0;
                        break;

                      case "allowFiltering":
                        this.updateStackedFilter(), this.notify(uiUpdate, {
                            module: "filter",
                            enable: this.allowFiltering
                        }), requireRefresh = !0, "FilterBar" !== this.filterSettings.type && this.refreshHeader();
                        break;

                      case "height":
                      case "width":
                        this.notify(uiUpdate, {
                            module: "scroll",
                            properties: {
                                width: newProp.width,
                                height: newProp.height
                            }
                        });
                        break;

                      case "allowReordering":
                        this.headerModule.refreshUI(), checkCursor = !0;
                        break;

                      case "allowRowDragAndDrop":
                        this.notify(uiUpdate, {
                            module: "rowDragAndDrop",
                            enable: this.allowRowDragAndDrop
                        });
                        break;

                      case "rowTemplate":
                        this.rowTemplateFn = templateCompiler(this.rowTemplate), requireRefresh = !0;
                        break;

                      case "detailTemplate":
                        this.detailTemplateFn = templateCompiler(this.detailTemplate), requireRefresh = !0;
                        break;

                      case "allowGrouping":
                        this.notify(uiUpdate, {
                            module: "group",
                            enable: this.allowGrouping
                        }), this.headerModule.refreshUI(), requireRefresh = !0, checkCursor = !0;
                        break;

                      case "childGrid":
                        requireRefresh = !0;
                        break;

                      case "toolbar":
                        this.notify(uiUpdate, {
                            module: "toolbar"
                        });
                        break;

                      case "groupSettings":
                        isNullOrUndefined(newProp.groupSettings.showDropArea) || (this.headerModule.refreshUI(), 
                        requireRefresh = !0, checkCursor = !0), this.notify(inBoundModelChanged, {
                            module: "group",
                            properties: newProp.groupSettings,
                            oldProperties: oldProp.groupSettings
                        });
                        break;

                      case "aggregates":
                        this.notify(uiUpdate, {
                            module: "aggregate",
                            properties: newProp
                        });
                        break;

                      case "columns":
                        this.updateColumnObject(), requireGridRefresh = !0;
                        break;

                      case "frozenColumns":
                      case "frozenRows":
                        this.freezeRefresh();
                        break;

                      default:
                        this.extendedPropertyChange(prop, newProp);
                    }
                }
                checkCursor && this.updateDefaultCursor(), requireGridRefresh ? this.refresh() : requireRefresh && (this.notify(modelChanged, {
                    requestType: "refresh"
                }), requireRefresh = !1);
            }
        }, Grid.prototype.extendedPropertyChange = function(prop, newProp) {
            switch (prop) {
              case "enableRtl":
                this.updateRTL(), this.allowPaging && (this.element.querySelector(".e-gridpager").ej2_instances[0].enableRtl = newProp.enableRtl, 
                this.element.querySelector(".e-gridpager").ej2_instances[0].dataBind()), "auto" !== this.height && (this.scrollModule.removePadding(!newProp.enableRtl), 
                this.scrollModule.setPadding()), this.toolbar && (this.toolbarModule.getToolbar().ej2_instances[0].enableRtl = newProp.enableRtl, 
                this.toolbarModule.getToolbar().ej2_instances[0].dataBind()), this.contextMenuItems && (this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl = newProp.enableRtl, 
                this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind()), this.showColumnMenu && (this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl = newProp.enableRtl, 
                this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind()), this.notify("rtl-updated", {});
                break;

              case "enableAltRow":
                this.renderModule.refresh();
                break;

              case "allowResizing":
                this.headerModule.refreshUI(), this.updateResizeLines();
                break;

              case "rowHeight":
                this.rowHeight ? addClass([ this.element ], "e-grid-min-height") : removeClass([ this.element ], "e-grid-min-height"), 
                this.renderModule.refresh(), this.headerModule.refreshUI();
                break;

              case "gridLines":
                this.updateGridLines();
                break;

              case "showColumnMenu":
                this.headerModule.refreshUI(), this.notify(uiUpdate, {
                    module: "columnMenu",
                    enable: !0
                });
                break;

              case "columnMenuItems":
                this.notify(uiUpdate, {
                    module: "columnMenu",
                    enable: this.columnMenuItems
                });
                break;

              case "contextMenuItems":
                this.notify(uiUpdate, {
                    module: "contextMenu",
                    enable: this.contextMenuItems
                });
                break;

              case "showColumnChooser":
                this.notify(uiUpdate, {
                    module: "columnChooser",
                    enable: this.showColumnChooser
                });
                break;

              case "filterSettings":
                this.updateStackedFilter(), this.notify(inBoundModelChanged, {
                    module: "filter",
                    properties: newProp.filterSettings
                });
                break;

              case "searchSettings":
                this.notify(inBoundModelChanged, {
                    module: "search",
                    properties: newProp.searchSettings
                });
                break;

              case "sortSettings":
                this.notify(inBoundModelChanged, {
                    module: "sort"
                });
                break;

              case "selectionSettings":
                this.notify(inBoundModelChanged, {
                    module: "selection",
                    properties: newProp.selectionSettings
                });
                break;

              case "editSettings":
                this.notify(inBoundModelChanged, {
                    module: "edit",
                    properties: newProp.editSettings
                });
                break;

              case "allowTextWrap":
              case "textWrapSettings":
                this.allowTextWrap ? this.applyTextWrap() : this.removeTextWrap(), this.notify(freezeRender, {
                    case: "textwrap",
                    isModeChg: "textWrapSettings" === prop
                });
                break;

              case "dataSource":
                var pending_1 = this.getDataModule().getState();
                if (pending_1.isPending) {
                    var gResult_1 = isNullOrUndefined(this.dataSource) ? [] : this.dataSource.result;
                    (pending_1.group || []).forEach(function(name) {
                        gResult_1 = DataUtil.group(gResult_1, name);
                    }), this.dataSource = {
                        result: gResult_1,
                        count: this.dataSource.count
                    }, pending_1.resolver(this.dataSource);
                } else this.notify(dataSourceModified, {}), this.renderModule.refresh();
                break;

              case "enableHover":
                (newProp.enableHover ? addClass : removeClass)([ this.element ], "e-gridhover");
            }
        }, Grid.prototype.updateDefaultCursor = function() {
            for (var _i = 0, headerRows_1 = [].slice.call(this.element.querySelectorAll(".e-columnheader")); _i < headerRows_1.length; _i++) {
                var row = headerRows_1[_i];
                this.allowSorting || this.allowGrouping || this.allowReordering ? row.classList.remove("e-defaultcursor") : row.classList.add("e-defaultcursor");
            }
        }, Grid.prototype.updateColumnModel = function(columns) {
            for (var i = 0, len = columns.length; i < len; i++) columns[i].columns ? this.updateColumnModel(columns[i].columns) : this.columnModel.push(columns[i]);
            this.updateFrozenColumns();
        }, Grid.prototype.updateFrozenColumns = function() {
            for (var cols = this.columnModel, count = 0, i = 0, len = cols.length; i < len; i++) cols[i].isFrozen && (cols.splice(this.frozenColumns + count, 0, cols.splice(i, 1)[0]), 
            count++);
        }, Grid.prototype.getColumns = function(isRefresh) {
            var _this = this, inview = this.inViewIndexes.map(function(v) {
                return v - _this.groupSettings.columns.length;
            }).filter(function(v) {
                return v > -1;
            }), vLen = inview.length;
            (!this.enableColumnVirtualization || isNullOrUndefined(this.columnModel) || 0 === this.columnModel.length || isRefresh) && (this.columnModel = [], 
            this.updateColumnModel(this.columns));
            return 0 === vLen ? this.columnModel : this.columnModel.slice(inview[0], inview[vLen - 1] + 1);
        }, Grid.prototype.getColumnIndexesInView = function() {
            return this.inViewIndexes;
        }, Grid.prototype.getLocaleConstants = function() {
            return this.defaultLocale;
        }, Grid.prototype.setColumnIndexesInView = function(indexes) {
            this.inViewIndexes = indexes;
        }, Grid.prototype.getVisibleColumns = function() {
            for (var cols = [], _i = 0, _a = this.columnModel; _i < _a.length; _i++) {
                var col = _a[_i];
                col.visible && cols.push(col);
            }
            return cols;
        }, Grid.prototype.getHeaderContent = function() {
            return this.headerModule.getPanel();
        }, Grid.prototype.setGridHeaderContent = function(element) {
            this.headerModule.setPanel(element);
        }, Grid.prototype.getContentTable = function() {
            return this.contentModule.getTable();
        }, Grid.prototype.setGridContentTable = function(element) {
            this.contentModule.setTable(element);
        }, Grid.prototype.getContent = function() {
            return this.contentModule.getPanel();
        }, Grid.prototype.setGridContent = function(element) {
            this.contentModule.setPanel(element);
        }, Grid.prototype.getHeaderTable = function() {
            return this.headerModule.getTable();
        }, Grid.prototype.setGridHeaderTable = function(element) {
            this.headerModule.setTable(element);
        }, Grid.prototype.getFooterContent = function() {
            return isNullOrUndefined(this.footerElement) && (this.footerElement = this.element.getElementsByClassName("e-gridfooter")[0]), 
            this.footerElement;
        }, Grid.prototype.getFooterContentTable = function() {
            return isNullOrUndefined(this.footerElement) && (this.footerElement = this.element.getElementsByClassName("e-gridfooter")[0]), 
            this.footerElement.firstChild.firstChild;
        }, Grid.prototype.getPager = function() {
            return this.gridPager;
        }, Grid.prototype.setGridPager = function(element) {
            this.gridPager = element;
        }, Grid.prototype.getRowByIndex = function(index) {
            return this.contentModule.getRowByIndex(index);
        }, Grid.prototype.getMovableRowByIndex = function(index) {
            return this.contentModule.getMovableRowByIndex(index);
        }, Grid.prototype.getRows = function() {
            return this.contentModule.getRowElements();
        }, Grid.prototype.getRowInfo = function(target) {
            var ele = target, args = {
                target: target
            };
            if (!isNullOrUndefined(target) && isNullOrUndefined(parentsUntil(ele, "e-detailrowcollapse") && isNullOrUndefined(parentsUntil(ele, "e-recordplusexpand"))) && !this.isEdit) {
                var cell = closest(ele, ".e-rowcell");
                if (!cell) return args;
                var cellIndex = parseInt(cell.getAttribute("aria-colindex"), 10);
                if (!isNullOrUndefined(cell) && !isNaN(cellIndex)) {
                    var row_1 = closest(cell, ".e-row"), rowIndex = parseInt(row_1.getAttribute("aria-rowindex"), 10), frzCols = this.getFrozenColumns(), isMovable = !!frzCols && cellIndex >= frzCols, rowsObject = (isMovable ? this.contentModule.getMovableRows() : this.contentModule.getRows()).filter(function(r) {
                        return r.uid === row_1.getAttribute("data-uid");
                    }), rowData = rowsObject[0].data, column = rowsObject[0].cells[isMovable ? cellIndex - frzCols : cellIndex].column;
                    args = {
                        cell: cell,
                        cellIndex: cellIndex,
                        row: row_1,
                        rowIndex: rowIndex,
                        rowData: rowData,
                        column: column,
                        target: target
                    };
                }
            }
            return args;
        }, Grid.prototype.getMovableRows = function() {
            return this.contentModule.getMovableRowElements();
        }, Grid.prototype.getDataRows = function() {
            var rows = [].slice.call(this.getContentTable().querySelector("tbody").children);
            if (this.frozenRows) {
                var freezeRows = [].slice.call(this.getHeaderTable().querySelector("tbody").children);
                rows = this.addMovableRows(freezeRows, rows);
            }
            return this.generateDataRows(rows);
        }, Grid.prototype.addMovableRows = function(fRows, mrows) {
            for (var i = 0, len = mrows.length; i < len; i++) fRows.push(mrows[i]);
            return fRows;
        }, Grid.prototype.generateDataRows = function(rows) {
            for (var dRows = [], i = 0, len = rows.length; i < len; i++) rows[i].classList.contains("e-row") && !rows[i].classList.contains("e-hiddenrow") && dRows.push(rows[i]);
            return dRows;
        }, Grid.prototype.getMovableDataRows = function() {
            var rows = [].slice.call(this.getContent().querySelector(".e-movablecontent").querySelector("tbody").children);
            if (this.frozenRows) {
                var freezeRows = [].slice.call(this.getHeaderContent().querySelector(".e-movableheader").querySelector("tbody").children);
                rows = this.addMovableRows(freezeRows, rows);
            }
            return this.generateDataRows(rows);
        }, Grid.prototype.setCellValue = function(key, field, value) {
            var fieldIdx, col, tr, pkName = this.getPrimaryKeyFieldNames()[0], cell = new CellRenderer(this, this.serviceLocator), selectedRow = {}, rowObjects = this.contentModule.getRows();
            if (fieldIdx = this.getColumnIndexByField(field), col = this.getColumnByField(field), 
            selectedRow = rowObjects.filter(function(r) {
                return getValue(pkName, r.data) === key;
            })[0], tr = isNullOrUndefined(selectedRow) ? null : this.element.querySelector("[data-uid=" + selectedRow.uid + "]"), 
            !isNullOrUndefined(tr)) {
                setValue(field, value, selectedRow.data);
                var td = tr.childNodes[fieldIdx];
                isNullOrUndefined(td) || (cell.refreshTD(td, selectedRow.cells[fieldIdx], selectedRow.data), 
                this.trigger("queryCellInfo", {
                    cell: td,
                    column: col,
                    data: selectedRow.data
                }));
            }
        }, Grid.prototype.setRowData = function(key, rowData) {
            var selectedRow, rowObjects = this.contentModule.getRows(), pkName = this.getPrimaryKeyFieldNames()[0], rowRenderer = new RowRenderer(this.serviceLocator, null, this);
            !isNullOrUndefined(selectedRow = rowObjects.filter(function(r) {
                return getValue(pkName, r.data) === key;
            })[0]) && this.element.querySelectorAll("[data-uid=" + selectedRow.uid + "]").length && (selectedRow.changes = rowData, 
            refreshForeignData(selectedRow, this.getForeignKeyColumns(), selectedRow.changes), 
            rowRenderer.refresh(selectedRow, this.getColumns(), !0));
        }, Grid.prototype.getCellFromIndex = function(rowIndex, columnIndex) {
            return this.getDataRows()[rowIndex].querySelectorAll(".e-rowcell")[columnIndex];
        }, Grid.prototype.getMovableCellFromIndex = function(rowIndex, columnIndex) {
            return this.getMovableDataRows()[rowIndex].querySelectorAll(".e-rowcell")[columnIndex - this.getFrozenColumns()];
        }, Grid.prototype.getColumnHeaderByIndex = function(index) {
            return this.getHeaderTable().querySelectorAll(".e-headercell")[index];
        }, Grid.prototype.getRowObjectFromUID = function(uid) {
            var rows = this.contentModule.getRows(), row = this.rowObject(rows, uid);
            return this.getFrozenColumns() && !row ? row = this.rowObject(this.contentModule.getMovableRows(), uid) : row;
        }, Grid.prototype.rowObject = function(rows, uid) {
            for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {
                var row = rows_1[_i];
                if (row.uid === uid) return row;
            }
            return null;
        }, Grid.prototype.getRowsObject = function() {
            return this.contentModule.getRows();
        }, Grid.prototype.getMovableRowsObject = function() {
            return this.contentModule.getMovableRows();
        }, Grid.prototype.getColumnHeaderByField = function(field) {
            return this.getColumnHeaderByUid(this.getColumnByField(field).uid);
        }, Grid.prototype.getColumnHeaderByUid = function(uid) {
            return this.getHeaderContent().querySelector("[e-mappinguid=" + uid + "]").parentElement;
        }, Grid.prototype.getColumnByField = function(field) {
            return iterateArrayOrObject(this.getColumns(), function(item, index) {
                if (item.field === field) return item;
            })[0];
        }, Grid.prototype.getColumnIndexByField = function(field) {
            var index = iterateArrayOrObject(this.getColumns(), function(item, index) {
                if (item.field === field) return index;
            })[0];
            return isNullOrUndefined(index) ? -1 : index;
        }, Grid.prototype.getColumnByUid = function(uid) {
            return iterateArrayOrObject(this.getColumns(), function(item, index) {
                if (item.uid === uid) return item;
            })[0];
        }, Grid.prototype.getColumnIndexByUid = function(uid) {
            var index = iterateArrayOrObject(this.getColumns(), function(item, index) {
                if (item.uid === uid) return index;
            })[0];
            return isNullOrUndefined(index) ? -1 : index;
        }, Grid.prototype.getUidByColumnField = function(field) {
            return iterateArrayOrObject(this.getColumns(), function(item, index) {
                if (item.field === field) return item.uid;
            })[0];
        }, Grid.prototype.getNormalizedColumnIndex = function(uid) {
            var index = this.getColumnIndexByUid(uid);
            return this.allowGrouping && (index += this.groupSettings.columns.length), this.isDetail() && index++, 
            index;
        }, Grid.prototype.getColumnFieldNames = function() {
            for (var column, columnNames = [], i = 0, len = this.getColumns().length; i < len; i++) (column = this.getColumns()[i]).visible && columnNames.push(column.field);
            return columnNames;
        }, Grid.prototype.getRowTemplate = function() {
            return this.rowTemplateFn;
        }, Grid.prototype.getDetailTemplate = function() {
            return this.detailTemplateFn;
        }, Grid.prototype.getPrimaryKeyFieldNames = function() {
            for (var keys = [], key = 0, col = this.columns, cLen = col.length; key < cLen; key++) col[key].isPrimaryKey && keys.push(col[key].field);
            return keys;
        }, Grid.prototype.refresh = function() {
            this.headerModule.refreshUI(), this.updateStackedFilter(), this.updateDefaultCursor(), 
            this.renderModule.refresh();
        }, Grid.prototype.refreshHeader = function() {
            this.headerModule.refreshUI();
        }, Grid.prototype.getSelectedRows = function() {
            return this.selectionModule ? this.selectionModule.selectedRecords : [];
        }, Grid.prototype.getSelectedRowIndexes = function() {
            return this.selectionModule ? this.selectionModule.selectedRowIndexes : [];
        }, Grid.prototype.getSelectedRowCellIndexes = function() {
            return this.selectionModule.selectedRowCellIndexes;
        }, Grid.prototype.getSelectedRecords = function() {
            return this.selectionModule.getSelectedRecords();
        }, Grid.prototype.getDataModule = function() {
            return this.renderModule.data;
        }, Grid.prototype.showColumns = function(keys, showBy) {
            showBy = showBy || "headerText", this.showHider.show(keys, showBy);
        }, Grid.prototype.hideColumns = function(keys, hideBy) {
            hideBy = hideBy || "headerText", this.showHider.hide(keys, hideBy);
        }, Grid.prototype.getFrozenColumns = function() {
            return this.frozenColumns + this.getFrozenCount(this.columns, 0);
        }, Grid.prototype.getFrozenCount = function(cols, cnt) {
            for (var i = 0, len = cols.length; i < len; i++) cols[i].columns ? cnt = this.getFrozenCount(cols[i].columns, cnt) : cols[i].isFrozen && cnt++;
            return cnt;
        }, Grid.prototype.goToPage = function(pageNo) {
            this.pagerModule.goToPage(pageNo);
        }, Grid.prototype.updateExternalMessage = function(message) {
            this.pagerModule.updateExternalMessage(message);
        }, Grid.prototype.sortColumn = function(columnName, direction, isMultiSort) {
            this.sortModule.sortColumn(columnName, direction, isMultiSort);
        }, Grid.prototype.clearSorting = function() {
            this.sortModule.clearSorting();
        }, Grid.prototype.removeSortColumn = function(field) {
            this.sortModule.removeSortColumn(field);
        }, Grid.prototype.filterByColumn = function(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {
            this.filterModule.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator);
        }, Grid.prototype.clearFiltering = function() {
            this.filterModule.clearFiltering();
        }, Grid.prototype.removeFilteredColsByField = function(field, isClearFilterBar) {
            this.filterModule.removeFilteredColsByField(field, isClearFilterBar);
        }, Grid.prototype.selectRow = function(index, isToggle) {
            this.selectionModule.selectRow(index, isToggle);
        }, Grid.prototype.selectRows = function(rowIndexes) {
            this.selectionModule.selectRows(rowIndexes);
        }, Grid.prototype.clearSelection = function() {
            this.selectionModule.clearSelection();
        }, Grid.prototype.selectCell = function(cellIndex, isToggle) {
            this.selectionModule.selectCell(cellIndex, isToggle);
        }, Grid.prototype.search = function(searchString) {
            this.searchModule.search(searchString);
        }, Grid.prototype.print = function() {
            this.printModule.print();
        }, Grid.prototype.deleteRecord = function(fieldname, data) {
            this.editModule.deleteRecord(fieldname, data);
        }, Grid.prototype.startEdit = function() {
            this.editModule.startEdit();
        }, Grid.prototype.endEdit = function() {
            this.editModule.endEdit();
        }, Grid.prototype.closeEdit = function() {
            this.editModule.closeEdit();
        }, Grid.prototype.addRecord = function(data, index) {
            this.editModule.addRecord(data, index);
        }, Grid.prototype.deleteRow = function(tr) {
            this.editModule.deleteRow(tr);
        }, Grid.prototype.copy = function(withHeader) {
            this.clipboardModule.copy(withHeader);
        }, Grid.prototype.recalcIndentWidth = function() {
            if (this.getHeaderTable().querySelector(".e-emptycell") && (this.groupSettings.columns.length || this.isDetail()) && !this.getHeaderTable().querySelector(".e-emptycell").getAttribute("indentRefreshed") && this.getContentTable()) {
                var indentWidth = this.getHeaderTable().querySelector(".e-emptycell").parentElement.offsetWidth, headerCol = [].slice.call(this.getHeaderTable().querySelector("colgroup").childNodes), contentCol = [].slice.call(this.getContentTable().querySelector("colgroup").childNodes), perPixel = indentWidth / 30, i = 0;
                for (perPixel >= 1 && (indentWidth = 30 / perPixel), this.enableColumnVirtualization && (indentWidth = 30); i < this.groupSettings.columns.length; ) headerCol[i].style.width = indentWidth + "px", 
                contentCol[i].style.width = indentWidth + "px", this.notify(columnWidthChanged, {
                    index: i,
                    width: indentWidth
                }), i++;
                this.isDetail() && (headerCol[i].style.width = indentWidth + "px", contentCol[i].style.width = indentWidth + "px", 
                this.notify(columnWidthChanged, {
                    index: i,
                    width: indentWidth
                })), this.getHeaderTable().querySelector(".e-emptycell").setAttribute("indentRefreshed", "true");
            }
        }, Grid.prototype.reorderColumns = function(fromFName, toFName) {
            this.reorderModule.reorderColumns(fromFName, toFName);
        }, Grid.prototype.autoFitColumns = function(fieldNames) {
            this.resizeModule.autoFitColumns(fieldNames);
        }, Grid.prototype.createColumnchooser = function(x, y, target) {
            this.columnChooserModule.renderColumnChooser(x, y, target);
        }, Grid.prototype.initializeServices = function() {
            this.serviceLocator.register("widthService", this.widthService = new ColumnWidthService(this)), 
            this.serviceLocator.register("cellRendererFactory", new CellRendererFactory()), 
            this.serviceLocator.register("rendererFactory", new RendererFactory()), this.serviceLocator.register("localization", this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale)), 
            this.serviceLocator.register("valueFormatter", this.valueFormatterService = new ValueFormatter(this.locale)), 
            this.serviceLocator.register("showHideService", this.showHider = new ShowHide(this)), 
            this.serviceLocator.register("ariaService", this.ariaService = new AriaService()), 
            this.serviceLocator.register("focus", this.focusModule = new FocusStrategy(this));
        }, Grid.prototype.processModel = function() {
            var flag, j, _this = this, gCols = this.groupSettings.columns, sCols = this.sortSettings.columns;
            if (this.allowGrouping) for (var _loop_1 = function(i, len) {
                j = 0;
                for (var sLen = sCols.length; j < sLen; j++) if (sCols[j].field === gCols[i]) {
                    flag = !0;
                    break;
                }
                if (flag ? this_1.allowSorting ? this_1.sortedColumns.push(sCols[j].field) : sCols[j].direction = "Ascending" : sCols.push({
                    field: gCols[i],
                    direction: "Ascending"
                }), !this_1.groupSettings.showGroupedColumn) {
                    (this_1.enableColumnVirtualization ? this_1.columns.filter(function(c) {
                        return c.field === gCols[i];
                    })[0] : this_1.getColumnByField(gCols[i])).visible = !1;
                }
            }, this_1 = this, i = 0, len = gCols.length; i < len; i++) _loop_1(i);
            if (gCols.length || sCols.forEach(function(col) {
                _this.sortedColumns.push(col.field);
            }), this.rowTemplateFn = templateCompiler(this.rowTemplate), this.detailTemplateFn = templateCompiler(this.detailTemplate), 
            !isNullOrUndefined(this.parentDetails)) {
                var value = isNullOrUndefined(this.parentDetails.parentKeyFieldValue) ? "undefined" : this.parentDetails.parentKeyFieldValue;
                this.query.where(this.queryString, "equal", value, !0);
            }
            this.initForeignColumn();
        }, Grid.prototype.initForeignColumn = function() {
            this.isForeignKeyEnabled(this.getColumns()) && this.notify("initForeignKeyColumn", this.getForeignKeyColumns());
        }, Grid.prototype.gridRender = function() {
            this.updateRTL(), this.enableHover && this.element.classList.add("e-gridhover"), 
            Browser.isDevice && this.element.classList.add("e-device"), this.rowHeight && this.element.classList.add("e-grid-min-height"), 
            classList(this.element, [ "e-responsive", "e-default" ], []);
            var rendererFactory = this.serviceLocator.getService("rendererFactory");
            this.headerModule = rendererFactory.getRenderer(RenderType.Header), this.contentModule = rendererFactory.getRenderer(RenderType.Content), 
            this.printModule = new Print(this, this.scrollModule), this.clipboardModule = new Clipboard(this), 
            this.renderModule.render(), this.eventInitializer(), this.createGridPopUpElement(), 
            this.widthService.setWidthToColumns(), this.updateGridLines(), this.applyTextWrap();
        }, Grid.prototype.dataReady = function() {
            this.scrollModule.setWidth(), this.scrollModule.setHeight(), "auto" !== this.height && this.scrollModule.setPadding();
        }, Grid.prototype.updateRTL = function() {
            this.enableRtl ? this.element.classList.add("e-rtl") : this.element.classList.remove("e-rtl");
        }, Grid.prototype.createGridPopUpElement = function() {
            var popup = createElement("div", {
                className: "e-gridpopup",
                styles: "display:none;"
            }), content = createElement("div", {
                className: "e-content",
                attrs: {
                    tabIndex: "-1"
                }
            });
            append([ content, createElement("div", {
                className: "e-uptail e-tail"
            }) ], popup), content.appendChild(createElement("span")), append([ content, createElement("div", {
                className: "e-downtail e-tail"
            }) ], popup), this.element.appendChild(popup);
        }, Grid.prototype.updateGridLines = function() {
            switch (classList(this.element, [], [ "e-verticallines", "e-horizontallines", "e-hidelines", "e-bothlines" ]), 
            this.gridLines) {
              case "Horizontal":
                this.element.classList.add("e-horizontallines");
                break;

              case "Vertical":
                this.element.classList.add("e-verticallines");
                break;

              case "None":
                this.element.classList.add("e-hidelines");
                break;

              case "Both":
                this.element.classList.add("e-bothlines");
            }
            this.updateResizeLines();
        }, Grid.prototype.updateResizeLines = function() {
            this.allowResizing && "Vertical" !== this.gridLines && "Both" !== this.gridLines ? this.element.classList.add("e-resize-lines") : this.element.classList.remove("e-resize-lines");
        }, Grid.prototype.applyTextWrap = function() {
            if (this.allowTextWrap) {
                var headerRows = [].slice.call(this.element.querySelectorAll(".e-columnheader"));
                switch (this.textWrapSettings.wrapMode) {
                  case "Header":
                    wrap(this.element, !1), wrap(this.getContent(), !1), wrap(headerRows, !0);
                    break;

                  case "Content":
                    wrap(this.getContent(), !0), wrap(this.element, !1), wrap(headerRows, !1);
                    break;

                  default:
                    wrap(this.element, !0), wrap(this.getContent(), !1), wrap(headerRows, !1);
                }
            }
        }, Grid.prototype.removeTextWrap = function() {
            wrap(this.element, !1);
            wrap([].slice.call(this.element.querySelectorAll(".e-columnheader")), !1), wrap(this.getContent(), !1);
        }, Grid.prototype.refreshTooltip = function() {
            for (var width, headerTable = this.getHeaderTable(), htable = (this.getContentTable(), 
            this.createTable(headerTable, "e-gridheader", "header")), ctable = this.createTable(headerTable, "e-gridheader", "content"), all = this.element.querySelectorAll(".e-ellipsistooltip"), allele = [], i = 0; i < all.length; i++) allele[i] = all[i];
            allele.forEach(function(element) {
                var table = headerTable.contains(element) ? htable : ctable, ele = headerTable.contains(element) ? "th" : "tr";
                if (table.querySelector(ele).className = element.className, table.querySelector(ele).innerHTML = element.innerHTML, 
                (width = table.querySelector(ele).getBoundingClientRect().width) > element.getBoundingClientRect().width && !element.classList.contains("e-tooltip")) new Tooltip({
                    content: element.innerHTML
                }, element); else width < element.getBoundingClientRect().width && element.classList.contains("e-tooltip") && element.ej2_instances[0].destroy();
            }), document.body.removeChild(htable), document.body.removeChild(ctable);
        }, Grid.prototype.createTable = function(table, tag, type) {
            var myTableDiv = createElement("div");
            myTableDiv.className = this.element.className, myTableDiv.style.cssText = "display: inline-block;visibility:hidden;position:absolute";
            var mySubDiv = createElement("div");
            mySubDiv.className = tag;
            var myTable = createElement("table");
            myTable.className = table.className, myTable.style.cssText = "table-layout: auto;width: auto";
            var ele = "header" === type ? "th" : "td", myTr = createElement("tr"), mytd = createElement(ele);
            return myTr.appendChild(mytd), myTable.appendChild(myTr), mySubDiv.appendChild(myTable), 
            myTableDiv.appendChild(mySubDiv), document.body.appendChild(myTableDiv), myTableDiv;
        }, Grid.prototype.wireEvents = function() {
            EventHandler.add(this.element, "click", this.mouseClickHandler, this), EventHandler.add(this.element, "touchend", this.mouseClickHandler, this), 
            EventHandler.add(this.element, "focusout", this.focusOutHandler, this), EventHandler.add(this.getContent(), "dblclick", this.dblClickHandler, this), 
            this.allowKeyboard && (this.element.tabIndex = -1 === this.element.tabIndex ? 0 : this.element.tabIndex), 
            this.keyboardModule = new KeyboardEvents(this.element, {
                keyAction: this.keyActionHandler.bind(this),
                keyConfigs: this.keyConfigs,
                eventName: "keydown"
            });
        }, Grid.prototype.unwireEvents = function() {
            EventHandler.remove(this.element, "click", this.mouseClickHandler), EventHandler.remove(this.element, "touchend", this.mouseClickHandler), 
            EventHandler.remove(this.element, "focusout", this.focusOutHandler);
        }, Grid.prototype.addListener = function() {
            var _this = this;
            this.isDestroyed || (this.on(dataReady, this.dataReady, this), this.on(contentReady, this.recalcIndentWidth, this), 
            [ updateData, modelChanged, contentReady, columnWidthChanged ].forEach(function(event) {
                return _this.on(event, _this.refreshTooltip, _this);
            }), this.on(headerRefreshed, this.recalcIndentWidth, this), this.dataBoundFunction = this.refreshMediaCol.bind(this), 
            this.addEventListener(dataBound, this.dataBoundFunction));
        }, Grid.prototype.removeListener = function() {
            var _this = this;
            this.isDestroyed || (this.off(dataReady, this.dataReady), this.off(contentReady, this.recalcIndentWidth), 
            [ updateData, modelChanged, contentReady, columnWidthChanged ].forEach(function(event) {
                return _this.off(event, _this.refreshTooltip);
            }), this.off(headerRefreshed, this.recalcIndentWidth), this.removeEventListener(dataBound, this.dataBoundFunction));
        }, Grid.prototype.getCurrentViewRecords = function() {
            return this.allowGrouping && this.groupSettings.columns.length ? this.currentViewData.records : this.currentViewData;
        }, Grid.prototype.mouseClickHandler = function(e) {
            this.isChildGrid(e) || parentsUntil(e.target, "e-gridpopup") && e.touches || this.element.querySelectorAll(".e-cloneproperties").length || this.checkEdit(e) || (!this.allowRowDragAndDrop && (parentsUntil(e.target, "e-gridcontent") || "TD" === e.target.tagName) || !this.allowGrouping && !this.allowReordering && parentsUntil(e.target, "e-gridheader")) && e.touches || (parentsUntil(e.target, "e-gridheader") && this.allowRowDragAndDrop && e.preventDefault(), 
            this.notify(click, e));
        }, Grid.prototype.checkEdit = function(e) {
            var tr = parentsUntil(e.target, "e-row"), isEdit = "Batch" !== this.editSettings.mode && this.isEdit && tr && (tr.classList.contains("e-editedrow") || tr.classList.contains("e-addedrow"));
            return !parentsUntil(e.target, "e-unboundcelldiv") && (isEdit || parentsUntil(e.target, "e-rowcell") && parentsUntil(e.target, "e-rowcell").classList.contains("e-editedbatchcell"));
        }, Grid.prototype.dblClickHandler = function(e) {
            var grid = parentsUntil(e.target, "e-grid");
            if (!isNullOrUndefined(grid) && grid.id === this.element.id && !closest(e.target, ".e-unboundcelldiv")) {
                var args = this.getRowInfo(e.target);
                args.target = e.target, this.trigger("recordDoubleClick", args), this.notify("dblclick", e);
            }
        }, Grid.prototype.focusOutHandler = function(e) {
            if (!this.isChildGrid(e)) {
                parentsUntil(e.target, "e-grid") || (this.element.querySelector(".e-gridpopup").style.display = "None");
                var filterClear = this.element.querySelector(".e-cancel:not(.e-hide)");
                filterClear && filterClear.classList.add("e-hide"), e.relatedTarget && parentsUntil(e.relatedTarget, "e-grid") || this.keyPress || "Batch" !== this.editSettings.mode || !this.isEdit || this.editModule.saveCell(), 
                this.keyPress = !1;
            }
        }, Grid.prototype.isChildGrid = function(e) {
            var gridElement = parentsUntil(e.target, "e-grid");
            return !(!gridElement || gridElement.id === this.element.id);
        }, Grid.prototype.mergePersistGridData = function() {
            var data = window.localStorage.getItem(this.getModuleName() + this.element.id);
            if (!isNullOrUndefined(data) && "" !== data) {
                var dataObj = JSON.parse(data), keys = Object.keys(dataObj);
                this.isProtectedOnChange = !0;
                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
                    var key = keys_1[_i];
                    "object" != typeof this[key] || isNullOrUndefined(this[key]) ? this[key] = dataObj[key] : Array.isArray(this[key]) && "columns" === key ? (this.mergeColumns(dataObj[key], this[key]), 
                    this[key] = dataObj[key]) : extend(this[key], dataObj[key]);
                }
                this.isProtectedOnChange = !1;
            }
        }, Grid.prototype.mergeColumns = function(storedColumn, columns) {
            var _this = this;
            storedColumn.forEach(function(col, index, arr) {
                var ind, localCol = _this.getColumnByField(col.field) || columns.some(function(element, i) {
                    return ind = i, element.headerText === col.headerText;
                }) && columns[ind];
                isNullOrUndefined(localCol) || (localCol.columns && localCol.columns.length ? _this.mergeColumns(col.columns, localCol.columns) : arr[index] = extend({}, localCol, col, !0));
            });
        }, Grid.prototype.isDetail = function() {
            return !isNullOrUndefined(this.detailTemplate) || !isNullOrUndefined(this.childGrid);
        }, Grid.prototype.isCommandColumn = function(columns) {
            var _this = this;
            return columns.some(function(col) {
                return col.columns ? _this.isCommandColumn(col.columns) : !(!col.commands && !col.commandsTemplate);
            });
        }, Grid.prototype.isForeignKeyEnabled = function(columns) {
            var _this = this;
            return columns.some(function(col) {
                return col.columns ? _this.isForeignKeyEnabled(col.columns) : !(!col.dataSource || !col.foreignKeyValue);
            });
        }, Grid.prototype.keyActionHandler = function(e) {
            this.keyPress = !0, this.isChildGrid(e) || this.isEdit && "escape" !== e.action && "enter" !== e.action && "shiftEnter" !== e.action && "tab" !== e.action && "shiftTab" !== e.action || this.allowKeyboard && ("ctrlPlusP" === e.action && (e.preventDefault(), 
            this.print()), this.notify(keyPressed, e));
        }, Grid.prototype.setInjectedModules = function(modules) {
            this.injectedModules = modules;
        }, Grid.prototype.updateColumnObject = function() {
            prepareColumns(this.columns, this.enableColumnVirtualization), this.initForeignColumn(), 
            this.notify("auto-col", {});
        }, Grid.prototype.getForeignKeyColumns = function() {
            return this.getColumns().filter(function(col) {
                return col.isForeignColumn();
            });
        }, Grid.prototype.refreshColumns = function() {
            this.updateColumnObject(), this.refresh();
        }, Grid.prototype.excelExport = function(excelExportProperties, isMultipleExport, workbook, isBlob) {
            return this.excelExportModule.Map(this, excelExportProperties, isMultipleExport, workbook, !1, isBlob);
        }, Grid.prototype.csvExport = function(excelExportProperties, isMultipleExport, workbook, isBlob) {
            return this.excelExportModule.Map(this, excelExportProperties, isMultipleExport, workbook, !0, isBlob);
        }, Grid.prototype.pdfExport = function(pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {
            return this.pdfExportModule.Map(this, pdfExportProperties, isMultipleExport, pdfDoc, isBlob);
        }, Grid.prototype.groupColumn = function(columnName) {
            this.groupModule.groupColumn(columnName);
        }, Grid.prototype.ungroupColumn = function(columnName) {
            this.groupModule.ungroupColumn(columnName);
        }, Grid.prototype.isContextMenuOpen = function() {
            return this.contextMenuModule && this.contextMenuModule.isOpen;
        }, Grid.prototype.ensureModuleInjected = function(module) {
            return this.getInjectedModules().indexOf(module) >= 0;
        }, Grid.prototype.destroyTemplate = function(propertyNames) {
            this.clearTemplate(propertyNames);
        }, __decorate$4$1([ Property([]) ], Grid.prototype, "columns", void 0), __decorate$4$1([ Property(!0) ], Grid.prototype, "enableAltRow", void 0), 
        __decorate$4$1([ Property(!0) ], Grid.prototype, "enableHover", void 0), __decorate$4$1([ Property(!0) ], Grid.prototype, "allowKeyboard", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "allowTextWrap", void 0), __decorate$4$1([ Complex({}, TextWrapSettings) ], Grid.prototype, "textWrapSettings", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "allowPaging", void 0), __decorate$4$1([ Complex({}, PageSettings) ], Grid.prototype, "pageSettings", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "enableVirtualization", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "enableColumnVirtualization", void 0), 
        __decorate$4$1([ Complex({}, SearchSettings) ], Grid.prototype, "searchSettings", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "allowSorting", void 0), __decorate$4$1([ Property(!0) ], Grid.prototype, "allowMultiSorting", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "allowExcelExport", void 0), __decorate$4$1([ Property(!1) ], Grid.prototype, "allowPdfExport", void 0), 
        __decorate$4$1([ Complex({}, SortSettings) ], Grid.prototype, "sortSettings", void 0), 
        __decorate$4$1([ Property(!0) ], Grid.prototype, "allowSelection", void 0), __decorate$4$1([ Property(-1) ], Grid.prototype, "selectedRowIndex", void 0), 
        __decorate$4$1([ Complex({}, SelectionSettings) ], Grid.prototype, "selectionSettings", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "allowFiltering", void 0), __decorate$4$1([ Property(!1) ], Grid.prototype, "allowReordering", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "allowResizing", void 0), __decorate$4$1([ Property(!1) ], Grid.prototype, "allowRowDragAndDrop", void 0), 
        __decorate$4$1([ Complex({}, RowDropSettings) ], Grid.prototype, "rowDropSettings", void 0), 
        __decorate$4$1([ Complex({}, FilterSettings) ], Grid.prototype, "filterSettings", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "allowGrouping", void 0), __decorate$4$1([ Property(!1) ], Grid.prototype, "showColumnMenu", void 0), 
        __decorate$4$1([ Complex({}, GroupSettings) ], Grid.prototype, "groupSettings", void 0), 
        __decorate$4$1([ Complex({}, EditSettings) ], Grid.prototype, "editSettings", void 0), 
        __decorate$4$1([ Collection([], AggregateRow) ], Grid.prototype, "aggregates", void 0), 
        __decorate$4$1([ Property(!1) ], Grid.prototype, "showColumnChooser", void 0), __decorate$4$1([ Property("auto") ], Grid.prototype, "height", void 0), 
        __decorate$4$1([ Property("auto") ], Grid.prototype, "width", void 0), __decorate$4$1([ Property("Default") ], Grid.prototype, "gridLines", void 0), 
        __decorate$4$1([ Property() ], Grid.prototype, "rowTemplate", void 0), __decorate$4$1([ Property() ], Grid.prototype, "detailTemplate", void 0), 
        __decorate$4$1([ Property() ], Grid.prototype, "childGrid", void 0), __decorate$4$1([ Property() ], Grid.prototype, "queryString", void 0), 
        __decorate$4$1([ Property("AllPages") ], Grid.prototype, "printMode", void 0), __decorate$4$1([ Property([]) ], Grid.prototype, "dataSource", void 0), 
        __decorate$4$1([ Property(null) ], Grid.prototype, "rowHeight", void 0), __decorate$4$1([ Property() ], Grid.prototype, "query", void 0), 
        __decorate$4$1([ Property("USD") ], Grid.prototype, "currencyCode", void 0), __decorate$4$1([ Property() ], Grid.prototype, "toolbar", void 0), 
        __decorate$4$1([ Property() ], Grid.prototype, "contextMenuItems", void 0), __decorate$4$1([ Property() ], Grid.prototype, "columnMenuItems", void 0), 
        __decorate$4$1([ Property() ], Grid.prototype, "toolbarTemplate", void 0), __decorate$4$1([ Property() ], Grid.prototype, "pagerTemplate", void 0), 
        __decorate$4$1([ Property(0) ], Grid.prototype, "frozenRows", void 0), __decorate$4$1([ Property(0) ], Grid.prototype, "frozenColumns", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "created", void 0), __decorate$4$1([ Event() ], Grid.prototype, "destroyed", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "load", void 0), __decorate$4$1([ Event() ], Grid.prototype, "rowDataBound", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "queryCellInfo", void 0), __decorate$4$1([ Event() ], Grid.prototype, "actionBegin", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "actionComplete", void 0), __decorate$4$1([ Event() ], Grid.prototype, "actionFailure", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "dataBound", void 0), __decorate$4$1([ Event() ], Grid.prototype, "recordDoubleClick", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "rowSelecting", void 0), __decorate$4$1([ Event() ], Grid.prototype, "rowSelected", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "rowDeselecting", void 0), __decorate$4$1([ Event() ], Grid.prototype, "rowDeselected", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "cellSelecting", void 0), __decorate$4$1([ Event() ], Grid.prototype, "cellSelected", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "cellDeselecting", void 0), __decorate$4$1([ Event() ], Grid.prototype, "cellDeselected", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "columnDragStart", void 0), __decorate$4$1([ Event() ], Grid.prototype, "columnDrag", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "columnDrop", void 0), __decorate$4$1([ Event() ], Grid.prototype, "printComplete", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "beforePrint", void 0), __decorate$4$1([ Event() ], Grid.prototype, "pdfQueryCellInfo", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "excelQueryCellInfo", void 0), __decorate$4$1([ Event() ], Grid.prototype, "beforeExcelExport", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "excelExportComplete", void 0), __decorate$4$1([ Event() ], Grid.prototype, "beforePdfExport", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "pdfExportComplete", void 0), __decorate$4$1([ Event() ], Grid.prototype, "detailDataBound", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "rowDragStart", void 0), __decorate$4$1([ Event() ], Grid.prototype, "rowDrag", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "rowDrop", void 0), __decorate$4$1([ Event() ], Grid.prototype, "toolbarClick", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "beforeOpenColumnChooser", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "batchAdd", void 0), __decorate$4$1([ Event() ], Grid.prototype, "batchDelete", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "beforeBatchAdd", void 0), __decorate$4$1([ Event() ], Grid.prototype, "beforeBatchDelete", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "beforeBatchSave", void 0), __decorate$4$1([ Event() ], Grid.prototype, "beginEdit", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "cellEdit", void 0), __decorate$4$1([ Event() ], Grid.prototype, "cellSave", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "resizeStart", void 0), __decorate$4$1([ Event() ], Grid.prototype, "resizing", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "resizeStop", void 0), __decorate$4$1([ Event() ], Grid.prototype, "beforeDataBound", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "contextMenuOpen", void 0), __decorate$4$1([ Event() ], Grid.prototype, "contextMenuClick", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "columnMenuOpen", void 0), __decorate$4$1([ Event() ], Grid.prototype, "columnMenuClick", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "checkBoxChange", void 0), __decorate$4$1([ Event() ], Grid.prototype, "beforeCopy", void 0), 
        __decorate$4$1([ Event() ], Grid.prototype, "dataStateChange", void 0), __decorate$4$1([ Event() ], Grid.prototype, "dataSourceChanged", void 0), 
        Grid = __decorate$4$1([ NotifyPropertyChanges ], Grid);
    }(Component);
    Grid.Inject(Selection);
    var ListBase, Sort = function() {
        function Sort(parent, sortSettings, sortedColumns, locator) {
            this.contentRefresh = !0, this.isModelChanged = !0, this.aria = new AriaService(), 
            this.parent = parent, this.sortSettings = sortSettings, this.sortedColumns = sortedColumns, 
            this.focus = locator.getService("focus"), this.addEventListener();
        }
        return Sort.prototype.updateModel = function() {
            var index, sortedColumn = {
                field: this.columnName,
                direction: this.direction
            }, gCols = this.parent.groupSettings.columns, flag = !1;
            if (this.isMultiSort) (index = this.getSortedColsIndexByField(this.columnName)) > -1 && this.sortSettings.columns.splice(index, 1), 
            this.sortSettings.columns.push(sortedColumn), this.sortSettings.columns = this.sortSettings.columns; else if (gCols.length) {
                for (var sortedCols = [], i = 0, len = gCols.length; i < len; i++) if (index = this.getSortedColsIndexByField(gCols[i], sortedCols), 
                this.columnName === gCols[i]) flag = !0, sortedCols.push(sortedColumn); else {
                    var sCol = this.getSortColumnFromField(gCols[i]);
                    sortedCols.push({
                        field: sCol.field,
                        direction: sCol.direction
                    });
                }
                flag || sortedCols.push(sortedColumn), this.sortSettings.columns = sortedCols;
            } else this.sortSettings.columns = [ sortedColumn ];
            this.parent.dataBind(), this.lastSortedCol = this.columnName;
        }, Sort.prototype.onActionComplete = function(e) {
            var args = this.isRemove ? {
                requestType: "sorting",
                type: actionComplete
            } : {
                columnName: this.columnName,
                direction: this.direction,
                requestType: "sorting",
                type: actionComplete
            };
            this.isRemove = !1, this.parent.trigger(actionComplete, extend(e, args));
        }, Sort.prototype.sortColumn = function(columnName, direction, isMultiSort) {
            var gObj = this.parent;
            if (!1 !== this.parent.getColumnByField(columnName).allowSorting && !this.parent.isContextMenuOpen()) if (gObj.allowMultiSorting || (isMultiSort = gObj.allowMultiSorting), 
            this.isActionPrevent()) gObj.notify(preventBatch, {
                instance: this,
                handler: this.sortColumn,
                arg1: columnName,
                arg2: direction,
                arg3: isMultiSort
            }); else {
                this.columnName = columnName, this.direction = direction, this.isMultiSort = isMultiSort, 
                this.removeSortIcons();
                gObj.getColumnHeaderByField(columnName);
                this.updateSortedCols(columnName, isMultiSort), this.updateModel();
            }
        }, Sort.prototype.updateSortedCols = function(columnName, isMultiSort) {
            if (!isMultiSort) if (this.parent.allowGrouping) for (var i = 0, len = this.sortedColumns.length; i < len; i++) this.parent.groupSettings.columns.indexOf(this.sortedColumns[i]) < 0 && (this.sortedColumns.splice(i, 1), 
            len--, i--); else this.sortedColumns.splice(0, this.sortedColumns.length);
            this.sortedColumns.indexOf(columnName) < 0 && this.sortedColumns.push(columnName);
        }, Sort.prototype.onPropertyChanged = function(e) {
            if (e.module === this.getModuleName()) {
                if (this.contentRefresh) {
                    var args = this.sortSettings.columns.length ? {
                        columnName: this.columnName,
                        direction: this.direction,
                        requestType: "sorting",
                        type: actionBegin
                    } : {
                        requestType: "sorting",
                        type: actionBegin
                    };
                    this.parent.notify(modelChanged, args);
                }
                this.removeSortIcons(), this.addSortIcons();
            }
        }, Sort.prototype.clearSorting = function() {
            var cols = getActualPropFromColl(this.sortSettings.columns);
            if (this.isActionPrevent()) this.parent.notify(preventBatch, {
                instance: this,
                handler: this.clearSorting
            }); else for (var i = 0, len = cols.length; i < len; i++) this.removeSortColumn(cols[i].field);
        }, Sort.prototype.isActionPrevent = function() {
            return isActionPrevent(this.parent);
        }, Sort.prototype.removeSortColumn = function(field) {
            var gObj = this.parent, cols = this.sortSettings.columns;
            if (!(this.sortedColumns.indexOf(field) < 0)) if (this.isActionPrevent()) this.parent.notify(preventBatch, {
                instance: this,
                handler: this.removeSortColumn,
                arg1: field
            }); else {
                this.removeSortIcons();
                for (var i = 0, len = cols.length; i < len; i++) if (cols[i].field === field) {
                    if (gObj.allowGrouping && gObj.groupSettings.columns.indexOf(cols[i].field) > -1) continue;
                    this.sortedColumns.splice(this.sortedColumns.indexOf(cols[i].field), 1), cols.splice(i, 1), 
                    this.isRemove = !0, this.isModelChanged && this.parent.notify(modelChanged, {
                        requestType: "sorting",
                        type: actionBegin
                    });
                    break;
                }
                this.addSortIcons();
            }
        }, Sort.prototype.getSortedColsIndexByField = function(field, sortedColumns) {
            for (var cols = sortedColumns || this.sortSettings.columns, i = 0, len = cols.length; i < len; i++) if (cols[i].field === field) return i;
            return -1;
        }, Sort.prototype.getModuleName = function() {
            return "sort";
        }, Sort.prototype.initialEnd = function() {
            if (this.parent.off(contentReady, this.initialEnd), this.parent.getColumns().length && this.sortSettings.columns.length) {
                var gObj = this.parent;
                this.contentRefresh = !1, this.isMultiSort = this.sortSettings.columns.length > 1;
                for (var _i = 0, _a = gObj.sortSettings.columns; _i < _a.length; _i++) {
                    var col = _a[_i];
                    this.sortedColumns.indexOf(col.field) > -1 && this.sortColumn(col.field, col.direction, !0);
                }
                this.isMultiSort = !1, this.contentRefresh = !0;
            }
        }, Sort.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(contentReady, this.initialEnd, this), 
            this.parent.on("sorting-complete", this.onActionComplete, this), this.parent.on(inBoundModelChanged, this.onPropertyChanged, this), 
            this.parent.on(click, this.clickHandler, this), this.parent.on(headerRefreshed, this.refreshSortIcons, this), 
            this.parent.on(keyPressed, this.keyPressed, this));
        }, Sort.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off("sorting-complete", this.onActionComplete), 
            this.parent.off(inBoundModelChanged, this.onPropertyChanged), this.parent.off(click, this.clickHandler), 
            this.parent.off(headerRefreshed, this.refreshSortIcons), this.parent.off(keyPressed, this.keyPressed));
        }, Sort.prototype.destroy = function() {
            this.isModelChanged = !1, this.parent.element.querySelector(".e-gridpopup").querySelectorAll(".e-sortdirect").length && (this.parent.element.querySelector(".e-gridpopup").style.display = "none"), 
            this.clearSorting(), this.isModelChanged = !0, this.removeEventListener();
        }, Sort.prototype.clickHandler = function(e) {
            this.popUpClickHandler(e);
            var target = closest(e.target, ".e-headercell");
            if (target && !e.target.classList.contains("e-grptogglebtn") && !e.target.classList.contains("e-stackedheadercell") && !e.target.classList.contains("e-stackedheadercelldiv") && !target.classList.contains("e-resized") && !e.target.classList.contains("e-rhandler") && !e.target.classList.contains("e-columnmenu") && !e.target.classList.contains("e-filtermenudiv")) {
                var colObj = this.parent.getColumnByUid(target.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));
                target.querySelectorAll(".e-ascending").length;
                "checkbox" !== colObj.type && (this.initiateSort(target, e, colObj), Browser.isDevice && this.showPopUp(e));
            }
            target && target.classList.remove("e-resized");
        }, Sort.prototype.keyPressed = function(e) {
            var ele = e.target;
            if (!this.parent.isEdit && ("enter" === e.action || "ctrlEnter" === e.action || "shiftEnter" === e.action) && closest(ele, ".e-headercell")) {
                var target = this.focus.getFocusedElement();
                if (isNullOrUndefined(target) || !target.classList.contains("e-headercell") || !target.querySelector(".e-headercelldiv")) return;
                var col = this.parent.getColumnByUid(target.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));
                this.initiateSort(target, e, col);
            }
        }, Sort.prototype.initiateSort = function(target, e, column) {
            var gObj = this.parent, field = column.field, direction = target.querySelectorAll(".e-ascending").length ? "Descending" : "Ascending";
            e.shiftKey || this.sortSettings.allowUnsort && target.querySelectorAll(".e-descending").length && !(gObj.groupSettings.columns.indexOf(field) > -1) ? this.removeSortColumn(field) : this.sortColumn(field, direction, e.ctrlKey || this.enableSortMultiTouch);
        }, Sort.prototype.showPopUp = function(e) {
            isNullOrUndefined(closest(e.target, ".e-headercell")) && !this.parent.isContextMenuOpen() || setCssInGridPopUp(this.parent.element.querySelector(".e-gridpopup"), e, "e-sortdirect e-icons e-icon-sortdirect" + (this.sortedColumns.length > 1 ? " e-spanclicked" : ""));
        }, Sort.prototype.popUpClickHandler = function(e) {
            var target = e.target;
            closest(target, ".e-headercell") || e.target.classList.contains("e-rowcell") || closest(target, ".e-gridpopup") ? target.classList.contains("e-sortdirect") && (target.classList.contains("e-spanclicked") ? (target.classList.remove("e-spanclicked"), 
            this.enableSortMultiTouch = !1, this.parent.element.querySelector(".e-gridpopup").style.display = "none") : (target.classList.add("e-spanclicked"), 
            this.enableSortMultiTouch = !0)) : this.parent.element.querySelector(".e-gridpopup").style.display = "none";
        }, Sort.prototype.addSortIcons = function() {
            for (var header, filterElement, gObj = this.parent, cols = this.sortSettings.columns, fieldNames = this.parent.getColumns().map(function(c) {
                return c.field;
            }), i = 0, len = cols.length; i < len; i++) -1 !== fieldNames.indexOf(cols[i].field) && (header = gObj.getColumnHeaderByField(cols[i].field), 
            this.aria.setSort(header, cols[i].direction), this.isMultiSort && cols.length > 1 && header.querySelector(".e-headercelldiv").insertBefore(createElement("span", {
                className: "e-sortnumber",
                innerHTML: (i + 1).toString()
            }), header.querySelector(".e-headertext")), filterElement = header.querySelector(".e-sortfilterdiv"), 
            "Ascending" === cols[i].direction ? classList(filterElement, [ "e-ascending", "e-icon-ascending" ], []) : classList(filterElement, [ "e-descending", "e-icon-descending" ], []));
        }, Sort.prototype.removeSortIcons = function(position) {
            for (var header, gObj = this.parent, cols = this.sortSettings.columns, fieldNames = this.parent.getColumns().map(function(c) {
                return c.field;
            }), i = position || 0, len = isNullOrUndefined(position) ? cols.length : position + 1; i < len; i++) gObj.allowGrouping && gObj.groupSettings.columns.indexOf(cols[i].field) > -1 || -1 !== fieldNames.indexOf(cols[i].field) && (header = gObj.getColumnHeaderByField(cols[i].field), 
            this.aria.setSort(header, "none"), classList(header.querySelector(".e-sortfilterdiv"), [], [ "e-descending", "e-icon-descending", "e-ascending", "e-icon-ascending" ]), 
            header.querySelector(".e-sortnumber") && header.querySelector(".e-headercelldiv").removeChild(header.querySelector(".e-sortnumber")));
        }, Sort.prototype.getSortColumnFromField = function(field) {
            for (var i = 0, len = this.sortSettings.columns.length; i < len; i++) if (this.sortSettings.columns[i].field === field) return this.sortSettings.columns[i];
            return !1;
        }, Sort.prototype.updateAriaAttr = function() {
            for (var fieldNames = this.parent.getColumns().map(function(c) {
                return c.field;
            }), _i = 0, _a = this.sortedColumns; _i < _a.length; _i++) {
                var col = _a[_i];
                if (-1 !== fieldNames.indexOf(col)) {
                    var header = this.parent.getColumnHeaderByField(col);
                    this.aria.setSort(header, this.getSortColumnFromField(col).direction);
                }
            }
        }, Sort.prototype.refreshSortIcons = function() {
            this.removeSortIcons(), this.isMultiSort = !0, this.removeSortIcons(), this.addSortIcons(), 
            this.isMultiSort = !1, this.updateAriaAttr();
        }, Sort;
    }(), NumericContainer = function() {
        function NumericContainer(pagerModule) {
            this.pagerModule = pagerModule;
        }
        return NumericContainer.prototype.render = function() {
            this.pagerElement = this.pagerModule.element, this.renderNumericContainer(), this.refreshNumericLinks(), 
            this.wireEvents();
        }, NumericContainer.prototype.refresh = function() {
            this.pagerModule.updateTotalPages(), this.links.length && this.updateLinksHtml(), 
            this.updateStyles();
        }, NumericContainer.prototype.refreshNumericLinks = function() {
            var link, pagerObj = this.pagerModule, div = pagerObj.element.querySelector(".e-numericcontainer"), frag = document.createDocumentFragment();
            div.innerHTML = "";
            for (var i = 1; i <= pagerObj.pageCount; i++) link = createElement("a", {
                className: "e-link e-numericitem e-spacing e-pager-default",
                attrs: {
                    role: "link",
                    tabindex: "-1",
                    "aria-label": "Goto Page " + i,
                    href: "javascript:void(0);",
                    name: "Goto page" + i
                }
            }), pagerObj.currentPage === i && classList(link, [ "e-currentitem", "e-active" ], [ "e-pager-default" ]), 
            frag.appendChild(link);
            div.appendChild(frag), this.links = [].slice.call(div.childNodes);
        }, NumericContainer.prototype.wireEvents = function() {
            EventHandler.add(this.pagerElement, "click", this.clickHandler, this);
        }, NumericContainer.prototype.unwireEvents = function() {
            EventHandler.remove(this.pagerElement, "click", this.clickHandler);
        }, NumericContainer.prototype.destroy = function() {
            this.unwireEvents();
        }, NumericContainer.prototype.renderNumericContainer = function() {
            this.element = createElement("div", {
                className: "e-pagercontainer",
                attrs: {
                    role: "navigation"
                }
            }), this.renderFirstNPrev(this.element), this.renderPrevPagerSet(this.element), 
            this.element.appendChild(createElement("div", {
                className: "e-numericcontainer"
            })), this.renderNextPagerSet(this.element), this.renderNextNLast(this.element), 
            this.pagerModule.element.appendChild(this.element);
        }, NumericContainer.prototype.renderFirstNPrev = function(pagerContainer) {
            this.first = createElement("div", {
                className: "e-first e-icons e-icon-first",
                attrs: {
                    title: this.pagerModule.getLocalizedLabel("firstPageTooltip"),
                    "aria-label": this.pagerModule.getLocalizedLabel("firstPageTooltip"),
                    tabindex: "-1"
                }
            }), this.prev = createElement("div", {
                className: "e-prev e-icons e-icon-prev",
                attrs: {
                    title: this.pagerModule.getLocalizedLabel("previousPageTooltip"),
                    "aria-label": this.pagerModule.getLocalizedLabel("previousPageTooltip"),
                    tabindex: "-1"
                }
            }), append([ this.first, this.prev ], pagerContainer);
        }, NumericContainer.prototype.renderPrevPagerSet = function(pagerContainer) {
            var prevPager = createElement("div");
            this.PP = createElement("a", {
                className: "e-link e-pp e-spacing",
                innerHTML: "...",
                attrs: {
                    title: this.pagerModule.getLocalizedLabel("previousPagerTooltip"),
                    role: "link",
                    "aria-label": this.pagerModule.getLocalizedLabel("previousPagerTooltip"),
                    tabindex: "-1",
                    name: this.pagerModule.getLocalizedLabel("previousPagerTooltip"),
                    href: "javascript:void(0);"
                }
            }), prevPager.appendChild(this.PP), pagerContainer.appendChild(prevPager);
        }, NumericContainer.prototype.renderNextPagerSet = function(pagerContainer) {
            var nextPager = createElement("div");
            this.NP = createElement("a", {
                className: "e-link e-np e-spacing",
                innerHTML: "...",
                attrs: {
                    title: this.pagerModule.getLocalizedLabel("nextPagerTooltip"),
                    role: "link",
                    "aria-label": this.pagerModule.getLocalizedLabel("nextPagerTooltip"),
                    tabindex: "-1",
                    name: this.pagerModule.getLocalizedLabel("nextPagerTooltip"),
                    href: "javascript:void(0);"
                }
            }), nextPager.appendChild(this.NP), pagerContainer.appendChild(nextPager);
        }, NumericContainer.prototype.renderNextNLast = function(pagerContainer) {
            this.next = createElement("div", {
                className: "e-next e-icons e-icon-next",
                attrs: {
                    title: this.pagerModule.getLocalizedLabel("nextPageTooltip"),
                    "aria-label": this.pagerModule.getLocalizedLabel("nextPageTooltip"),
                    tabindex: "-1"
                }
            }), this.last = createElement("div", {
                className: "e-last e-icons e-icon-last",
                attrs: {
                    title: this.pagerModule.getLocalizedLabel("lastPageTooltip"),
                    "aria-label": this.pagerModule.getLocalizedLabel("lastPageTooltip"),
                    tabindex: "-1"
                }
            }), append([ this.next, this.last ], pagerContainer);
        }, NumericContainer.prototype.clickHandler = function(e) {
            var pagerObj = this.pagerModule, target = e.target;
            return pagerObj.previousPageNo = pagerObj.currentPage, target.classList.contains("e-disable") || isNullOrUndefined(target.getAttribute("index")) || (pagerObj.currentPage = parseInt(target.getAttribute("index"), 10), 
            pagerObj.dataBind()), !1;
        }, NumericContainer.prototype.updateLinksHtml = function() {
            var currentPageSet, pageNo, pagerObj = this.pagerModule;
            pagerObj.currentPage = 1 === pagerObj.totalPages ? 1 : pagerObj.currentPage, pagerObj.currentPage > pagerObj.totalPages && pagerObj.totalPages && (pagerObj.currentPage = pagerObj.totalPages), 
            currentPageSet = parseInt((pagerObj.currentPage / pagerObj.pageCount).toString(), 10), 
            pagerObj.currentPage % pagerObj.pageCount == 0 && currentPageSet > 0 && (currentPageSet -= 1);
            for (var i = 0; i < pagerObj.pageCount; i++) (pageNo = currentPageSet * pagerObj.pageCount + 1 + i) <= pagerObj.totalPages ? (this.links[i].style.display = "", 
            this.links[i].setAttribute("index", pageNo.toString()), this.links[i].innerHTML = pagerObj.customText ? pagerObj.customText + pageNo : pageNo.toString(), 
            pagerObj.currentPage !== pageNo ? this.links[i].classList.add("e-pager-default") : this.links[i].classList.remove("e-pager-default")) : (this.links[i].innerHTML = pagerObj.customText ? pagerObj.customText + pageNo : pageNo.toString(), 
            this.links[i].style.display = "none"), classList(this.links[i], [], [ "e-currentitem", "e-active" ]);
            this.first.setAttribute("index", "1"), this.last.setAttribute("index", pagerObj.totalPages.toString()), 
            this.prev.setAttribute("index", (pagerObj.currentPage - 1).toString()), this.next.setAttribute("index", (pagerObj.currentPage + 1).toString()), 
            this.pagerElement.querySelector(".e-mfirst").setAttribute("index", "1"), this.pagerElement.querySelector(".e-mlast").setAttribute("index", pagerObj.totalPages.toString()), 
            this.pagerElement.querySelector(".e-mprev").setAttribute("index", (pagerObj.currentPage - 1).toString()), 
            this.pagerElement.querySelector(".e-mnext").setAttribute("index", (pagerObj.currentPage + 1).toString()), 
            this.PP.setAttribute("index", (parseInt(this.links[0].getAttribute("index"), 10) - pagerObj.pageCount).toString()), 
            this.NP.setAttribute("index", (parseInt(this.links[this.links.length - 1].getAttribute("index"), 10) + 1).toString());
        }, NumericContainer.prototype.updateStyles = function() {
            this.updateFirstNPrevStyles(), this.updatePrevPagerSetStyles(), this.updateNextPagerSetStyles(), 
            this.updateNextNLastStyles(), this.links.length && classList(this.links[(this.pagerModule.currentPage - 1) % this.pagerModule.pageCount], [ "e-currentitem", "e-active" ], []);
        }, NumericContainer.prototype.updateFirstNPrevStyles = function() {
            var firstPage = [ "e-firstpage", "e-pager-default" ], firstPageDisabled = [ "e-firstpagedisabled", "e-disable" ], prevPage = [ "e-prevpage", "e-pager-default" ], prevPageDisabled = [ "e-prevpagedisabled", "e-disable" ];
            this.pagerModule.totalPages > 0 && this.pagerModule.currentPage > 1 ? (classList(this.prev, prevPage, prevPageDisabled), 
            classList(this.first, firstPage, firstPageDisabled), classList(this.pagerElement.querySelector(".e-mfirst"), firstPage, firstPageDisabled), 
            classList(this.pagerElement.querySelector(".e-mprev"), prevPage, prevPageDisabled)) : (classList(this.prev, prevPageDisabled, prevPage), 
            classList(this.first, firstPageDisabled, firstPage), classList(this.pagerElement.querySelector(".e-mprev"), prevPageDisabled, prevPage), 
            classList(this.pagerElement.querySelector(".e-mfirst"), firstPageDisabled, firstPage));
        }, NumericContainer.prototype.updatePrevPagerSetStyles = function() {
            this.pagerModule.currentPage > this.pagerModule.pageCount ? classList(this.PP, [ "e-numericitem", "e-pager-default" ], [ "e-nextprevitemdisabled", "e-disable" ]) : classList(this.PP, [ "e-nextprevitemdisabled", "e-disable" ], [ "e-numericitem", "e-pager-default" ]);
        }, NumericContainer.prototype.updateNextPagerSetStyles = function() {
            var pagerObj = this.pagerModule, firstPage = this.links[0].innerHTML.replace(pagerObj.customText, "");
            !firstPage.length || !this.links.length || parseInt(firstPage, 10) + pagerObj.pageCount > pagerObj.totalPages ? classList(this.NP, [ "e-nextprevitemdisabled", "e-disable" ], [ "e-numericitem", "e-pager-default" ]) : classList(this.NP, [ "e-numericitem", "e-pager-default" ], [ "e-nextprevitemdisabled", "e-disable" ]);
        }, NumericContainer.prototype.updateNextNLastStyles = function() {
            var lastPage = [ "e-lastpage", "e-pager-default" ], lastPageDisabled = [ "e-lastpagedisabled", "e-disable" ], nextPage = [ "e-nextpage", "e-pager-default" ], nextPageDisabled = [ "e-nextpagedisabled", "e-disable" ], pagerObj = this.pagerModule;
            pagerObj.currentPage === pagerObj.totalPages || 0 === pagerObj.totalRecordsCount ? (classList(this.last, lastPageDisabled, lastPage), 
            classList(this.next, nextPageDisabled, nextPage), classList(this.pagerElement.querySelector(".e-mlast"), lastPageDisabled, lastPage), 
            classList(this.pagerElement.querySelector(".e-mnext"), nextPageDisabled, nextPage)) : (classList(this.last, lastPage, lastPageDisabled), 
            classList(this.next, nextPage, nextPageDisabled), classList(this.pagerElement.querySelector(".e-mlast"), lastPage, lastPageDisabled), 
            classList(this.pagerElement.querySelector(".e-mnext"), nextPage, nextPageDisabled));
        }, NumericContainer;
    }(), PagerMessage = function() {
        function PagerMessage(pagerModule) {
            this.pagerModule = pagerModule;
        }
        return PagerMessage.prototype.render = function() {
            var div = createElement("div", {
                className: "e-parentmsgbar",
                attrs: {
                    "aria-label": "Pager Information"
                }
            });
            this.pageNoMsgElem = createElement("span", {
                className: "e-pagenomsg",
                styles: "textalign:right"
            }), this.pageCountMsgElem = createElement("span", {
                className: "e-pagecountmsg",
                styles: "textalign:right"
            }), append([ this.pageNoMsgElem, this.pageCountMsgElem ], div), this.pagerModule.element.appendChild(div), 
            this.refresh();
        }, PagerMessage.prototype.refresh = function() {
            var pagerObj = this.pagerModule;
            this.pageNoMsgElem.textContent = this.format(pagerObj.getLocalizedLabel("currentPageInfo"), [ 0 === pagerObj.totalRecordsCount ? 0 : pagerObj.currentPage, pagerObj.totalPages || 0 ]) + " ", 
            this.pageCountMsgElem.textContent = this.format(pagerObj.getLocalizedLabel("totalItemsInfo"), [ pagerObj.totalRecordsCount || 0 ]), 
            this.pageNoMsgElem.parentElement.setAttribute("aria-label", this.pageNoMsgElem.textContent + this.pageCountMsgElem.textContent);
        }, PagerMessage.prototype.hideMessage = function() {
            this.pageNoMsgElem && (this.pageNoMsgElem.style.display = "none"), this.pageCountMsgElem && (this.pageCountMsgElem.style.display = "none");
        }, PagerMessage.prototype.showMessage = function() {
            this.pageNoMsgElem || this.render(), this.pageNoMsgElem.style.display = "", this.pageCountMsgElem.style.display = "";
        }, PagerMessage.prototype.destroy = function() {}, PagerMessage.prototype.format = function(str, args) {
            for (var regx, i = 0; i < args.length; i++) regx = new RegExp("\\{" + i + "\\}", "gm"), 
            str = str.replace(regx, args[i].toString());
            return str;
        }, PagerMessage;
    }(), __extends$21 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$9 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, Pager = function(_super) {
        function Pager(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.defaultConstants = {
                currentPageInfo: "{0} of {1} pages",
                totalItemsInfo: "({0} items)",
                firstPageTooltip: "Go to first page",
                lastPageTooltip: "Go to last page",
                nextPageTooltip: "Go to next page",
                previousPageTooltip: "Go to previous page",
                nextPagerTooltip: "Go to next pager",
                previousPagerTooltip: "Go to previous pager",
                pagerDropDown: "Items per page"
            }, _this.containerModule = new NumericContainer(_this), _this.pagerMessageModule = new PagerMessage(_this), 
            _this;
        }
        return __extends$21(Pager, _super), Pager.prototype.requiredModules = function() {
            var modules = [];
            return this.enableExternalMessage && modules.push({
                member: "externalMessage",
                args: [ this ]
            }), this.checkpagesizes() && modules.push({
                member: "pagerdropdown",
                args: [ this ]
            }), modules;
        }, Pager.prototype.preRender = function() {}, Pager.prototype.render = function() {
            this.template ? this.pagerTemplate() : (this.initLocalization(), this.updateRTL(), 
            this.totalRecordsCount = this.totalRecordsCount || 0, this.renderFirstPrevDivForDevice(), 
            this.containerModule.render(), this.enablePagerMessage && this.pagerMessageModule.render(), 
            this.renderNextLastDivForDevice(), this.checkpagesizes() && this.pagerdropdownModule.render(), 
            this.addAriaLabel(), this.enableExternalMessage && this.externalMessageModule && this.externalMessageModule.render(), 
            this.refresh(), this.trigger("created", {
                currentPage: this.currentPage,
                totalRecordsCount: this.totalRecordsCount
            }));
        }, Pager.prototype.getPersistData = function() {
            return this.addOnPersist([ "currentPage", "pageSize" ]);
        }, Pager.prototype.destroy = function() {
            _super.prototype.destroy.call(this), this.containerModule.destroy(), this.pagerMessageModule.destroy(), 
            this.element.innerHTML = "";
        }, Pager.prototype.getModuleName = function() {
            return "pager";
        }, Pager.prototype.onPropertyChanged = function(newProp, oldProp) {
            if (!this.isDestroyed) {
                newProp.pageCount !== oldProp.pageCount && (this.containerModule.refreshNumericLinks(), 
                this.containerModule.refresh());
                for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                    switch (_a[_i]) {
                      case "currentPage":
                        this.checkGoToPage(newProp.currentPage, oldProp.currentPage) && this.currentPageChanged();
                        break;

                      case "pageSize":
                      case "totalRecordsCount":
                      case "customText":
                        this.refresh();
                        break;

                      case "pageSizes":
                        this.checkpagesizes() && (this.pagerdropdownModule.destroy(), this.pagerdropdownModule.render()), 
                        this.refresh();
                        break;

                      case "template":
                        this.templateFn = this.compile(this.template), this.refresh();
                        break;

                      case "locale":
                        this.initLocalization(), this.refresh();
                        break;

                      case "enableExternalMessage":
                        this.enableExternalMessage && this.externalMessageModule.render();
                        break;

                      case "externalMessage":
                        this.externalMessageModule && this.externalMessageModule.refresh();
                        break;

                      case "enableRtl":
                        this.updateRTL();
                        break;

                      case "enablePagerMessage":
                        this.enablePagerMessage ? this.pagerMessageModule.showMessage() : this.pagerMessageModule.hideMessage();
                    }
                }
            }
        }, Pager.prototype.getLocalizedLabel = function(key) {
            return this.localeObj.getConstant(key);
        }, Pager.prototype.goToPage = function(pageNo) {
            this.checkGoToPage(pageNo) && (this.currentPage = pageNo, this.dataBind());
        }, Pager.prototype.checkpagesizes = function() {
            return !(!0 !== this.pageSizes && !this.pageSizes.length);
        }, Pager.prototype.checkGoToPage = function(newPageNo, oldPageNo) {
            return newPageNo !== this.currentPage && (this.previousPageNo = this.currentPage), 
            isNullOrUndefined(oldPageNo) || (this.previousPageNo = oldPageNo), this.previousPageNo !== newPageNo && newPageNo >= 1 && newPageNo <= this.totalPages;
        }, Pager.prototype.currentPageChanged = function() {
            this.enableQueryString && this.updateQueryString(this.currentPage);
            var args = {
                currentPage: this.currentPage,
                cancel: !1
            };
            this.trigger("click", args), args.cancel || this.refresh();
        }, Pager.prototype.pagerTemplate = function() {
            var result;
            this.element.classList.add("e-pagertemplate"), this.compile(this.template);
            var data = {
                currentPage: this.currentPage,
                pageSize: this.pageSize,
                pageCount: this.pageCount,
                totalRecordsCount: this.totalRecordsCount,
                totalPages: this.totalPages
            };
            result = this.getPagerTemplate()(data), appendChildren(this.element, result);
        }, Pager.prototype.updateTotalPages = function() {
            this.totalPages = this.totalRecordsCount % this.pageSize == 0 ? this.totalRecordsCount / this.pageSize : parseInt((this.totalRecordsCount / this.pageSize).toString(), 10) + 1;
        }, Pager.prototype.getPagerTemplate = function() {
            return this.templateFn;
        }, Pager.prototype.compile = function(template) {
            if (template) try {
                document.querySelectorAll(template).length && (this.templateFn = compile$$1(document.querySelector(template).innerHTML.trim()));
            } catch (e) {
                this.templateFn = compile$$1(template);
            }
        }, Pager.prototype.refresh = function() {
            this.template ? (this.element.innerHTML = "", this.updateTotalPages(), this.pagerTemplate()) : (this.updateRTL(), 
            this.containerModule.refresh(), this.enablePagerMessage && this.pagerMessageModule.refresh(), 
            this.enableExternalMessage && this.externalMessageModule && this.externalMessageModule.refresh());
        }, Pager.prototype.updateRTL = function() {
            this.enableRtl ? this.element.classList.add("e-rtl") : this.element.classList.remove("e-rtl");
        }, Pager.prototype.initLocalization = function() {
            this.localeObj = new L10n(this.getModuleName(), this.defaultConstants, this.locale);
        }, Pager.prototype.updateQueryString = function(value) {
            var updatedUrl = this.getUpdatedURL(window.location.href, "page", value.toString());
            window.history.pushState({
                path: updatedUrl
            }, "", updatedUrl);
        }, Pager.prototype.getUpdatedURL = function(uri, key, value) {
            var regx = new RegExp("([?|&])" + key + "=.*?(&|#|$)", "i");
            if (uri.match(regx)) return uri.replace(regx, "$1" + key + "=" + value + "$2");
            var hash = "";
            return -1 !== uri.indexOf("#") && (hash = uri.replace(/.*#/, "#"), uri = uri.replace(/#.*/, "")), 
            uri + (-1 !== uri.indexOf("?") ? "&" : "?") + key + "=" + value + hash;
        }, Pager.prototype.renderFirstPrevDivForDevice = function() {
            this.element.appendChild(createElement("div", {
                className: "e-mfirst e-icons e-icon-first",
                attrs: {
                    title: this.getLocalizedLabel("firstPageTooltip"),
                    tabindex: "-1"
                }
            })), this.element.appendChild(createElement("div", {
                className: "e-mprev e-icons e-icon-prev",
                attrs: {
                    title: this.getLocalizedLabel("previousPageTooltip"),
                    tabindex: "-1"
                }
            }));
        }, Pager.prototype.renderNextLastDivForDevice = function() {
            this.element.appendChild(createElement("div", {
                className: "e-mnext e-icons e-icon-next",
                attrs: {
                    title: this.getLocalizedLabel("nextPageTooltip"),
                    tabindex: "-1"
                }
            })), this.element.appendChild(createElement("div", {
                className: "e-mlast e-icons e-icon-last",
                attrs: {
                    title: this.getLocalizedLabel("lastPageTooltip"),
                    tabindex: "-1"
                }
            }));
        }, Pager.prototype.addAriaLabel = function() {
            var _this = this;
            Browser.isDevice || [ ".e-mfirst", ".e-mprev", ".e-mnext", ".e-mlast" ].forEach(function(value) {
                var element = _this.element.querySelector(value);
                element.setAttribute("aria-label", element.getAttribute("title"));
            });
        }, __decorate$9([ Property(!1) ], Pager.prototype, "enableQueryString", void 0), 
        __decorate$9([ Property(!1) ], Pager.prototype, "enableExternalMessage", void 0), 
        __decorate$9([ Property(!0) ], Pager.prototype, "enablePagerMessage", void 0), __decorate$9([ Property(12) ], Pager.prototype, "pageSize", void 0), 
        __decorate$9([ Property(10) ], Pager.prototype, "pageCount", void 0), __decorate$9([ Property(1) ], Pager.prototype, "currentPage", void 0), 
        __decorate$9([ Property() ], Pager.prototype, "totalRecordsCount", void 0), __decorate$9([ Property() ], Pager.prototype, "externalMessage", void 0), 
        __decorate$9([ Property(!1) ], Pager.prototype, "pageSizes", void 0), __decorate$9([ Property() ], Pager.prototype, "template", void 0), 
        __decorate$9([ Property("") ], Pager.prototype, "customText", void 0), __decorate$9([ Event() ], Pager.prototype, "click", void 0), 
        __decorate$9([ Event() ], Pager.prototype, "dropDownChanged", void 0), __decorate$9([ Event() ], Pager.prototype, "created", void 0), 
        Pager = __decorate$9([ NotifyPropertyChanges ], Pager);
    }(Component), cssClass = {
        li: "e-list-item",
        ul: "e-list-parent e-ul",
        group: "e-list-group-item",
        icon: "e-list-icon",
        text: "e-list-text",
        check: "e-list-check",
        checked: "e-checked",
        selected: "e-selected",
        expanded: "e-expanded",
        textContent: "e-text-content",
        hasChild: "e-has-child",
        level: "e-level",
        url: "e-list-url",
        collapsible: "e-icon-collapsible",
        disabled: "e-disabled",
        image: "e-list-img",
        iconWrapper: "e-icon-wrapper"
    };
    !function(ListBase) {
        function createListFromArray(dataSource, isSingleLevel, options) {
            return generateUL(createListItemFromArray(dataSource, isSingleLevel, options), null, options);
        }
        function createListItemFromArray(dataSource, isSingleLevel, options) {
            var subChild = [], curOpt = extend({}, defaultListBaseOptions, options);
            cssClass = getModuleClass(curOpt.moduleName);
            for (var id = genUID(), i = 0; i < dataSource.length; i++) if (!isNullOrUndefined(dataSource[i])) {
                var li = void 0;
                if (curOpt.itemCreating && "function" == typeof curOpt.itemCreating) {
                    var curData = {
                        dataSource: dataSource,
                        curData: dataSource[i],
                        text: dataSource[i],
                        options: curOpt
                    };
                    curOpt.itemCreating(curData);
                }
                if (li = isSingleLevel ? generateSingleLevelLI(dataSource[i], null, null, [], null, id, i, options) : generateLI(dataSource[i], null, null, options), 
                curOpt.itemCreated && "function" == typeof curOpt.itemCreated) {
                    curData = {
                        dataSource: dataSource,
                        curData: dataSource[i],
                        text: dataSource[i],
                        item: li,
                        options: curOpt
                    };
                    curOpt.itemCreated(curData);
                }
                subChild.push(li);
            }
            return subChild;
        }
        function createListItemFromJson(dataSource, options, level, isSingleLevel) {
            var curOpt = extend({}, defaultListBaseOptions, options);
            cssClass = getModuleClass(curOpt.moduleName);
            var id, fields = extend({}, ListBase.defaultMappedFields, curOpt.fields), ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);
            level && (ariaAttributes.level = level);
            var li, child = [];
            Object.keys(dataSource).length && !typeofData(dataSource).item.hasOwnProperty(fields.id) && (id = genUID());
            for (var i = 0; i < dataSource.length; i++) {
                var fieldData = getFieldValues(dataSource[i], fields);
                if (!isNullOrUndefined(dataSource[i])) {
                    if (curOpt.itemCreating && "function" == typeof curOpt.itemCreating) {
                        var curData = {
                            dataSource: dataSource,
                            curData: dataSource[i],
                            text: fieldData[fields.text],
                            options: curOpt,
                            fields: fields
                        };
                        curOpt.itemCreating(curData);
                    }
                    var curItem = dataSource[i];
                    curOpt.itemCreating && "function" == typeof curOpt.itemCreating && (fieldData = getFieldValues(dataSource[i], fields)), 
                    Object.keys(dataSource).length && fieldData.hasOwnProperty(fields.id) && !isNullOrUndefined(fieldData[fields.id]) && (id = fieldData.id);
                    var innerEle = [];
                    if (curOpt.showCheckBox && innerEle.push(createElement("input", {
                        className: cssClass.check,
                        attrs: {
                            type: "checkbox"
                        }
                    })), !0 === isSingleLevel) curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && (isNullOrUndefined(fieldData[fields.iconCss]) || innerEle.push(createElement("span", {
                        className: cssClass.icon + " " + fieldData[fields.iconCss]
                    }))), li = generateSingleLevelLI(curItem, fields, curOpt.itemClass, innerEle, !(!curItem.hasOwnProperty("isHeader") || !curItem.isHeader), id, i, options); else {
                        if ((li = generateLI(curItem, fields, curOpt.itemClass, options)).classList.add(cssClass.level + "-" + ariaAttributes.level), 
                        li.setAttribute("aria-level", ariaAttributes.level.toString()), fieldData.hasOwnProperty(fields.tooltip) && li.setAttribute("title", fieldData[fields.tooltip]), 
                        fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes] && setAttribute(li, fieldData[fields.htmlAttributes]), 
                        fieldData.hasOwnProperty(fields.enabled) && !1 === fieldData[fields.enabled] && li.classList.add(cssClass.disabled), 
                        fieldData.hasOwnProperty(fields.isVisible) && !1 === fieldData[fields.isVisible] && (li.style.display = "none"), 
                        fieldData.hasOwnProperty(fields.imageUrl) && !isNullOrUndefined(fieldData[fields.imageUrl])) {
                            var attr = {
                                src: fieldData[fields.imageUrl]
                            };
                            fieldData.hasOwnProperty(fields.imageUrl) && merge(attr, fieldData[fields.imageAttributes]), 
                            prepend([ createElement("img", {
                                className: cssClass.image,
                                attrs: attr
                            }) ], li.firstElementChild);
                        }
                        curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !curOpt.template && (isNullOrUndefined(fieldData[fields.iconCss]) || prepend([ createElement("div", {
                            className: cssClass.icon + " " + fieldData[fields.iconCss]
                        }) ], li.firstElementChild)), innerEle.length && prepend(innerEle, li.firstElementChild), 
                        function(curItem, fields, ds, options, element, level) {
                            var fieldData = getFieldValues(curItem, fields), subDS = fieldData[fields.child] || [], hasChildren = fieldData[fields.hasChildren];
                            if (subDS.length && (hasChildren = !0, element.classList.add(cssClass.hasChild), 
                            options.processSubChild)) {
                                var subLi = createListFromJson(subDS, options, ++level);
                                element.appendChild(subLi);
                            }
                            if (options.expandCollapse && hasChildren && !options.template) {
                                element.firstElementChild.classList.contains(cssClass.textContent) && element.firstElementChild.classList.add(cssClass.iconWrapper);
                                var expandElement = "Left" === options.expandIconPosition ? prepend : append;
                                expandElement([ createElement("div", {
                                    className: "e-icons " + options.expandIconClass
                                }) ], element.querySelector("." + cssClass.textContent));
                            }
                        }(curItem, fields, 0, curOpt, li, ariaAttributes.level);
                    }
                    if (curOpt.itemCreated && "function" == typeof curOpt.itemCreated) {
                        curData = {
                            dataSource: dataSource,
                            curData: dataSource[i],
                            text: fieldData[fields.text],
                            item: li,
                            options: curOpt,
                            fields: fields
                        };
                        curOpt.itemCreated(curData);
                    }
                    child.push(li);
                }
            }
            return child;
        }
        function createListFromJson(dataSource, options, level, isSingleLevel) {
            var curOpt = extend({}, defaultListBaseOptions, options);
            return generateUL(createListItemFromJson(dataSource, options, level, isSingleLevel), curOpt.listClass, options);
        }
        function indexOf(item, elementArray) {
            if (elementArray && item) {
                return Array.prototype.slice.call(elementArray).indexOf(item);
            }
        }
        function addSorting(sortOrder, sortBy, query) {
            return void 0 === query && (query = new Query()), "Ascending" === sortOrder ? query.sortBy(sortBy, "ascending", !0) : "Descending" === sortOrder && query.sortBy(sortBy, "descending", !0), 
            query;
        }
        function getDataSource(dataSource, query) {
            return new DataManager(dataSource).executeLocal(query);
        }
        function createJsonFromElement(element, options) {
            var curOpt = extend({}, defaultListBaseOptions, options), fields = extend({}, ListBase.defaultMappedFields, curOpt.fields), curEle = element.cloneNode(!0), jsonAr = [];
            curEle.classList.add("json-parent");
            var childs = curEle.querySelectorAll(".json-parent>li");
            curEle.classList.remove("json-parent");
            for (var i = 0; i < childs.length; i++) {
                for (var li = childs[i], anchor = li.querySelector("a"), ul = li.querySelector("ul"), json = {}, childNodes = anchor ? anchor.childNodes : li.childNodes, keys = Object.keys(childNodes), i_1 = 0; i_1 < childNodes.length; i_1++) childNodes[Number(keys[i_1])].hasChildNodes() || (json[fields.text] = childNodes[Number(keys[i_1])].textContent);
                json[fields.id] = genUID();
                var attributes_1 = getAllAttributes(li);
                Object.keys(attributes_1).length && (json[fields.htmlAttributes] = attributes_1), 
                anchor && (attributes_1 = getAllAttributes(anchor), Object.keys(attributes_1).length && (json[fields.urlAttributes] = attributes_1)), 
                ul && (json[fields.child] = createJsonFromElement(ul, options)), jsonAr.push(json);
            }
            return jsonAr;
        }
        function typeofData(data) {
            for (var match = {
                typeof: null,
                item: null
            }, i = 0; i < data.length; i++) if (!isNullOrUndefined(data[i])) return match = {
                typeof: typeof data[i],
                item: data[i]
            };
            return match;
        }
        function setAttribute(element, elementAttributes) {
            var attr = {};
            merge(attr, elementAttributes), attr.class && (addClass([ element ], attr.class.split(" ")), 
            delete attr.class), attributes(element, attr);
        }
        function getAllAttributes(element) {
            for (var attributes$$1 = {}, attr = element.attributes, index = 0; index < attr.length; index++) attributes$$1[attr[index].nodeName] = attr[index].nodeValue;
            return attributes$$1;
        }
        function genUID() {
            return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);
        }
        function generateSingleLevelLI(item, fields, className, innerElements, grpLI, id, index, options) {
            var dataSource, curOpt = extend({}, defaultListBaseOptions, options), ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes), text = item, value = item, fieldData = getFieldValues(item, fields);
            "string" != typeof item && "number" != typeof item && (dataSource = item, text = "boolean" == typeof fieldData[fields.text] || "number" == typeof fieldData[fields.text] ? fieldData[fields.text] : fieldData[fields.text] || "", 
            value = fieldData[fields.value]);
            var elementID;
            elementID = isNullOrUndefined(dataSource) || isNullOrUndefined(fieldData[fields.id]) || "" === fieldData[fields.id] ? id + "-" + index : id;
            var li = createElement("li", {
                className: (!0 === grpLI ? cssClass.group : cssClass.li) + " " + (isNullOrUndefined(className) ? "" : className),
                id: elementID,
                attrs: "" !== ariaAttributes.groupItemRole && "" !== ariaAttributes.itemRole ? {
                    role: !0 === grpLI ? ariaAttributes.groupItemRole : ariaAttributes.itemRole
                } : {}
            });
            return dataSource && fieldData.hasOwnProperty(fields.enabled) && "false" === fieldData[fields.enabled].toString() && li.classList.add(cssClass.disabled), 
            grpLI ? li.innerText = text : (isNullOrUndefined(value) || li.setAttribute("data-value", value), 
            li.setAttribute("role", "option"), dataSource && fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes] && setAttribute(li, fieldData[fields.htmlAttributes]), 
            innerElements.length && append(innerElements, li), dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url] ? li.appendChild(anchorTag(dataSource, fields, text)) : li.appendChild(document.createTextNode(text))), 
            li;
        }
        function getModuleClass(moduleName) {
            return {
                li: "e-" + moduleName + "-item",
                ul: "e-" + moduleName + "-parent e-ul",
                group: "e-" + moduleName + "-group-item",
                icon: "e-" + moduleName + "-icon",
                text: "e-" + moduleName + "-text",
                check: "e-" + moduleName + "-check",
                checked: "e-checked",
                selected: "e-selected",
                expanded: "e-expanded",
                textContent: "e-text-content",
                hasChild: "e-has-child",
                level: "e-level",
                url: "e-" + moduleName + "-url",
                collapsible: "e-icon-collapsible",
                disabled: "e-disabled",
                image: "e-" + moduleName + "-img",
                iconWrapper: "e-icon-wrapper"
            };
        }
        function anchorTag(dataSource, fields, text) {
            var fieldData = getFieldValues(dataSource, fields), attr = {
                href: fieldData[fields.url]
            };
            fieldData.hasOwnProperty(fields.urlAttributes) && fieldData[fields.urlAttributes] && merge(attr, fieldData[fields.urlAttributes]);
            var anchorTag = createElement("a", {
                className: cssClass.text + " " + cssClass.url,
                innerHTML: text
            });
            return setAttribute(anchorTag, attr), anchorTag;
        }
        function generateLI(item, fields, className, options) {
            var uID, grpLI, dataSource, fieldData, curOpt = extend({}, defaultListBaseOptions, options), ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes), text = item;
            "string" != typeof item && (dataSource = item, text = (fieldData = getFieldValues(item, fields))[fields.text] || "", 
            uID = fieldData[fields.id], grpLI = !(!item.hasOwnProperty("isHeader") || !item.isHeader));
            var li = createElement("li", {
                className: (!0 === grpLI ? cssClass.group : cssClass.li) + " " + (isNullOrUndefined(className) ? "" : className),
                attrs: "" !== ariaAttributes.groupItemRole && "" !== ariaAttributes.itemRole ? {
                    role: !0 === grpLI ? ariaAttributes.groupItemRole : ariaAttributes.itemRole
                } : {}
            });
            if (isNullOrUndefined(uID) ? li.setAttribute("data-uid", genUID()) : li.setAttribute("data-uid", uID), 
            grpLI && options && options.groupTemplate) {
                append(compile$$1(options.groupTemplate)(item), li);
            } else if (!grpLI && options && options.template) {
                append(compile$$1(options.template)(item), li);
            } else {
                var innerDiv = createElement("div", {
                    className: cssClass.textContent,
                    attrs: "" !== ariaAttributes.wrapperRole ? {
                        role: ariaAttributes.wrapperRole
                    } : {}
                });
                dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url] ? innerDiv.appendChild(anchorTag(dataSource, fields, text)) : innerDiv.appendChild(createElement("span", {
                    className: cssClass.text,
                    innerHTML: text,
                    attrs: "" !== ariaAttributes.itemText ? {
                        role: ariaAttributes.itemText
                    } : {}
                })), li.appendChild(innerDiv);
            }
            return li;
        }
        function generateUL(liElement, className, options) {
            var curOpt = extend({}, defaultListBaseOptions, options), ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes), ulElement = createElement("ul", {
                className: (cssClass = getModuleClass(curOpt.moduleName)).ul + " " + (isNullOrUndefined(className) ? "" : className),
                attrs: "" !== ariaAttributes.listRole ? {
                    role: ariaAttributes.listRole
                } : {}
            });
            return append(liElement, ulElement), ulElement;
        }
        ListBase.defaultMappedFields = {
            id: "id",
            text: "text",
            url: "url",
            value: "value",
            isChecked: "isChecked",
            enabled: "enabled",
            expanded: "expanded",
            selected: "selected",
            iconCss: "iconCss",
            child: "child",
            isVisible: "isVisible",
            hasChildren: "hasChildren",
            tooltip: "tooltip",
            htmlAttributes: "htmlAttributes",
            urlAttributes: "urlAttributes",
            imageAttributes: "imageAttributes",
            imageUrl: "imageUrl",
            groupBy: null
        };
        var defaultAriaAttributes = {
            level: 1,
            listRole: "presentation",
            itemRole: "presentation",
            groupItemRole: "group",
            itemText: "list-item",
            wrapperRole: "presentation"
        }, defaultListBaseOptions = {
            showCheckBox: !1,
            showIcon: !1,
            expandCollapse: !1,
            fields: ListBase.defaultMappedFields,
            ariaAttributes: defaultAriaAttributes,
            listClass: "",
            itemClass: "",
            processSubChild: !1,
            sortOrder: "None",
            template: null,
            groupTemplate: null,
            expandIconClass: "e-icon-collapsible",
            moduleName: "list",
            expandIconPosition: "Right"
        };
        ListBase.createList = function(dataSource, options, isSingleLevel) {
            var curOpt = extend({}, defaultListBaseOptions, options), ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes), type = typeofData(dataSource).typeof;
            return "string" === type || "number" === type ? createListFromArray(dataSource, isSingleLevel, options) : createListFromJson(dataSource, options, ariaAttributes.level, isSingleLevel);
        }, ListBase.createListFromArray = createListFromArray, ListBase.createListItemFromArray = createListItemFromArray, 
        ListBase.createListItemFromJson = createListItemFromJson, ListBase.createListFromJson = createListFromJson, 
        ListBase.getSiblingLI = function(elementArray, element, isPrevious) {
            if (cssClass = getModuleClass(defaultListBaseOptions.moduleName), elementArray && elementArray.length) {
                var siblingLI, liIndex, liCollections = Array.prototype.slice.call(elementArray);
                for (siblingLI = liCollections[(liIndex = element ? indexOf(element, liCollections) : !0 === isPrevious ? liCollections.length : -1) + (!0 === isPrevious ? -1 : 1)]; siblingLI && (!isVisible(siblingLI) || siblingLI.classList.contains(cssClass.disabled)); ) siblingLI = liCollections[liIndex += !0 === isPrevious ? -1 : 1];
                return siblingLI;
            }
        }, ListBase.indexOf = indexOf, ListBase.groupDataSource = function(dataSource, fields, sortOrder) {
            void 0 === sortOrder && (sortOrder = "None");
            var cusQuery = new Query().group(fields.groupBy), ds = getDataSource(dataSource, cusQuery = addSorting(sortOrder, "key", cusQuery));
            dataSource = [];
            for (var j = 0; j < ds.length; j++) {
                var itemObj = ds[j].items, grpItem = {};
                grpItem[fields.text] = ds[j].key, grpItem.isHeader = !0, grpItem.items = itemObj, 
                dataSource.push(grpItem);
                for (var k = 0; k < itemObj.length; k++) dataSource.push(itemObj[k]);
            }
            return dataSource;
        }, ListBase.addSorting = addSorting, ListBase.getDataSource = getDataSource, ListBase.createJsonFromElement = createJsonFromElement, 
        ListBase.renderContentTemplate = function(template, dataSource, fields, options) {
            for (var ulElement = createElement("ul", {
                className: (cssClass = getModuleClass(defaultListBaseOptions.moduleName)).ul,
                attrs: {
                    role: "presentation"
                }
            }), curOpt = extend({}, defaultListBaseOptions, options), compiledString = compile$$1(template), liCollection = [], id = genUID(), i = 0; i < dataSource.length; i++) {
                var fieldData = getFieldValues(dataSource[i], fields), curItem = dataSource[i], isHeader = curItem.isHeader, value = "string" == typeof curItem || "number" == typeof curItem ? curItem : fieldData[fields.value];
                if (curOpt.itemCreating && "function" == typeof curOpt.itemCreating) {
                    var curData = {
                        dataSource: dataSource,
                        curData: curItem,
                        text: value,
                        options: curOpt,
                        fields: fields
                    };
                    curOpt.itemCreating(curData);
                }
                curOpt.itemCreating && "function" == typeof curOpt.itemCreating && (value = (fieldData = getFieldValues(dataSource[i], fields))[fields.value]);
                var li = createElement("li", {
                    id: id + "-" + i,
                    className: isHeader ? cssClass.group : cssClass.li,
                    attrs: {
                        role: "presentation"
                    }
                });
                isHeader ? li.innerText = fieldData[fields.text] : (append(compiledString(curItem), li), 
                li.setAttribute("data-value", value), li.setAttribute("role", "option")), curOpt.itemCreated && "function" == typeof curOpt.itemCreated && (curData = {
                    dataSource: dataSource,
                    curData: curItem,
                    text: value,
                    item: li,
                    options: curOpt,
                    fields: fields
                }, curOpt.itemCreated(curData)), liCollection.push(li);
            }
            return append(liCollection, ulElement), ulElement;
        }, ListBase.renderGroupTemplate = function(groupTemplate, groupDataSource, fields, headerItems) {
            for (var compiledString = compile$$1(groupTemplate), category = fields.groupBy, headerData = {}, _i = 0, headerItems_1 = headerItems; _i < headerItems_1.length; _i++) {
                var header = headerItems_1[_i];
                headerData[category] = header.textContent, header.innerHTML = "", append(compiledString(headerData), header);
            }
            return headerItems;
        }, ListBase.generateUL = generateUL, ListBase.generateIcon = function(liElement, className, options) {
            var curOpt = extend({}, defaultListBaseOptions, options);
            return extend({}, defaultAriaAttributes, curOpt.ariaAttributes), cssClass = getModuleClass(curOpt.moduleName), 
            ("Left" === curOpt.expandIconPosition ? prepend : append)([ createElement("div", {
                className: "e-icons " + curOpt.expandIconClass + " " + (isNullOrUndefined(className) ? "" : className)
            }) ], liElement.querySelector("." + cssClass.textContent)), liElement;
        };
    }(ListBase || (ListBase = {}));
    !function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    }();
    var queryString = "", prevString = "", matches$1 = [], activeClass = "e-active", __extends$22 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$10 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, FieldSettings = function(_super) {
        function FieldSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$22(FieldSettings, _super), __decorate$10([ Property() ], FieldSettings.prototype, "text", void 0), 
        __decorate$10([ Property() ], FieldSettings.prototype, "value", void 0), __decorate$10([ Property() ], FieldSettings.prototype, "iconCss", void 0), 
        __decorate$10([ Property() ], FieldSettings.prototype, "groupBy", void 0), FieldSettings;
    }(ChildProperty), dropDownBaseClasses = {
        root: "e-dropdownbase",
        rtl: "e-rtl",
        content: "e-content",
        selected: "e-active",
        hover: "e-hover",
        noData: "e-nodata",
        fixedHead: "e-fixed-head",
        focus: "e-item-focus",
        li: cssClass.li,
        group: cssClass.group,
        disabled: cssClass.disabled,
        grouping: "e-dd-group"
    }, DropDownBase = function(_super) {
        function DropDownBase(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$22(DropDownBase, _super), DropDownBase.prototype.getPropObject = function(prop, newProp, oldProp) {
            var newProperty = new Object(), oldProperty = new Object(), propName = new Function("prop", "return prop");
            newProperty[propName(prop)] = newProp[propName(prop)], oldProperty[propName(prop)] = oldProp[propName(prop)];
            var data = new Object();
            return data.newProperty = newProperty, data.oldProperty = oldProperty, data;
        }, DropDownBase.prototype.getValueByText = function(text, ignoreCase) {
            var value = null, dataSource = this.listData, fields = this.fields, type = this.typeOfData(dataSource).typeof;
            if (ignoreCase) if ("string" === type || "number" === type) for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {
                if (!isNullOrUndefined(item = dataSource_1[_i]) && String(item).toLowerCase() === text.toString().toLowerCase()) {
                    value = "string" === type ? String(item) : this.getFormattedValue(String(item));
                    break;
                }
            } else dataSource.filter(function(item) {
                getValue(fields.text, item).toString().toLowerCase() === text.toLowerCase() && (value = getValue(fields.value, item));
            }); else if ("string" === type || "number" === type) for (var _a = 0, dataSource_2 = dataSource; _a < dataSource_2.length; _a++) {
                var item;
                if (!isNullOrUndefined(item = dataSource_2[_a]) && String(item) === text.toString()) {
                    value = "string" === type ? text : this.getFormattedValue(text);
                    break;
                }
            } else dataSource.filter(function(item) {
                getValue(fields.text, item) === text && (value = getValue(fields.value, item));
            });
            return value;
        }, DropDownBase.prototype.l10nUpdate = function(actionFailure) {
            if ("No Records Found" !== this.noRecordsTemplate || "The Request Failed" !== this.actionFailureTemplate) {
                var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;
                this.list.innerHTML = "";
                for (var _i = 0, _a = compile$$1(template)({}); _i < _a.length; _i++) {
                    var item = _a[_i];
                    this.list.appendChild(item);
                }
            } else {
                this.l10n = new L10n("dropdowns", {
                    noRecordsTemplate: "No Records Found",
                    actionFailureTemplate: "The Request Failed"
                }, this.locale), this.list.innerHTML = actionFailure ? this.l10n.getConstant("actionFailureTemplate") : this.l10n.getConstant("noRecordsTemplate");
            }
        }, DropDownBase.prototype.getTextByValue = function(value) {
            var text, dataSource = this.listData, fields = this.fields, type = this.typeOfData(dataSource).typeof;
            if ("string" === type || "number" === type) for (var _i = 0, dataSource_3 = dataSource; _i < dataSource_3.length; _i++) {
                var item = dataSource_3[_i];
                if (!isNullOrUndefined(item) && item.toString() === value.toString()) {
                    text = item.toString();
                    break;
                }
            } else dataSource.filter(function(item) {
                var itemValue = getValue(fields.value, item);
                isNullOrUndefined(itemValue) || itemValue.toString() !== value.toString() || (text = getValue(fields.text, item));
            });
            return text;
        }, DropDownBase.prototype.getFormattedValue = function(value) {
            if (this.listData && this.listData.length) {
                var item = this.typeOfData(this.listData);
                if ("number" == typeof getValue(this.fields.value ? this.fields.value : "value", item.item) || "number" === item.typeof) return parseInt(value, 10);
                if ("boolean" == typeof getValue(this.fields.value ? this.fields.value : "value", item.item) || "boolean" === item.typeof) return "true" === value;
            }
            return value;
        }, DropDownBase.prototype.setEnableRtl = function() {
            this.list && this.enableRtlElements.push(this.list), this.enableRtl ? addClass(this.enableRtlElements, dropDownBaseClasses.rtl) : removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);
        }, DropDownBase.prototype.initialize = function() {
            if (this.bindEvent = !0, "UL" === this.element.tagName) {
                var jsonElement = ListBase.createJsonFromElement(this.element);
                this.setProperties({
                    fields: {
                        text: "text",
                        value: "text"
                    }
                }, !0), this.resetList(jsonElement, this.fields);
            } else if ("SELECT" === this.element.tagName) {
                (this.dataSource instanceof Array ? this.dataSource.length > 0 : !isNullOrUndefined(this.dataSource)) || this.renderItemsBySelect();
            } else this.setListData(this.dataSource, this.fields, this.query);
        }, DropDownBase.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, DropDownBase.prototype.setEnabled = function() {
            this.enabled ? this.element.setAttribute("aria-disabled", "false") : this.element.setAttribute("aria-disabled", "true");
        }, DropDownBase.prototype.renderItemsBySelect = function() {
            var element = this.element, fields = {
                value: "value",
                text: "text"
            }, jsonElement = [], group = element.querySelectorAll("select>optgroup"), option = element.querySelectorAll("select>option");
            if (this.getJSONfromOption(jsonElement, option, fields), group.length) {
                for (var i = 0; i < group.length; i++) {
                    var item = group[i], optionGroup = {};
                    optionGroup[fields.text] = item.label, optionGroup.isHeader = !0;
                    var child = item.querySelectorAll("option");
                    jsonElement.push(optionGroup), this.getJSONfromOption(jsonElement, child, fields);
                }
                element.querySelectorAll("select>option");
            }
            this.fields.text = fields.text, this.fields.value = fields.value, this.resetList(jsonElement, fields);
        }, DropDownBase.prototype.getJSONfromOption = function(items, options, fields) {
            for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {
                var option = options_1[_i], json = {};
                json[fields.text] = option.innerText, json[fields.value] = option.getAttribute(fields.value) ? option.getAttribute(fields.value) : option.innerText, 
                items.push(json);
            }
        }, DropDownBase.prototype.preRender = function() {
            this.scrollTimer = -1, this.enableRtlElements = [], this.isRequested = !1;
        }, DropDownBase.prototype.setListData = function(dataSource, fields, query) {
            var _this = this;
            fields = fields || this.fields;
            var ulElement;
            if (this.isActive = !0, dataSource instanceof DataManager) {
                var eventArgs = {
                    cancel: !1,
                    data: dataSource,
                    query: query
                };
                if (this.trigger("actionBegin", eventArgs), eventArgs.cancel) return;
                this.showSpinner(), this.isRequested = !0, eventArgs.data.executeQuery(this.getQuery(eventArgs.query)).then(function(e) {
                    if (_this.trigger("actionComplete", e), !e.cancel) {
                        var listItems = e.result;
                        ulElement = _this.renderItems(listItems, fields), _this.onActionComplete(ulElement, listItems, e), 
                        _this.isRequested = !1, _this.hideSpinner(), _this.trigger("dataBound", {
                            items: listItems,
                            e: e
                        });
                    }
                }).catch(function(e) {
                    _this.isRequested = !1, _this.onActionFailure(e), _this.hideSpinner();
                });
            } else {
                this.showSpinner();
                var dataManager = new DataManager(dataSource), listItems = this.getQuery(query).executeLocal(dataManager);
                ulElement = this.renderItems(listItems, fields), this.onActionComplete(ulElement, listItems), 
                this.hideSpinner(), this.trigger("dataBound", {
                    items: listItems
                });
            }
        }, DropDownBase.prototype.showSpinner = function() {}, DropDownBase.prototype.hideSpinner = function() {}, 
        DropDownBase.prototype.onActionFailure = function(e) {
            this.liCollections = [], this.trigger("actionFailure", e), this.l10nUpdate(!0), 
            addClass([ this.list ], dropDownBaseClasses.noData);
        }, DropDownBase.prototype.onActionComplete = function(ulElement, list, e) {
            this.listData = list, this.list.innerHTML = "", this.list.appendChild(ulElement), 
            this.liCollections = this.list.querySelectorAll("." + dropDownBaseClasses.li), this.ulElement = this.list.querySelector("ul"), 
            this.postRender(this.list, list, this.bindEvent);
        }, DropDownBase.prototype.postRender = function(listElement, list, bindEvent) {
            var focusItem = listElement.querySelector("." + dropDownBaseClasses.li), selectedItem = listElement.querySelector("." + dropDownBaseClasses.selected);
            focusItem && !selectedItem && addClass([ focusItem ], dropDownBaseClasses.focus), 
            list.length <= 0 ? (this.l10nUpdate(), addClass([ listElement ], dropDownBaseClasses.noData)) : listElement.classList.remove(dropDownBaseClasses.noData), 
            this.groupTemplate && this.renderGroupTemplate(listElement);
        }, DropDownBase.prototype.getQuery = function(query) {
            return query || (this.query ? this.query : new Query());
        }, DropDownBase.prototype.renderGroupTemplate = function(listEle) {
            if (null !== this.fields.groupBy && this.dataSource || this.element.querySelector("." + dropDownBaseClasses.group)) {
                var dataSource = this.dataSource, headerItems = listEle.querySelectorAll("." + dropDownBaseClasses.group);
                ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems);
            }
        }, DropDownBase.prototype.createListItems = function(dataSource, fields) {
            dataSource && fields.groupBy || this.element.querySelector("optgroup") ? (fields.groupBy && (dataSource = ListBase.groupDataSource(dataSource, fields.properties)), 
            addClass([ this.list ], dropDownBaseClasses.grouping)) : dataSource = this.getSortedDataSource(dataSource);
            var options = this.listOption(dataSource, fields);
            return ListBase.createList(dataSource, options, !0);
        }, DropDownBase.prototype.listOption = function(dataSource, fields) {
            var iconCss = !isNullOrUndefined(fields.iconCss);
            return extend({}, null !== fields.text || null !== fields.value ? {
                fields: fields.properties,
                showIcon: iconCss,
                ariaAttributes: {
                    groupItemRole: "presentation"
                }
            } : {
                fields: {
                    value: "text"
                }
            }, fields, !0);
        }, DropDownBase.prototype.setFloatingHeader = function(e) {
            isNullOrUndefined(this.fixedHeaderElement) && (this.fixedHeaderElement = createElement("div", {
                className: dropDownBaseClasses.fixedHead
            }), this.list.querySelector("li").classList.contains(dropDownBaseClasses.group) || (this.fixedHeaderElement.style.display = "none"), 
            prepend([ this.fixedHeaderElement ], this.list), this.setFixedHeader()), isNullOrUndefined(this.fixedHeaderElement) || "0" !== this.fixedHeaderElement.style.zIndex || this.setFixedHeader(), 
            this.scrollStop(e);
        }, DropDownBase.prototype.scrollStop = function(e) {
            for (var target = e.target, liHeight = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue("height"), 10), topIndex = Math.round(target.scrollTop / liHeight), liCollections = this.ulElement.querySelectorAll("li"), i = topIndex; i > -1; i--) {
                if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {
                    var currentLi = liCollections[i];
                    this.fixedHeaderElement.innerHTML = currentLi.innerHTML, this.fixedHeaderElement.style.display = "block";
                    break;
                }
                this.fixedHeaderElement.style.display = "none";
            }
        }, DropDownBase.prototype.renderItems = function(listData, fields) {
            var ulElement;
            if (this.itemTemplate && listData) {
                var dataSource = listData;
                dataSource = dataSource && fields.groupBy ? ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder) : this.getSortedDataSource(dataSource), 
                ulElement = this.templateListItem(dataSource, fields);
            } else ulElement = this.createListItems(listData, fields);
            return ulElement;
        }, DropDownBase.prototype.templateListItem = function(dataSource, fields) {
            var option = this.listOption(dataSource, fields);
            return ListBase.renderContentTemplate(this.itemTemplate, dataSource, fields.properties, option);
        }, DropDownBase.prototype.typeOfData = function(items) {
            for (var item = {
                typeof: null,
                item: null
            }, i = 0; i < items.length; i++) if (!isNullOrUndefined(items[i])) return item = {
                typeof: typeof items[i],
                item: items[i]
            };
            return item;
        }, DropDownBase.prototype.setFixedHeader = function() {
            this.list.parentElement.style.display = "block";
            var liWidth = this.liCollections[0].offsetWidth;
            this.fixedHeaderElement.style.width = liWidth.toString() + "px", setStyleAttribute(this.fixedHeaderElement, {
                zIndex: 10
            });
            var firstLi = this.ulElement.querySelector("." + dropDownBaseClasses.group);
            this.fixedHeaderElement.innerHTML = firstLi.innerHTML;
        }, DropDownBase.prototype.getSortedDataSource = function(dataSource) {
            if (dataSource && "None" !== this.sortOrder) {
                var textField = this.fields.text ? this.fields.text : "text";
                dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));
            }
            return dataSource;
        }, DropDownBase.prototype.getIndexByValue = function(value) {
            for (var index, listItems = this.getItems(), i = 0; i < listItems.length; i++) if (!isNullOrUndefined(value) && listItems[i].getAttribute("data-value") === value.toString()) {
                index = i;
                break;
            }
            return index;
        }, DropDownBase.prototype.dispatchEvent = function(element, type) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent(type, !1, !0), element.dispatchEvent(evt);
        }, DropDownBase.prototype.setFields = function() {
            var fields = this.fields;
            this.fields.value && !this.fields.text ? this.fields.text = this.fields.value : !fields.value && fields.text ? this.fields.value = this.fields.text : this.fields.value || this.fields.text || (this.fields.value = this.fields.text = "text");
        }, DropDownBase.prototype.resetList = function(dataSource, fields, query) {
            this.list && this.setListData(dataSource, fields, query);
        }, DropDownBase.prototype.updateSelection = function() {}, DropDownBase.prototype.renderList = function() {
            this.render();
        }, DropDownBase.prototype.updateDataSource = function(prop) {
            this.resetList(this.dataSource);
        }, DropDownBase.prototype.setUpdateInitial = function(props, newProp) {
            isNullOrUndefined(newProp.fields) || this.setFields();
            for (var j = 0; props.length > j; j++) newProp[props[j]] && this.updateDataSource(props[j]);
        }, DropDownBase.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.setUpdateInitial([ "query", "sortOrder", "dataSource", "itemTemplate" ], newProp);
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "query":
                  case "sortOrder":
                  case "dataSource":
                  case "itemTemplate":
                    break;

                  case "enableRtl":
                    this.setEnableRtl();
                    break;

                  case "enabled":
                    this.setEnabled();
                    break;

                  case "groupTemplate":
                    this.renderGroupTemplate(this.list);
                    break;

                  case "locale":
                    this.list && !isNullOrUndefined(this.liCollections) && 0 === this.liCollections.length && this.l10nUpdate();
                    break;

                  case "zIndex":
                    this.setProperties({
                        zIndex: newProp.zIndex
                    }, !0), this.setZIndex();
                }
            }
        }, DropDownBase.prototype.render = function(isEmptyData) {
            this.list = createElement("div", {
                className: dropDownBaseClasses.content,
                attrs: {
                    tabindex: "0"
                }
            }), this.list.classList.add(dropDownBaseClasses.root), this.setFields();
            var rippleModel = {
                duration: 300,
                selector: "." + dropDownBaseClasses.li
            };
            this.rippleFun = rippleEffect(this.list, rippleModel);
            var group = this.element.querySelector("select>optgroup");
            if (!this.fields.groupBy && isNullOrUndefined(group) || EventHandler.add(this.list, "scroll", this.setFloatingHeader, this), 
            "dropdownbase" === this.getModuleName()) {
                this.element.getAttribute("tabindex") && this.list.setAttribute("tabindex", this.element.getAttribute("tabindex")), 
                removeClass([ this.element ], dropDownBaseClasses.root), this.element.style.display = "none";
                var wrapperElement = document.createElement("div");
                this.element.parentElement.insertBefore(wrapperElement, this.element), wrapperElement.appendChild(this.element), 
                wrapperElement.appendChild(this.list);
            }
            this.setEnableRtl(), this.setEnabled(), isEmptyData || this.initialize();
        }, DropDownBase.prototype.getModuleName = function() {
            return "dropdownbase";
        }, DropDownBase.prototype.getItems = function() {
            return this.ulElement.querySelectorAll("." + dropDownBaseClasses.li);
        }, DropDownBase.prototype.addItem = function(items, itemIndex) {
            this.list && this.list.textContent !== this.noRecordsTemplate || this.renderList();
            var itemsCount = this.getItems().length, selectedItemValue = this.list.querySelector("." + dropDownBaseClasses.selected);
            items = items instanceof Array ? items : [ items ];
            var index;
            index = isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1 ? itemsCount : itemIndex;
            for (var fields = this.fields, liCollections = [], i = 0; i < items.length; i++) {
                var item = items[i], li = createElement("li", {
                    className: dropDownBaseClasses.li,
                    id: "option-add-" + i
                });
                li.setAttribute("data-value", getValue(fields.value, item)), li.setAttribute("role", "option"), 
                li.appendChild(document.createTextNode(getValue(fields.text, item))), liCollections.push(li), 
                this.listData.push(item), this.updateActionCompleteData(li, item);
            }
            if (0 === itemsCount && isNullOrUndefined(this.list.querySelector("ul"))) this.list.innerHTML = "", 
            this.list.appendChild(this.ulElement), append(liCollections, this.ulElement); else for (i = 0; i < items.length; i++) {
                this.liCollections[index] ? this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]) : this.ulElement.appendChild(liCollections[i]);
                var tempLi = [].slice.call(this.liCollections);
                tempLi.splice(index, 0, liCollections[i]), this.liCollections = tempLi, index += 1;
            }
            (selectedItemValue || 0 === itemIndex) && this.updateSelection();
        }, DropDownBase.prototype.setZIndex = function() {}, DropDownBase.prototype.updateActionCompleteData = function(li, item) {}, 
        DropDownBase.prototype.getDataByValue = function(value) {
            var type = this.typeOfData(this.listData).typeof;
            if ("string" === type || "number" === type) for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {
                if (!isNullOrUndefined(item = _a[_i]) && item === value) return item;
            } else for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {
                var item;
                if (!isNullOrUndefined(item = _c[_b]) && getValue(this.fields.value ? this.fields.value : "value", item) === value) return item;
            }
            return null;
        }, DropDownBase.prototype.destroy = function() {
            document.body.contains(this.list) && (EventHandler.remove(this.list, "scroll", this.setFloatingHeader), 
            isNullOrUndefined(this.rippleFun) || this.rippleFun(), detach(this.list)), _super.prototype.destroy.call(this);
        }, __decorate$10([ Complex({
            text: null,
            value: null,
            iconCss: null,
            groupBy: null
        }, FieldSettings) ], DropDownBase.prototype, "fields", void 0), __decorate$10([ Property(!1) ], DropDownBase.prototype, "enableRtl", void 0), 
        __decorate$10([ Property(!1) ], DropDownBase.prototype, "enablePersistence", void 0), 
        __decorate$10([ Property(null) ], DropDownBase.prototype, "itemTemplate", void 0), 
        __decorate$10([ Property(null) ], DropDownBase.prototype, "groupTemplate", void 0), 
        __decorate$10([ Property("No Records Found") ], DropDownBase.prototype, "noRecordsTemplate", void 0), 
        __decorate$10([ Property("The Request Failed") ], DropDownBase.prototype, "actionFailureTemplate", void 0), 
        __decorate$10([ Property("None") ], DropDownBase.prototype, "sortOrder", void 0), 
        __decorate$10([ Property(!0) ], DropDownBase.prototype, "enabled", void 0), __decorate$10([ Property([]) ], DropDownBase.prototype, "dataSource", void 0), 
        __decorate$10([ Property(null) ], DropDownBase.prototype, "query", void 0), __decorate$10([ Property(1e3) ], DropDownBase.prototype, "zIndex", void 0), 
        __decorate$10([ Property(!1) ], DropDownBase.prototype, "ignoreAccent", void 0), 
        __decorate$10([ Event() ], DropDownBase.prototype, "actionBegin", void 0), __decorate$10([ Event() ], DropDownBase.prototype, "actionComplete", void 0), 
        __decorate$10([ Event() ], DropDownBase.prototype, "actionFailure", void 0), __decorate$10([ Event() ], DropDownBase.prototype, "select", void 0), 
        __decorate$10([ Event() ], DropDownBase.prototype, "dataBound", void 0), __decorate$10([ Event() ], DropDownBase.prototype, "created", void 0), 
        __decorate$10([ Event() ], DropDownBase.prototype, "destroyed", void 0), DropDownBase = __decorate$10([ NotifyPropertyChanges ], DropDownBase);
    }(Component), __extends$1$5 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$1$5 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, dropDownListClasses = {
        root: "e-dropdownlist",
        hover: dropDownBaseClasses.hover,
        selected: dropDownBaseClasses.selected,
        rtl: dropDownBaseClasses.rtl,
        li: dropDownBaseClasses.li,
        disable: dropDownBaseClasses.disabled,
        base: dropDownBaseClasses.root,
        focus: dropDownBaseClasses.focus,
        input: "e-input-group",
        inputFocus: "e-input-focus",
        icon: "e-input-group-icon e-ddl-icon",
        iconAnimation: "e-icon-anim",
        value: "e-input-value",
        device: "e-ddl-device",
        backIcon: "e-input-group-icon e-back-icon e-icons",
        filterBarClearIcon: "e-input-group-icon e-clear-icon e-icons",
        filterInput: "e-input-filter",
        filterParent: "e-filter-parent",
        mobileFilter: "e-ddl-device-filter",
        footer: "e-ddl-footer",
        header: "e-ddl-header",
        clearIcon: "e-clear-icon",
        clearIconHide: "e-clear-icon-hide",
        popupFullScreen: "e-popup-full-page",
        disableIcon: "e-ddl-disable-icon",
        hiddenElement: "e-ddl-hidden"
    }, inputObject = {
        container: null,
        buttons: []
    }, DropDownList = function(_super) {
        function DropDownList(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$1$5(DropDownList, _super), DropDownList.prototype.preRender = function() {
            this.element.style.opacity = "0", this.initializeData(), _super.prototype.preRender.call(this), 
            this.activeIndex = this.index, this.queryString = "";
        }, DropDownList.prototype.initializeData = function() {
            this.isPopupOpen = !1, this.isDocumentClick = !1, this.isInteracted = !1, this.isFilterFocus = !1, 
            this.beforePopupOpen = !1, this.initial = !0, this.initRemoteRender = !1, this.isNotSearchList = !1, 
            this.isTyped = !1, this.isSelected = !1, this.preventFocus = !1, this.preventAutoFill = !1, 
            this.isValidKey = !1, this.typedString = "", this.isEscapeKey = !1, this.isPreventBlur = !1, 
            this.isTabKey = !1, this.actionCompleteData = {
                isUpdated: !1
            }, this.prevSelectPoints = {}, this.isSelectCustom = !1, this.isDropDownClick = !1, 
            this.preventAltUp = !1, this.isCustomFilter = !1, this.isSecondClick = !1, this.keyConfigure = {
                tab: "tab",
                enter: "13",
                escape: "27",
                end: "35",
                home: "36",
                down: "40",
                up: "38",
                pageUp: "33",
                pageDown: "34",
                open: "alt+40",
                close: "shift+tab",
                hide: "alt+38",
                space: "32"
            };
        }, DropDownList.prototype.setZIndex = function() {
            this.popupObj && this.popupObj.setProperties({
                zIndex: this.zIndex
            });
        }, DropDownList.prototype.renderList = function(isEmptyData) {
            _super.prototype.render.call(this, isEmptyData), this.wireListEvents();
        }, DropDownList.prototype.floatLabelChange = function() {
            if ("dropdownlist" === this.getModuleName() && "Auto" === this.floatLabelType) {
                var floatElement = this.inputWrapper.container.querySelector(".e-float-text");
                "" !== this.inputElement.value || this.isInteracted ? classList(floatElement, [ "e-label-top" ], [ "e-label-bottom" ]) : classList(floatElement, [ "e-label-bottom" ], [ "e-label-top" ]);
            }
        }, DropDownList.prototype.resetHandler = function(e) {
            e.preventDefault(), this.clear(e);
        }, DropDownList.prototype.resetFocusElement = function() {
            if (this.removeHover(), this.removeSelection(), this.removeFocus(), this.list.scrollTop = 0, 
            "autocomplete" !== this.getModuleName()) {
                var li = this.ulElement.querySelector("." + dropDownListClasses.li);
                li && li.classList.add(dropDownListClasses.focus);
            }
        }, DropDownList.prototype.clear = function(e, property) {
            this.resetSelection();
            var dataItem = this.getItemData();
            this.previousValue !== dataItem.value && this.onChangeEvent(e);
        }, DropDownList.prototype.resetSelection = function() {
            this.list && (this.allowFiltering && "autocomplete" !== this.getModuleName() && this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0), this.actionCompleteData.list), 
            this.resetFocusElement()), this.hiddenElement.innerHTML = "", this.inputElement.value = "", 
            this.value = null, this.text = null, this.index = null, this.activeIndex = null, 
            this.item = null, this.itemData = null, this.queryString = "", this.valueTempElement && (detach(this.valueTempElement), 
            this.inputElement.style.display = "block", this.valueTempElement = null), this.setSelection(null, null), 
            this.isSelectCustom = !1, this.updateIconState();
        }, DropDownList.prototype.setHTMLAttributes = function() {
            if (Object.keys(this.htmlAttributes).length) for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {
                var htmlAttr = _a[_i];
                if ("class" === htmlAttr) this.inputWrapper.container.classList.add(this.htmlAttributes[htmlAttr]); else if ("disabled" === htmlAttr && "disabled" === this.htmlAttributes[htmlAttr]) this.enabled = !1, 
                this.setEnable(); else if ("readonly" === htmlAttr && "readonly" === this.htmlAttributes[htmlAttr]) this.readonly = !0, 
                this.dataBind(); else if ("style" === htmlAttr) this.inputWrapper.container.setAttribute("style", this.htmlAttributes[htmlAttr]); else {
                    [ "name", "required" ].indexOf(htmlAttr) > -1 ? this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]) : [ "title", "id", "placeholder" ].indexOf(htmlAttr) > -1 ? "placeholder" === htmlAttr ? Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputElement) : this.element.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]) : this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);
                }
            }
        }, DropDownList.prototype.getAriaAttributes = function() {
            return {
                "aria-disabled": "false",
                "aria-owns": this.element.id + "_options",
                role: "listbox",
                "aria-haspopup": "true",
                "aria-expanded": "false",
                "aria-activedescendant": "null",
                "aria-labelledby": this.hiddenElement.id
            };
        }, DropDownList.prototype.setEnableRtl = function() {
            Input.setEnableRtl(this.enableRtl, [ this.inputElement.parentElement ]), this.popupObj && (this.popupObj.enableRtl = this.enableRtl, 
            this.popupObj.dataBind());
        }, DropDownList.prototype.setEnable = function() {
            Input.setEnabled(this.enabled, this.inputElement), this.enabled ? (removeClass([ this.inputWrapper.container ], dropDownListClasses.disable), 
            this.inputElement.setAttribute("aria-disabled", "false"), this.targetElement().setAttribute("tabindex", this.tabIndex)) : (this.hidePopup(), 
            addClass([ this.inputWrapper.container ], dropDownListClasses.disable), this.inputElement.setAttribute("aria-disabled", "true"), 
            this.targetElement().tabIndex = -1);
        }, DropDownList.prototype.getPersistData = function() {
            return this.addOnPersist([ "value" ]);
        }, DropDownList.prototype.preventTabIndex = function(element) {
            "dropdownlist" === this.getModuleName() && (element.tabIndex = -1);
        }, DropDownList.prototype.targetElement = function() {
            return this.inputWrapper.container;
        }, DropDownList.prototype.getNgDirective = function() {
            return "EJS-DROPDOWNLIST";
        }, DropDownList.prototype.getElementByText = function(text) {
            return this.getElementByValue(this.getValueByText(text));
        }, DropDownList.prototype.getElementByValue = function(value) {
            for (var item, _i = 0, listItems_1 = this.getItems(); _i < listItems_1.length; _i++) {
                var liItem = listItems_1[_i];
                if (this.getFormattedValue(liItem.getAttribute("data-value")) === value) {
                    item = liItem;
                    break;
                }
            }
            return item;
        }, DropDownList.prototype.initValue = function() {
            this.renderList(), this.dataSource instanceof DataManager ? this.initRemoteRender = !0 : this.updateValues();
        }, DropDownList.prototype.updateValues = function() {
            if (isNullOrUndefined(this.value)) if (this.text && isNullOrUndefined(this.value)) {
                var element = this.getElementByText(this.text);
                if (isNullOrUndefined(element)) return void this.setProperties({
                    text: null
                });
                this.setSelection(element, null);
            } else this.setSelection(this.liCollections[this.activeIndex], null); else this.setSelection(this.getElementByValue(this.value), null);
            this.setHiddenValue(), Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);
        }, DropDownList.prototype.onBlur = function(e) {
            var target = e.relatedTarget, currentTarget = e.target, isPreventBlur = this.isPreventBlur;
            this.isPreventBlur = !1, !isPreventBlur || this.isDocumentClick || !this.isPopupOpen || isNullOrUndefined(currentTarget) && (this.isFilterLayout() || !isNullOrUndefined(target)) ? this.isDocumentClick || !isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) && this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter) ? this.beforePopupOpen || (this.isDocumentClick = !1) : ("dropdownlist" === this.getModuleName() && !this.isFilterFocus && target !== this.inputElement && (document.activeElement !== target || document.activeElement === target && currentTarget.classList.contains(dropDownListClasses.inputFocus)) || isNullOrUndefined(target) && "dropdownlist" === this.getModuleName() && this.allowFiltering && currentTarget !== this.inputWrapper.container || "dropdownlist" !== this.getModuleName() && !this.inputWrapper.container.contains(target) || this.isTabKey) && (this.isDocumentClick = !!this.isPopupOpen, 
            this.focusOutAction(), this.isTabKey = !1) : "dropdownlist" === this.getModuleName() && this.allowFiltering && this.isPopupOpen ? this.filterInput.focus() : this.targetElement().focus();
        }, DropDownList.prototype.focusOutAction = function() {
            this.isInteracted = !1, this.focusOut(), this.onFocusOut();
        }, DropDownList.prototype.onFocusOut = function() {
            this.isSelected && (this.isSelectCustom = !1, this.onChangeEvent(null)), this.floatLabelChange(), 
            this.dispatchEvent(this.hiddenElement, "change"), this.inputWrapper.clearButton && addClass([ this.inputWrapper.clearButton ], dropDownListClasses.clearIconHide), 
            this.trigger("blur");
        }, DropDownList.prototype.onFocus = function() {
            this.isInteracted || (this.isInteracted = !0, this.trigger("focus")), this.updateIconState();
        }, DropDownList.prototype.wireEvent = function() {
            EventHandler.add(this.inputWrapper.container, "mousedown", this.dropDownClick, this), 
            EventHandler.add(this.inputWrapper.container, "focus", this.focusIn, this), EventHandler.add(this.inputWrapper.container, "keypress", this.onSearch, this), 
            this.bindCommonEvent();
        }, DropDownList.prototype.bindCommonEvent = function() {
            EventHandler.add(this.targetElement(), "blur", this.onBlur, this), Browser.isDevice || (this.keyboardModule = new KeyboardEvents(this.targetElement(), {
                keyAction: this.keyActionHandler.bind(this),
                keyConfigs: this.keyConfigure,
                eventName: "keydown"
            })), this.bindClearEvent();
        }, DropDownList.prototype.bindClearEvent = function() {
            this.showClearButton && EventHandler.add(this.inputWrapper.clearButton, "mousedown", this.resetHandler, this);
        }, DropDownList.prototype.unBindCommonEvent = function() {
            EventHandler.remove(this.targetElement(), "blur", this.onBlur), Browser.isDevice || this.keyboardModule.destroy(), 
            this.showClearButton && EventHandler.remove(this.inputWrapper.clearButton, "mousedown", this.resetHandler);
        }, DropDownList.prototype.updateIconState = function() {
            this.showClearButton && ("" !== this.inputElement.value ? removeClass([ this.inputWrapper.clearButton ], dropDownListClasses.clearIconHide) : addClass([ this.inputWrapper.clearButton ], dropDownListClasses.clearIconHide));
        }, DropDownList.prototype.wireListEvents = function() {
            EventHandler.add(this.list, "click", this.onMouseClick, this), EventHandler.add(this.list, "mouseover", this.onMouseOver, this), 
            EventHandler.add(this.list, "mouseout", this.onMouseLeave, this);
        }, DropDownList.prototype.onSearch = function(e) {
            32 !== e.charCode && 13 !== e.charCode && (void 0 === this.list && this.renderList(), 
            this.searchKeyEvent = e, this.isRequested || isNullOrUndefined(this.list.querySelector("li")) || this.incrementalSearch(e));
        }, DropDownList.prototype.onMouseClick = function(e) {
            var target = e.target, li = (target.classList, closest(target, "." + dropDownBaseClasses.li));
            if (this.isValidLI(li)) if (this.setSelection(li, e), Browser.isDevice && this.isFilterLayout()) history.back(); else {
                this.closePopup(100);
            }
        }, DropDownList.prototype.onMouseOver = function(e) {
            var currentLi = closest(e.target, "." + dropDownBaseClasses.li);
            this.setHover(currentLi);
        }, DropDownList.prototype.setHover = function(li) {
            this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover) && (this.removeHover(), 
            addClass([ li ], dropDownBaseClasses.hover));
        }, DropDownList.prototype.onMouseLeave = function(e) {
            this.removeHover();
        }, DropDownList.prototype.removeHover = function() {
            var hoveredItem = this.list.querySelectorAll("." + dropDownBaseClasses.hover);
            hoveredItem && hoveredItem.length && removeClass(hoveredItem, dropDownBaseClasses.hover);
        }, DropDownList.prototype.isValidLI = function(li) {
            return li && li.hasAttribute("role") && "option" === li.getAttribute("role");
        }, DropDownList.prototype.incrementalSearch = function(e) {
            if (this.liCollections.length > 0) {
                var li = function(keyCode, items, selectedIndex, ignoreCase) {
                    queryString += String.fromCharCode(keyCode), setTimeout(function() {
                        queryString = "";
                    }, 1e3);
                    var index;
                    if (queryString = ignoreCase ? queryString.toLowerCase() : queryString, prevString === queryString) {
                        for (var i = 0; i < matches$1.length; i++) if (matches$1[i].classList.contains(activeClass)) {
                            index = i;
                            break;
                        }
                        return index += 1, matches$1[index];
                    }
                    var listItems = items, strLength = queryString.length, item = void 0;
                    i = selectedIndex = selectedIndex ? selectedIndex + 1 : 0, matches$1 = [];
                    do {
                        i === listItems.length && (i = -1), item = listItems[index = -1 === i ? 0 : i], 
                        (ignoreCase ? item.innerText.toLowerCase() : item.innerText).substr(0, strLength) === queryString && matches$1.push(listItems[index]), 
                        i++;
                    } while (i !== selectedIndex);
                    return prevString = queryString, matches$1[0];
                }(e.charCode, this.liCollections, this.activeIndex, !0);
                isNullOrUndefined(li) || (this.setSelection(li, e), this.setScrollPosition());
            }
        }, DropDownList.prototype.hideSpinner = function() {
            isNullOrUndefined(this.spinnerElement) || (hideSpinner(this.spinnerElement), removeClass([ this.spinnerElement ], dropDownListClasses.disableIcon), 
            this.spinnerElement.innerHTML = "", this.spinnerElement = null);
        }, DropDownList.prototype.showSpinner = function() {
            isNullOrUndefined(this.spinnerElement) && (this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] || !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0], 
            addClass([ this.spinnerElement ], dropDownListClasses.disableIcon), createSpinner({
                target: this.spinnerElement,
                width: Browser.isDevice ? "16px" : "14px"
            }), showSpinner(this.spinnerElement));
        }, DropDownList.prototype.keyActionHandler = function(e) {
            var preventAction = "pageUp" === e.action || "pageDown" === e.action, preventHomeEnd = "dropdownlist" !== this.getModuleName() && ("home" === e.action || "end" === e.action);
            this.isEscapeKey = "escape" === e.action, this.isTabKey = !this.isPopupOpen && "tab" === e.action;
            var isNavigation = "down" === e.action || "up" === e.action || "pageUp" === e.action || "pageDown" === e.action || "home" === e.action || "end" === e.action;
            if ((!(this.isEditTextBox() || preventAction || preventHomeEnd) || this.isPopupOpen) && !this.readonly) {
                var isTabAction = "tab" === e.action || "close" === e.action;
                if (void 0 !== this.list || this.isRequested || isTabAction || "escape" === e.action || (this.searchKeyEvent = e, 
                this.renderList()), isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && isNavigation && 0 === this.liCollections.length || this.isRequested) return;
                switch ((isTabAction && this.isPopupOpen || "escape" === e.action) && e.preventDefault(), 
                this.isSelected = "escape" !== e.action && this.isSelected, this.isTyped = !isNavigation && "escape" !== e.action && this.isTyped, 
                e.action) {
                  case "down":
                  case "up":
                    var focusEle = this.list.querySelector("." + dropDownListClasses.focus);
                    if (this.isSelectFocusItem(focusEle)) this.setSelection(focusEle, e); else {
                        var nextItem = void 0, index = "down" === e.action ? this.activeIndex + 1 : this.activeIndex - 1, startIndex = 0;
                        "autocomplete" === this.getModuleName() && (startIndex = "down" === e.action && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1, 
                        index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index), 
                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index], 
                        this.setSelection(nextItem, e);
                    }
                    e.preventDefault();
                    break;

                  case "pageUp":
                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e), e.preventDefault();
                    break;

                  case "pageDown":
                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e), e.preventDefault();
                    break;

                  case "home":
                    if ("dropdownlist" === this.getModuleName()) {
                        if (e.preventDefault(), 0 === this.activeIndex) return;
                        this.setSelection(this.liCollections[0], e);
                    }
                    break;

                  case "end":
                    if ("dropdownlist" === this.getModuleName()) {
                        e.preventDefault();
                        var lastLi = this.getItems().length - 1;
                        if (this.activeIndex === lastLi) return;
                        this.setSelection(this.liCollections[lastLi], e);
                    }
                    break;

                  case "space":
                    "dropdownlist" === this.getModuleName() && (this.beforePopupOpen || this.showPopup());
                    break;

                  case "open":
                    this.showPopup();
                    break;

                  case "hide":
                    this.preventAltUp = this.isPopupOpen, this.hidePopup(), this.focusDropDown(e);
                    break;

                  case "enter":
                    this.selectCurrentItem(e);
                    break;

                  case "escape":
                  case "tab":
                  case "close":
                    this.isPopupOpen && (this.hidePopup(), this.focusDropDown(e));
                }
            }
        }, DropDownList.prototype.selectCurrentItem = function(e) {
            if (this.isPopupOpen) {
                var li = this.list.querySelector("." + dropDownListClasses.focus);
                li && (this.setSelection(li, e), this.isTyped = !1), this.isSelected && (this.isSelectCustom = !1, 
                this.onChangeEvent(e)), this.hidePopup(), this.focusDropDown(e);
            } else this.showPopup();
        }, DropDownList.prototype.isSelectFocusItem = function(element) {
            return !isNullOrUndefined(element);
        }, DropDownList.prototype.getPageCount = function() {
            var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null : getComputedStyle(this.getItems()[0], null).getPropertyValue("height");
            return Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));
        }, DropDownList.prototype.pageUpSelection = function(steps, event) {
            var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];
            this.setSelection(previousItem, event);
        }, DropDownList.prototype.pageDownSelection = function(steps, event) {
            var list = this.getItems(), previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];
            this.setSelection(previousItem, event);
        }, DropDownList.prototype.unWireEvent = function() {
            EventHandler.remove(this.inputWrapper.container, "mousedown", this.dropDownClick), 
            EventHandler.remove(this.inputWrapper.container, "keypress", this.onSearch), EventHandler.remove(this.inputWrapper.container, "focus", this.focusIn), 
            this.unBindCommonEvent();
        }, DropDownList.prototype.unWireListEvents = function() {
            EventHandler.remove(this.list, "click", this.onMouseClick), EventHandler.remove(this.list, "mouseover", this.onMouseOver), 
            EventHandler.remove(this.list, "mouseout", this.onMouseLeave);
        }, DropDownList.prototype.onDocumentClick = function(e) {
            var target = e.target;
            if (!isNullOrUndefined(this.popupObj) && closest(target, "#" + this.popupObj.element.id) || this.inputWrapper.container.contains(e.target)) target === this.inputElement || this.allowFiltering && target === this.filterInput || "combobox" === this.getModuleName() && !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0] || (this.isPreventBlur = (Browser.isIE || "edge" === Browser.info.name) && (document.activeElement === this.targetElement() || document.activeElement === this.filterInput), 
            e.preventDefault()); else if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {
                this.isDocumentClick = !0;
                var isActive = this.isRequested;
                this.isInteracted = !1, this.hidePopup(), isActive || (this.onFocusOut(), this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus));
            }
        }, DropDownList.prototype.activeStateChange = function() {
            this.isDocumentClick && (this.hidePopup(), this.onFocusOut(), this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus));
        }, DropDownList.prototype.focusDropDown = function(e) {
            !this.initial && this.isFilterLayout() && this.focusIn();
        }, DropDownList.prototype.dropDownClick = function(e) {
            if (3 !== e.which && 2 !== e.button && !this.targetElement().classList.contains(dropDownListClasses.disable) && this.inputWrapper.clearButton !== e.target) {
                var target = e.target;
                if (target === this.inputElement || this.allowFiltering && target === this.filterInput || "combobox" === this.getModuleName() || e.preventDefault(), 
                !this.readonly) {
                    this.isPopupOpen ? (this.hidePopup(), this.isFilterLayout() && this.focusDropDown(e)) : (this.focusIn(), 
                    this.floatLabelChange(), this.queryString = "" === this.inputElement.value.trim() ? null : this.inputElement.value, 
                    this.isDropDownClick = !0, this.showPopup());
                    var proxy_1 = this;
                    this.isSecondClick || setTimeout(function() {
                        proxy_1.cloneElements();
                    }, 100);
                }
            }
        }, DropDownList.prototype.cloneElements = function() {
            if (this.list) {
                var ulElement = this.list.querySelector("ul");
                ulElement && (ulElement = ulElement.cloneNode ? ulElement.cloneNode(!0) : ulElement, 
                this.actionCompleteData.ulElement = ulElement, this.isSecondClick = !0);
            }
        }, DropDownList.prototype.updateSelectedItem = function(li, e, preventSelect) {
            this.removeSelection(), li.classList.add(dropDownBaseClasses.selected), this.removeHover();
            var value = this.getFormattedValue(li.getAttribute("data-value"));
            if (this.item = li, this.itemData = this.getDataByValue(value), !this.initial && !preventSelect) {
                this.isSelected = !0;
                var eventArgs = {
                    e: e,
                    item: this.item,
                    itemData: this.itemData,
                    isInteracted: !!e,
                    cancel: !1
                };
                if (this.trigger("select", eventArgs), eventArgs.cancel) return;
            }
            var focusedItem = this.list.querySelector("." + dropDownBaseClasses.focus);
            focusedItem && removeClass([ focusedItem ], dropDownBaseClasses.focus), li.setAttribute("aria-selected", "true"), 
            this.activeIndex = this.getIndexByValue(value);
        }, DropDownList.prototype.activeItem = function(li) {
            this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected) && (this.removeSelection(), 
            li.classList.add(dropDownBaseClasses.selected), this.removeHover(), li.setAttribute("aria-selected", "true"));
        }, DropDownList.prototype.setValue = function(e) {
            var dataItem = this.getItemData();
            return null === dataItem.value ? Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton) : Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.previousValue === dataItem.value ? (this.isSelected = !1, !0) : (this.isSelected = !this.initial, 
            this.isSelectCustom = !1, "dropdownlist" === this.getModuleName() && this.updateIconState(), 
            !1);
        }, DropDownList.prototype.setSelection = function(li, e) {
            this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected) && this.updateSelectedItem(li, e, !1), 
            this.list && this.removeHover(), this.selectedLI = li, this.setValue(e) || (this.valueTemplate && null !== this.itemData ? this.setValueTemplate() : this.inputElement.previousSibling === this.valueTempElement && (detach(this.valueTempElement), 
            this.inputElement.style.display = "block"), this.isPopupOpen && (attributes(this.targetElement(), {
                "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null
            }), this.isFilterLayout() && attributes(this.filterInput, {
                "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null
            })), (!this.isPopupOpen && !isNullOrUndefined(li) || this.isPopupOpen && !isNullOrUndefined(e) && ("keydown" !== e.type || "keydown" === e.type && "enter" === e.action)) && (this.isSelectCustom = !1, 
            this.onChangeEvent(e)), !this.isPopupOpen || isNullOrUndefined(this.selectedLI) || null === this.itemData || e && "click" === e.type || this.setScrollPosition(e));
        }, DropDownList.prototype.setValueTemplate = function() {
            this.valueTempElement || (this.valueTempElement = createElement("span", {
                className: dropDownListClasses.value
            }), this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement), 
            this.inputElement.style.display = "none"), this.valueTempElement.innerHTML = "";
            for (var _i = 0, _a = compile$$1(this.valueTemplate)(this.itemData); _i < _a.length; _i++) {
                var item = _a[_i];
                this.valueTempElement.appendChild(item);
            }
        }, DropDownList.prototype.removeSelection = function() {
            var selectedItems = this.list.querySelectorAll("." + dropDownBaseClasses.selected);
            selectedItems.length && (removeClass(selectedItems, dropDownBaseClasses.selected), 
            selectedItems[0].removeAttribute("aria-selected"));
        }, DropDownList.prototype.getItemData = function() {
            var dataValue, dataText, fields = this.fields, dataItem = {};
            isNullOrUndefined(dataItem = this.itemData) || (dataValue = getValue(fields.value, dataItem), 
            dataText = getValue(fields.text, dataItem));
            return {
                value: isNullOrUndefined(dataItem) || isUndefined(dataValue) ? dataItem : dataValue,
                text: isNullOrUndefined(dataItem) || isUndefined(dataValue) ? dataItem : dataText
            };
        }, DropDownList.prototype.onChangeEvent = function(eve) {
            var dataItem = this.getItemData(), index = this.isSelectCustom ? null : this.activeIndex;
            this.setProperties({
                value: dataItem.value,
                index: index,
                text: dataItem.text
            }, !0), this.detachChangeEvent(eve);
        }, DropDownList.prototype.detachChangeEvent = function(eve) {
            if (this.isSelected = !1, this.previousValue = this.value, this.activeIndex = this.index, 
            this.typedString = isNullOrUndefined(this.text) ? "" : this.text, !this.initial) {
                this.setHiddenValue();
                var eventArgs = {
                    e: eve,
                    item: this.item,
                    itemData: this.itemData,
                    isInteracted: !!eve,
                    value: this.value
                };
                this.trigger("change", eventArgs);
            }
        }, DropDownList.prototype.setHiddenValue = function() {
            isNullOrUndefined(this.value) ? this.hiddenElement.innerHTML = "" : this.hiddenElement.innerHTML = "<option selected value =" + this.value + ">" + this.text + "</option>";
        }, DropDownList.prototype.onFilterUp = function(e) {
            if (this.isValidKey = 40 === e.keyCode || 38 === e.keyCode || this.isValidKey, this.isValidKey) switch (this.isValidKey = !1, 
            e.keyCode) {
              case 38:
              case 40:
                "autocomplete" !== this.getModuleName() || this.isPopupOpen || this.preventAltUp || this.isRequested ? this.preventAutoFill = !1 : (this.preventAutoFill = !0, 
                this.searchLists(e)), this.preventAltUp = !1, e.preventDefault();
                break;

              case 46:
              case 8:
                this.typedString = this.filterInput.value, !this.isPopupOpen && "" !== this.typedString || this.isPopupOpen && this.queryString.length > 0 ? (this.preventAutoFill = !0, 
                this.searchLists(e)) : "" === this.typedString && (this.resetFocusElement(), this.activeIndex = null, 
                "autocomplete" === this.getModuleName() && this.hidePopup()), e.preventDefault();
                break;

              default:
                this.typedString = this.filterInput.value, this.preventAutoFill = !1, this.searchLists(e);
            }
        }, DropDownList.prototype.onFilterDown = function(e) {
            switch (e.keyCode) {
              case 13:
                break;

              case 40:
              case 38:
                this.queryString = this.filterInput.value, e.preventDefault();
                break;

              case 9:
                this.isPopupOpen && e.preventDefault();
                break;

              default:
                this.prevSelectPoints = this.getSelectionPoints(), this.queryString = this.filterInput.value;
            }
        }, DropDownList.prototype.removeFillSelection = function() {
            if (this.isInteracted) {
                var selection = this.getSelectionPoints();
                this.inputElement.setSelectionRange(selection.end, selection.end);
            }
        }, DropDownList.prototype.getSelectionPoints = function() {
            var input = this.inputElement;
            return {
                start: Math.abs(input.selectionStart),
                end: Math.abs(input.selectionEnd)
            };
        }, DropDownList.prototype.searchLists = function(e) {
            var _this = this;
            if (this.isTyped = !0, this.activeIndex = null, this.filterInput.parentElement.querySelector("." + dropDownListClasses.clearIcon)) {
                this.filterInput.parentElement.querySelector("." + dropDownListClasses.clearIcon).style.visibility = "" === this.filterInput.value ? "hidden" : "visible";
            }
            if (this.isFiltering()) {
                var eventArgs_1 = {
                    preventDefaultAction: !1,
                    text: this.filterInput.value,
                    updateData: function(dataSource, query, fields) {
                        eventArgs_1.cancel || (_this.isCustomFilter = !0, _this.filteringAction(dataSource, query, fields));
                    },
                    baseEventArgs: e,
                    cancel: !1
                };
                if (this.trigger("filtering", eventArgs_1), eventArgs_1.cancel) return;
                if (!this.isCustomFilter && !eventArgs_1.preventDefaultAction) {
                    var filterQuery = this.query ? this.query.clone() : new Query(), dataType = this.typeOfData(this.dataSource).typeof;
                    if ((this.dataSource instanceof DataManager || "string" !== dataType) && "number" !== dataType) {
                        var fields = this.fields;
                        filterQuery.where(isNullOrUndefined(fields.text) ? "" : fields.text, "startswith", this.filterInput.value, !0, this.ignoreAccent);
                    } else filterQuery.where("", "startswith", this.filterInput.value, !0, this.ignoreAccent);
                    this.filteringAction(this.dataSource, filterQuery, this.fields);
                }
            }
        }, DropDownList.prototype.filteringAction = function(dataSource, query, fields) {
            isNullOrUndefined(this.filterInput) || (this.beforePopupOpen = !0, "" === this.filterInput.value.trim() ? (this.actionCompleteData.isUpdated = !1, 
            this.isTyped = !1, this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list), 
            this.isTyped = !0, isNullOrUndefined(this.itemData) || "dropdownlist" !== this.getModuleName() || (this.focusIndexItem(), 
            this.setScrollPosition()), this.isNotSearchList = !0) : (this.isNotSearchList = !1, 
            this.resetList(dataSource, fields, query)));
        }, DropDownList.prototype.setSearchBox = function(popupElement) {
            if (this.isFiltering()) {
                var parentElement = createElement("span", {
                    className: dropDownListClasses.filterParent
                });
                this.filterInput = createElement("input", {
                    attrs: {
                        type: "text"
                    },
                    className: dropDownListClasses.filterInput
                }), this.element.parentNode.insertBefore(this.filterInput, this.element);
                var backIcon = !1;
                return Browser.isDevice && (backIcon = !0), this.filterInputObj = Input.createInput({
                    element: this.filterInput,
                    buttons: backIcon ? [ dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon ] : [ dropDownListClasses.filterBarClearIcon ],
                    properties: {
                        placeholder: this.filterBarPlaceholder
                    }
                }), append([ this.filterInputObj.container ], parentElement), prepend([ parentElement ], popupElement), 
                attributes(this.filterInput, {
                    "aria-disabled": "false",
                    "aria-owns": this.element.id + "_options",
                    role: "listbox",
                    "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null,
                    autocomplete: "off",
                    autocorrect: "off",
                    autocapitalize: "off",
                    spellcheck: "false"
                }), this.clearIconElement = this.filterInput.parentElement.querySelector("." + dropDownListClasses.clearIcon), 
                !Browser.isDevice && this.clearIconElement && (EventHandler.add(this.clearIconElement, "click", this.clearText, this), 
                this.clearIconElement.style.visibility = "hidden"), Browser.isDevice || (this.searchKeyModule = new KeyboardEvents(this.filterInput, {
                    keyAction: this.keyActionHandler.bind(this),
                    keyConfigs: this.keyConfigure,
                    eventName: "keydown"
                })), EventHandler.add(this.filterInput, "input", this.onInput, this), EventHandler.add(this.filterInput, "keyup", this.onFilterUp, this), 
                EventHandler.add(this.filterInput, "keydown", this.onFilterDown, this), EventHandler.add(this.filterInput, "blur", this.onBlur, this), 
                this.filterInputObj;
            }
            return inputObject;
        }, DropDownList.prototype.onInput = function() {
            this.isValidKey = !0;
        }, DropDownList.prototype.onActionFailure = function(e) {
            _super.prototype.onActionFailure.call(this, e), this.beforePopupOpen && this.renderPopup();
        }, DropDownList.prototype.onActionComplete = function(ulElement, list, e, isUpdated) {
            if (this.isNotSearchList) this.isNotSearchList = !1; else if (this.isActive) {
                var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(!0) : null;
                _super.prototype.onActionComplete.call(this, ulElement, list, e), this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && "keydown" === this.searchKeyEvent.type && (this.isRequested = !1, 
                this.keyActionHandler(this.searchKeyEvent), this.searchKeyEvent = null), this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && (this.incrementalSearch(this.searchKeyEvent), 
                this.searchKeyEvent = null), this.list.scrollTop = 0, isNullOrUndefined(ulElement) || attributes(ulElement, {
                    id: this.element.id + "_options",
                    role: "listbox",
                    "aria-hidden": "false"
                }), this.initRemoteRender && (this.initial = !0, this.activeIndex = this.index, 
                this.updateValues(), this.initRemoteRender = !1, this.initial = !1), "autocomplete" !== this.getModuleName() && this.isFiltering() && !this.isTyped && (this.actionCompleteData.isUpdated || (this.actionCompleteData = {
                    ulElement: ulElement.cloneNode(!0),
                    list: list,
                    isUpdated: !0
                }), this.addNewItem(list, selectedItem), isNullOrUndefined(this.itemData) || this.focusIndexItem()), 
                this.beforePopupOpen && this.renderPopup();
            }
        }, DropDownList.prototype.addNewItem = function(listData, newElement) {
            var _this = this;
            if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {
                var value_1 = this.getItemData().value;
                listData.some(function(data) {
                    return ("string" == typeof data || "number" == typeof data) && data === value_1 || getValue(_this.fields.value, data) === value_1;
                }) || this.addItem(this.itemData);
            }
        }, DropDownList.prototype.updateActionCompleteData = function(li, item) {
            "autocomplete" !== this.getModuleName() && this.actionCompleteData.ulElement && (this.actionCompleteData.ulElement.appendChild(li.cloneNode(!0)), 
            this.actionCompleteData.list.push(item));
        }, DropDownList.prototype.focusIndexItem = function() {
            var value = this.getItemData().value;
            this.activeIndex = this.getIndexByValue(value);
            var element = this.list.querySelector('[data-value="' + value + '"]');
            this.selectedLI = element, this.activeItem(element), this.removeFocus();
        }, DropDownList.prototype.updateSelection = function() {
            var selectedItem = this.list.querySelector("." + dropDownBaseClasses.selected);
            selectedItem ? (this.setProperties({
                index: this.getIndexByValue(selectedItem.getAttribute("data-value"))
            }), this.activeIndex = this.index) : (this.removeFocus(), this.list.querySelector("." + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus));
        }, DropDownList.prototype.removeFocus = function() {
            var highlightedItem = this.list.querySelectorAll("." + dropDownListClasses.focus);
            highlightedItem && highlightedItem.length && removeClass(highlightedItem, dropDownListClasses.focus);
        }, DropDownList.prototype.renderPopup = function() {
            if (this.popupObj && document.body.contains(this.popupObj.element)) this.refreshPopup(); else {
                var popupEle = createElement("div", {
                    id: this.element.id + "_popup",
                    className: "e-ddl e-popup"
                }), searchBox = this.setSearchBox(popupEle);
                if (this.listHeight = formatUnit(this.popupHeight), this.headerTemplate) {
                    this.header = document.createElement("div"), addClass([ this.header ], dropDownListClasses.header);
                    for (var _i = 0, _a = compile$$1(this.headerTemplate)({}); _i < _a.length; _i++) {
                        var item = _a[_i];
                        this.header.appendChild(item);
                    }
                    append([ this.header ], popupEle);
                }
                if (append([ this.list ], popupEle), this.footerTemplate && this.setFooterTemplate(popupEle), 
                document.body.appendChild(popupEle), popupEle.style.visibility = "hidden", "auto" !== this.popupHeight) {
                    if (this.searchBoxHeight = 0, isNullOrUndefined(searchBox.container) || (this.searchBoxHeight = searchBox.container.parentElement.getBoundingClientRect().height, 
                    this.listHeight = (parseInt(this.listHeight, 10) - this.searchBoxHeight).toString() + "px"), 
                    this.headerTemplate) {
                        var height = Math.round(this.header.getBoundingClientRect().height);
                        this.listHeight = (parseInt(this.listHeight, 10) - (height + this.searchBoxHeight)).toString() + "px";
                    }
                    if (this.footerTemplate) {
                        height = Math.round(this.footer.getBoundingClientRect().height);
                        this.listHeight = (parseInt(this.listHeight, 10) - (height + this.searchBoxHeight)).toString() + "px";
                    }
                    this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + "px", 
                    popupEle.style.maxHeight = formatUnit(this.popupHeight);
                } else popupEle.style.height = "auto";
                var left, offsetValue = 0;
                if (!isNullOrUndefined(this.selectedLI) && !isNullOrUndefined(this.activeIndex) && this.activeIndex >= 0 ? this.setScrollPosition() : this.list.scrollTop = 0, 
                Browser.isDevice && !this.allowFiltering && ("dropdownlist" === this.getModuleName() || this.isDropDownClick && "combobox" === this.getModuleName())) {
                    offsetValue = this.getOffsetValue(popupEle);
                    var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];
                    left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10));
                }
                this.getFocusElement(), this.createPopup(popupEle, offsetValue, left), this.checkCollision(popupEle), 
                Browser.isDevice && (this.popupObj.element.classList.add(dropDownListClasses.device), 
                ("dropdownlist" === this.getModuleName() || "combobox" === this.getModuleName() && !this.allowFiltering && this.isDropDownClick) && (this.popupObj.collision = {
                    X: "fit",
                    Y: "fit"
                }), this.isFilterLayout() && (this.popupObj.element.classList.add(dropDownListClasses.mobileFilter), 
                this.popupObj.position = {
                    X: 0,
                    Y: 0
                }, this.popupObj.dataBind(), attributes(this.popupObj.element, {
                    style: "left:0px;right:0px;top:0px;bottom:0px;"
                }), addClass([ document.body, this.popupObj.element ], dropDownListClasses.popupFullScreen), 
                this.setSearchBoxPosition(), this.backIconElement = searchBox.container.querySelector(".e-back-icon"), 
                this.clearIconElement = searchBox.container.querySelector("." + dropDownListClasses.clearIcon), 
                EventHandler.add(this.backIconElement, "click", this.clickOnBackIcon, this), EventHandler.add(this.clearIconElement, "click", this.clearText, this))), 
                popupEle.style.visibility = "visible", addClass([ popupEle ], "e-popup-close");
                for (var _b = 0, scrollParentElements_1 = this.popupObj.getScrollableParent(this.inputWrapper.container); _b < scrollParentElements_1.length; _b++) {
                    var element = scrollParentElements_1[_b];
                    EventHandler.add(element, "scroll", this.scrollHandler, this);
                }
                Browser.isDevice && this.isFilterLayout() && EventHandler.add(this.list, "scroll", this.listScroll, this), 
                attributes(this.targetElement(), {
                    "aria-expanded": "true"
                });
                addClass([ this.isFiltering() ? this.filterInput.parentElement : this.inputWrapper.container ], [ dropDownListClasses.inputFocus ]);
                this.beforePopupOpen = !0;
                var eventArgs = {
                    popup: this.popupObj,
                    cancel: !1
                };
                this.trigger("open", eventArgs), eventArgs.cancel || (addClass([ this.inputWrapper.container ], [ dropDownListClasses.iconAnimation ]), 
                this.popupObj.show(new Animation({
                    name: "FadeIn",
                    duration: 100
                })));
            }
        }, DropDownList.prototype.checkCollision = function(popupEle) {
            if (!Browser.isDevice || Browser.isDevice && "dropdownlist" !== this.getModuleName() && !this.isDropDownClick) {
                isCollide(popupEle).length > 0 && (popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + "px");
            }
        }, DropDownList.prototype.getOffsetValue = function(popupEle) {
            var popupStyles = getComputedStyle(popupEle), borderTop = parseInt(popupStyles.borderTop, 10), borderBottom = parseInt(popupStyles.borderBottom, 10);
            return this.setPopupPosition(borderTop + borderBottom);
        }, DropDownList.prototype.createPopup = function(element, offsetValue, left) {
            var _this = this;
            this.popupObj = new Popup(element, {
                width: this.setWidth(),
                targetType: "relative",
                relateTo: this.inputWrapper.container,
                collision: {
                    X: "flip",
                    Y: "flip"
                },
                offsetY: offsetValue,
                enableRtl: this.enableRtl,
                offsetX: left,
                position: {
                    X: "left",
                    Y: "bottom"
                },
                zIndex: this.zIndex,
                close: function() {
                    _this.isDocumentClick || _this.focusDropDown(), _this.isDocumentClick = !1, _this.destroyPopup();
                },
                open: function() {
                    EventHandler.add(document, "mousedown", _this.onDocumentClick, _this), _this.isPopupOpen = !0, 
                    _this.isFilterLayout() && (removeClass([ _this.inputWrapper.container ], [ dropDownListClasses.inputFocus ]), 
                    _this.isFilterFocus = !0, _this.filterInput.focus(), _this.inputWrapper.clearButton && addClass([ _this.inputWrapper.clearButton ], dropDownListClasses.clearIconHide)), 
                    _this.activeStateChange();
                }
            });
        }, DropDownList.prototype.isEmptyList = function() {
            return !isNullOrUndefined(this.liCollections) && 0 === this.liCollections.length;
        }, DropDownList.prototype.getFocusElement = function() {}, DropDownList.prototype.isFilterLayout = function() {
            return "dropdownlist" === this.getModuleName() && this.allowFiltering;
        }, DropDownList.prototype.scrollHandler = function() {
            Browser.isDevice && ("dropdownlist" === this.getModuleName() && !this.isFilterLayout() || "combobox" === this.getModuleName() && !this.allowFiltering && this.isDropDownClick) && this.hidePopup(), 
            this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) && (this.fixedHeaderElement.style.zIndex = "0", 
            this.fixedHeaderElement.style.display = "none");
        }, DropDownList.prototype.setSearchBoxPosition = function() {
            var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;
            this.popupObj.element.style.maxHeight = "100%", this.popupObj.element.style.width = "100%", 
            this.list.style.maxHeight = window.innerHeight - searchBoxHeight + "px", this.list.style.height = window.innerHeight - searchBoxHeight + "px";
            var clearElement = this.filterInput.parentElement.querySelector("." + dropDownListClasses.clearIcon);
            detach(this.filterInput), clearElement.parentElement.insertBefore(this.filterInput, clearElement);
        }, DropDownList.prototype.setPopupPosition = function(border) {
            var offsetValue, popupOffset = border, selectedLI = this.list.querySelector("." + dropDownListClasses.focus) || this.selectedLI, firstItem = this.isEmptyList() ? this.list : this.liCollections[0], lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1], liHeight = firstItem.getBoundingClientRect().height, listHeight = this.list.offsetHeight / 2, height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;
            if (lastItem.offsetTop - listHeight < height && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {
                var count = this.list.offsetHeight / liHeight, paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);
                offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom, 
                this.list.scrollTop = selectedLI.offsetTop;
            } else height > listHeight ? (offsetValue = listHeight - liHeight / 2, this.list.scrollTop = height - listHeight + liHeight / 2) : offsetValue = height;
            return -(offsetValue = offsetValue + liHeight + popupOffset - (liHeight - this.inputWrapper.container.offsetHeight) / 2);
        }, DropDownList.prototype.setWidth = function() {
            var width = formatUnit(this.popupWidth);
            if (width.indexOf("%") > -1) {
                width = (this.inputWrapper.container.offsetWidth * parseFloat(width) / 100).toString() + "px";
            }
            if (Browser.isDevice && !this.allowFiltering && ("dropdownlist" === this.getModuleName() || this.isDropDownClick && "combobox" === this.getModuleName())) {
                var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];
                width = parseInt(width, 10) + 2 * (parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) + "px";
            }
            return width;
        }, DropDownList.prototype.scrollBottom = function(isInitial) {
            var currentOffset = this.list.offsetHeight, nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop, nextOffset = this.list.scrollTop + nextBottom - currentOffset;
            nextOffset = isInitial ? nextOffset + 2 * parseInt(getComputedStyle(this.list).paddingTop, 10) : nextOffset;
            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;
            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? boxRange - this.fixedHeaderElement.offsetHeight : boxRange, 
            0 === this.activeIndex ? this.list.scrollTop = 0 : (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) && (this.list.scrollTop = nextOffset);
        }, DropDownList.prototype.scrollTop = function() {
            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;
            this.selectedLI.offsetTop, this.selectedLI.offsetHeight, this.list.scrollTop;
            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;
            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;
            0 === this.activeIndex ? this.list.scrollTop = 0 : nextOffset < 0 ? this.list.scrollTop = this.list.scrollTop + nextOffset : boxRange > 0 && this.list.offsetHeight > boxRange || (this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement.offsetHeight : 0));
        }, DropDownList.prototype.isEditTextBox = function() {
            return !1;
        }, DropDownList.prototype.isFiltering = function() {
            return this.allowFiltering;
        }, DropDownList.prototype.isPopupButton = function() {
            return !0;
        }, DropDownList.prototype.setScrollPosition = function(e) {
            if (isNullOrUndefined(e)) this.scrollBottom(!0); else switch (e.action) {
              case "pageDown":
              case "down":
              case "end":
                this.scrollBottom();
                break;

              default:
                this.scrollTop();
            }
        }, DropDownList.prototype.clearText = function() {
            this.filterInput.value = "", this.searchLists(null);
        }, DropDownList.prototype.listScroll = function() {
            this.filterInput.blur();
        }, DropDownList.prototype.closePopup = function(delay) {
            if (this.isTyped = !1, this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen) {
                EventHandler.remove(document, "mousedown", this.onDocumentClick), this.isActive = !1, 
                this.filterInputObj = null, this.isDropDownClick = !1, this.preventAutoFill = !1;
                for (var _i = 0, scrollableParentElements_1 = this.popupObj.getScrollableParent(this.inputWrapper.container); _i < scrollableParentElements_1.length; _i++) {
                    var element = scrollableParentElements_1[_i];
                    EventHandler.remove(element, "scroll", this.scrollHandler);
                }
                Browser.isDevice && this.isFilterLayout() && (removeClass([ document.body, this.popupObj.element ], dropDownListClasses.popupFullScreen), 
                EventHandler.remove(this.list, "scroll", this.listScroll)), this.isFilterLayout() && (Browser.isDevice || (this.searchKeyModule.destroy(), 
                this.clearIconElement && EventHandler.remove(this.clearIconElement, "click", this.clearText)), 
                this.backIconElement && (EventHandler.remove(this.backIconElement, "click", this.clickOnBackIcon), 
                EventHandler.remove(this.clearIconElement, "click", this.clearText)), EventHandler.remove(this.filterInput, "input", this.onInput), 
                EventHandler.remove(this.filterInput, "keyup", this.onFilterUp), EventHandler.remove(this.filterInput, "keydown", this.onFilterDown), 
                EventHandler.remove(this.filterInput, "blur", this.onBlur), this.filterInput = null), 
                attributes(this.targetElement(), {
                    "aria-expanded": "false",
                    "aria-activedescendant": null
                }), this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation), 
                this.isFiltering() && (this.actionCompleteData.isUpdated = !1), this.beforePopupOpen = !1;
                var eventArgs = {
                    popup: this.popupObj,
                    cancel: !1
                };
                if (this.trigger("close", eventArgs), !eventArgs.cancel) {
                    var animModel = {
                        name: "FadeOut",
                        duration: 100,
                        delay: delay || 0
                    };
                    "autocomplete" === this.getModuleName() && this.rippleFun(), this.isPopupOpen ? this.popupObj.hide(new Animation(animModel)) : this.destroyPopup();
                }
            }
        }, DropDownList.prototype.destroyPopup = function() {
            this.isPopupOpen = !1, this.isFilterFocus = !1, this.popupObj.destroy(), detach(this.popupObj.element);
        }, DropDownList.prototype.clickOnBackIcon = function() {
            this.hidePopup(), this.focusIn();
        }, DropDownList.prototype.render = function() {
            "INPUT" === this.element.tagName ? this.inputElement = this.element : (this.inputElement = createElement("input"), 
            this.element.tagName !== this.getNgDirective() && (this.element.style.display = "none"), 
            this.element.parentElement.insertBefore(this.inputElement, this.element), this.preventTabIndex(this.inputElement)), 
            this.inputWrapper = Input.createInput({
                element: this.inputElement,
                buttons: this.isPopupButton() ? [ dropDownListClasses.icon ] : null,
                floatLabelType: this.floatLabelType,
                properties: {
                    readonly: "dropdownlist" === this.getModuleName() || this.readonly,
                    placeholder: this.placeholder,
                    cssClass: this.cssClass,
                    enabled: this.enabled,
                    enableRtl: this.enableRtl,
                    showClearButton: this.showClearButton
                }
            }), this.element.tagName === this.getNgDirective() ? this.element.appendChild(this.inputWrapper.container) : this.inputElement.parentElement.insertBefore(this.element, this.inputElement);
            var name = this.element.getAttribute("name") ? this.element.getAttribute("name") : this.element.getAttribute("id");
            this.hiddenElement = createElement("select", {
                attrs: {
                    name: name,
                    "aria-hidden": "true",
                    tabindex: "-1",
                    class: dropDownListClasses.hiddenElement
                }
            }), prepend([ this.hiddenElement ], this.inputWrapper.container), this.element.removeAttribute("name"), 
            this.setFields(), this.inputWrapper.container.style.width = formatUnit(this.width), 
            this.inputWrapper.container.classList.add("e-ddl"), this.wireEvent(), this.tabIndex = this.element.hasAttribute("tabindex") ? this.element.getAttribute("tabindex") : "0", 
            this.element.removeAttribute("tabindex");
            var id = this.element.getAttribute("id") ? this.element.getAttribute("id") : getUniqueID("ej2_dropdownlist");
            if (this.element.id = id, this.hiddenElement.id = id + "_hidden", this.targetElement().setAttribute("tabindex", this.tabIndex), 
            attributes(this.targetElement(), this.getAriaAttributes()), this.setHTMLAttributes(), 
            null !== this.value || null !== this.activeIndex || null !== this.text) this.initValue(); else if ("SELECT" === this.element.tagName && this.element.options[0]) {
                var selectElement = this.element;
                this.value = selectElement.options[selectElement.selectedIndex].value, this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent, 
                this.initValue();
            }
            this.preventTabIndex(this.element), this.enabled || (this.targetElement().tabIndex = -1), 
            this.initial = !1, this.element.style.opacity = "";
        }, DropDownList.prototype.setFooterTemplate = function(popupEle) {
            this.footer ? this.footer.innerHTML = "" : (this.footer = document.createElement("div"), 
            addClass([ this.footer ], dropDownListClasses.footer));
            for (var _i = 0, _a = compile$$1(this.footerTemplate)({}); _i < _a.length; _i++) {
                var item = _a[_i];
                this.footer.appendChild(item);
            }
            append([ this.footer ], popupEle);
        }, DropDownList.prototype.setOldText = function(text) {
            this.text = text;
        }, DropDownList.prototype.setOldValue = function(value) {
            this.value = value;
        }, DropDownList.prototype.refreshPopup = function() {
            isNullOrUndefined(this.popupObj) || !document.body.contains(this.popupObj.element) || (!this.allowFiltering || Browser.isDevice && this.isFilterLayout()) && "autocomplete" !== this.getModuleName() || this.popupObj.refreshPosition(this.inputWrapper.container);
        }, DropDownList.prototype.updateDataSource = function(prop) {
            this.clear(null, prop), this.resetList(this.dataSource);
        }, DropDownList.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.setUpdateInitial([ "query", "dataSource" ], newProp);
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "query":
                  case "dataSource":
                    break;

                  case "htmlAttributes":
                    this.setHTMLAttributes();
                    break;

                  case "width":
                    setStyleAttribute(this.inputWrapper.container, {
                        width: formatUnit(newProp.width)
                    });
                    break;

                  case "placeholder":
                    Input.setPlaceholder(newProp.placeholder, this.inputElement);
                    break;

                  case "filterBarPlaceholder":
                    Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);
                    break;

                  case "readonly":
                    Input.setReadonly(newProp.readonly, this.inputElement);
                    break;

                  case "cssClass":
                    Input.setCssClass(newProp.cssClass, [ this.inputWrapper.container ]), this.popupObj && this.popupObj.element.classList.add(newProp.cssClass);
                    break;

                  case "enableRtl":
                    this.setEnableRtl();
                    break;

                  case "enabled":
                    this.setEnable();
                    break;

                  case "text":
                    if (null === newProp.text) return void this.clear();
                    if (this.list || (this.dataSource instanceof DataManager && (this.initRemoteRender = !0), 
                    this.renderList()), !this.initRemoteRender) {
                        var li = this.getElementByText(newProp.text);
                        this.isValidLI(li) ? this.setSelection(li, null) : this.setOldText(oldProp.text);
                    }
                    break;

                  case "value":
                    if (null === newProp.value) return void this.clear();
                    if (this.list || (this.dataSource instanceof DataManager && (this.initRemoteRender = !0), 
                    this.renderList()), !this.initRemoteRender) {
                        var item = this.getElementByValue(newProp.value);
                        this.isValidLI(item) ? this.setSelection(item, null) : this.setOldValue(oldProp.value);
                    }
                    break;

                  case "index":
                    if (null === newProp.index) return void this.clear();
                    if (this.list || (this.dataSource instanceof DataManager && (this.initRemoteRender = !0), 
                    this.renderList()), !this.initRemoteRender) {
                        var element = this.liCollections[newProp.index];
                        this.isValidLI(element) ? this.setSelection(element, null) : this.index = oldProp.index;
                    }
                    break;

                  case "footerTemplate":
                    this.popupObj && this.setFooterTemplate(this.popupObj.element);
                    break;

                  case "floatLabelType":
                    Input.removeFloating(this.inputWrapper), Input.addFloating(this.inputElement, newProp.floatLabelType, this.placeholder);
                    break;

                  case "showClearButton":
                    Input.setClearButton(newProp.showClearButton, this.inputElement, this.inputWrapper), 
                    this.bindClearEvent();
                    break;

                  default:
                    var ddlProps = void 0;
                    ddlProps = this.getPropObject(prop, newProp, oldProp), _super.prototype.onPropertyChanged.call(this, ddlProps.newProperty, ddlProps.oldProperty);
                }
            }
        }, DropDownList.prototype.getModuleName = function() {
            return "dropdownlist";
        }, DropDownList.prototype.showPopup = function() {
            if (this.beforePopupOpen) this.refreshPopup(); else {
                if (this.beforePopupOpen = !0, this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0] ? (this.isActive = !0, 
                this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, !0)) : (isNullOrUndefined(this.list) || !isUndefined(this.list) && this.list.classList.contains(dropDownBaseClasses.noData)) && this.renderList(), 
                Browser.isDevice && this.isFilterLayout()) {
                    var proxy_2 = this;
                    window.onpopstate = function() {
                        proxy_2.hidePopup();
                    }, history.pushState({}, "");
                }
                isNullOrUndefined(this.list.children[0]) && !this.list.classList.contains(dropDownBaseClasses.noData) || this.renderPopup(), 
                attributes(this.targetElement(), {
                    "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null
                });
            }
        }, DropDownList.prototype.hidePopup = function() {
            this.isEscapeKey && "dropdownlist" === this.getModuleName() && (Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.isEscapeKey = !1, isNullOrUndefined(this.index) ? this.resetSelection() : (this.selectedLI = this.liCollections[this.index], 
            this.updateSelectedItem(this.selectedLI, null, !0), this.valueTemplate && null !== this.itemData && this.setValueTemplate())), 
            this.closePopup();
            var dataItem = this.getItemData();
            "" !== this.inputElement.value.trim() || this.isInteracted || !this.isSelectCustom && (isNullOrUndefined(this.selectedLI) || this.inputElement.value === dataItem.text) || (this.isSelectCustom = !1, 
            this.clear());
        }, DropDownList.prototype.focusIn = function() {
            if (!this.targetElement().classList.contains(dropDownListClasses.disable)) {
                var isFocused = !1;
                this.preventFocus && Browser.isDevice && (this.inputWrapper.container.tabIndex = 1, 
                this.inputWrapper.container.focus(), this.preventFocus = !1, isFocused = !0), isFocused || this.targetElement().focus(), 
                addClass([ this.inputWrapper.container ], [ dropDownListClasses.inputFocus ]), this.onFocus();
            }
        }, DropDownList.prototype.focusOut = function() {
            this.isTyped = !0, this.hidePopup(), this.targetElement().blur(), removeClass([ this.inputWrapper.container ], [ dropDownListClasses.inputFocus ]);
        }, DropDownList.prototype.destroy = function() {
            var _this = this;
            this.isActive = !1, this.hidePopup(), this.unWireEvent(), this.list && this.unWireListEvents(), 
            [ "readonly", "aria-disabled", "aria-placeholder", "placeholder" ].forEach(function(value) {
                _this.inputElement.removeAttribute(value);
            }), this.inputElement.setAttribute("tabindex", this.tabIndex), this.inputElement.classList.remove("e-input"), 
            Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton), 
            this.element.style.display = "block", this.inputWrapper.container.parentElement.tagName === this.getNgDirective() ? detach(this.inputWrapper.container) : (this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container), 
            detach(this.inputWrapper.container)), _super.prototype.destroy.call(this);
        }, __decorate$1$5([ Property(null) ], DropDownList.prototype, "cssClass", void 0), 
        __decorate$1$5([ Property("100%") ], DropDownList.prototype, "width", void 0), __decorate$1$5([ Property("300px") ], DropDownList.prototype, "popupHeight", void 0), 
        __decorate$1$5([ Property("100%") ], DropDownList.prototype, "popupWidth", void 0), 
        __decorate$1$5([ Property(null) ], DropDownList.prototype, "placeholder", void 0), 
        __decorate$1$5([ Property(null) ], DropDownList.prototype, "filterBarPlaceholder", void 0), 
        __decorate$1$5([ Property({}) ], DropDownList.prototype, "htmlAttributes", void 0), 
        __decorate$1$5([ Property(null) ], DropDownList.prototype, "query", void 0), __decorate$1$5([ Property(null) ], DropDownList.prototype, "valueTemplate", void 0), 
        __decorate$1$5([ Property(null) ], DropDownList.prototype, "headerTemplate", void 0), 
        __decorate$1$5([ Property(null) ], DropDownList.prototype, "footerTemplate", void 0), 
        __decorate$1$5([ Property(!1) ], DropDownList.prototype, "allowFiltering", void 0), 
        __decorate$1$5([ Property(!1) ], DropDownList.prototype, "readonly", void 0), __decorate$1$5([ Property(null) ], DropDownList.prototype, "text", void 0), 
        __decorate$1$5([ Property(null) ], DropDownList.prototype, "value", void 0), __decorate$1$5([ Property(null) ], DropDownList.prototype, "index", void 0), 
        __decorate$1$5([ Property("Never") ], DropDownList.prototype, "floatLabelType", void 0), 
        __decorate$1$5([ Property(!1) ], DropDownList.prototype, "showClearButton", void 0), 
        __decorate$1$5([ Event() ], DropDownList.prototype, "filtering", void 0), __decorate$1$5([ Event() ], DropDownList.prototype, "change", void 0), 
        __decorate$1$5([ Event() ], DropDownList.prototype, "open", void 0), __decorate$1$5([ Event() ], DropDownList.prototype, "close", void 0), 
        __decorate$1$5([ Event() ], DropDownList.prototype, "blur", void 0), __decorate$1$5([ Event() ], DropDownList.prototype, "focus", void 0), 
        DropDownList = __decorate$1$5([ NotifyPropertyChanges ], DropDownList);
    }(DropDownBase), __extends$2$5 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$2$5 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    dropDownListClasses.root = "e-combobox";
    var inputObject$1 = {
        container: null,
        buttons: []
    }, ComboBox = function(_super) {
        function ComboBox(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$2$5(ComboBox, _super), ComboBox.prototype.preRender = function() {
            _super.prototype.preRender.call(this);
        }, ComboBox.prototype.wireEvent = function() {
            "combobox" === this.getModuleName() && (EventHandler.add(this.inputWrapper.buttons[0], "mousedown", this.preventBlur, this), 
            EventHandler.add(this.inputWrapper.container, "blur", this.onBlur, this)), isNullOrUndefined(this.inputWrapper.buttons[0]) || EventHandler.add(this.inputWrapper.buttons[0], "mousedown", this.dropDownClick, this), 
            EventHandler.add(this.inputElement, "focus", this.targetFocus, this), this.readonly || (EventHandler.add(this.inputElement, "input", this.onInput, this), 
            EventHandler.add(this.inputElement, "keyup", this.onFilterUp, this), EventHandler.add(this.inputElement, "keydown", this.onFilterDown, this)), 
            this.bindCommonEvent();
        }, ComboBox.prototype.preventBlur = function(e) {
            (this.allowFiltering || document.activeElement === this.inputElement || document.activeElement.classList.contains(dropDownListClasses.input) || !Browser.isDevice) && Browser.isDevice || e.preventDefault();
        }, ComboBox.prototype.targetElement = function() {
            return this.inputElement;
        }, ComboBox.prototype.setOldText = function(text) {
            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.customValue(), this.removeSelection();
        }, ComboBox.prototype.setOldValue = function(value) {
            this.allowCustom ? this.valueMuteChange(this.value) : this.valueMuteChange(null), 
            this.removeSelection(), this.setHiddenValue();
        }, ComboBox.prototype.valueMuteChange = function(value) {
            var inputValue = isNullOrUndefined(value) ? null : value.toString();
            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.setProperties({
                value: value,
                text: value,
                index: null
            }, !0), this.activeIndex = this.index;
            var fields = this.fields, dataItem = {};
            dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString(), dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString(), 
            this.itemData = dataItem, this.item = null, this.previousValue !== this.value && this.detachChangeEvent(null);
        }, ComboBox.prototype.updateValues = function() {
            if (isNullOrUndefined(this.value)) if (this.text && isNullOrUndefined(this.value)) {
                (li = this.getElementByText(this.text)) ? this.setSelection(li, null) : (Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton), 
                this.customValue());
            } else this.setSelection(this.liCollections[this.activeIndex], null); else {
                var li;
                (li = this.getElementByValue(this.value)) ? this.setSelection(li, null) : this.allowCustom ? this.valueMuteChange(this.value) : this.valueMuteChange(null);
            }
            this.setHiddenValue(), Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);
        }, ComboBox.prototype.getAriaAttributes = function() {
            return {
                "aria-owns": this.element.id + "_options",
                role: "combobox",
                "aria-autocomplete": "both",
                "aria-labelledby": this.hiddenElement.id,
                "aria-hasPopup": "true",
                "aria-expanded": "false",
                "aria-readonly": this.readonly.toString(),
                autocomplete: "off",
                autocorrect: "off",
                autocapitalize: "off",
                spellcheck: "false"
            };
        }, ComboBox.prototype.searchLists = function(e) {
            this.isTyped = !0, this.isFiltering() ? (_super.prototype.searchLists.call(this, e), 
            "" === this.filterInput.value.trim() && this.setHoverList(this.ulElement.querySelector("." + dropDownListClasses.li))) : (this.ulElement && "" === this.inputElement.value && this.preventAutoFill && this.setHoverList(this.ulElement.querySelector("." + dropDownListClasses.li)), 
            this.incrementalSearch(e));
        }, ComboBox.prototype.getNgDirective = function() {
            return "EJS-COMBOBOX";
        }, ComboBox.prototype.setSearchBox = function() {
            return this.filterInput = this.inputElement, this.isFiltering() ? this.inputWrapper : inputObject$1;
        }, ComboBox.prototype.onActionComplete = function(ulElement, list, e, isUpdated) {
            _super.prototype.onActionComplete.call(this, ulElement, list, e), this.isSelectCustom && this.removeSelection(), 
            !this.preventAutoFill && "combobox" === this.getModuleName() && this.isTyped && this.inlineSearch();
        }, ComboBox.prototype.getFocusElement = function() {
            var dataItem = this.isSelectCustom ? {
                text: ""
            } : this.getItemData(), selected = this.list.querySelector("." + dropDownListClasses.selected);
            if (dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) return selected;
            if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {
                var activeElement = Search$1(this.inputElement.value, this.liCollections, "StartsWith", !0).item;
                if (isNullOrUndefined(activeElement)) this.isSelectCustom && "" !== this.inputElement.value.trim() && (this.removeFocus(), 
                this.list.scrollTop = 0); else {
                    var count = this.getIndexByValue(activeElement.getAttribute("data-value")) - 1, height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue("height"), 10);
                    if (!isNaN(height) && "autocomplete" !== this.getModuleName()) {
                        this.removeFocus();
                        var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;
                        this.list.scrollTop = count * height + fixedHead, addClass([ activeElement ], dropDownListClasses.focus);
                    }
                }
                return activeElement;
            }
            return null;
        }, ComboBox.prototype.setValue = function(e) {
            return e && "keydown" === e.type && "enter" === e.action && this.removeFillSelection(), 
            this.autofill && "combobox" === this.getModuleName() && e && "keydown" === e.type && "enter" !== e.action ? (this.preventAutoFill = !1, 
            this.inlineSearch(e), !1) : _super.prototype.setValue.call(this, e);
        }, ComboBox.prototype.showSpinner = function() {
            isNullOrUndefined(this.spinnerElement) && (this.spinnerElement = this.inputWrapper.buttons[0] || this.inputWrapper.clearButton, 
            addClass([ this.spinnerElement ], dropDownListClasses.disableIcon), createSpinner({
                target: this.spinnerElement,
                width: Browser.isDevice ? "16px" : "14px"
            }), showSpinner(this.spinnerElement));
        }, ComboBox.prototype.hideSpinner = function() {
            isNullOrUndefined(this.spinnerElement) || (hideSpinner(this.spinnerElement), this.spinnerElement.innerHTML = "", 
            removeClass([ this.spinnerElement ], dropDownListClasses.disableIcon), this.spinnerElement = null);
        }, ComboBox.prototype.setAutoFill = function(activeElement, isHover) {
            if (isHover || this.setHoverList(activeElement), this.autofill && !this.preventAutoFill) {
                var currentValue = this.getTextByValue(activeElement.getAttribute("data-value")).toString(), currentFillValue = this.getFormattedValue(activeElement.getAttribute("data-value"));
                "combobox" === this.getModuleName() && (this.isSelected || this.previousValue === currentFillValue ? this.updateSelectedItem(activeElement, null, !0) : (this.updateSelectedItem(activeElement, null), 
                this.isSelected = !0, this.previousValue = this.getFormattedValue(activeElement.getAttribute("data-value")))), 
                this.isAndroidAutoFill(currentValue) || this.setAutoFillSelection(currentValue);
            }
        }, ComboBox.prototype.isAndroidAutoFill = function(value) {
            if (Browser.isAndroid) {
                var currentPoints = this.getSelectionPoints(), prevEnd = this.prevSelectPoints.end, curEnd = currentPoints.end, prevStart = this.prevSelectPoints.start, curStart = currentPoints.start;
                return 0 !== prevEnd && (prevEnd === value.length && prevStart === value.length || prevStart > curStart && prevEnd > curEnd || prevEnd === curEnd && prevStart === curStart);
            }
            return !1;
        }, ComboBox.prototype.isSelectFocusItem = function(element) {
            return !isNullOrUndefined(element);
        }, ComboBox.prototype.inlineSearch = function(e) {
            var isKeyNavigate = e && ("down" === e.action || "up" === e.action || "home" === e.action || "end" === e.action || "pageUp" === e.action || "pageDown" === e.action), activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();
            if (isNullOrUndefined(activeElement)) if ("" === this.inputElement.value) {
                this.activeIndex = null, this.list.scrollTop = 0;
                var focusItem = this.list.querySelector("." + dropDownListClasses.li);
                this.setHoverList(focusItem);
            } else this.activeIndex = null, this.removeSelection(), this.removeFocus(); else {
                if (!isKeyNavigate) {
                    var value = this.getFormattedValue(activeElement.getAttribute("data-value"));
                    this.activeIndex = this.getIndexByValue(value), this.activeIndex = isNullOrUndefined(this.activeIndex) ? null : this.activeIndex;
                }
                this.preventAutoFill = "" !== this.inputElement.value && this.preventAutoFill, this.setAutoFill(activeElement, isKeyNavigate);
            }
        }, ComboBox.prototype.incrementalSearch = function(e) {
            this.showPopup(), isNullOrUndefined(this.listData) || (this.inlineSearch(e), e.preventDefault());
        }, ComboBox.prototype.setAutoFillSelection = function(currentValue) {
            var selection = this.getSelectionPoints(), value = this.inputElement.value.substr(0, selection.start);
            if (value && value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase()) {
                var inputValue = value + currentValue.substr(value.length, currentValue.length);
                Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton), 
                this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);
            } else Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.inputElement.setSelectionRange(0, this.inputElement.value.length);
        }, ComboBox.prototype.getValueByText = function(text) {
            return _super.prototype.getValueByText.call(this, text, !0);
        }, ComboBox.prototype.unWireEvent = function() {
            "combobox" === this.getModuleName() && (EventHandler.remove(this.inputWrapper.buttons[0], "mousedown", this.preventBlur), 
            EventHandler.remove(this.inputWrapper.container, "blur", this.onBlur)), isNullOrUndefined(this.inputWrapper.buttons[0]) || EventHandler.remove(this.inputWrapper.buttons[0], "mousedown", this.dropDownClick), 
            EventHandler.remove(this.inputElement, "focus", this.targetFocus), this.readonly || (EventHandler.remove(this.inputElement, "input", this.onInput), 
            EventHandler.remove(this.inputElement, "keyup", this.onFilterUp), EventHandler.remove(this.inputElement, "keydown", this.onFilterDown)), 
            this.unBindCommonEvent();
        }, ComboBox.prototype.setSelection = function(li, e) {
            _super.prototype.setSelection.call(this, li, e), isNullOrUndefined(li) || this.autofill || this.isDropDownClick || this.removeFocus();
        }, ComboBox.prototype.selectCurrentItem = function(e) {
            var li;
            this.isPopupOpen && ((li = this.list.querySelector("." + dropDownListClasses.focus)) && (this.setSelection(li, e), 
            this.isTyped = !1), this.isSelected && (this.isSelectCustom = !1, this.onChangeEvent(e))), 
            "enter" === e.action && "" === this.inputElement.value.trim() ? this.clear(e) : this.isTyped && !this.isSelected && isNullOrUndefined(li) && this.customValue(), 
            this.hidePopup();
        }, ComboBox.prototype.setHoverList = function(li) {
            this.removeSelection(), this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected) && (this.removeFocus(), 
            li.classList.add(dropDownListClasses.focus));
        }, ComboBox.prototype.targetFocus = function(e) {
            Browser.isDevice && !this.allowFiltering && (this.preventFocus = !1), this.onFocus();
        }, ComboBox.prototype.dropDownClick = function(e) {
            e.preventDefault(), Browser.isDevice && !this.allowFiltering && (this.preventFocus = !0), 
            _super.prototype.dropDownClick.call(this, e);
        }, ComboBox.prototype.customValue = function() {
            var value = this.getValueByText(this.inputElement.value);
            if (this.allowCustom || "" === this.inputElement.value) if ("" !== this.inputElement.value.trim()) {
                var previousValue = this.value;
                if (isNullOrUndefined(value)) {
                    var value_1 = "" === this.inputElement.value ? null : this.inputElement.value, fields = this.fields, eventArgs = void 0;
                    eventArgs = {
                        text: value_1,
                        item: {}
                    }, this.initial || this.trigger("customValueSpecifier", eventArgs);
                    var item = eventArgs.item, dataItem = {};
                    item && getValue(fields.text, item) && getValue(fields.value, item) ? dataItem = item : (setValue(fields.text, value_1, dataItem), 
                    setValue(fields.value, value_1, dataItem)), this.itemData = dataItem;
                    var changeData = {
                        text: getValue(fields.text, this.itemData),
                        value: getValue(fields.value, this.itemData),
                        index: null
                    };
                    this.setProperties(changeData, !0), this.setSelection(null, null), this.isSelectCustom = !0;
                } else this.isSelectCustom = !1, this.setProperties({
                    value: value
                });
                previousValue !== this.value && this.onChangeEvent(null);
            } else this.allowCustom && (this.isSelectCustom = !0); else this.setProperties({
                value: value
            }), isNullOrUndefined(this.value) && Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton);
        }, ComboBox.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.setUpdateInitial([ "query", "dataSource" ], newProp);
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "readonly":
                    Input.setReadonly(this.readonly, this.inputElement), this.readonly ? (EventHandler.remove(this.inputElement, "keyup", this.onFilterUp), 
                    EventHandler.remove(this.inputElement, "keydown", this.onFilterDown)) : (EventHandler.add(this.inputElement, "keyup", this.onFilterUp, this), 
                    EventHandler.add(this.inputElement, "keydown", this.onFilterDown, this));
                    break;

                  case "allowFiltering":
                    this.setSearchBox();
                    break;

                  case "allowCustom":
                    break;

                  default:
                    var comboProps = void 0;
                    comboProps = this.getPropObject(prop, newProp, oldProp), _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);
                }
            }
        }, ComboBox.prototype.render = function() {
            _super.prototype.render.call(this), this.setSearchBox(), this.isFiltering() && "combobox" === this.getModuleName() && isNullOrUndefined(this.list) && _super.prototype.renderList.call(this);
        }, ComboBox.prototype.getModuleName = function() {
            return "combobox";
        }, ComboBox.prototype.hidePopup = function() {
            if (!isNullOrUndefined(this.listData)) {
                var isEscape = this.isEscapeKey;
                this.isEscapeKey && (Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton), 
                this.isEscapeKey = !1), this.autofill && this.removeFillSelection();
                var dataItem = this.isSelectCustom ? {
                    text: ""
                } : this.getItemData(), selected = this.list.querySelector("." + dropDownListClasses.selected);
                if (dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) return this.isSelected && (this.onChangeEvent(null), 
                this.isSelectCustom = !1), void _super.prototype.hidePopup.call(this);
                if ("combobox" === this.getModuleName() && "" !== this.inputElement.value.trim()) {
                    var searchItem = Search$1(this.inputElement.value, this.liCollections, "Equal", !0);
                    this.selectedLI = searchItem.item, isNullOrUndefined(searchItem.index) && (searchItem.index = Search$1(this.inputElement.value, this.liCollections, "StartsWith", !0).index), 
                    this.activeIndex = searchItem.index, isNullOrUndefined(this.selectedLI) ? isEscape && (this.isSelectCustom = !0, 
                    this.removeSelection()) : this.updateSelectedItem(this.selectedLI, null, !0);
                }
                this.isEscapeKey || !this.isTyped || this.isInteracted || this.customValue();
            }
            _super.prototype.hidePopup.call(this);
        }, ComboBox.prototype.focusIn = function() {
            Browser.isDevice && !this.allowFiltering && (this.preventFocus = !0), _super.prototype.focusIn.call(this);
        }, __decorate$2$5([ Property(!1) ], ComboBox.prototype, "autofill", void 0), __decorate$2$5([ Property(!0) ], ComboBox.prototype, "allowCustom", void 0), 
        __decorate$2$5([ Property({}) ], ComboBox.prototype, "htmlAttributes", void 0), 
        __decorate$2$5([ Property(!1) ], ComboBox.prototype, "allowFiltering", void 0), 
        __decorate$2$5([ Property(null) ], ComboBox.prototype, "query", void 0), __decorate$2$5([ Property(null) ], ComboBox.prototype, "index", void 0), 
        __decorate$2$5([ Property(!0) ], ComboBox.prototype, "showClearButton", void 0), 
        __decorate$2$5([ Event() ], ComboBox.prototype, "customValueSpecifier", void 0), 
        __decorate$2$5([ Event() ], ComboBox.prototype, "filtering", void 0), __decorate$2$5([ Property(null) ], ComboBox.prototype, "valueTemplate", void 0), 
        __decorate$2$5([ Property("Never") ], ComboBox.prototype, "floatLabelType", void 0), 
        __decorate$2$5([ Property(null) ], ComboBox.prototype, "filterBarPlaceholder", void 0), 
        ComboBox = __decorate$2$5([ NotifyPropertyChanges ], ComboBox);
    }(DropDownList), __extends$3$3 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$3$3 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    dropDownListClasses.root = "e-autocomplete", dropDownListClasses.icon = "e-input-group-icon e-ddl-icon e-search-icon";
    var AutoComplete = function(_super) {
        function AutoComplete(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.isFiltered = !1, _this;
        }
        return __extends$3$3(AutoComplete, _super), AutoComplete.prototype.preRender = function() {
            _super.prototype.preRender.call(this);
        }, AutoComplete.prototype.getNgDirective = function() {
            return "EJS-AUTOCOMPLETE";
        }, AutoComplete.prototype.getQuery = function(query) {
            var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query(), filterType = "" !== this.queryString || isNullOrUndefined(this.value) ? this.filterType : "equal", queryString = "" !== this.queryString || isNullOrUndefined(this.value) ? this.queryString : this.value;
            if (this.isFiltered) return filterQuery;
            if (null !== this.queryString) {
                var dataType = this.typeOfData(this.dataSource).typeof;
                if ((this.dataSource instanceof DataManager || "string" !== dataType) && "number" !== dataType) {
                    var mapping = isNullOrUndefined(this.fields.value) ? "" : this.fields.value;
                    filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);
                } else filterQuery.where("", filterType, queryString, this.ignoreCase, this.ignoreAccent);
            }
            return isNullOrUndefined(this.suggestionCount) || filterQuery.take(this.suggestionCount), 
            filterQuery;
        }, AutoComplete.prototype.searchLists = function(e) {
            var _this = this;
            this.isTyped = !0, this.isSelectCustom = !1, isNullOrUndefined(this.list) && _super.prototype.renderList.call(this, !0);
            var isDownUpKey = 40 === e.keyCode || 38 === e.keyCode;
            if (this.queryString = this.filterInput.value, isDownUpKey) return this.queryString = "" === this.queryString ? null : this.queryString, 
            this.beforePopupOpen = !0, void this.resetList(this.dataSource, this.fields);
            this.isSelected = !1, this.activeIndex = null;
            var eventArgs = {
                preventDefaultAction: !1,
                text: this.filterInput.value,
                updateData: function(dataSource, query, fields) {
                    eventArgs.cancel || (_this.isFiltered = !0, _this.filterAction(dataSource, query, fields));
                },
                cancel: !1
            };
            this.trigger("filtering", eventArgs), eventArgs.cancel || this.isFiltered || eventArgs.preventDefaultAction || this.filterAction(this.dataSource, null, this.fields);
        }, AutoComplete.prototype.filterAction = function(dataSource, query, fields) {
            this.beforePopupOpen = !0, "" !== this.queryString && (this.queryString.length >= this.minLength || this.isFiltered) ? this.resetList(dataSource, fields, query) : this.hidePopup();
        }, AutoComplete.prototype.clear = function(e, property) {
            (isNullOrUndefined(property) || "dataSource" !== property) && _super.prototype.clear.call(this, e), 
            this.beforePopupOpen && this.hidePopup();
        }, AutoComplete.prototype.onActionComplete = function(ulElement, list, e, isUpdated) {
            this.fixedHeaderElement = null, _super.prototype.onActionComplete.call(this, ulElement, list, e);
            var item = this.list.querySelector("." + dropDownListClasses.li);
            isNullOrUndefined(item) || removeClass([ item ], dropDownListClasses.focus), this.postBackAction();
        }, AutoComplete.prototype.postBackAction = function() {
            if (null !== this.queryString && "" !== this.queryString && this.highlight && highlightSearch(this.list, this.queryString, this.ignoreCase, this.filterType), 
            this.autofill && !isNullOrUndefined(this.liCollections[0])) {
                var items = [ this.liCollections[0] ];
                isNullOrUndefined(Search$1(this.inputElement.value, items, "StartsWith", this.ignoreCase).item) || _super.prototype.setAutoFill.call(this, this.liCollections[0], !0);
            }
        }, AutoComplete.prototype.setSelection = function(li, e) {
            if (this.isValidLI(li)) if (!isNullOrUndefined(e) && "keydown" === e.type && "enter" !== e.action && this.isValidLI(li)) {
                var value = this.getFormattedValue(li.getAttribute("data-value"));
                this.activeIndex = this.getIndexByValue(value), this.setHoverList(li), this.selectedLI = li, 
                this.setScrollPosition(e), this.autofill && (this.preventAutoFill = !1, _super.prototype.setAutoFill.call(this, li)), 
                attributes(this.inputElement, {
                    "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null
                });
            } else _super.prototype.setSelection.call(this, li, e);
        }, AutoComplete.prototype.showSpinner = function() {
            isNullOrUndefined(this.spinnerElement) && (this.spinnerElement = this.inputWrapper.buttons[0] || this.inputWrapper.clearButton || Input.appendSpan("e-input-group-icon e-atc-spinner-icon", this.inputWrapper.container), 
            addClass([ this.spinnerElement ], dropDownListClasses.disableIcon), createSpinner({
                target: this.spinnerElement,
                width: Browser.isDevice ? "16px" : "14px"
            }), showSpinner(this.spinnerElement));
        }, AutoComplete.prototype.hideSpinner = function() {
            isNullOrUndefined(this.spinnerElement) || (hideSpinner(this.spinnerElement), removeClass([ this.spinnerElement ], dropDownListClasses.disableIcon), 
            this.spinnerElement.classList.contains("e-atc-spinner-icon") ? detach(this.spinnerElement) : this.spinnerElement.innerHTML = "", 
            this.spinnerElement = null);
        }, AutoComplete.prototype.isFiltering = function() {
            return !0;
        }, AutoComplete.prototype.renderPopup = function() {
            this.list.scrollTop = 0, _super.prototype.renderPopup.call(this), this.highlight && highlightSearch(this.list, this.queryString, this.ignoreCase, this.filterType);
        }, AutoComplete.prototype.isEditTextBox = function() {
            return "" !== this.inputElement.value.trim();
        }, AutoComplete.prototype.isPopupButton = function() {
            return this.showPopupButton;
        }, AutoComplete.prototype.isSelectFocusItem = function(element) {
            return !1;
        }, AutoComplete.prototype.showPopup = function() {
            this.beforePopupOpen ? this.refreshPopup() : (this.beforePopupOpen = !0, this.preventAutoFill = !0, 
            isNullOrUndefined(this.list) ? this.renderList() : this.resetList(this.dataSource, this.fields));
        }, AutoComplete.prototype.hidePopup = function() {
            _super.prototype.hidePopup.call(this), this.activeIndex = -1;
        }, AutoComplete.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.setUpdateInitial([ "query", "dataSource" ], newProp);
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "showPopupButton":
                    if (this.showPopupButton) {
                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container);
                        this.inputWrapper.buttons[0] = button, EventHandler.add(this.inputWrapper.buttons[0], "click", this.dropDownClick, this);
                    } else detach(this.inputWrapper.buttons[0]), this.inputWrapper.buttons[0] = null;
                    break;

                  default:
                    var atcProps = void 0;
                    atcProps = this.getPropObject(prop, newProp, oldProp), _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);
                }
            }
        }, AutoComplete.prototype.getModuleName = function() {
            return "autocomplete";
        }, AutoComplete.prototype.render = function() {
            _super.prototype.render.call(this);
        }, __decorate$3$3([ Complex({
            value: null,
            iconCss: null,
            groupBy: null
        }, FieldSettings) ], AutoComplete.prototype, "fields", void 0), __decorate$3$3([ Property(!0) ], AutoComplete.prototype, "ignoreCase", void 0), 
        __decorate$3$3([ Property(!1) ], AutoComplete.prototype, "showPopupButton", void 0), 
        __decorate$3$3([ Property(!1) ], AutoComplete.prototype, "highlight", void 0), __decorate$3$3([ Property(20) ], AutoComplete.prototype, "suggestionCount", void 0), 
        __decorate$3$3([ Property({}) ], AutoComplete.prototype, "htmlAttributes", void 0), 
        __decorate$3$3([ Property(null) ], AutoComplete.prototype, "query", void 0), __decorate$3$3([ Property(1) ], AutoComplete.prototype, "minLength", void 0), 
        __decorate$3$3([ Property("Contains") ], AutoComplete.prototype, "filterType", void 0), 
        __decorate$3$3([ Event() ], AutoComplete.prototype, "filtering", void 0), __decorate$3$3([ Property(null) ], AutoComplete.prototype, "index", void 0), 
        __decorate$3$3([ Property("Never") ], AutoComplete.prototype, "floatLabelType", void 0), 
        __decorate$3$3([ Property(null) ], AutoComplete.prototype, "valueTemplate", void 0), 
        __decorate$3$3([ Property(null) ], AutoComplete.prototype, "filterBarPlaceholder", void 0), 
        __decorate$3$3([ Property(!1) ], AutoComplete.prototype, "allowFiltering", void 0), 
        __decorate$3$3([ Property(null) ], AutoComplete.prototype, "text", void 0), AutoComplete = __decorate$3$3([ NotifyPropertyChanges ], AutoComplete);
    }(ComboBox), PagerDropDown = (function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    }(), function() {
        function PagerDropDown(pagerModule) {
            this.pagerModule = pagerModule;
        }
        return PagerDropDown.prototype.getModuleName = function() {
            return "pagerdropdown";
        }, PagerDropDown.prototype.render = function() {
            var pagerObj = this.pagerModule;
            this.pagerDropDownDiv = createElement("div", {
                className: "e-pagesizes"
            });
            var dropDownDiv = createElement("div", {
                className: "e-pagerdropdown"
            }), defaultTextDiv = createElement("div", {
                className: "e-pagerconstant"
            }), input = createElement("input", {
                attrs: {
                    type: "text",
                    tabindex: "1"
                }
            });
            this.pagerCons = createElement("span", {
                className: "e-constant",
                innerHTML: this.pagerModule.getLocalizedLabel("pagerDropDown")
            }), dropDownDiv.appendChild(input), defaultTextDiv.appendChild(this.pagerCons), 
            this.pagerDropDownDiv.appendChild(dropDownDiv), this.pagerDropDownDiv.appendChild(defaultTextDiv), 
            this.pagerModule.element.appendChild(this.pagerDropDownDiv);
            var pageSizesModule = this.pagerModule.pageSizes, pageSizesArray = pageSizesModule.length ? pageSizesModule : [ 5, 10, 12, 20 ], defaultValue = pageSizesArray.indexOf(this.pagerModule.pageSize) > -1 ? this.pagerModule.pageSize : pageSizesArray[0];
            this.dropDownListObject = new DropDownList({
                dataSource: pageSizesArray,
                value: defaultValue,
                change: this.onChange.bind(this)
            }), this.dropDownListObject.appendTo(input), pagerObj.pageSize = defaultValue, pagerObj.dataBind(), 
            pagerObj.trigger("dropDownChanged", {
                pageSize: defaultValue
            });
        }, PagerDropDown.prototype.onChange = function(e) {
            this.pagerModule.pageSize = this.dropDownListObject.value, this.pagerModule.dataBind(), 
            this.pagerModule.trigger("dropDownChanged", {
                pageSize: this.dropDownListObject.value
            });
        }, PagerDropDown.prototype.destroy = function(args) {
            this.dropDownListObject && !this.dropDownListObject.isDestroyed && (this.dropDownListObject.destroy(), 
            remove(this.pagerDropDownDiv));
        }, PagerDropDown;
    }()), ExternalMessage = function() {
        function ExternalMessage(pagerModule) {
            this.pagerModule = pagerModule;
        }
        return ExternalMessage.prototype.getModuleName = function() {
            return "externalMessage";
        }, ExternalMessage.prototype.render = function() {
            this.element = createElement("div", {
                className: "e-pagerexternalmsg",
                attrs: {
                    "aria-label": "Pager external message"
                }
            }), this.pagerModule.element.appendChild(this.element), this.refresh();
        }, ExternalMessage.prototype.refresh = function() {
            this.pagerModule.externalMessage && this.pagerModule.externalMessage.toString().length ? (this.showMessage(), 
            this.element.innerHTML = this.pagerModule.externalMessage) : this.hideMessage();
        }, ExternalMessage.prototype.hideMessage = function() {
            this.element.style.display = "none";
        }, ExternalMessage.prototype.showMessage = function() {
            this.element.style.display = "";
        }, ExternalMessage.prototype.destroy = function() {
            remove(this.element);
        }, ExternalMessage;
    }();
    Pager.Inject(ExternalMessage, PagerDropDown);
    var TimePickerBase, Page = function() {
        function Page(parent, pageSettings) {
            this.parent = parent, this.pageSettings = pageSettings, this.addEventListener();
        }
        return Page.prototype.getModuleName = function() {
            return "pager";
        }, Page.prototype.render = function() {
            var pagerObj, gObj = this.parent;
            this.pagerDestroy(), isNullOrUndefined(this.parent.pagerTemplate) || (this.pageSettings.template = this.parent.pagerTemplate), 
            this.element = createElement("div", {
                className: "e-gridpager"
            }), pagerObj = function(copied, first, second, exclude) {
                var moved = extend(copied, first, second);
                return Object.keys(moved).forEach(function(value, index) {
                    -1 !== exclude.indexOf(value) && delete moved[value];
                }), moved;
            }({}, extend({}, getActualProperties(this.pageSettings)), {
                click: this.clickHandler.bind(this),
                dropDownChanged: this.onSelect.bind(this),
                enableRtl: gObj.enableRtl,
                locale: gObj.locale,
                created: this.addAriaAttr.bind(this)
            }, [ "parentObj", "propName" ]), this.pagerObj = new Pager(pagerObj);
        }, Page.prototype.onSelect = function(e) {
            this.pageSettings.pageSize = e.pageSize, this.pageSettings.currentPage = 1;
        }, Page.prototype.addAriaAttr = function() {
            var _this = this;
            if (!this.pageSettings.template) {
                for (var numericContainerNew = createElement("div", {
                    className: "e-numericcontainer"
                }), pagerContainer = this.element.querySelector(".e-pagercontainer"), frag = document.createDocumentFragment(), numericContainer = this.element.querySelector(".e-numericcontainer"), links = numericContainer.querySelectorAll("a"), i = 0; i < links.length; i++) if (this.parent.getContentTable()) {
                    links[i].setAttribute("aria-owns", this.parent.getContentTable().id);
                    var numericContainerDiv = createElement("div");
                    numericContainerDiv.appendChild(links[i]), frag.appendChild(numericContainerDiv);
                }
                numericContainerNew.appendChild(frag), pagerContainer.replaceChild(numericContainerNew, numericContainer);
                [ ".e-mfirst", ".e-mprev", ".e-first", ".e-prev", ".e-next", ".e-last", ".e-mnext", ".e-mlast" ].forEach(function(value) {
                    var element = _this.element.querySelector(value);
                    _this.parent.getContentTable() && element.setAttribute("aria-owns", _this.parent.getContentTable().id);
                });
            }
        }, Page.prototype.dataReady = function(e) {
            this.updateModel(e);
        }, Page.prototype.refresh = function() {
            this.pagerObj.refresh();
        }, Page.prototype.goToPage = function(pageNo) {
            this.pagerObj.goToPage(pageNo);
        }, Page.prototype.updateModel = function(e) {
            this.parent.pageSettings.totalRecordsCount = e.count, this.parent.dataBind();
        }, Page.prototype.onActionComplete = function(e) {
            this.parent.trigger(actionComplete, extend(e, {
                currentPage: this.parent.pageSettings.currentPage,
                requestType: "paging",
                type: actionComplete
            }));
        }, Page.prototype.onPropertyChanged = function(e) {
            if (e.module === this.getModuleName()) {
                for (var newProp = e.properties, _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                    var prop = _a[_i];
                    this.pagerObj[prop] = newProp[prop];
                }
                this.pagerObj.dataBind();
            }
        }, Page.prototype.clickHandler = function(e) {
            var gObj = this.parent;
            if (this.isForceCancel || isActionPrevent(gObj)) return this.isForceCancel ? this.isForceCancel = !1 : (gObj.notify(preventBatch, {
                instance: this,
                handler: this.goToPage,
                arg1: e.currentPage
            }), this.isForceCancel = !0, this.pagerObj.currentPage = gObj.pageSettings.currentPage, 
            this.pagerObj.dataBind()), void (e.cancel = !0);
            var prevPage = this.pageSettings.currentPage;
            this.pageSettings.currentPage = e.currentPage, this.parent.notify(modelChanged, {
                requestType: "paging",
                previousPage: prevPage,
                currentPage: e.currentPage,
                type: actionBegin
            });
        }, Page.prototype.keyPressHandler = function(e) {
            e.action in keyActions && (e.preventDefault(), this.element.querySelector(keyActions[e.action]).click());
        }, Page.prototype.updateExternalMessage = function(message) {
            this.pagerObj.enableExternalMessage || (this.pagerObj.enableExternalMessage = !0, 
            this.pagerObj.dataBind()), this.pagerObj.externalMessage = message, this.pagerObj.dataBind();
        }, Page.prototype.appendToElement = function(e) {
            this.parent.element.appendChild(this.element), this.parent.setGridPager(this.element), 
            this.pagerObj.appendTo(this.element);
        }, Page.prototype.enableAfterRender = function(e) {
            e.module === this.getModuleName() && e.enable && (this.render(), this.appendToElement());
        }, Page.prototype.addEventListener = function() {
            this.handlers = {
                load: this.render,
                end: this.appendToElement,
                ready: this.dataReady,
                complete: this.onActionComplete,
                updateLayout: this.enableAfterRender,
                inboundChange: this.onPropertyChanged,
                keyPress: this.keyPressHandler
            }, this.parent.isDestroyed || (this.parent.on(initialLoad, this.handlers.load, this), 
            this.parent.on(initialEnd, this.handlers.end, this), this.parent.on(dataReady, this.handlers.ready, this), 
            this.parent.on("paging-complete", this.handlers.complete, this), this.parent.on(uiUpdate, this.handlers.updateLayout, this), 
            this.parent.on(inBoundModelChanged, this.handlers.inboundChange, this), this.parent.on(keyPressed, this.handlers.keyPress, this));
        }, Page.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(initialLoad, this.handlers.load), this.parent.off(initialEnd, this.handlers.end), 
            this.parent.off(dataReady, this.handlers.ready), this.parent.off("paging-complete", this.handlers.complete), 
            this.parent.off(uiUpdate, this.handlers.updateLayout), this.parent.off(inBoundModelChanged, this.handlers.inboundChange), 
            this.parent.off(keyPressed, this.handlers.keyPress));
        }, Page.prototype.destroy = function() {
            this.removeEventListener(), this.pagerDestroy();
        }, Page.prototype.pagerDestroy = function() {
            this.pagerObj && !this.pagerObj.isDestroyed && (this.pagerObj.destroy(), remove(this.element));
        }, Page;
    }(), keyActions = {
        pageUp: ".e-prev",
        pageDown: ".e-next",
        ctrlAltPageDown: ".e-last",
        ctrlAltPageUp: ".e-first",
        altPageUp: ".e-pp",
        altPageDown: ".e-np"
    }, __extends$24 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), FilterCellRenderer = function(_super) {
        function FilterCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TH", {
                className: "e-filterbarcell"
            }), _this;
        }
        return __extends$24(FilterCellRenderer, _super), FilterCellRenderer.prototype.getGui = function() {
            return createElement("div");
        }, FilterCellRenderer.prototype.render = function(cell, data) {
            var input, tr = this.parent.element.querySelector(".e-filterbar"), node = this.element.cloneNode(), innerDIV = this.getGui(), column = cell.column;
            if (tr.appendChild(node), "checkbox" !== column.type) {
                if (!isNullOrUndefined(column.allowFiltering) && !column.allowFiltering || isNullOrUndefined(column.filterBarTemplate)) attributes(innerDIV, {
                    class: "e-filterdiv e-fltrinputdiv"
                }), input = createElement("input", {
                    id: column.field + "_filterBarcell",
                    className: "e-filtertext",
                    attrs: {
                        type: "search",
                        title: column.headerText + cell.attributes.title,
                        value: data[cell.column.field] ? data[cell.column.field] : "",
                        role: "search"
                    }
                }), innerDIV.appendChild(input), Input.createInput({
                    element: input,
                    floatLabelType: "Never",
                    properties: {
                        enableRtl: this.parent.enableRtl,
                        showClearButton: !0
                    }
                }); else if (node.classList.add("e-fltrtemp"), attributes(innerDIV, {
                    class: "e-fltrtempdiv"
                }), isNullOrUndefined(column.filterBarTemplate.create)) input = createElement("input", {
                    id: column.field + "_filterBarcell",
                    className: "e-filterUi_input e-filtertext e-fltrTemp",
                    attrs: {
                        type: "search",
                        title: column.headerText
                    }
                }), innerDIV.appendChild(input); else {
                    var args = {
                        column: column,
                        node: Element
                    }, temp = column.filterBarTemplate.create;
                    if ("string" == typeof temp && (temp = getValue(temp, window)), "string" == typeof (input = temp(args))) {
                        var div = createElement("div");
                        div.innerHTML = input, input = div.firstChild;
                    }
                    attributes(innerDIV, {
                        class: "e-filterUi_input e-filtertext e-fltrTemp",
                        title: column.headerText,
                        id: column.field + "_filterBarcell"
                    }), innerDIV.appendChild(input);
                }
                if ((!1 === column.allowFiltering || "" === column.field || isNullOrUndefined(column.field)) && (input.setAttribute("disabled", "true"), 
                input.classList.add("e-disable")), column.visible || node.classList.add("e-hide"), 
                this.appendHtml(node, innerDIV), (isNullOrUndefined(column.allowFiltering) || column.allowFiltering) && !isNullOrUndefined(column.filterBarTemplate)) {
                    var templateWrite = column.filterBarTemplate.write;
                    args = {
                        element: input,
                        column: column
                    };
                    "string" == typeof templateWrite && (templateWrite = getValue(templateWrite, window)), 
                    templateWrite.call(this, args);
                }
            }
            return node;
        }, FilterCellRenderer.prototype.appendHtml = function(node, innerHtml) {
            return node.appendChild(innerHtml), node;
        }, FilterCellRenderer;
    }(CellRenderer), FlMenuOptrUI = function() {
        function FlMenuOptrUI(parent, customFltrOperators, serviceLocator, filterSettings) {
            this.parent = parent, this.serviceLocator = serviceLocator, this.filterSettings = filterSettings, 
            this.customFilterOperators = customFltrOperators;
        }
        return FlMenuOptrUI.prototype.renderOperatorUI = function(dlgConetntEle, target, column, dlgObj) {
            this.dialogObj = dlgObj;
            var optr = column.type + "Operator";
            this.optrData = this.customOptr = isNullOrUndefined(this.parent.filterSettings.operators) || isNullOrUndefined(this.parent.filterSettings.operators[optr]) ? this.customFilterOperators[optr] : this.parent.filterSettings.operators[optr];
            var dropDatasource = this.customOptr, selectedValue = this.dropSelectedVal(column, optr), optrDiv = createElement("div", {
                className: "e-flm_optrdiv"
            });
            dlgConetntEle.appendChild(optrDiv);
            var optrInput = createElement("input", {
                id: column.uid + "-floptr"
            });
            optrDiv.appendChild(optrInput), this.dropOptr = new DropDownList({
                dataSource: dropDatasource,
                fields: {
                    text: "text",
                    value: "value"
                },
                open: this.dropDownOpen.bind(this),
                text: selectedValue
            }), this.dropOptr.appendTo("#" + column.uid + "-floptr");
        }, FlMenuOptrUI.prototype.dropDownOpen = function(args) {
            args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();
        }, FlMenuOptrUI.prototype.dropSelectedVal = function(col, optr) {
            for (var selValue = "", _i = 0, columns_1 = this.parent.filterSettings.columns; _i < columns_1.length; _i++) {
                var column = columns_1[_i];
                if (col.field === column.field) {
                    var selectedField = new DataManager(this.optrData).executeLocal(new Query().where("value", "equal", column.operator));
                    selValue = isNullOrUndefined(selectedField[0]) ? "" : selectedField[0].text;
                }
            }
            return "" === selValue && (selValue = this.optrData[0].text), selValue;
        }, FlMenuOptrUI.prototype.getFlOperator = function() {
            return this.dropOptr.value;
        }, FlMenuOptrUI;
    }(), StringFilterUI = function() {
        function StringFilterUI(parent, serviceLocator, filterSettings) {
            this.parent = parent, this.serLocator = serviceLocator, this.filterSettings = filterSettings;
        }
        return StringFilterUI.prototype.create = function(args) {
            this.instance = createElement("input", {
                className: "e-flmenu-input",
                id: "strui-" + args.column.uid
            }), args.target.appendChild(this.instance), this.dialogObj = args.dialogObj, this.actObj = new AutoComplete(this.getAutoCompleteOptions(args)), 
            this.actObj.appendTo(this.instance);
        }, StringFilterUI.prototype.getAutoCompleteOptions = function(args) {
            var _this = this, isForeignColumn = args.column.isForeignColumn(), dataSource = isForeignColumn ? args.column.dataSource : this.parent.dataSource, fields = {
                value: isForeignColumn ? args.column.foreignKeyValue : args.column.field
            };
            return {
                dataSource: dataSource instanceof DataManager ? dataSource : new DataManager(dataSource),
                fields: fields,
                locale: this.parent.locale,
                enableRtl: this.parent.enableRtl,
                sortOrder: "Ascending",
                open: this.openPopup.bind(this),
                cssClass: "e-popup-flmenu",
                focus: function() {
                    _this.actObj.filterType = args.getOptrInstance.getFlOperator();
                },
                autofill: !0,
                placeholder: args.localizeText.getConstant("EnterValue"),
                actionComplete: function(e) {
                    e.result = e.result.filter(function(obj, index, arr) {
                        return arr.map(function(mapObj) {
                            return mapObj[_this.actObj.fields.value];
                        }).indexOf(obj[_this.actObj.fields.value]) === index;
                    });
                }
            };
        }, StringFilterUI.prototype.write = function(args) {
            this.filterSettings.columns;
            if ("" !== args.filteredValue) {
                document.querySelector("#strui-" + args.column.uid).ej2_instances[0].value = args.filteredValue;
            }
        }, StringFilterUI.prototype.read = function(element, column, filterOptr, filterObj) {
            var actuiObj = document.querySelector("#strui-" + column.uid).ej2_instances[0];
            Browser.isDevice && (actuiObj.hidePopup(), actuiObj.focusOut());
            var filterValue = actuiObj.value;
            (isNullOrUndefined(filterValue) || "" === filterValue) && (filterValue = null), 
            filterObj.filterByColumn(column.field, filterOptr, filterValue, "and", !1);
        }, StringFilterUI.prototype.openPopup = function(args) {
            getZIndexCalcualtion(args, this.dialogObj);
        }, StringFilterUI;
    }(), NumberFilterUI = function() {
        function NumberFilterUI(parent, serviceLocator, filterSettings) {
            this.filterSettings = filterSettings, this.parent = parent, this.serviceLocator = serviceLocator;
        }
        return NumberFilterUI.prototype.create = function(args) {
            this.instance = createElement("input", {
                className: "e-flmenu-input",
                id: "numberui-" + args.column.uid
            }), args.target.appendChild(this.instance), this.numericTxtObj = new NumericTextBox({
                format: args.column.format,
                locale: this.parent.locale,
                cssClass: "e-popup-flmenu",
                placeholder: args.localizeText.getConstant("EnterValue"),
                enableRtl: this.parent.enableRtl
            }), this.numericTxtObj.appendTo(this.instance);
        }, NumberFilterUI.prototype.write = function(args) {
            document.querySelector("#numberui-" + args.column.uid).ej2_instances[0].value = args.filteredValue;
        }, NumberFilterUI.prototype.read = function(element, column, filterOptr, filterObj) {
            var filterValue = document.querySelector("#numberui-" + column.uid).ej2_instances[0].value;
            filterObj.filterByColumn(column.field, filterOptr, filterValue, "and", !0);
        }, NumberFilterUI;
    }(), BooleanFilterUI = function() {
        function BooleanFilterUI(parent, serviceLocator, filterSettings) {
            this.parent = parent, this.serviceLocator = serviceLocator, this.filterSettings = filterSettings;
        }
        return BooleanFilterUI.prototype.create = function(args) {
            var fields = args.column.field;
            this.elem = createElement("input", {
                className: "e-flmenu-input",
                id: "bool-ui-" + args.column.uid
            }), args.target.appendChild(this.elem), this.dialogObj = args.dialogObj, this.dropInstance = new DropDownList({
                dataSource: this.parent.dataSource instanceof DataManager ? this.parent.dataSource : new DataManager(this.parent.dataSource),
                query: new Query().select(args.column.field),
                fields: {
                    text: args.column.field,
                    value: args.column.field
                },
                placeholder: args.localizeText.getConstant("SelectValue"),
                cssClass: "e-popup-flmenu",
                locale: this.parent.locale,
                enableRtl: this.parent.enableRtl,
                open: this.openPopup.bind(this),
                actionComplete: function(e) {
                    e.result = DataUtil.distinct(e.result, fields, !0);
                }
            }), this.dropInstance.appendTo(this.elem);
        }, BooleanFilterUI.prototype.write = function(args) {
            document.querySelector("#bool-ui-" + args.column.uid).ej2_instances[0].text = isNullOrUndefined(args.filteredValue) ? "" : args.filteredValue;
        }, BooleanFilterUI.prototype.read = function(element, column, filterOptr, filterObj) {
            var filterValue = document.querySelector("#bool-ui-" + column.uid).ej2_instances[0].value;
            filterObj.filterByColumn(column.field, filterOptr, filterValue, "and", !1);
        }, BooleanFilterUI.prototype.openPopup = function(args) {
            getZIndexCalcualtion(args, this.dialogObj);
        }, BooleanFilterUI;
    }(), __extends$25 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$12 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, ROOT$3 = "e-calendar", DISABLED$4 = "e-disabled", Calendar$1 = function(_super) {
        function Calendar(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.effect = "", _this.keyConfigs = {
                controlUp: "ctrl+38",
                controlDown: "ctrl+40",
                moveDown: "downarrow",
                moveUp: "uparrow",
                moveLeft: "leftarrow",
                moveRight: "rightarrow",
                select: "enter",
                home: "home",
                end: "end",
                pageUp: "pageup",
                pageDown: "pagedown",
                shiftPageUp: "shift+pageup",
                shiftPageDown: "shift+pagedown",
                controlHome: "ctrl+home",
                controlEnd: "ctrl+end"
            }, _this;
        }
        return __extends$25(Calendar, _super), Calendar.prototype.render = function() {
            this.globalize = new Internationalization(this.locale), this.todayDisabled = !1, 
            this.todayDate = new Date(new Date().setHours(0, 0, 0, 0)), "calendar" === this.getModuleName() ? (this.element.classList.add(ROOT$3), 
            this.enableRtl && this.element.classList.add("e-rtl"), Browser.isDevice && this.element.classList.add("e-device"), 
            attributes(this.element, {
                "data-role": "calendar"
            })) : (this.calendarElement = createElement("div"), this.calendarElement.classList.add(ROOT$3), 
            this.enableRtl && this.calendarElement.classList.add("e-rtl"), Browser.isDevice && this.calendarElement.classList.add("e-device"), 
            attributes(this.calendarElement, {
                role: "calendar"
            })), this.processDate(), this.header(), this.content(), this.wireEvents();
        }, Calendar.prototype.processDate = function() {
            this.validateDate(), this.minMaxUpdate();
        }, Calendar.prototype.validateDate = function() {
            this.setProperties({
                value: this.checkDateValue(new Date("" + this.value))
            }, !0), this.setProperties({
                min: this.checkDateValue(new Date("" + this.min))
            }, !0), this.setProperties({
                max: this.checkDateValue(new Date("" + this.max))
            }, !0), this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0)), 
            !isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max && (this.currentDate = new Date("" + this.value)), 
            isNaN(+this.value) && this.setProperties({
                value: null
            }, !0);
        }, Calendar.prototype.minMaxUpdate = function() {
            this.min <= this.max ? removeClass([ this.element ], "e-overlay") : (this.setProperties({
                min: this.min
            }, !0), addClass([ this.element ], "e-overlay")), this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min, 
            this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max, 
            !isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max ? (this.setProperties({
                value: this.min
            }, !0), this.changedArgs = {
                value: this.value
            }) : !isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max && (this.setProperties({
                value: this.max
            }, !0), this.changedArgs = {
                value: this.value
            }), this.min <= this.max && this.value && this.value <= this.max && this.value >= this.min ? this.currentDate = new Date("" + this.value) : this.min <= this.max && !this.value && this.currentDate > this.max ? this.currentDate = new Date("" + this.max) : this.currentDate < this.min && (this.currentDate = new Date("" + this.min));
        }, Calendar.prototype.header = function() {
            this.headerElement = createElement("div", {
                className: "e-header"
            });
            var iconContainer = createElement("div", {
                className: "e-icon-container"
            });
            this.previousIcon = createElement("button", {
                className: "e-prev",
                attrs: {
                    type: "button"
                }
            }), rippleEffect(this.previousIcon, {
                duration: 400,
                selector: ".e-prev",
                isCenterRipple: !0
            }), attributes(this.previousIcon, {
                "aria-disabled": "false",
                "aria-label": "previous month"
            }), this.nextIcon = createElement("button", {
                className: "e-next",
                attrs: {
                    type: "button"
                }
            }), rippleEffect(this.nextIcon, {
                selector: ".e-next",
                duration: 400,
                isCenterRipple: !0
            }), attributes(this.nextIcon, {
                "aria-disabled": "false",
                "aria-label": "next month"
            }), this.headerTitleElement = createElement("div", {
                className: "e-day e-title"
            }), attributes(this.headerTitleElement, {
                "aria-atomic": "true",
                "aria-live": "assertive",
                "aria-label": "title"
            }), this.headerElement.appendChild(this.headerTitleElement), this.previousIcon.appendChild(createElement("span", {
                className: "e-date-icon-prev e-icons"
            })), this.nextIcon.appendChild(createElement("span", {
                className: "e-date-icon-next  e-icons"
            })), iconContainer.appendChild(this.previousIcon), iconContainer.appendChild(this.nextIcon), 
            this.headerElement.appendChild(iconContainer), "calendar" === this.getModuleName() ? this.element.appendChild(this.headerElement) : this.calendarElement.appendChild(this.headerElement);
        }, Calendar.prototype.content = function() {
            this.previousDate = this.value, this.contentElement = createElement("div", {
                className: "e-content"
            }), this.table = createElement("table", {
                attrs: {
                    tabIndex: "0",
                    role: "grid",
                    "aria-activedescendant": ""
                }
            }), "calendar" === this.getModuleName() ? this.element.appendChild(this.contentElement) : this.calendarElement.appendChild(this.contentElement), 
            this.contentElement.appendChild(this.table), this.contentHdr(), this.contentBody(), 
            this.showTodayButton && this.contentFooter();
        }, Calendar.prototype.getCultureValues = function() {
            var cldrObj, culShortNames = [];
            cldrObj = "en" === this.locale || "en-US" === this.locale ? getValue("days.stand-alone.short", getDefaultDateObject()) : this.getCultureObjects(cldrData, "" + this.locale);
            for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {
                var obj = _a[_i];
                culShortNames.push(getValue(obj, cldrObj));
            }
            return culShortNames;
        }, Calendar.prototype.contentHdr = function() {
            "calendar" === this.getModuleName() ? isNullOrUndefined(this.element.querySelectorAll(".e-content .e-week-header")[0]) || detach(this.element.querySelectorAll(".e-content .e-week-header")[0]) : isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]) || detach(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);
            var shortNames, html = "";
            (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) && this.setProperties({
                firstDayOfWeek: 0
            }, !0), this.tableHeadElement = createElement("thead", {
                className: "e-week-header"
            }), this.weekNumber && (html += '<th class="e-week-number"></th>', addClass([ this.element ], "e-week-number")), 
            shortNames = this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek);
            for (var days = 0; days <= 6; days++) html += '<th  class="">' + shortNames[days] + "</th>";
            html = "<tr>" + html + "</tr>", this.tableHeadElement.innerHTML = html, this.table.appendChild(this.tableHeadElement);
        }, Calendar.prototype.contentBody = function() {
            switch ("calendar" === this.getModuleName() ? isNullOrUndefined(this.element.querySelectorAll(".e-content tbody")[0]) || detach(this.element.querySelectorAll(".e-content tbody")[0]) : isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content tbody")[0]) || detach(this.calendarElement.querySelectorAll(".e-content tbody")[0]), 
            this.start) {
              case "Year":
                this.renderYears();
                break;

              case "Decade":
                this.renderDecades();
                break;

              default:
                this.renderMonths();
            }
        }, Calendar.prototype.updateFooter = function() {
            this.todayElement.textContent = this.l10.getConstant("today");
        }, Calendar.prototype.contentFooter = function() {
            if (this.showTodayButton) {
                var minimum = new Date(this.min.toDateString()), maximum = new Date(this.max.toDateString());
                this.globalize = new Internationalization(this.locale), this.l10 = new L10n(this.getModuleName(), {
                    today: "Today"
                }, this.locale), this.todayElement = createElement("button"), rippleEffect(this.todayElement), 
                this.updateFooter(), addClass([ this.todayElement ], [ "e-btn", "e-today", "e-flat" ]), 
                new Date(minimum.setHours(0, 0, 0, 0)) <= this.todayDate && this.todayDate <= new Date(maximum.setHours(0, 0, 0, 0)) && !this.todayDisabled || addClass([ this.todayElement ], DISABLED$4), 
                this.footer = createElement("div", {
                    className: "e-footer-container"
                }), this.footer.appendChild(this.todayElement), "calendar" === this.getModuleName() && this.element.appendChild(this.footer), 
                "datepicker" === this.getModuleName() && this.calendarElement.appendChild(this.footer), 
                "datetimepicker" === this.getModuleName() && this.calendarElement.appendChild(this.footer), 
                this.todayElement.classList.contains(DISABLED$4) || EventHandler.add(this.todayElement, "click", this.todayButtonClick, this);
            }
        }, Calendar.prototype.wireEvents = function() {
            EventHandler.add(this.headerTitleElement, "click", this.navTitle, this), "calendar" === this.getModuleName() ? this.keyboardModule = new KeyboardEvents(this.element, {
                eventName: "keydown",
                keyAction: this.keyActionHandle.bind(this),
                keyConfigs: this.keyConfigs
            }) : this.keyboardModule = new KeyboardEvents(this.calendarElement, {
                eventName: "keydown",
                keyAction: this.keyActionHandle.bind(this),
                keyConfigs: this.keyConfigs
            });
        }, Calendar.prototype.todayButtonClick = function() {
            if (this.showTodayButton) {
                var tempValue = new Date();
                this.value ? (tempValue.setHours(this.value.getHours()), tempValue.setMinutes(this.value.getMinutes()), 
                tempValue.setSeconds(this.value.getSeconds())) : tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0), 
                this.setProperties({
                    value: tempValue
                }, !0), this.getViewNumber(this.start) >= this.getViewNumber(this.depth) ? this.navigateTo(this.depth, new Date("" + this.value)) : this.navigateTo("Month", new Date("" + this.value)), 
                this.effect = "";
            }
        }, Calendar.prototype.keyActionHandle = function(e) {
            var view = this.getViewNumber(this.currentView()), focusedDate = this.tableBodyElement.querySelector("tr td.e-focused-date"), selectedDate = this.tableBodyElement.querySelector("tr td.e-selected"), depthValue = this.getViewNumber(this.depth), levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;
            switch (this.effect = "", e.action) {
              case "moveLeft":
                this.KeyboardNavigate(-1, view, e, this.max, this.min), e.preventDefault();
                break;

              case "moveRight":
                this.KeyboardNavigate(1, view, e, this.max, this.min), e.preventDefault();
                break;

              case "moveUp":
                0 === view ? this.KeyboardNavigate(-7, view, e, this.max, this.min) : this.KeyboardNavigate(-4, view, e, this.max, this.min), 
                e.preventDefault();
                break;

              case "moveDown":
                0 === view ? this.KeyboardNavigate(7, view, e, this.max, this.min) : this.KeyboardNavigate(4, view, e, this.max, this.min), 
                e.preventDefault();
                break;

              case "select":
                if (e.target === this.todayElement) this.todayButtonClick(); else {
                    var element = isNullOrUndefined(focusedDate) ? selectedDate : focusedDate;
                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$4)) if (levelRestrict) {
                        var d = new Date(parseInt("" + element.id, 0));
                        this.selectDate(e, d, element);
                    } else this.contentClick(null, --view, element);
                }
                break;

              case "controlUp":
                this.title(), e.preventDefault();
                break;

              case "controlDown":
                isNullOrUndefined(focusedDate) && (isNullOrUndefined(selectedDate) || levelRestrict) || this.contentClick(null, --view, focusedDate || selectedDate), 
                e.preventDefault();
                break;

              case "home":
                this.currentDate = this.firstDay(this.currentDate), detach(this.tableBodyElement), 
                this.renderMonths(e), e.preventDefault();
                break;

              case "end":
                this.currentDate = this.lastDay(this.currentDate), detach(this.tableBodyElement), 
                this.renderMonths(e), e.preventDefault();
                break;

              case "pageUp":
                this.addMonths(this.currentDate, -1), this.navigateTo("Month", this.currentDate), 
                e.preventDefault();
                break;

              case "pageDown":
                this.addMonths(this.currentDate, 1), this.navigateTo("Month", this.currentDate), 
                e.preventDefault();
                break;

              case "shiftPageUp":
                this.addYears(this.currentDate, -1), this.navigateTo("Month", this.currentDate), 
                e.preventDefault();
                break;

              case "shiftPageDown":
                this.addYears(this.currentDate, 1), this.navigateTo("Month", this.currentDate), 
                e.preventDefault();
                break;

              case "controlHome":
                this.navigateTo("Month", new Date(this.currentDate.getFullYear(), 0, 1)), e.preventDefault();
                break;

              case "controlEnd":
                this.navigateTo("Month", new Date(this.currentDate.getFullYear(), 11, 31)), e.preventDefault();
            }
            "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.KeyboardNavigate = function(number, currentView, e, max, min) {
            var date = new Date("" + this.currentDate);
            switch (currentView) {
              case 2:
                this.addYears(this.currentDate, number), this.isMinMaxRange(this.currentDate) ? (detach(this.tableBodyElement), 
                this.renderDecades(e)) : this.currentDate = date;
                break;

              case 1:
                this.addMonths(this.currentDate, number), this.isMinMaxRange(this.currentDate) ? (detach(this.tableBodyElement), 
                this.renderYears(e)) : this.currentDate = date;
                break;

              case 0:
                this.addDay(this.currentDate, number, e, max, min), this.isMinMaxRange(this.currentDate) ? (detach(this.tableBodyElement), 
                this.renderMonths(e)) : this.currentDate = date;
            }
        }, Calendar.prototype.preRender = function() {
            var _this = this;
            this.navigatePreviousHandler = this.navigatePrevious.bind(this), this.navigateNextHandler = this.navigateNext.bind(this), 
            this.changeHandler = function(e) {
                _this.triggerChange(e);
            }, this.navigateHandler = function(e) {
                _this.triggerNavigate(e);
            };
        }, Calendar.prototype.minMaxDate = function(localDate) {
            var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0)), minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0)), maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));
            return +currentDate != +minDate && +currentDate != +maxDate || (+localDate < +this.min && (localDate = new Date(+this.min)), 
            +localDate > +this.max && (localDate = new Date(+this.max))), localDate;
        }, Calendar.prototype.renderMonths = function(e) {
            var numCells = this.weekNumber ? 8 : 7, tdEles = this.renderDays(this.currentDate, e);
            this.contentHdr(), this.renderTemplate(tdEles, numCells, "e-month", e);
        }, Calendar.prototype.renderDays = function(currentDate, e) {
            var minMaxDate, tdEles = [], localDate = new Date("" + currentDate), currentMonth = (this.weekNumber, 
            localDate.getMonth());
            this.titleUpdate(currentDate, "days");
            var d = localDate;
            for (localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds()); localDate.getDay() !== this.firstDayOfWeek; ) this.setTime(localDate, -864e5);
            for (var day = 0; day < 42; ++day) {
                var weekEle = createElement("td", {
                    className: "e-cell"
                }), weekAnchor = createElement("span");
                day % 7 == 0 && this.weekNumber && (weekAnchor.textContent = "" + this.getWeek(localDate), 
                weekEle.appendChild(weekAnchor), addClass([ weekEle ], "e-week-number"), tdEles.push(weekEle)), 
                minMaxDate = new Date(+localDate), localDate = this.minMaxDate(localDate);
                var dateFormatOptions = {
                    type: "dateTime",
                    skeleton: "medium"
                }, date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions), tdEle = this.dayCell(localDate), title = this.globalize.formatDate(localDate, {
                    type: "date",
                    skeleton: "medium"
                }), dayLink = createElement("span");
                dayLink.textContent = this.globalize.formatDate(localDate, {
                    type: "date",
                    skeleton: "d"
                });
                var disabled = this.min > localDate || this.max < localDate;
                disabled ? (addClass([ tdEle ], DISABLED$4), addClass([ tdEle ], "e-overlay")) : dayLink.setAttribute("title", "" + title), 
                currentMonth !== localDate.getMonth() && addClass([ tdEle ], "e-other-month"), 0 !== localDate.getDay() && 6 !== localDate.getDay() || addClass([ tdEle ], "e-weekend"), 
                tdEle.appendChild(dayLink), this.renderDaycellArg = {
                    date: localDate,
                    isDisabled: !1,
                    element: tdEle,
                    isOutOfRange: disabled
                };
                var args = this.renderDaycellArg;
                this.renderDayCellEvent(args), args.isDisabled && this.value && +this.value == +args.date && this.setProperties({
                    value: null
                }, !0), this.renderDaycellArg.isDisabled && !tdEle.classList.contains("e-selected") && (addClass([ tdEle ], DISABLED$4), 
                addClass([ tdEle ], "e-overlay"), +this.renderDaycellArg.date == +this.todayDate && (this.todayDisabled = !0));
                var otherMnthBool = tdEle.classList.contains("e-other-month"), disabledCls = tdEle.classList.contains(DISABLED$4);
                disabledCls || EventHandler.add(tdEle, "click", this.clickHandler, this), args.isDisabled && +this.value == +args.date && this.setProperties({
                    value: null
                }, !0), otherMnthBool || disabledCls || !this.getDateVal(localDate) ? currentDate.getDate() !== localDate.getDate() || otherMnthBool || disabledCls ? (currentDate >= this.max && parseInt(tdEle.id, 0) === +this.max && !otherMnthBool && !disabledCls && addClass([ tdEle ], "e-focused-date"), 
                currentDate <= this.min && parseInt(tdEle.id, 0) === +this.min && !otherMnthBool && !disabledCls && addClass([ tdEle ], "e-focused-date")) : addClass([ tdEle ], "e-focused-date") : addClass([ tdEle ], "e-selected"), 
                date.getMonth() === new Date().getMonth() && date.getDate() === new Date().getDate() && date.getFullYear() === new Date().getFullYear() && addClass([ tdEle ], "e-today"), 
                tdEles.push(this.renderDaycellArg.element), localDate = new Date(+minMaxDate), this.addDay(localDate, 1, null, this.max, this.min);
            }
            return tdEles;
        }, Calendar.prototype.renderYears = function(e) {
            this.removeTheadEle();
            var tdEles = [], valueUtil = isNullOrUndefined(this.value), curDate = new Date("" + this.currentDate), mon = curDate.getMonth(), yr = curDate.getFullYear(), localDate = curDate, curYrs = localDate.getFullYear(), minYr = new Date("" + this.min).getFullYear(), minMonth = new Date("" + this.min).getMonth(), maxYr = new Date("" + this.max).getFullYear(), maxMonth = new Date("" + this.max).getMonth();
            localDate.setMonth(0), this.titleUpdate(this.currentDate, "months");
            this.min > localDate || this.max;
            localDate.setDate(1);
            for (var month = 0; month < 12; ++month) {
                var tdEle = this.dayCell(localDate), dayLink = createElement("span"), localMonth = this.value && this.value.getMonth() === localDate.getMonth(), select$$1 = this.value && this.value.getFullYear() === yr && localMonth;
                dayLink.textContent = this.globalize.formatDate(localDate, {
                    type: "dateTime",
                    skeleton: "MMM"
                }), this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr) ? addClass([ tdEle ], DISABLED$4) : !valueUtil && select$$1 ? addClass([ tdEle ], "e-selected") : localDate.getMonth() === mon && this.currentDate.getMonth() === mon && addClass([ tdEle ], "e-focused-date"), 
                localDate.setDate(1), localDate.setMonth(localDate.getMonth() + 1), tdEle.classList.contains(DISABLED$4) || EventHandler.add(tdEle, "click", this.clickHandler, this), 
                tdEle.appendChild(dayLink), tdEles.push(tdEle);
            }
            this.renderTemplate(tdEles, 4, "e-year", e);
        }, Calendar.prototype.renderDecades = function(e) {
            this.removeTheadEle();
            var tdEles = [], localDate = new Date("" + this.currentDate);
            localDate.setMonth(0), localDate.setDate(1);
            var localYr = localDate.getFullYear(), startYr = new Date("" + (localYr - localYr % 10)), endYr = new Date("" + (localYr - localYr % 10 + 9)), startHdrYr = this.globalize.formatDate(startYr, {
                type: "dateTime",
                skeleton: "y"
            }), endHdrYr = this.globalize.formatDate(endYr, {
                type: "dateTime",
                skeleton: "y"
            });
            this.headerTitleElement.textContent = startHdrYr + " - " + endHdrYr;
            for (var startYear = new Date(localYr - localYr % 10 - 1, 0, 1).getFullYear(), rowIterator = 0; rowIterator < 12; ++rowIterator) {
                var year = startYear + rowIterator;
                localDate.setFullYear(year);
                var tdEle = this.dayCell(localDate);
                attributes(tdEle, {
                    role: "gridcell"
                });
                var dayLink = createElement("span");
                dayLink.textContent = this.globalize.formatDate(localDate, {
                    type: "dateTime",
                    skeleton: "y"
                }), year < new Date("" + this.min).getFullYear() || year > new Date("" + this.max).getFullYear() ? addClass([ tdEle ], DISABLED$4) : isNullOrUndefined(this.value) || localDate.getFullYear() !== this.value.getFullYear() ? localDate.getFullYear() !== this.currentDate.getFullYear() || tdEle.classList.contains(DISABLED$4) || addClass([ tdEle ], "e-focused-date") : addClass([ tdEle ], "e-selected"), 
                tdEle.classList.contains(DISABLED$4) || EventHandler.add(tdEle, "click", this.clickHandler, this), 
                tdEle.appendChild(dayLink), tdEles.push(tdEle);
            }
            this.renderTemplate(tdEles, 4, "e-decade", e);
        }, Calendar.prototype.dayCell = function(localDate) {
            var dateFormatOptions = {
                skeleton: "medium",
                type: "dateTime"
            };
            return createElement("td", {
                className: "e-cell",
                attrs: {
                    id: "" + getUniqueID("" + this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions).valueOf()),
                    "aria-selected": "false",
                    role: "gridcell"
                }
            });
        }, Calendar.prototype.firstDay = function(date) {
            var collection = this.tableBodyElement.querySelectorAll("td:not(.e-other-month");
            if (collection.length) for (var i = 0; i < collection.length; i++) if (!collection[i].classList.contains(DISABLED$4)) {
                date = new Date(parseInt(collection[i].id, 0));
                break;
            }
            return date;
        }, Calendar.prototype.lastDay = function(date) {
            var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0), timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());
            return timeOffset && lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60), 
            this.findlastDay(lastDate);
        }, Calendar.prototype.checkDateValue = function(value) {
            return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;
        }, Calendar.prototype.findlastDay = function(date) {
            var collection = this.tableBodyElement.querySelectorAll("td:not(.e-other-month");
            if (collection.length) for (var i = collection.length - 1; i >= 0; i--) if (!collection[i].classList.contains(DISABLED$4)) {
                date = new Date(parseInt(collection[i].id, 0));
                break;
            }
            return date;
        }, Calendar.prototype.removeTheadEle = function() {
            "calendar" === this.getModuleName() ? isNullOrUndefined(this.element.querySelectorAll(".e-content table thead")[0]) || detach(this.tableHeadElement) : isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content table thead")[0]) || detach(this.tableHeadElement);
        }, Calendar.prototype.renderTemplate = function(elements, numCells, classNm, e) {
            var trEle, view = this.getViewNumber(this.currentView());
            this.tableBodyElement = createElement("tbody"), this.table.appendChild(this.tableBodyElement), 
            removeClass([ this.contentElement, this.headerElement ], [ "e-month", "e-decade", "e-year" ]), 
            addClass([ this.contentElement, this.headerElement ], [ classNm ]);
            for (var row = numCells, rowIterator = 0, dayCell = 0; dayCell < elements.length / numCells; ++dayCell) {
                for (trEle = createElement("tr", {
                    attrs: {
                        role: "row"
                    }
                }), rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) elements[rowIterator].classList.contains("e-week-number") || isNullOrUndefined(elements[rowIterator].children[0]) || (addClass([ elements[rowIterator].children[0] ], [ "e-day" ]), 
                rippleEffect(elements[rowIterator].children[0], {
                    duration: 600,
                    isCenterRipple: !0
                })), trEle.appendChild(elements[rowIterator]), !this.weekNumber && 6 === rowIterator && elements[6].classList.contains("e-other-month") && addClass([ trEle ], "e-month-hide"), 
                this.weekNumber ? 41 === rowIterator && elements[41].classList.contains("e-other-month") && addClass([ trEle ], "e-month-hide") : 35 === rowIterator && elements[35].classList.contains("e-other-month") && addClass([ trEle ], "e-month-hide");
                row += numCells, rowIterator += 0, this.tableBodyElement.appendChild(trEle);
            }
            this.table.querySelector("tbody").className = this.effect, this.iconHandler(), this.changedArgs = {
                value: this.value
            }, (view !== this.getViewNumber(this.currentView()) || 0 === view && view !== this.getViewNumber(this.currentView())) && this.navigateHandler(e), 
            this.setAriaActivedescendant(), this.changeHandler();
        }, Calendar.prototype.clickHandler = function(e) {
            e.preventDefault();
            var eve = e.currentTarget, view = this.getViewNumber(this.currentView());
            eve.classList.contains("e-other-month") ? (this.value = this.getIdValue(e, null), 
            this.contentClick(e, 0, null)) : view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth) ? this.contentClick(e, 1, null) : 2 === view ? this.contentClick(e, 1, null) : eve.classList.contains("e-other-month") || 0 !== view ? this.contentClick(e, 0, eve) : this.selectDate(e, this.getIdValue(e, null), null), 
            "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.contentClick = function(e, view, ele) {
            var currentView = this.getViewNumber(this.currentView()), d = this.getIdValue(e, ele);
            switch (view) {
              case 0:
                currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth) ? (detach(this.tableBodyElement), 
                this.currentDate = d, this.effect = "e-zoomin", this.renderMonths(e)) : (this.currentDate.setMonth(d.getMonth()), 
                d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth() && this.currentDate.setDate(0), 
                this.currentDate.setFullYear(d.getFullYear()), this.effect = "e-zoomin", detach(this.tableBodyElement), 
                this.renderMonths(e));
                break;

              case 1:
                currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth) ? this.selectDate(e, d, null) : (this.currentDate.setFullYear(d.getFullYear()), 
                this.effect = "e-zoomin", detach(this.tableBodyElement), this.renderYears(e));
            }
        }, Calendar.prototype.switchView = function(view, e) {
            switch (view) {
              case 0:
                detach(this.tableBodyElement), this.renderMonths(e);
                break;

              case 1:
                detach(this.tableBodyElement), this.renderYears(e);
                break;

              case 2:
                detach(this.tableBodyElement), this.renderDecades(e);
            }
        }, Calendar.prototype.getModuleName = function() {
            return "calendar";
        }, Calendar.prototype.getPersistData = function() {
            return this.addOnPersist([ "value" ]);
        }, Calendar.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.effect = "";
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "value":
                    this.setProperties({
                        value: new Date("" + newProp.value)
                    }, !0), isNaN(+this.value) && this.setProperties({
                        value: oldProp.value
                    }, !0), this.validateDate(), this.minMaxUpdate(), this.setvalue();
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? "calendar" === this.getModuleName() ? this.element.classList.add("e-rtl") : this.calendarElement.classList.add("e-rtl") : "calendar" === this.getModuleName() ? this.element.classList.remove("e-rtl") : this.calendarElement.classList.remove("e-rtl");
                    break;

                  case "start":
                  case "weekNumber":
                  case "firstDayOfWeek":
                    this.contentHdr(), this.contentBody();
                    break;

                  case "min":
                  case "max":
                    "min" === prop ? this.setProperties({
                        min: this.checkDateValue(new Date("" + newProp.min))
                    }, !0) : this.setProperties({
                        max: this.checkDateValue(new Date("" + newProp.max))
                    }, !0), this.setProperties({
                        start: this.currentView()
                    }, !0), detach(this.tableBodyElement), this.minMaxUpdate(), this.contentBody(), 
                    (this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement ? (detach(this.todayElement), 
                    detach(this.footer), this.todayElement = this.footer = void 0, this.contentFooter()) : this.todayElement.classList.contains("e-disabled") && this.footer && this.todayElement && removeClass([ this.todayElement ], DISABLED$4);
                    break;

                  case "locale":
                    this.globalize = new Internationalization(this.locale), this.contentHdr(), this.contentBody(), 
                    this.l10.setLocale(this.locale), this.updateFooter();
                    break;

                  case "showTodayButton":
                    newProp.showTodayButton ? this.contentFooter() : (detach(this.todayElement), detach(this.footer), 
                    this.todayElement = this.footer = void 0), this.setProperties({
                        showTodayButton: newProp.showTodayButton
                    }, !0);
                }
            }
        }, Calendar.prototype.setvalue = function() {
            detach(this.tableBodyElement), this.setProperties({
                start: this.currentView()
            }, !0), this.contentBody();
        }, Calendar.prototype.titleUpdate = function(date, view) {
            var globalize = new Internationalization(this.locale);
            switch (view) {
              case "days":
                this.headerTitleElement.textContent = globalize.formatDate(date, {
                    type: "dateTime",
                    skeleton: "yMMMM"
                });
                break;

              case "months":
                this.headerTitleElement.textContent = globalize.formatDate(date, {
                    type: "dateTime",
                    skeleton: "y"
                });
            }
        }, Calendar.prototype.setActiveDescendant = function() {
            var id, focusedEle = this.tableBodyElement.querySelector("tr td.e-focused-date"), selectedEle = this.tableBodyElement.querySelector("tr td.e-selected"), title = this.globalize.formatDate(this.currentDate, {
                type: "date",
                skeleton: "medium"
            });
            return (selectedEle || focusedEle) && ((focusedEle || selectedEle).setAttribute("aria-selected", "true"), 
            (focusedEle || selectedEle).setAttribute("aria-label", "The current focused date is " + title), 
            id = (focusedEle || selectedEle).getAttribute("id")), id;
        }, Calendar.prototype.iconHandler = function() {
            switch (new Date("" + this.currentDate).setDate(1), this.currentView()) {
              case "Month":
                this.previousIconHandler(this.compareMonth(new Date("" + this.currentDate), this.min) < 1), 
                this.nextIconHandler(this.compareMonth(new Date("" + this.currentDate), this.max) > -1);
                break;

              case "Year":
                this.previousIconHandler(this.compareYear(new Date("" + this.currentDate), this.min) < 1), 
                this.nextIconHandler(this.compareYear(new Date("" + this.currentDate), this.max) > -1);
                break;

              case "Decade":
                this.previousIconHandler(this.compareDecade(new Date("" + this.currentDate), this.min) < 1), 
                this.nextIconHandler(this.compareDecade(new Date("" + this.currentDate), this.max) > -1);
            }
        }, Calendar.prototype.destroy = function() {
            "calendar" === this.getModuleName() ? removeClass([ this.element ], [ ROOT$3 ]) : this.calendarElement && removeClass([ this.element ], [ ROOT$3 ]), 
            "calendar" === this.getModuleName() && (EventHandler.remove(this.headerTitleElement, "click", this.navTitle), 
            this.todayElement && EventHandler.remove(this.todayElement, "click", this.todayButtonClick), 
            this.previousIconHandler(!0), this.nextIconHandler(!0), this.keyboardModule.destroy()), 
            this.element.innerHTML = "", _super.prototype.destroy.call(this);
        }, Calendar.prototype.title = function(e) {
            var currentView = this.getViewNumber(this.currentView());
            this.effect = "e-zoomin", this.switchView(++currentView, e);
        }, Calendar.prototype.getViewNumber = function(stringVal) {
            return "Month" === stringVal ? 0 : "Year" === stringVal ? 1 : 2;
        }, Calendar.prototype.navTitle = function(e) {
            e.preventDefault(), this.title(e), "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.previous = function() {
            this.effect = "";
            var currentView = this.getViewNumber(this.currentView());
            switch (this.currentView()) {
              case "Month":
                this.addMonths(this.currentDate, -1), this.switchView(currentView);
                break;

              case "Year":
                this.addYears(this.currentDate, -1), this.switchView(currentView);
                break;

              case "Decade":
                this.addYears(this.currentDate, -10), this.switchView(currentView);
            }
        }, Calendar.prototype.navigatePrevious = function(e) {
            e.preventDefault(), this.previous(), this.triggerNavigate(e), "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.next = function() {
            this.effect = "";
            var currentView = this.getViewNumber(this.currentView());
            switch (this.currentView()) {
              case "Month":
                this.addMonths(this.currentDate, 1), this.switchView(currentView);
                break;

              case "Year":
                this.addYears(this.currentDate, 1), this.switchView(currentView);
                break;

              case "Decade":
                this.addYears(this.currentDate, 10), this.switchView(currentView);
            }
        }, Calendar.prototype.navigateNext = function(eve) {
            eve.preventDefault(), this.next(), this.triggerNavigate(eve), "calendar" === this.getModuleName() && this.table.focus();
        }, Calendar.prototype.navigateTo = function(view, date) {
            this.minMaxUpdate(), +date >= +this.min && +date <= +this.max && (this.currentDate = date), 
            +date <= +this.min && (this.currentDate = new Date("" + this.min)), +date >= +this.max && (this.currentDate = new Date("" + this.max)), 
            this.switchView(this.getViewNumber(view));
        }, Calendar.prototype.currentView = function() {
            return this.contentElement.classList.contains("e-year") ? "Year" : this.contentElement.classList.contains("e-decade") ? "Decade" : "Month";
        }, Calendar.prototype.getDateVal = function(date) {
            return !isNullOrUndefined(this.value) && date.getDate() === this.value.getDate() && date.getMonth() === this.value.getMonth() && date.getFullYear() === this.value.getFullYear();
        }, Calendar.prototype.getCultureObjects = function(ld, c) {
            return getValue("main." + this.locale + ".dates.calendars.gregorian.days.format.short", ld);
        }, Calendar.prototype.getWeek = function(d) {
            var currentDate = new Date("" + d).valueOf(), date = new Date(d.getFullYear(), 0, 1).valueOf(), a = currentDate - date;
            return Math.ceil((a / 864e5 + new Date(date).getDay() + 1) / 7);
        }, Calendar.prototype.setTime = function(date, time) {
            var d = new Date(date.getTime() + time);
            isNullOrUndefined(this.value) || 0 === this.value.getHours() && 0 === this.value.getSeconds() && 0 === this.value.getMinutes() ? date = new Date(date.setTime(d.getTime())) : date.setTime(d.getTime());
        }, Calendar.prototype.addMonths = function(date, i) {
            var day = date.getDate();
            date.setDate(1), date.setMonth(date.getMonth() + i), date.setDate(Math.min(day, this.getMaxDays(date)));
        }, Calendar.prototype.addYears = function(date, i) {
            var day = date.getDate();
            date.setDate(1), date.setFullYear(date.getFullYear() + i), date.setDate(Math.min(day, this.getMaxDays(date)));
        }, Calendar.prototype.getIdValue = function(e, element) {
            var eve;
            eve = e ? e.currentTarget : element;
            var dateFormatOptions = {
                type: "dateTime",
                skeleton: "medium"
            }, dateString = this.globalize.formatDate(new Date(parseInt("" + eve.getAttribute("id"), 0)), dateFormatOptions), date = this.globalize.parseDate(dateString, dateFormatOptions), value = date.valueOf() - date.valueOf() % 1e3;
            return new Date(value);
        }, Calendar.prototype.selectDate = function(e, date, element) {
            var ele = element || e.currentTarget;
            "Decade" === this.currentView() ? this.setDateDecade(this.currentDate, date.getFullYear()) : "Year" === this.currentView() ? this.setDateYear(this.currentDate, date) : (this.setProperties({
                value: new Date("" + date)
            }, !0), this.currentDate = new Date("" + date));
            var tableBodyElement = closest(ele, "." + ROOT$3);
            isNullOrUndefined(tableBodyElement) && (tableBodyElement = this.tableBodyElement), 
            isNullOrUndefined(tableBodyElement.querySelector(".e-selected")) || removeClass([ tableBodyElement.querySelector(".e-selected") ], "e-selected"), 
            isNullOrUndefined(tableBodyElement.querySelector(".e-focused-date")) || removeClass([ tableBodyElement.querySelector(".e-focused-date") ], "e-focused-date"), 
            addClass([ ele ], "e-selected"), this.changedArgs = {
                value: this.value
            }, this.changeHandler(e);
        }, Calendar.prototype.setAriaActivedescendant = function() {
            attributes(this.table, {
                "aria-activedescendant": "" + this.setActiveDescendant()
            });
        }, Calendar.prototype.previousIconHandler = function(disabled) {
            disabled ? (EventHandler.remove(this.previousIcon, "click", this.navigatePreviousHandler), 
            addClass([ this.previousIcon ], "e-disabled"), addClass([ this.previousIcon ], "e-overlay"), 
            this.previousIcon.setAttribute("aria-disabled", "true")) : (EventHandler.add(this.previousIcon, "click", this.navigatePreviousHandler), 
            removeClass([ this.previousIcon ], "e-disabled"), removeClass([ this.previousIcon ], "e-overlay"), 
            this.previousIcon.setAttribute("aria-disabled", "false"));
        }, Calendar.prototype.renderDayCellEvent = function(args) {
            extend(this.renderDaycellArg, {
                name: "renderDayCell"
            }), this.trigger("renderDayCell", args);
        }, Calendar.prototype.navigatedEvent = function(eve) {
            extend(this.navigatedArgs, {
                name: "navigated",
                event: eve
            }), this.trigger("navigated", this.navigatedArgs);
        }, Calendar.prototype.triggerNavigate = function(event) {
            this.navigatedArgs = {
                view: this.currentView(),
                date: this.currentDate
            }, this.navigatedEvent(event);
        }, Calendar.prototype.changeEvent = function(e) {
            this.trigger("change", this.changedArgs);
        }, Calendar.prototype.triggerChange = function(e) {
            this.changedArgs.event = e, isNullOrUndefined(this.value) || this.setProperties({
                value: this.value
            }, !0), +this.value !== Number.NaN && +this.value != +this.previousDate && this.changeEvent(e), 
            this.previousDate = this.value;
        }, Calendar.prototype.nextIconHandler = function(disabled) {
            disabled ? (EventHandler.remove(this.nextIcon, "click", this.navigateNextHandler), 
            addClass([ this.nextIcon ], DISABLED$4), addClass([ this.nextIcon ], "e-overlay"), 
            this.nextIcon.setAttribute("aria-disabled", "true")) : (EventHandler.add(this.nextIcon, "click", this.navigateNextHandler), 
            removeClass([ this.nextIcon ], DISABLED$4), removeClass([ this.nextIcon ], "e-overlay"), 
            this.nextIcon.setAttribute("aria-disabled", "false"));
        }, Calendar.prototype.compare = function(startDate, endDate, modifier) {
            var end, result, start = endDate.getFullYear();
            return end = start, result = 0, modifier && (end = (start -= start % modifier) - start % modifier + modifier - 1), 
            startDate.getFullYear() > end ? result = 1 : startDate.getFullYear() < start && (result = -1), 
            result;
        }, Calendar.prototype.isMinMaxRange = function(date) {
            return +date >= +this.min && +date <= +this.max;
        }, Calendar.prototype.compareYear = function(start, end) {
            return this.compare(start, end, 0);
        }, Calendar.prototype.compareDecade = function(start, end) {
            return this.compare(start, end, 10);
        }, Calendar.prototype.shiftArray = function(array, i) {
            return array.slice(i).concat(array.slice(0, i));
        }, Calendar.prototype.addDay = function(date, i, e, max, min) {
            var column = i, value = new Date(+date);
            if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {
                for (;this.findNextTD(new Date(+date), column, max, min); ) column += i;
                var rangeValue = new Date(value.setDate(value.getDate() + column));
                column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;
            }
            date.setDate(date.getDate() + column);
        }, Calendar.prototype.findNextTD = function(date, column, max, min) {
            var value = new Date(date.setDate(date.getDate() + column)), collection = [], isDisabled = !1;
            if ((!isNullOrUndefined(value) && value.getMonth()) !== (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {
                collection = this.renderDays(value, null).filter(function(ele) {
                    return ele.classList.contains(DISABLED$4);
                });
            } else collection = this.tableBodyElement.querySelectorAll("td.e-disabled");
            if (+value <= +max && +value >= +min && collection.length) for (var i = 0; i < collection.length && !(isDisabled = +value == +new Date(parseInt(collection[i].id, 0))); i++) ;
            return isDisabled;
        }, Calendar.prototype.getMaxDays = function(d) {
            var date, month, tmpDate = new Date("" + d);
            for (date = 28, month = tmpDate.getMonth(); tmpDate.getMonth() === month; ) ++date, 
            tmpDate.setDate(date);
            return date - 1;
        }, Calendar.prototype.setDateDecade = function(date, year) {
            date.setFullYear(year), this.setProperties({
                value: new Date("" + date)
            }, !0);
        }, Calendar.prototype.setDateYear = function(date, value) {
            date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate()), value.getMonth() !== date.getMonth() && date.setDate(0), 
            this.setProperties({
                value: new Date("" + date)
            }, !0), this.currentDate = new Date("" + this.value);
        }, Calendar.prototype.compareMonth = function(start, end) {
            return start.getFullYear() > end.getFullYear() ? 1 : start.getFullYear() < end.getFullYear() ? -1 : start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;
        }, __decorate$12([ Property(null) ], Calendar.prototype, "value", void 0), __decorate$12([ Property(new Date(1900, 0, 1)) ], Calendar.prototype, "min", void 0), 
        __decorate$12([ Property(new Date(2099, 11, 31)) ], Calendar.prototype, "max", void 0), 
        __decorate$12([ Property(0) ], Calendar.prototype, "firstDayOfWeek", void 0), __decorate$12([ Property("Month") ], Calendar.prototype, "start", void 0), 
        __decorate$12([ Property("Month") ], Calendar.prototype, "depth", void 0), __decorate$12([ Property(!1) ], Calendar.prototype, "weekNumber", void 0), 
        __decorate$12([ Property(!0) ], Calendar.prototype, "showTodayButton", void 0), 
        __decorate$12([ Event() ], Calendar.prototype, "created", void 0), __decorate$12([ Event() ], Calendar.prototype, "destroyed", void 0), 
        __decorate$12([ Event() ], Calendar.prototype, "change", void 0), __decorate$12([ Event() ], Calendar.prototype, "navigated", void 0), 
        __decorate$12([ Event() ], Calendar.prototype, "renderDayCell", void 0), Calendar = __decorate$12([ NotifyPropertyChanges ], Calendar);
    }(Component), __extends$1$6 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$1$6 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, DatePicker = function(_super) {
        function DatePicker(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.previousEleValue = "", _this.isDateIconClicked = !1, _this.keyConfigs = {
                altUpArrow: "alt+uparrow",
                altDownArrow: "alt+downarrow",
                escape: "escape",
                enter: "enter",
                controlUp: "ctrl+38",
                controlDown: "ctrl+40",
                moveDown: "downarrow",
                moveUp: "uparrow",
                moveLeft: "leftarrow",
                moveRight: "rightarrow",
                select: "enter",
                home: "home",
                end: "end",
                pageUp: "pageup",
                pageDown: "pagedown",
                shiftPageUp: "shift+pageup",
                shiftPageDown: "shift+pagedown",
                controlHome: "ctrl+home",
                controlEnd: "ctrl+end",
                tab: "tab"
            }, _this.calendarKeyConfigs = {
                escape: "escape",
                enter: "enter",
                tab: "tab"
            }, _this;
        }
        return __extends$1$6(DatePicker, _super), DatePicker.prototype.render = function() {
            this.initialize(), this.bindEvents();
        }, DatePicker.prototype.initialize = function() {
            this.createInput(), this.updateInput(), this.previousEleValue = this.inputElement.value;
        }, DatePicker.prototype.createInput = function() {
            var ariaAttrs = {
                "aria-live": "assertive",
                "aria-atomic": "true",
                "aria-haspopup": "true",
                "aria-activedescendant": "null",
                "aria-owns": this.inputElement.id + "_options",
                "aria-expanded": "false",
                role: "combobox",
                autocomplete: "off"
            };
            if ("datepicker" === this.getModuleName()) {
                this.globalize = new Internationalization(this.locale), this.l10n = new L10n("datepicker", {
                    placeholder: null
                }, this.locale), this.setProperties({
                    placeholder: this.placeholder || this.l10n.getConstant("placeholder")
                }, !0);
            }
            this.inputWrapper = Input.createInput({
                element: this.inputElement,
                customTag: this.ngTag,
                floatLabelType: this.floatLabelType,
                properties: {
                    readonly: this.readonly,
                    placeholder: this.placeholder,
                    cssClass: this.cssClass,
                    enabled: this.enabled,
                    enableRtl: this.enableRtl,
                    showClearButton: this.showClearButton
                },
                buttons: [ "e-input-group-icon e-date-icon e-icons" ]
            }), this.setWidth(this.width), "" !== this.inputElement.name ? this.inputElement.setAttribute("name", "" + this.inputElement.getAttribute("name")) : this.inputElement.setAttribute("name", "" + this.inputElement.id), 
            attributes(this.inputElement, ariaAttrs), this.enabled || this.inputElement.setAttribute("aria-disabled", "true"), 
            Input.addAttributes({
                "aria-label": "select"
            }, this.inputWrapper.buttons[0]), addClass([ this.inputWrapper.container ], "e-date-wrapper");
        }, DatePicker.prototype.updateInput = function() {
            if (this.value && !this.isCalendar() && this.disabledDates(), +new Date("" + this.value)) {
                if ("string" == typeof this.value) {
                    this.value = this.checkDateValue(new Date("" + this.value));
                    var dateOptions = void 0;
                    dateOptions = "datetimepicker" === this.getModuleName() ? {
                        format: isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format,
                        type: "dateTime",
                        skeleton: "yMd"
                    } : {
                        format: this.format,
                        type: "dateTime",
                        skeleton: "yMd"
                    };
                    var dateString = this.globalize.formatDate(this.value, dateOptions);
                    this.setProperties({
                        value: this.globalize.parseDate(dateString, dateOptions)
                    }, !0);
                }
            } else this.setProperties({
                value: null
            }, !0);
            if (this.strictMode && _super.prototype.processDate.call(this), !isNullOrUndefined(this.value)) {
                var dateValue = this.value, tempFormat = (dateString = void 0, isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format);
                if (dateString = "datetimepicker" === this.getModuleName() ? this.globalize.formatDate(this.value, {
                    format: tempFormat,
                    type: "dateTime",
                    skeleton: "yMd"
                }) : this.globalize.formatDate(this.value, {
                    format: this.format,
                    type: "dateTime",
                    skeleton: "yMd"
                }), +dateValue <= +this.max && +dateValue >= +this.min) Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton); else {
                    var value = +dateValue >= +this.max || !+this.value || !+this.value || +dateValue <= +this.min;
                    !this.strictMode && value && Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);
                }
            }
            isNullOrUndefined(this.value) && this.strictMode && Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton), 
            this.changedArgs = {
                value: this.value
            }, this.errorClass();
        }, DatePicker.prototype.bindEvents = function() {
            this.enabled ? (EventHandler.add(this.inputWrapper.buttons[0], "mousedown touchstart", this.dateIconHandler, this), 
            EventHandler.add(this.inputElement, "focus", this.inputFocusHandler, this), EventHandler.add(this.inputElement, "blur", this.inputBlurHandler, this), 
            this.bindClearEvent()) : (EventHandler.remove(this.inputWrapper.buttons[0], "mousedown touchstart", this.dateIconHandler), 
            EventHandler.remove(this.inputElement, "focus", this.inputFocusHandler), EventHandler.remove(this.inputElement, "blur", this.inputBlurHandler)), 
            this.keyboardModules = new KeyboardEvents(this.inputElement, {
                eventName: "keydown",
                keyAction: this.inputKeyActionHandle.bind(this),
                keyConfigs: this.keyConfigs
            });
        }, DatePicker.prototype.bindClearEvent = function() {
            this.showClearButton && EventHandler.add(this.inputWrapper.clearButton, "mousedown touchstart", this.resetHandler, this);
        }, DatePicker.prototype.resetHandler = function(e) {
            e.preventDefault(), this.clear(e);
        }, DatePicker.prototype.clear = function(event) {
            this.setProperties({
                value: null
            }, !0), Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton), 
            this.changeEvent(event);
        }, DatePicker.prototype.dateIconHandler = function(e) {
            e.preventDefault(), this.readonly || (this.isCalendar() ? this.hide() : (this.isDateIconClicked = !0, 
            this.show(), Browser.isDevice || ("datetimepicker" === this.getModuleName() && this.inputElement.focus(), 
            this.inputElement.focus(), addClass([ this.inputWrapper.container ], [ "e-input-focus" ])), 
            addClass(this.inputWrapper.buttons, "e-active")));
        }, DatePicker.prototype.CalendarKeyActionHandle = function(e) {
            switch (e.action) {
              case "escape":
                this.isCalendar() ? this.hide() : this.inputWrapper.container.children[this.index].blur();
                break;

              case "enter":
                this.isCalendar() ? +this.value == +this.currentDate || this.isCalendar() || this.inputWrapper.container.children[this.index].focus() : this.show(), 
                "datetimepicker" === this.getModuleName() && this.inputElement.focus();
                break;

              case "tab":
                this.hide();
            }
        }, DatePicker.prototype.inputFocusHandler = function() {
            this.isDateIconClicked = !1, this.trigger("focus");
        }, DatePicker.prototype.inputBlurHandler = function() {
            this.strictModeUpdate(), this.updateInput(), this.changeTrigger(), this.errorClass(), 
            this.isCalendar() && document.activeElement === this.inputElement && this.hide(), 
            this.inputElement.blur(), this.trigger("blur"), this.isCalendar() && (this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {
                eventName: "keydown",
                keyAction: this.CalendarKeyActionHandle.bind(this),
                keyConfigs: this.calendarKeyConfigs
            }));
        }, DatePicker.prototype.documentHandler = function(e) {
            Browser.isDevice || e.preventDefault();
            var target = e.target;
            closest(target, ".e-datepicker.e-popup-wrapper") || closest(target, ".e-input-group") === this.inputWrapper.container || target.classList.contains("e-day") || this.hide();
        }, DatePicker.prototype.inputKeyActionHandle = function(e) {
            switch (e.action) {
              case "altUpArrow":
                this.hide(), this.inputElement.focus();
                break;

              case "altDownArrow":
                this.strictModeUpdate(), this.updateInput(), "datepicker" === this.getModuleName() && this.show();
                break;

              case "escape":
                this.hide();
                break;

              case "enter":
                this.strictModeUpdate(), this.updateInput(), this.changeTrigger(), this.errorClass(), 
                this.isCalendar() || document.activeElement !== this.inputElement || this.hide();
                break;

              case "tab":
                this.strictModeUpdate(), this.updateInput(), this.changeTrigger(), this.errorClass(), 
                this.hide();
                break;

              default:
                this.previousDate = !isNullOrUndefined(this.value) && new Date("" + this.value) || null, 
                this.isCalendar() && _super.prototype.keyActionHandle.call(this, e);
            }
        }, DatePicker.prototype.strictModeUpdate = function() {
            var format;
            if (format = "datetimepicker" === this.getModuleName() ? isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format : isNullOrUndefined(this.format) ? this.format : this.format.replace("dd", "d"), 
            !isNullOrUndefined(format)) {
                format.split("M").length - 1 < 3 && (format = format.replace("MM", "M"));
            }
            var dateOptions;
            dateOptions = "datetimepicker" === this.getModuleName() ? {
                format: isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format,
                type: "dateTime",
                skeleton: "yMd"
            } : {
                format: format,
                type: "dateTime",
                skeleton: "yMd"
            };
            var date = this.globalize.parseDate(this.inputElement.value, dateOptions);
            this.strictMode && date ? (Input.setValue(this.globalize.formatDate(date, dateOptions), this.inputElement, this.floatLabelType, this.showClearButton), 
            this.inputElement.value !== this.previousEleValue && this.setProperties({
                value: date
            }, !0)) : this.strictMode || this.inputElement.value !== this.previousEleValue && this.setProperties({
                value: date
            }, !0), this.strictMode && !date && "" === this.inputElement.value && this.setProperties({
                value: null
            }, !0), isNaN(+this.value) && this.setProperties({
                value: null
            }, !0), isNullOrUndefined(this.value) && (this.currentDate = new Date(new Date().setHours(0, 0, 0, 0)));
        }, DatePicker.prototype.createCalendar = function() {
            var _this = this;
            this.popupWrapper = createElement("div", {
                className: "e-datepicker e-popup-wrapper"
            }), isNullOrUndefined(this.cssClass) || this.popupWrapper.classList.add(this.cssClass), 
            document.body.appendChild(this.popupWrapper), Browser.isDevice && (this.modelHeader(), 
            this.modal = createElement("div"), this.modal.className = "e-datepicker e-date-modal", 
            document.body.className += " e-date-overflow", this.modal.style.display = "block", 
            document.body.appendChild(this.modal)), this.calendarElement.querySelector("table tbody").className = "", 
            this.popupObj = new Popup(this.popupWrapper, {
                content: this.calendarElement,
                relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,
                position: Browser.isDevice ? {
                    X: "center",
                    Y: "center"
                } : {
                    X: "left",
                    Y: "bottom"
                },
                offsetY: 4,
                targetType: "container",
                enableRtl: this.enableRtl,
                zIndex: this.zIndex,
                collision: Browser.isDevice ? {
                    X: "fit",
                    Y: "fit"
                } : {
                    X: "flip",
                    Y: "flip"
                },
                open: function() {
                    "datetimepicker" !== _this.getModuleName() && (document.activeElement === _this.inputElement || Browser.isDevice || (_this.calendarElement.children[1].firstElementChild.focus(), 
                    _this.calendarKeyboardModules = new KeyboardEvents(_this.calendarElement.children[1].firstElementChild, {
                        eventName: "keydown",
                        keyAction: _this.CalendarKeyActionHandle.bind(_this),
                        keyConfigs: _this.calendarKeyConfigs
                    }), _this.calendarKeyboardModules = new KeyboardEvents(_this.inputWrapper.container.children[_this.index], {
                        eventName: "keydown",
                        keyAction: _this.CalendarKeyActionHandle.bind(_this),
                        keyConfigs: _this.calendarKeyConfigs
                    })));
                },
                close: function() {
                    Browser.isDevice || _this.isDateIconClicked && _this.inputWrapper.container.children[_this.index].focus(), 
                    _this.value && _this.disabledDates(), _this.popupObj.destroy(), detach(_this.popupWrapper), 
                    _this.popupObj = _this.popupWrapper = null, _this.setAriaAttributes();
                }
            }), this.popupObj.element.classList.add(this.cssClass), this.setAriaAttributes();
        }, DatePicker.prototype.modelHeader = function() {
            var modelHeader = createElement("div", {
                className: "e-model-header"
            }), yearHeading = createElement("h1", {
                className: "e-model-year"
            }), h2 = createElement("div"), daySpan = createElement("span", {
                className: "e-model-day"
            }), monthSpan = createElement("span", {
                className: "e-model-month"
            });
            yearHeading.textContent = "" + this.globalize.formatDate(this.value || new Date(), {
                format: "y",
                skeleton: "dateTime"
            }), daySpan.textContent = this.globalize.formatDate(this.value || new Date(), {
                format: "E",
                skeleton: "dateTime"
            }) + ", ", monthSpan.textContent = "" + this.globalize.formatDate(this.value || new Date(), {
                format: "MMM d",
                skeleton: "dateTime"
            }), modelHeader.appendChild(yearHeading), h2.appendChild(daySpan), h2.appendChild(monthSpan), 
            modelHeader.appendChild(h2), this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);
        }, DatePicker.prototype.changeTrigger = function() {
            this.inputElement.value !== this.previousEleValue && (this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()) && (this.changedArgs.value = this.value, 
            this.trigger("change", this.changedArgs), this.previousEleValue = this.inputElement.value, 
            this.previousDate = new Date("" + this.value));
        }, DatePicker.prototype.navigatedEvent = function() {
            this.trigger("navigated", this.navigatedArgs);
        }, DatePicker.prototype.changeEvent = function(e) {
            this.selectCalendar(e), this.changedArgs.event = e, this.trigger("change", this.changedArgs), 
            this.previousDate = this.value;
        }, DatePicker.prototype.selectCalendar = function(e) {
            var date, tempFormat;
            tempFormat = "datetimepicker" === this.getModuleName() && isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format, 
            this.value && (date = "datetimepicker" === this.getModuleName() ? this.globalize.formatDate(this.changedArgs.value, {
                format: tempFormat,
                type: "dateTime",
                skeleton: "yMd"
            }) : this.globalize.formatDate(this.changedArgs.value, {
                format: this.format,
                type: "dateTime",
                skeleton: "yMd"
            })), isNullOrUndefined(date) || Input.setValue(date, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.hide(), this.previousEleValue = this.inputElement.value, this.errorClass();
        }, DatePicker.prototype.isCalendar = function() {
            return !(!this.popupWrapper || !this.popupWrapper.classList.contains("e-popup-wrapper"));
        }, DatePicker.prototype.setWidth = function(width) {
            this.inputWrapper.container.style.width = "number" == typeof width ? formatUnit(this.width) : "string" == typeof width ? this.width : "100%";
        }, DatePicker.prototype.show = function() {
            var outOfRange, prevent = !0;
            isNullOrUndefined(this.value) || +this.value >= +this.min && +this.value <= +this.max ? outOfRange = this.value || null : (outOfRange = new Date("" + this.value), 
            this.setProperties({
                value: null
            }, !0)), this.isCalendar() || (_super.prototype.render.call(this), this.setProperties({
                value: outOfRange || null
            }, !0), this.previousDate = outOfRange, this.createCalendar()), this.preventArgs = {
                preventDefault: function() {
                    prevent = !1;
                }
            };
            var args = {
                popup: this.popupObj
            };
            if (merge(args, this.preventArgs), this.trigger("open", args), prevent) {
                addClass(this.inputWrapper.buttons, "e-active"), document.body.appendChild(this.popupObj.element), 
                this.popupObj.refreshPosition(this.inputElement);
                var openAnimation = {
                    name: "FadeIn",
                    duration: Browser.isDevice ? 0 : 300
                };
                this.popupObj.show(new Animation(openAnimation)), this.setAriaAttributes();
            } else detach(this.popupWrapper), this.popupObj.destroy(), this.popupWrapper = this.popupObj = null;
            EventHandler.add(document, "mousedown touchstart", this.documentHandler, this);
        }, DatePicker.prototype.hide = function() {
            var args = {
                popup: this.popupObj
            };
            this.preventArgs = {
                preventDefault: function() {
                    prevent = !1;
                }
            };
            var prevent = !0;
            removeClass(this.inputWrapper.buttons, "e-active"), removeClass([ document.body ], "e-date-overflow"), 
            merge(args, this.preventArgs), this.trigger("close", args), this.isCalendar() && prevent && (this.popupObj.hide(), 
            this.keyboardModule.destroy(), removeClass(this.inputWrapper.buttons, "e-active")), 
            this.setAriaAttributes(), this.previousEleValue = this.inputElement.value, Browser.isDevice && this.modal && (this.modal.style.display = "none", 
            this.modal.outerHTML = "", this.modal = null), EventHandler.remove(document, "mousedown touchstart", this.documentHandler);
        }, DatePicker.prototype.focusIn = function(triggerEvent) {
            this.inputElement.focus(), addClass([ this.inputWrapper.container ], [ "e-input-focus" ]), 
            this.trigger("focus");
        }, DatePicker.prototype.focusOut = function() {
            this.inputElement.blur(), removeClass([ this.inputWrapper.container ], [ "e-input-focus" ]), 
            this.trigger("blur");
        }, DatePicker.prototype.currentView = function() {
            var currentView;
            return this.calendarElement && (currentView = _super.prototype.currentView.call(this)), 
            currentView;
        }, DatePicker.prototype.navigateTo = function(view, date) {
            this.calendarElement && _super.prototype.navigateTo.call(this, view, date);
        }, DatePicker.prototype.destroy = function() {
            _super.prototype.destroy.call(this), this.keyboardModules.destroy(), this.popupObj && this.popupObj.element.classList.contains("e-popup") && _super.prototype.destroy.call(this);
            var ariaAttrs = {
                "aria-live": "assertive",
                "aria-atomic": "true",
                "aria-haspopup": "true",
                "aria-activedescendant": "null",
                "aria-owns": this.inputElement.id + "_options",
                "aria-expanded": "false",
                role: "combobox",
                autocomplete: "off"
            };
            Input.removeAttributes(ariaAttrs, this.inputElement), this.isCalendar() && (detach(this.popupWrapper), 
            this.popupObj = this.popupWrapper = null, this.keyboardModule.destroy()), EventHandler.remove(this.inputElement, "blur", this.inputBlurHandler), 
            EventHandler.remove(this.inputElement, "focus", this.inputFocusHandler), this.inputWrapper.container.insertAdjacentElement("afterend", this.inputEleCopy), 
            removeClass([ this.inputElement ], [ "e-datepicker", "e-rtl", "e-input" ]), removeClass([ this.inputWrapper.container ], "e-date-wrapper"), 
            detach(this.inputWrapper.container);
        }, DatePicker.prototype.preRender = function() {
            this.inputEleCopy = this.element, this.inputElement = this.element, this.index = this.showClearButton ? 2 : 1;
            var ej2Instance = getValue("ej2_instances", this.element);
            if (this.ngTag = null, "EJS-DATEPICKER" === this.element.tagName || "EJS-DATETIMEPICKER" === this.element.tagName) {
                this.ngTag = this.element.tagName;
                for (var inputElement = createElement("input"), index = 0; index < this.element.attributes.length; index++) inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue), 
                inputElement.innerHTML = this.element.innerHTML;
                this.element.parentNode.appendChild(inputElement), this.element.parentNode.removeChild(this.element), 
                this.inputElement = inputElement, setValue("ej2_instances", ej2Instance, this.inputElement);
            }
            this.element.getAttribute("id") ? this.inputElement.id = this.element.getAttribute("id") : "datetimepicker" === this.getModuleName() ? (this.inputElement.id = getUniqueID("ej2-datetimepicker"), 
            attributes(this.element, {
                id: this.inputElement.id
            })) : (this.inputElement.id = getUniqueID("ej2-datepicker"), attributes(this.element, {
                id: this.inputElement.id
            })), this.checkHtmlAttributes(), _super.prototype.preRender.call(this);
        }, DatePicker.prototype.checkHtmlAttributes = function() {
            this.globalize = new Internationalization(this.locale);
            var options;
            options = "datetimepicker" === this.getModuleName() ? {
                format: isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format,
                type: "dateTime",
                skeleton: "yMd"
            } : {
                format: this.format,
                type: "dateTime",
                skeleton: "yMd"
            };
            for (var _i = 0, attributes_1 = [ "value", "min", "max", "disabled", "readonly", "style", "name", "placeholder", "type" ]; _i < attributes_1.length; _i++) {
                var prop = attributes_1[_i];
                if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) switch (prop) {
                  case "disabled":
                    var enabled = "disabled" === this.inputElement.getAttribute(prop) || "" === this.inputElement.getAttribute(prop);
                    this.setProperties({
                        enabled: enabled
                    }, !0), enabled || this.inputElement.setAttribute("aria-disabled", "true");
                    break;

                  case "readonly":
                    var readonly = "readonly" === this.inputElement.getAttribute(prop) || "" === this.inputElement.getAttribute(prop);
                    this.setProperties({
                        readonly: readonly
                    }, !0);
                    break;

                  case "placeholder":
                    if (null === this.placeholder) {
                        this.inputElement.getAttribute(prop);
                        this.setProperties({
                            placeholder: this.inputElement.getAttribute(prop)
                        }, !0);
                    }
                    break;

                  case "style":
                    this.inputElement.setAttribute("style", "" + this.inputElement.getAttribute(prop));
                    break;

                  case "name":
                    this.inputElement.setAttribute("name", "" + this.inputElement.getAttribute(prop));
                    break;

                  case "value":
                    if (!this.value) {
                        var value = this.inputElement.getAttribute(prop);
                        this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !0);
                    }
                    break;

                  case "min":
                    +this.min == +new Date(1900, 0, 1) && this.setProperties(setValue(prop, this.globalize.parseDate(this.inputElement.getAttribute(prop)), {}), !0);
                    break;

                  case "max":
                    +this.max == +new Date(2099, 11, 31) && this.setProperties(setValue(prop, this.globalize.parseDate(this.inputElement.getAttribute(prop)), {}), !0);
                    break;

                  case "type":
                    "text" !== this.inputElement.getAttribute(prop) && this.inputElement.setAttribute("type", "text");
                }
            }
        }, DatePicker.prototype.getModuleName = function() {
            return "datepicker";
        }, DatePicker.prototype.disabledDates = function() {
            var valueCopy = new Date("" + this.value), previousValCopy = this.previousDate;
            _super.prototype.render.call(this), this.previousDate = previousValCopy;
            var dateIdString = '*[id^="/id"]'.replace("/id", "" + (valueCopy && +valueCopy));
            this.strictMode || this.setProperties({
                value: valueCopy
            }, !0), isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0]) || this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains("e-disabled") && (this.strictMode || (this.setProperties({
                value: null
            }, !0), this.currentDate = new Date(new Date().setHours(0, 0, 0, 0))));
            var inputVal;
            inputVal = "datetimepicker" === this.getModuleName() ? this.globalize.formatDate(valueCopy, {
                format: isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format,
                type: "dateTime",
                skeleton: "yMd"
            }) : this.globalize.formatDate(valueCopy, {
                format: this.format,
                type: "dateTime",
                skeleton: "yMd"
            }), Input.setValue(inputVal, this.inputElement, this.floatLabelType, this.showClearButton);
        }, DatePicker.prototype.setAriaAttributes = function() {
            this.isCalendar() ? (Input.addAttributes({
                "aria-expanded": "true"
            }, this.inputElement), attributes(this.inputElement, {
                "aria-activedescendant": "" + this.setActiveDescendant()
            })) : (Input.addAttributes({
                "aria-expanded": "false"
            }, this.inputElement), attributes(this.inputElement, {
                "aria-activedescendant": "null"
            }));
        }, DatePicker.prototype.errorClass = function() {
            !isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max) || !this.strictMode && "" !== this.inputElement.value && isNullOrUndefined(this.value) ? addClass([ this.inputWrapper.container ], "e-error") : removeClass([ this.inputWrapper.container ], "e-error");
        }, DatePicker.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var options = {
                format: this.format,
                type: "dateTime",
                skeleton: "yMd"
            }, _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "value":
                    "string" == typeof newProp.value && (newProp.value = this.globalize.parseDate(newProp.value, options)), 
                    this.setProperties({
                        value: newProp.value
                    }, !0), this.previousEleValue = this.inputElement.value, isNullOrUndefined(this.value) && (Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton), 
                    this.currentDate = new Date(new Date().setHours(0, 0, 0, 0))), this.updateInput(), 
                    this.changeTrigger();
                    break;

                  case "format":
                    this.updateInput();
                    break;

                  case "placeholder":
                    Input.setPlaceholder(this.placeholder, this.inputElement);
                    break;

                  case "readonly":
                    Input.setReadonly(this.readonly, this.inputElement);
                    break;

                  case "enabled":
                    Input.setEnabled(this.enabled, this.inputElement), this.bindEvents();
                    break;

                  case "locale":
                    this.globalize = new Internationalization(this.locale), this.l10n.setLocale(this.locale), 
                    this.setProperties({
                        placeholder: this.l10n.getConstant("placeholder")
                    }, !0), Input.setPlaceholder(this.placeholder, this.inputElement), this.updateInput();
                    break;

                  case "enableRtl":
                    Input.setEnableRtl(this.enableRtl, [ this.inputWrapper.container ]);
                    break;

                  case "zIndex":
                    this.setProperties({
                        zIndex: newProp.zIndex
                    }, !0);
                    break;

                  case "cssClass":
                    Input.setCssClass(newProp.cssClass, [ this.inputWrapper.container ]), this.popupWrapper && addClass([ this.popupWrapper ], [ newProp.cssClass ]);
                    break;

                  case "strictMode":
                    this.updateInput();
                    break;

                  case "width":
                    this.setWidth(newProp.width);
                    break;

                  default:
                    this.calendarElement && _super.prototype.onPropertyChanged.call(this, newProp, oldProp);
                }
                this.hide();
            }
        }, __decorate$1$6([ Property(null) ], DatePicker.prototype, "width", void 0), __decorate$1$6([ Property(null) ], DatePicker.prototype, "cssClass", void 0), 
        __decorate$1$6([ Property(!1) ], DatePicker.prototype, "strictMode", void 0), __decorate$1$6([ Property(null) ], DatePicker.prototype, "format", void 0), 
        __decorate$1$6([ Property(!0) ], DatePicker.prototype, "enabled", void 0), __decorate$1$6([ Property(!0) ], DatePicker.prototype, "showClearButton", void 0), 
        __decorate$1$6([ Property(1e3) ], DatePicker.prototype, "zIndex", void 0), __decorate$1$6([ Property(!1) ], DatePicker.prototype, "readonly", void 0), 
        __decorate$1$6([ Property(null) ], DatePicker.prototype, "placeholder", void 0), 
        __decorate$1$6([ Property("Never") ], DatePicker.prototype, "floatLabelType", void 0), 
        __decorate$1$6([ Event() ], DatePicker.prototype, "open", void 0), __decorate$1$6([ Event() ], DatePicker.prototype, "close", void 0), 
        __decorate$1$6([ Event() ], DatePicker.prototype, "blur", void 0), __decorate$1$6([ Event() ], DatePicker.prototype, "focus", void 0), 
        __decorate$1$6([ Event() ], DatePicker.prototype, "created", void 0), __decorate$1$6([ Event() ], DatePicker.prototype, "destroyed", void 0), 
        DatePicker = __decorate$1$6([ NotifyPropertyChanges ], DatePicker);
    }(Calendar$1);
    (function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    })(), cssClass.li, function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    }(), new Date().getDate(), new Date().getMonth(), new Date().getFullYear(), cssClass.li;
    !function(TimePickerBase) {
        TimePickerBase.createListItems = function(min, max, globalize, timeFormat, step) {
            var start, end, interval = 6e4 * step, listItems = [], timeCollections = [];
            for (start = +min.setMilliseconds(0), end = +max.setMilliseconds(0); end >= start; ) timeCollections.push(start), 
            listItems.push(globalize.formatDate(new Date(start), {
                format: timeFormat,
                type: "time"
            })), start += interval;
            return {
                collection: timeCollections,
                list: ListBase.createList(listItems, null, !0)
            };
        };
    }(TimePickerBase || (TimePickerBase = {}));
    (function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    })(), new Date().getDate(), new Date().getMonth(), new Date().getFullYear(), new Date().getHours(), 
    new Date().getMinutes(), new Date().getSeconds(), new Date().getMilliseconds(), 
    cssClass.li;
    var Global, DateFilterUI = function() {
        function DateFilterUI(parent, serviceLocator, filterSettings) {
            this.parent = parent, this.locator = serviceLocator, this.fltrSettings = filterSettings;
        }
        return DateFilterUI.prototype.create = function(args) {
            var intl = new Internationalization(), colFormat = args.column.format, format = intl.getDatePattern({
                type: "date",
                skeleton: colFormat
            }, !1);
            this.dialogObj = args.dialogObj, this.inputElem = createElement("input", {
                className: "e-flmenu-input",
                id: "dateui-" + args.column.uid
            }), args.target.appendChild(this.inputElem), this.datePickerObj = new DatePicker({
                format: format,
                cssClass: "e-popup-flmenu",
                placeholder: args.localizeText.getConstant("ChooseDate"),
                width: "100%",
                locale: this.parent.locale,
                enableRtl: this.parent.enableRtl,
                open: this.openPopup.bind(this)
            }), this.datePickerObj.appendTo(this.inputElem);
        }, DateFilterUI.prototype.write = function(args) {
            this.fltrSettings.columns;
            document.querySelector("#dateui-" + args.column.uid).ej2_instances[0].value = isNullOrUndefined(args.filteredValue) ? null : new Date(args.filteredValue);
        }, DateFilterUI.prototype.read = function(element, column, filterOptr, filterObj) {
            var filterValue = document.querySelector("#dateui-" + column.uid).ej2_instances[0].value;
            filterValue = isNullOrUndefined(filterValue) ? null : filterValue, filterObj.filterByColumn(column.field, filterOptr, filterValue, "and", !0);
        }, DateFilterUI.prototype.openPopup = function(args) {
            args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();
        }, DateFilterUI;
    }(), FilterMenuRenderer = function() {
        function FilterMenuRenderer(parent, filterSettings, serviceLocator, customFltrOperators, fltrObj) {
            this.isDialogOpen = !1, this.colTypes = {
                string: StringFilterUI,
                number: NumberFilterUI,
                date: DateFilterUI,
                boolean: BooleanFilterUI,
                datetime: DateFilterUI
            }, this.parent = parent, this.filterSettings = filterSettings, this.serviceLocator = serviceLocator, 
            this.customFilterOperators = customFltrOperators, this.filterObj = fltrObj, this.flMuiObj = new FlMenuOptrUI(this.parent, this.customFilterOperators, this.serviceLocator), 
            this.l10n = this.serviceLocator.getService("localization");
        }
        return FilterMenuRenderer.prototype.openDialog = function(args) {
            this.col = this.parent.getColumnByField(args.field), (isNullOrUndefined(this.col.filter) || isNullOrUndefined(this.col.filter.type) || "Menu" === this.col.filter.type) && this.renderDlgContent(args.target, this.col);
        }, FilterMenuRenderer.prototype.closeDialog = function() {
            var elem = document.getElementById(this.dlgObj.element.id);
            this.dlgObj && !this.dlgObj.isDestroyed && elem && (this.parent.notify("filter-menu-close", {
                field: this.col.field
            }), this.isDialogOpen = !1, this.dlgObj.destroy(), remove(elem));
        }, FilterMenuRenderer.prototype.renderDlgContent = function(target, column) {
            var args = {
                requestType: "filterbeforeopen",
                filterModel: this,
                columnName: column.field,
                columnType: column.type
            };
            this.parent.trigger(actionBegin, args);
            var mainDiv = createElement("div", {
                className: "e-flmenu-maindiv",
                id: column.uid + "-flmenu"
            });
            this.dlgDiv = createElement("div", {
                className: "e-flmenu",
                id: column.uid + "-flmdlg"
            }), this.parent.element.appendChild(this.dlgDiv), this.dlgObj = new Dialog({
                showCloseIcon: !1,
                closeOnEscape: !1,
                locale: this.parent.locale,
                visible: !1,
                enableRtl: this.parent.enableRtl,
                created: this.dialogCreated.bind(this, target, column),
                position: this.parent.element.classList.contains("e-device") ? {
                    X: "center",
                    Y: "center"
                } : {
                    X: "",
                    Y: ""
                },
                target: this.parent.element.classList.contains("e-device") ? document.body : this.parent.element,
                buttons: [ {
                    click: this.filterBtnClick.bind(this, column),
                    buttonModel: {
                        content: this.l10n.getConstant("FilterButton"),
                        isPrimary: !0,
                        cssClass: "e-flmenu-okbtn"
                    }
                }, {
                    click: this.clearBtnClick.bind(this, column),
                    buttonModel: {
                        content: this.l10n.getConstant("ClearButton"),
                        cssClass: "e-flmenu-cancelbtn"
                    }
                } ],
                content: mainDiv,
                width: !isNullOrUndefined(parentsUntil(target, "e-bigger")) || this.parent.element.classList.contains("e-device") ? 260 : 250,
                animationSettings: {
                    effect: "None"
                },
                cssClass: "e-filter-popup"
            }), this.dlgObj.appendTo(this.dlgDiv);
        }, FilterMenuRenderer.prototype.dialogCreated = function(target, column) {
            Browser.isDevice || getFilterMenuPostion(target, this.dlgObj, this.parent), this.renderFilterUI(target, column), 
            this.parent.notify("filterDialogCreated", {}), this.dlgObj.element.style.maxHeight = "350px", 
            this.dlgObj.show(), this.writeMethod(column, this.dlgObj.element.querySelector("#" + column.uid + "-flmenu"));
            var args = {
                requestType: "filterafteropen",
                filterModel: this,
                columnName: column.field,
                columnType: column.type
            };
            this.isDialogOpen = !0, this.parent.trigger(actionComplete, args);
        }, FilterMenuRenderer.prototype.renderFilterUI = function(target, col) {
            var dlgConetntEle = this.dlgObj.element.querySelector(".e-flmenu-maindiv");
            this.renderOperatorUI(dlgConetntEle, target, col), this.renderFlValueUI(dlgConetntEle, target, col);
        }, FilterMenuRenderer.prototype.renderOperatorUI = function(dlgConetntEle, target, column) {
            this.flMuiObj.renderOperatorUI(dlgConetntEle, target, column, this.dlgObj);
        }, FilterMenuRenderer.prototype.renderFlValueUI = function(dlgConetntEle, target, column) {
            var valueDiv = createElement("div", {
                className: "e-flmenu-valuediv"
            });
            dlgConetntEle.appendChild(valueDiv);
            this.flMuiObj, this.dlgObj;
            var instanceofFilterUI = new this.colTypes[column.type](this.parent, this.serviceLocator, this.parent.filterSettings);
            if (isNullOrUndefined(column.filter) || isNullOrUndefined(column.filter.ui) || isNullOrUndefined(column.filter.ui.create)) instanceofFilterUI.create({
                column: column,
                target: valueDiv,
                getOptrInstance: this.flMuiObj,
                localizeText: this.l10n,
                dialogObj: this.dlgObj
            }); else {
                var temp = column.filter.ui.create;
                "string" == typeof temp && (temp = getValue(temp, window)), temp({
                    column: column,
                    target: valueDiv,
                    getOptrInstance: this.flMuiObj,
                    dialogObj: this.dlgObj
                });
            }
        }, FilterMenuRenderer.prototype.writeMethod = function(col, dlgContentEle) {
            for (var flValue, target = dlgContentEle.querySelector(".e-flmenu-valinput"), instanceofFilterUI = new this.colTypes[col.type](this.parent, this.serviceLocator, this.parent.filterSettings), _i = 0, columns_1 = this.filterSettings.columns; _i < columns_1.length; _i++) {
                var column = columns_1[_i];
                col.field !== column.field && col.foreignKeyValue !== column.field || (flValue = column.value);
            }
            if (isNullOrUndefined(col.filter) || isNullOrUndefined(col.filter.ui) || isNullOrUndefined(col.filter.ui.write)) instanceofFilterUI.write({
                column: col,
                target: target,
                parent: this.parent,
                filteredValue: flValue
            }); else {
                var temp = col.filter.ui.write;
                "string" == typeof temp && (temp = getValue(temp, window)), col.filter.ui.write({
                    column: col,
                    target: target,
                    parent: this.parent,
                    filteredValue: flValue
                });
            }
        }, FilterMenuRenderer.prototype.filterBtnClick = function(col) {
            var flOptrValue, targ = this.dlgObj.element.querySelector(".e-flmenu-valuediv input");
            flOptrValue = this.flMuiObj.getFlOperator();
            var instanceofFilterUI = new this.colTypes[col.type](this.parent, this.serviceLocator, this.parent.filterSettings);
            if (isNullOrUndefined(col.filter) || isNullOrUndefined(col.filter.ui) || isNullOrUndefined(col.filter.ui.read)) instanceofFilterUI.read(targ, col, flOptrValue, this.filterObj); else {
                var temp = col.filter.ui.read;
                "string" == typeof temp && (temp = getValue(temp, window)), col.filter.ui.read({
                    element: targ,
                    column: col,
                    operator: flOptrValue,
                    fltrObj: this.filterObj
                });
            }
            var iconClass = this.parent.showColumnMenu ? ".e-columnmenu" : ".e-icon-filter", flIcon = this.parent.element.querySelector('[e-mappinguid="' + col.uid + '"]').parentElement.querySelector(iconClass);
            flIcon && flIcon.classList.add("e-filtered"), this.closeDialog();
        }, FilterMenuRenderer.prototype.clearBtnClick = function(column) {
            this.filterObj.removeFilteredColsByField(column.field), this.closeDialog();
            var iconClass = this.parent.showColumnMenu ? ".e-columnmenu" : ".e-icon-filter", flIcon = this.parent.element.querySelector('[e-mappinguid="' + column.uid + '"]').parentElement.querySelector(iconClass);
            flIcon && flIcon.classList.remove("e-filtered");
        }, FilterMenuRenderer.prototype.destroy = function() {
            this.closeDialog();
        }, FilterMenuRenderer;
    }(), __extends$27 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$13 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, HScroll = function(_super) {
        function HScroll(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$27(HScroll, _super), HScroll.prototype.preRender = function() {
            this.browser = Browser.info.name, this.browserCheck = "mozilla" === this.browser, 
            this.isDevice = Browser.isDevice;
            var element = this.element;
            this.ieCheck = "edge" === this.browser || "msie" === this.browser, this.initialize(), 
            "" === element.id && (element.id = getUniqueID("hscroll"), this.uniqueId = !0), 
            element.style.display = "block", this.enableRtl && element.classList.add("e-rtl");
        }, HScroll.prototype.render = function() {
            this.touchModule = new Touch(this.element, {
                scroll: this.touchHandler.bind(this)
            }), this.isDevice ? this.element.classList.add("e-scroll-device") : (this.createNavIcon(this.element), 
            EventHandler.add(this.scrollEle, "scroll", this.scrollHandler, this));
        }, HScroll.prototype.initialize = function() {
            var scrollEle = createElement("div", {
                className: "e-hscroll-content"
            }), scrollDiv = createElement("div", {
                className: "e-hscroll-bar"
            });
            scrollDiv.setAttribute("tabindex", "-1");
            for (var ele = this.element, _i = 0, innerEle_1 = [].slice.call(ele.children); _i < innerEle_1.length; _i++) {
                var ele_1 = innerEle_1[_i];
                scrollEle.appendChild(ele_1);
            }
            scrollDiv.appendChild(scrollEle), ele.appendChild(scrollDiv), scrollDiv.style.overflowX = "hidden", 
            this.scrollEle = scrollDiv, this.scrollItems = scrollEle;
        }, HScroll.prototype.getPersistData = function() {
            return this.addOnPersist([ "scrollStep" ]);
        }, HScroll.prototype.getModuleName = function() {
            return "hScroll";
        }, HScroll.prototype.destroy = function() {
            var ele = this.element;
            ele.style.display = "", ele.classList.remove("e-hscroll");
            for (var nav = selectAll(".e-" + ele.id + "_nav.e-scroll-nav", ele), _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {
                var elem = _a[_i];
                ele.appendChild(elem);
            }
            this.uniqueId && this.element.removeAttribute("id"), detach(this.scrollEle), nav.length > 0 && (detach(nav[0]), 
            detach(nav[1])), EventHandler.remove(this.scrollEle, "scroll", this.scrollHandler), 
            this.touchModule.destroy(), this.touchModule = null, _super.prototype.destroy.call(this);
        }, HScroll.prototype.createNavIcon = function(element) {
            var id = element.id.concat("_nav"), clsRight = "e-" + element.id.concat("_nav e-scroll-nav e-scroll-right-nav"), nav = createElement("div", {
                id: id.concat("_right"),
                className: clsRight
            });
            nav.setAttribute("aria-disabled", "false");
            var navItem = createElement("div", {
                className: "e-nav-right-arrow e-nav-arrow e-icons"
            }), clsLeft = "e-" + element.id.concat("_nav e-scroll-nav e-scroll-left-nav"), navEle = createElement("div", {
                id: id.concat("_left"),
                className: clsLeft + " e-overlay"
            });
            navEle.setAttribute("aria-disabled", "true");
            var navLeftItem = createElement("div", {
                className: "e-nav-left-arrow e-nav-arrow e-icons"
            });
            navEle.appendChild(navLeftItem), nav.appendChild(navItem), nav.setAttribute("tabindex", "0"), 
            element.appendChild(nav), element.insertBefore(navEle, element.firstChild), this.ieCheck && (nav.classList.add("e-ie-align"), 
            navEle.classList.add("e-ie-align")), this.eventBinding([ nav, navEle ]);
        }, HScroll.prototype.onKeyPress = function(e) {
            var _this = this;
            if ("Enter" === e.key) {
                this.keyTimer = window.setTimeout(function() {
                    _this.keyTimeout = !0, _this.eleScrolling(10, e.target);
                }, 100);
            }
        }, HScroll.prototype.onKeyUp = function(e) {
            "Enter" === e.key && (this.keyTimeout ? this.keyTimeout = !1 : e.target.click(), 
            clearTimeout(this.keyTimer));
        }, HScroll.prototype.eventBinding = function(ele) {
            var _this = this;
            ele.forEach(function(el) {
                new Touch(el, {
                    tapHold: _this.tabHoldHandler.bind(_this),
                    tapHoldThreshold: 500
                }), el.addEventListener("keydown", _this.onKeyPress.bind(_this)), el.addEventListener("keyup", _this.onKeyUp.bind(_this)), 
                el.addEventListener("mouseup", _this.repeatScroll.bind(_this)), el.addEventListener("touchend", _this.repeatScroll.bind(_this)), 
                el.addEventListener("contextmenu", function(e) {
                    e.preventDefault();
                }), EventHandler.add(el, "click", _this.clickEventHandler, _this);
            });
        }, HScroll.prototype.repeatScroll = function() {
            clearInterval(this.timeout);
        }, HScroll.prototype.tabHoldHandler = function(e) {
            var _this = this, trgt = e.originalEvent.target;
            trgt = this.contains(trgt, "e-scroll-nav") ? trgt.firstElementChild : trgt;
            this.timeout = window.setInterval(function() {
                _this.eleScrolling(10, trgt);
            }, 50);
        }, HScroll.prototype.contains = function(ele, className) {
            return ele.classList.contains(className);
        }, HScroll.prototype.eleScrolling = function(scrollDis, trgt) {
            var element = this.scrollEle, rootEle = this.element, classList$$1 = trgt.classList;
            classList$$1.contains("e-scroll-nav") && (classList$$1 = trgt.querySelector(".e-nav-arrow").classList), 
            this.contains(rootEle, "e-rtl") && this.browserCheck && (scrollDis = -scrollDis);
            var scrlLeft = element.scrollLeft;
            !this.contains(rootEle, "e-rtl") || this.browserCheck || this.ieCheck ? classList$$1.contains("e-nav-right-arrow") ? element.scrollLeft = scrlLeft + scrollDis : element.scrollLeft = scrlLeft - scrollDis : classList$$1.contains("e-nav-left-arrow") ? element.scrollLeft = scrlLeft + scrollDis : element.scrollLeft = scrlLeft - scrollDis;
        }, HScroll.prototype.clickEventHandler = function(e) {
            this.eleScrolling(this.scrollStep, e.target);
        }, HScroll.prototype.touchHandler = function(e) {
            var distance, ele = this.scrollEle;
            distance = e.distanceX, this.ieCheck && this.contains(this.element, "e-rtl") && (distance = -distance), 
            "Left" === e.scrollDirection ? ele.scrollLeft = ele.scrollLeft + distance : "Right" === e.scrollDirection && (ele.scrollLeft = ele.scrollLeft - distance);
        }, HScroll.prototype.arrowDisabling = function(addDisable, removeDisable) {
            addDisable.classList.add("e-overlay"), addDisable.setAttribute("aria-disabled", "true"), 
            addDisable.removeAttribute("tabindex"), clearInterval(this.timeout), removeDisable.classList.remove("e-overlay"), 
            removeDisable.setAttribute("aria-disabled", "false"), removeDisable.setAttribute("tabindex", "0"), 
            this.repeatScroll();
        }, HScroll.prototype.scrollHandler = function(e) {
            var target = e.target, width = target.offsetWidth, rootEle = this.element, navLeftEle = this.element.querySelector(".e-scroll-left-nav"), navRightEle = this.element.querySelector(".e-scroll-right-nav"), scrollLeft = target.scrollLeft;
            if (scrollLeft <= 0 && (scrollLeft = -scrollLeft), 0 === scrollLeft) !this.contains(rootEle, "e-rtl") || this.browserCheck || this.ieCheck ? this.arrowDisabling(navLeftEle, navRightEle) : this.arrowDisabling(navRightEle, navLeftEle); else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) !this.contains(rootEle, "e-rtl") || this.browserCheck || this.ieCheck ? this.arrowDisabling(navRightEle, navLeftEle) : this.arrowDisabling(navLeftEle, navRightEle); else {
                var disEle = this.element.querySelector(".e-scroll-nav.e-overlay");
                disEle && (disEle.classList.remove("e-overlay"), disEle.setAttribute("aria-disabled", "false"), 
                disEle.setAttribute("tabindex", "0"));
            }
        }, HScroll.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "scrollStep":
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? this.element.classList.add("e-rtl") : this.element.classList.remove("e-rtl");
                }
            }
        }, __decorate$13([ Property(40) ], HScroll.prototype, "scrollStep", void 0), HScroll = __decorate$13([ NotifyPropertyChanges ], HScroll);
    }(Component), __extends$1$7 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$1$7 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, CLS_ITEMS = "e-toolbar-items", CLS_ITEM = "e-toolbar-item", CLS_POPUP = "e-toolbar-popup", Item = function(_super) {
        function Item() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$1$7(Item, _super), __decorate$1$7([ Property("") ], Item.prototype, "id", void 0), 
        __decorate$1$7([ Property("") ], Item.prototype, "text", void 0), __decorate$1$7([ Property("auto") ], Item.prototype, "width", void 0), 
        __decorate$1$7([ Property("") ], Item.prototype, "cssClass", void 0), __decorate$1$7([ Property(!1) ], Item.prototype, "showAlwaysInPopup", void 0), 
        __decorate$1$7([ Property("") ], Item.prototype, "prefixIcon", void 0), __decorate$1$7([ Property("") ], Item.prototype, "suffixIcon", void 0), 
        __decorate$1$7([ Property("None") ], Item.prototype, "overflow", void 0), __decorate$1$7([ Property("") ], Item.prototype, "template", void 0), 
        __decorate$1$7([ Property("Button") ], Item.prototype, "type", void 0), __decorate$1$7([ Property("Both") ], Item.prototype, "showTextOn", void 0), 
        __decorate$1$7([ Property(null) ], Item.prototype, "htmlAttributes", void 0), __decorate$1$7([ Property("") ], Item.prototype, "tooltipText", void 0), 
        __decorate$1$7([ Property("Left") ], Item.prototype, "align", void 0), Item;
    }(ChildProperty), Toolbar = function(_super) {
        function Toolbar(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.keyConfigs = {
                moveLeft: "leftarrow",
                moveRight: "rightarrow",
                moveUp: "uparrow",
                moveDown: "downarrow",
                popupOpen: "enter",
                popupClose: "escape",
                tab: "tab",
                home: "home",
                end: "end"
            }, _this;
        }
        return __extends$1$7(Toolbar, _super), Toolbar.prototype.destroy = function() {
            var _this = this, ele = this.element;
            for (_super.prototype.destroy.call(this), this.unwireEvents(); ele.firstChild; ) ele.removeChild(ele.firstChild);
            this.trgtEle && ele.appendChild(this.ctrlTem), this.clearProperty(), this.popObj = null, 
            this.tbarAlign = null, this.remove(this.element, "e-toolpop"), ele.removeAttribute("style"), 
            [ "aria-disabled", "aria-orientation", "aria-haspopup", "role" ].forEach(function(attrb) {
                _this.element.removeAttribute(attrb);
            });
        }, Toolbar.prototype.preRender = function() {
            this.trigger("beforeCreate"), this.scrollModule = null, this.popObj = null, this.tbarItemsCol = this.items, 
            this.popupPriCount = 0, this.enableRtl && this.add(this.element, "e-rtl");
        }, Toolbar.prototype.wireEvents = function() {
            EventHandler.add(this.element, "click", this.clickHandler, this), window.addEventListener("resize", this.resize.bind(this)), 
            this.keyModule = new KeyboardEvents(this.element, {
                keyAction: this.keyActionHandler.bind(this),
                keyConfigs: this.keyConfigs
            }), EventHandler.add(this.element, "keydown", this.docKeyDown, this), this.element.setAttribute("tabIndex", "0");
        }, Toolbar.prototype.docKeyDown = function(e) {
            if ("INPUT" !== e.target.tagName) {
                9 === e.keyCode && !0 === e.target.classList.contains("e-hor-nav") && isVisible(this.popObj.element) && this.popObj.hide({
                    name: "SlideUp",
                    duration: 100
                });
                (40 === e.keyCode || 38 === e.keyCode || 35 === e.keyCode || 36 === e.keyCode) && e.preventDefault();
            }
        }, Toolbar.prototype.unwireEvents = function() {
            EventHandler.remove(this.element, "click", this.clickHandler), this.destroyHScroll(), 
            this.keyModule.destroy(), EventHandler.remove(document, "scroll", this.docEvent), 
            EventHandler.remove(this.element, "keydown", this.docKeyDown), EventHandler.remove(document, "click", this.docEvent);
        }, Toolbar.prototype.clearProperty = function() {
            this.tbarEle = [], this.tbarAlgEle = {
                lefts: [],
                centers: [],
                rights: []
            };
        }, Toolbar.prototype.docEvent = function(e) {
            var popEle = closest(e.target, ".e-popup");
            this.popObj && isVisible(this.popObj.element) && !popEle && this.popObj.hide({
                name: "SlideUp",
                duration: 100
            });
        }, Toolbar.prototype.destroyHScroll = function() {
            this.scrollModule && (this.tbarAlign && this.add(this.scrollModule.element, "e-tbar-pos"), 
            this.scrollModule.destroy(), this.scrollModule = null);
        }, Toolbar.prototype.destroyItems = function() {
            [].slice.call(this.element.querySelectorAll("." + CLS_ITEM)).forEach(function(el) {
                detach(el);
            });
            var tbarItems = this.element.querySelector("." + CLS_ITEMS);
            this.tbarAlign && ([].slice.call(tbarItems.children).forEach(function(el) {
                detach(el);
            }), this.tbarAlign = !1, this.remove(tbarItems, "e-tbar-pos")), this.clearProperty();
        }, Toolbar.prototype.destroyMode = function() {
            this.scrollModule && (this.remove(this.scrollModule.element, "e-rtl"), this.destroyHScroll()), 
            this.popObj && this.popupRefresh(this.popObj.element, !0);
        }, Toolbar.prototype.add = function(ele, val) {
            ele.classList.add(val);
        }, Toolbar.prototype.remove = function(ele, val) {
            ele.classList.remove(val);
        }, Toolbar.prototype.elementFocus = function(ele) {
            var fChild = ele.firstElementChild;
            fChild ? (fChild.focus(), this.activeEleSwitch(ele)) : ele.focus();
        }, Toolbar.prototype.clstElement = function(tbrNavChk, trgt) {
            return tbrNavChk && this.popObj && isVisible(this.popObj.element) ? this.popObj.element.querySelector("." + CLS_ITEM) : this.element === trgt || tbrNavChk ? this.element.querySelector("." + CLS_ITEM) : closest(trgt, "." + CLS_ITEM);
        }, Toolbar.prototype.keyHandling = function(clst, e, trgt, navChk, scrollChk) {
            var popObj = this.popObj, rootEle = this.element, popAnimate = {
                name: "SlideUp",
                duration: 100
            };
            switch (e.action) {
              case "moveRight":
                rootEle === trgt ? this.elementFocus(clst) : navChk || this.eleFocus(clst, "next");
                break;

              case "moveLeft":
                navChk || this.eleFocus(clst, "previous");
                break;

              case "home":
              case "end":
                var ele = void 0, nodes = void 0;
                if (clst) {
                    var popupCheck = closest(clst, ".e-popup");
                    popupCheck ? isVisible(this.popObj.element) && (nodes = popupCheck.children, ele = "home" === e.action ? nodes[0] : nodes[nodes.length - 1]) : (nodes = this.element.querySelectorAll("." + CLS_ITEMS + " ." + CLS_ITEM), 
                    ele = "home" === e.action ? nodes[0] : nodes[nodes.length - 1]), ele && this.elementFocus(ele);
                }
                break;

              case "moveUp":
              case "moveDown":
                var value = "moveUp" === e.action ? "previous" : "next";
                if (popObj && closest(trgt, ".e-popup")) {
                    var popEle = popObj.element, popFrstEle = popEle.firstElementChild;
                    if ("previous" === value && popFrstEle === clst || "next" === value && popEle.lastElementChild === clst) return;
                    this.eleFocus(clst, value);
                } else "moveDown" === e.action && popObj && isVisible(popObj.element) && this.elementFocus(clst);
                break;

              case "tab":
                if (!scrollChk && !navChk) {
                    var ele_1 = clst.firstElementChild;
                    rootEle === trgt && (this.activeEle ? this.activeEle.focus() : (this.activeEleRemove(ele_1), 
                    ele_1.focus()), this.element.removeAttribute("tabindex"));
                }
                break;

              case "popupClose":
                popObj && popObj.hide(popAnimate);
                break;

              case "popupOpen":
                if (!navChk) return;
                popObj && !isVisible(popObj.element) ? (popObj.element.style.top = rootEle.offsetHeight + "px", 
                popObj.show({
                    name: "SlideDown",
                    duration: 100
                })) : popObj.hide(popAnimate);
            }
        }, Toolbar.prototype.keyActionHandler = function(e) {
            var trgt = e.target;
            if ("INPUT" !== trgt.tagName) {
                e.preventDefault();
                var clst, tbrNavChk = trgt.classList.contains("e-hor-nav"), tbarScrollChk = trgt.classList.contains("e-scroll-nav");
                ((clst = this.clstElement(tbrNavChk, trgt)) || tbarScrollChk) && this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);
            }
        }, Toolbar.prototype.eleFocus = function(closest$$1, pos) {
            var sib = Object(closest$$1)[pos + "ElementSibling"], contains = function(el) {
                return el.classList.contains("e-separator") || el.classList.contains("e-overlay");
            };
            if (sib) {
                var skipEle = contains(sib);
                if (skipEle && Object(sib)[pos + "ElementSibling"] && (sib = Object(sib)[pos + "ElementSibling"], 
                skipEle = contains(sib))) return void this.eleFocus(sib, pos);
                this.elementFocus(sib);
            } else if (this.tbarAlign) {
                var elem = Object(closest$$1.parentElement)[pos + "ElementSibling"];
                if (isNullOrUndefined(elem) || 0 !== elem.children.length || (elem = Object(elem)[pos + "ElementSibling"]), 
                !isNullOrUndefined(elem) && elem.children.length > 0) if ("next" === pos) {
                    contains(el = elem.querySelector("." + CLS_ITEM)) ? this.eleFocus(el, pos) : (el.firstElementChild.focus(), 
                    this.activeEleSwitch(el));
                } else {
                    var el;
                    contains(el = elem.lastElementChild) ? this.eleFocus(el, pos) : this.elementFocus(el);
                }
            }
        }, Toolbar.prototype.clickHandler = function(e) {
            var trgt = e.target, clsList = trgt.classList, ele = this.element, isPopupElement = !isNullOrUndefined(closest(trgt, ".e-toolbar-pop")), popupNav = closest(trgt, ".e-hor-nav");
            popupNav || (popupNav = trgt), !ele.children[0].classList.contains("e-hscroll") && clsList.contains("e-hor-nav") && (clsList = trgt.querySelector(".e-icons").classList), 
            (clsList.contains("e-popup-up-icon") || clsList.contains("e-popup-down-icon")) && this.popupClickHandler(ele, popupNav, "e-rtl");
            var itemObj, clst = closest(e.target, "." + CLS_ITEM);
            if (!isNullOrUndefined(clst) && !clst.classList.contains("e-overlay") || popupNav.classList.contains("e-hor-nav")) {
                clst && (itemObj = this.items[this.tbarEle.indexOf(clst)]);
                var eventArgs = {
                    originalEvent: e,
                    item: itemObj
                };
                this.trigger("clicked", eventArgs), isPopupElement && !eventArgs.cancel && this.popObj.hide({
                    name: "SlideUp",
                    duration: 100
                });
            }
        }, Toolbar.prototype.popupClickHandler = function(ele, popupNav, CLS_RTL) {
            var popObj = this.popObj;
            isVisible(popObj.element) ? (popupNav.classList.remove("e-nav-active"), popObj.hide({
                name: "SlideUp",
                duration: 100
            })) : (ele.classList.contains(CLS_RTL) && (popObj.enableRtl = !0, popObj.position = {
                X: "left",
                Y: "top"
            }), 0 !== popObj.offsetX || ele.classList.contains(CLS_RTL) || (popObj.enableRtl = !1, 
            popObj.position = {
                X: "right",
                Y: "top"
            }), popObj.dataBind(), popObj.refreshPosition(), popObj.element.style.top = this.element.offsetHeight + "px", 
            popupNav.classList.add("e-nav-active"), popObj.show({
                name: "SlideDown",
                duration: 100
            }));
        }, Toolbar.prototype.render = function() {
            this.initialize(), this.renderControl(), this.wireEvents();
        }, Toolbar.prototype.initialize = function() {
            var width = formatUnit(this.width), height = formatUnit(this.height);
            "msie" === Browser.info.name && "auto" === this.height || setStyleAttribute(this.element, {
                height: height
            }), setStyleAttribute(this.element, {
                width: width
            });
            attributes(this.element, {
                role: "toolbar",
                "aria-disabled": "false",
                "aria-haspopup": "false",
                "aria-orientation": "horizontal"
            });
        }, Toolbar.prototype.renderControl = function() {
            this.trgtEle = this.element.children.length > 0 ? this.element.querySelector("div") : null, 
            this.tbarAlgEle = {
                lefts: [],
                centers: [],
                rights: []
            }, this.renderItems(), this.renderOverflowMode(), this.tbarAlign && this.itemPositioning(), 
            this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element) && this.popupRefresh(this.popObj.element, !1);
        }, Toolbar.prototype.initHScroll = function(element, innerItems) {
            !this.scrollModule && this.checkOverflow(element, innerItems[0]) && (this.tbarAlign && this.element.querySelector("." + CLS_ITEMS + " .e-toolbar-center").removeAttribute("style"), 
            this.scrollModule = new HScroll({
                scrollStep: 50,
                enableRtl: this.enableRtl
            }, innerItems[0]), this.remove(this.scrollModule.element, "e-tbar-pos"), setStyleAttribute(this.element, {
                overflow: "hidden"
            }));
        }, Toolbar.prototype.itemWidthCal = function(items) {
            var width = 0;
            return [].slice.call(selectAll("." + CLS_ITEM, items)).forEach(function(el) {
                isVisible(el) && (width += el.offsetWidth + parseFloat(window.getComputedStyle(el).marginRight));
            }), width;
        }, Toolbar.prototype.checkOverflow = function(element, innerItem) {
            if (isNullOrUndefined(element) || isNullOrUndefined(innerItem) || !isVisible(element)) return !1;
            var itemWidth, eleWidth = element.offsetWidth;
            itemWidth = this.tbarAlign || this.scrollModule ? this.itemWidthCal(this.scrollModule ? innerItem.querySelector(".e-hscroll-content") : innerItem) : innerItem.offsetWidth;
            var popNav = element.querySelector(".e-hor-nav"), scrollNav = element.querySelector(".e-scroll-nav");
            return itemWidth > eleWidth - (popNav ? popNav.offsetWidth : scrollNav ? 2 * scrollNav.offsetWidth : 0);
        }, Toolbar.prototype.refreshOverflow = function() {
            this.resize();
        }, Toolbar.prototype.renderOverflowMode = function() {
            var ele = this.element, innerItems = ele.querySelector("." + CLS_ITEMS), priorityCheck = this.popupPriCount > 0;
            if (ele && ele.children.length > 0) switch (this.offsetWid = ele.offsetWidth, this.remove(this.element, "e-toolpop"), 
            this.overflowMode) {
              case "Scrollable":
                this.destroyHScroll(), this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));
                break;

              case "Popup":
                this.add(this.element, "e-toolpop"), this.tbarAlign && this.removePositioning(), 
                (this.checkOverflow(ele, innerItems) || priorityCheck) && (this.createPopupEle(ele, [].slice.call(selectAll("." + CLS_ITEMS + " ." + CLS_ITEM, ele))), 
                this.element.querySelector(".e-hor-nav").setAttribute("tabIndex", "0")), this.tbarAlign && (this.add(innerItems, "e-tbar-pos"), 
                this.itemPositioning());
            }
        }, Toolbar.prototype.createPopupEle = function(ele, innerEle) {
            var innerNav = ele.querySelector(".e-hor-nav");
            innerNav || this.createPopupIcon(ele), innerNav = ele.querySelector(".e-hor-nav");
            var eleWidth = ele.offsetWidth - innerNav.offsetWidth;
            this.element.classList.remove("e-rtl"), setStyleAttribute(this.element, {
                direction: "initial"
            }), this.checkPriority(ele, innerEle, eleWidth, !0), this.enableRtl && this.element.classList.add("e-rtl"), 
            this.element.style.removeProperty("direction"), this.createPopup();
        }, Toolbar.prototype.pushingPoppedEle = function(tbarObj, popupPri, ele, eleHeight) {
            var element = tbarObj.element, nodes = selectAll(".e-overflow-show", ele), nodeIndex = 0, nodePri = 0;
            [].slice.call(selectAll("." + CLS_POPUP, element.querySelector("." + CLS_ITEMS))).forEach(function(el, index) {
                nodes = selectAll(".e-overflow-show", ele), el.classList.contains("e-overflow-show") && nodes.length > 0 ? tbarObj.tbResize && nodes.length > index ? (ele.insertBefore(el, nodes[index]), 
                ++nodePri) : (ele.insertBefore(el, ele.children[nodes.length]), ++nodePri) : el.classList.contains("e-overflow-show") ? (ele.insertBefore(el, ele.firstChild), 
                ++nodePri) : tbarObj.tbResize && el.classList.contains("e-overflow-hide") && ele.children.length > 0 && 0 === nodes.length ? (ele.insertBefore(el, ele.firstChild), 
                ++nodePri) : el.classList.contains("e-overflow-hide") ? popupPri.push(el) : tbarObj.tbResize ? (ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]), 
                ++nodeIndex) : ele.appendChild(el), setStyleAttribute(el, {
                    display: "",
                    height: eleHeight + "px"
                });
            }), popupPri.forEach(function(el) {
                ele.appendChild(el);
            });
            for (var tbarEle = selectAll("." + CLS_ITEM, element.querySelector("." + CLS_ITEMS)), i = tbarEle.length - 1; i >= 0; i--) {
                var tbarElement = tbarEle[i];
                if (!tbarElement.classList.contains("e-separator")) break;
                setStyleAttribute(tbarElement, {
                    display: "none"
                });
            }
        }, Toolbar.prototype.createPopup = function() {
            var eleHeight, eleItem, element = this.element;
            eleItem = element.querySelector("." + CLS_ITEM + ":not(.e-separator ):not(." + CLS_POPUP + " )"), 
            eleHeight = "auto" === element.style.height || "" === element.style.height ? null : eleItem.offsetHeight;
            var ele;
            ele = element.querySelector("#" + element.id + "_popup.e-toolbar-pop") ? element.querySelector("#" + element.id + "_popup.e-toolbar-pop") : createElement("div", {
                id: element.id + "_popup",
                className: "e-toolbar-pop"
            }), this.pushingPoppedEle(this, [], ele, eleHeight), this.popupInit(element, ele);
        }, Toolbar.prototype.popupInit = function(element, ele) {
            if (this.popObj) {
                var popupEle = this.popObj.element;
                setStyleAttribute(popupEle, {
                    maxHeight: "",
                    display: "block"
                }), setStyleAttribute(popupEle, {
                    maxHeight: popupEle.offsetHeight + "px",
                    display: ""
                });
            } else {
                element.appendChild(ele), setStyleAttribute(this.element, {
                    overflow: ""
                });
                var popup = new Popup(null, {
                    relateTo: this.element,
                    offsetY: element.offsetHeight,
                    enableRtl: this.enableRtl,
                    open: this.popupOpen.bind(this),
                    close: this.popupClose,
                    position: this.enableRtl ? {
                        X: "left",
                        Y: "top"
                    } : {
                        X: "right",
                        Y: "top"
                    }
                });
                popup.appendTo(ele), EventHandler.add(document, "scroll", this.docEvent.bind(this)), 
                EventHandler.add(document, "click ", this.docEvent.bind(this)), popup.element.style.maxHeight = popup.element.offsetHeight + "px", 
                popup.hide(), this.popObj = popup, this.element.setAttribute("aria-haspopup", "true");
            }
        }, Toolbar.prototype.popupOpen = function(e) {
            var popObj = this.popObj, popupEle = this.popObj.element, toolEle = this.popObj.element.parentElement, popupNav = toolEle.querySelector(".e-hor-nav");
            setStyleAttribute(popObj.element, {
                height: "auto",
                maxHeight: ""
            }), popObj.element.style.maxHeight = popObj.element.offsetHeight + "px";
            var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top, popIcon = popupNav.firstElementChild;
            popupNav.classList.add("e-nav-active"), classList(popIcon, [ "e-popup-up-icon" ], [ "e-popup-down-icon" ]);
            var scrollVal = isNullOrUndefined(window.scrollY) ? 0 : window.scrollY;
            if (window.innerHeight + scrollVal < popupElePos) {
                var overflowHeight = popupEle.offsetHeight - (popupElePos - window.innerHeight - scrollVal + 5);
                popObj.height = overflowHeight + "px";
                for (var i = 0; i <= popupEle.childElementCount; i++) {
                    var ele = popupEle.children[i];
                    if (ele.offsetTop + ele.offsetHeight > overflowHeight) {
                        overflowHeight = ele.offsetTop;
                        break;
                    }
                }
                setStyleAttribute(popObj.element, {
                    maxHeight: overflowHeight + "px"
                });
            }
        }, Toolbar.prototype.popupClose = function(e) {
            var popupNav = this.element.parentElement.querySelector(".e-hor-nav"), popIcon = popupNav.firstElementChild;
            popupNav.classList.remove("e-nav-active"), classList(popIcon, [ "e-popup-down-icon" ], [ "e-popup-up-icon" ]);
        }, Toolbar.prototype.checkPriority = function(ele, inEle, eleWidth, pre) {
            for (var popPriority = this.popupPriCount > 0, eleWid = eleWidth, sepCheck = 0, itemCount = 0, itemPopCount = 0, checkClass = function(ele, val) {
                var rVal = !1;
                return val.forEach(function(cls) {
                    ele.classList.contains(cls) && (rVal = !0);
                }), rVal;
            }, i = inEle.length - 1; i >= 0; i--) {
                var mrgn = parseFloat(window.getComputedStyle(inEle[i]).marginRight);
                mrgn += parseFloat(window.getComputedStyle(inEle[i]).marginLeft);
                var fstEleCheck = inEle[i] === this.tbarEle[0];
                fstEleCheck && (this.tbarEleMrgn = mrgn);
                var eleWid_1 = fstEleCheck ? inEle[i].offsetWidth + mrgn : inEle[i].offsetWidth;
                if (checkClass(inEle[i], [ "e-popup-alone" ]) && popPriority && (inEle[i].classList.add(CLS_POPUP), 
                setStyleAttribute(inEle[i], {
                    display: "none",
                    minWidth: eleWid_1 + "px"
                }), itemPopCount++), inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn > eleWidth) {
                    if (inEle[i].classList.contains("e-separator")) {
                        if (sepCheck > 0 && itemCount === itemPopCount) {
                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];
                            checkClass(sepEle, [ "e-separator", "e-ignore" ]) && setStyleAttribute(sepEle, {
                                display: "none"
                            });
                        }
                        sepCheck++, itemCount = 0, itemPopCount = 0;
                    } else itemCount++;
                    inEle[i].classList.contains("e-overflow-show") && pre ? eleWidth -= inEle[i].offsetWidth + mrgn : checkClass(inEle[i], [ "e-separator", "e-ignore" ]) ? eleWidth -= inEle[i].offsetWidth + mrgn : (inEle[i].classList.add(CLS_POPUP), 
                    setStyleAttribute(inEle[i], {
                        display: "none",
                        minWidth: eleWid_1 + "px"
                    }), itemPopCount++);
                }
            }
            if (pre) {
                var popedEle = selectAll("." + CLS_ITEM + ":not(." + CLS_POPUP + ")", this.element);
                this.checkPriority(ele, popedEle, eleWid, !1);
            }
        }, Toolbar.prototype.createPopupIcon = function(element) {
            var nav = createElement("div", {
                id: element.id.concat("_nav"),
                className: "e-" + element.id.concat("_nav e-hor-nav")
            });
            "msie" !== Browser.info.name && "edge" !== Browser.info.name || nav.classList.add("e-ie-align");
            var navItem = createElement("div", {
                className: "e-popup-down-icon e-icons"
            });
            nav.appendChild(navItem), nav.setAttribute("tabindex", "0"), element.appendChild(nav);
        }, Toolbar.prototype.tbarPriRef = function(inEle, indx, sepPri, el, des, elWid, wid, ig) {
            var ignoreCount = ig, popEle = this.popObj.element, priEleCnt = selectAll("." + CLS_POPUP + ":not(.e-overflow-show)", popEle).length, checkClass = function(ele, val) {
                return ele.classList.contains(val);
            };
            if (0 === selectAll(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)", inEle).length) {
                var eleSep = inEle.children[indx - (indx - sepPri) - 1], ignoreCheck = !isNullOrUndefined(eleSep) && checkClass(eleSep, "e-ignore");
                if (!isNullOrUndefined(eleSep) && checkClass(eleSep, "e-separator") && !isVisible(eleSep) || ignoreCheck) {
                    eleSep.style.display = "inherit";
                    var eleSepWidth = eleSep.offsetWidth + 2 * parseFloat(window.getComputedStyle(eleSep).marginRight), prevSep = eleSep.previousElementSibling;
                    elWid + eleSepWidth < wid || des ? (inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]), 
                    isNullOrUndefined(prevSep) || (prevSep.style.display = "")) : prevSep.classList.contains("e-separator") && (prevSep.style.display = "none"), 
                    eleSep.style.display = "";
                } else inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]);
            } else inEle.insertBefore(el, inEle.children[indx + ignoreCount - priEleCnt]);
        }, Toolbar.prototype.popupRefresh = function(popupEle, destroy) {
            var ele = this.element, popNav = ele.querySelector(".e-hor-nav"), innerEle = ele.querySelector("." + CLS_ITEMS);
            if (!isNullOrUndefined(popNav)) {
                innerEle.removeAttribute("style"), popupEle.style.display = "block";
                var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);
                this.popupEleRefresh(width, popupEle, destroy), popupEle.style.display = "", 0 === popupEle.children.length && popNav && this.popObj && (detach(popNav), 
                popNav = null, this.popObj.destroy(), detach(this.popObj.element), this.popObj = null, 
                ele.setAttribute("aria-haspopup", "false"), ele.classList.remove("e-toolpop"));
            }
        }, Toolbar.prototype.ignoreEleFetch = function(index, innerEle) {
            var ignoreEle = [].slice.call(innerEle.querySelectorAll(".e-ignore")), ignoreInx = [], count = 0;
            return ignoreEle.length > 0 ? (ignoreEle.forEach(function(ele) {
                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));
            }), ignoreInx.forEach(function(val) {
                val <= index && count++;
            }), count) : 0;
        }, Toolbar.prototype.checkPopupRefresh = function(root, popEle) {
            popEle.style.display = "block";
            var elWid = this.popupEleWidth(popEle.firstElementChild);
            popEle.firstElementChild.style.removeProperty("Position");
            var tbarWidth = root.offsetWidth - root.querySelector(".e-hor-nav").offsetWidth, tbarItemsWid = root.querySelector("." + CLS_ITEMS).offsetWidth;
            return popEle.style.removeProperty("display"), tbarWidth > elWid + tbarItemsWid;
        }, Toolbar.prototype.popupEleWidth = function(el) {
            el.style.position = "absolute";
            var elWidth = el.offsetWidth, btnText = el.querySelector(".e-tbar-btn-text");
            if (el.classList.contains("e-tbtn-align") || el.classList.contains("e-popup-text")) {
                var btn = el.children[0];
                !isNullOrUndefined(btnText) && el.classList.contains("e-popup-text") ? btnText.style.display = "none" : !isNullOrUndefined(btnText) && el.classList.contains("e-toolbar-text") && (btnText.style.display = "block"), 
                btn.style.minWidth = "0%", elWidth = parseFloat(el.style.minWidth), btn.style.minWidth = "", 
                isNullOrUndefined(btnText) || (btnText.style.display = "");
            }
            return elWidth;
        }, Toolbar.prototype.popupEleRefresh = function(width, popupEle, destroy) {
            for (var priEleCnt, index, popPriority = this.popupPriCount > 0, eleSplice = this.tbarEle, innerEle = this.element.querySelector("." + CLS_ITEMS), ignoreCount = 0, _loop_1 = function(el) {
                if (el.classList.contains("e-popup-alone") && popPriority && !destroy) return "continue";
                var elWidth = this_1.popupEleWidth(el);
                if (el === this_1.tbarEle[0] && (elWidth += this_1.tbarEleMrgn), el.style.position = "", 
                !(elWidth < width || destroy)) return "break";
                if (el.style.minWidth = "", el.classList.contains("e-overflow-hide") || el.classList.remove(CLS_POPUP), 
                index = this_1.tbarEle.indexOf(el), this_1.tbarAlign) {
                    var pos = this_1.items[index].align;
                    index = this_1.tbarAlgEle[(pos + "s").toLowerCase()].indexOf(el), eleSplice = this_1.tbarAlgEle[(pos + "s").toLowerCase()], 
                    innerEle = this_1.element.querySelector("." + CLS_ITEMS + " .e-toolbar-" + pos.toLowerCase());
                }
                var sepBeforePri_1 = 0;
                eleSplice.slice(0, index).forEach(function(el) {
                    (el.classList.contains("e-overflow-show") || el.classList.contains("e-separator")) && (el.classList.contains("e-separator") && (el.style.display = "", 
                    width -= el.offsetWidth), sepBeforePri_1++);
                }), ignoreCount = this_1.ignoreEleFetch(index, innerEle), el.classList.contains("e-overflow-show") ? (this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount), 
                width -= el.offsetWidth) : 0 === index ? (innerEle.insertBefore(el, innerEle.firstChild), 
                width -= el.offsetWidth) : (priEleCnt = selectAll(".e-overflow-show", this_1.popObj.element).length, 
                innerEle.insertBefore(el, innerEle.children[index + ignoreCount - priEleCnt]), width -= el.offsetWidth), 
                el.style.height = "";
            }, this_1 = this, _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {
                if ("break" === _loop_1(_a[_i])) break;
            }
            this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]) && !destroy && this.renderOverflowMode();
        }, Toolbar.prototype.removePositioning = function() {
            var item = this.element.querySelector("." + CLS_ITEMS);
            if (!isNullOrUndefined(item) && item.classList.contains("e-tbar-pos")) {
                this.remove(item, "e-tbar-pos");
                var innerItem = [].slice.call(item.childNodes);
                innerItem[1].removeAttribute("style"), innerItem[2].removeAttribute("style");
            }
        }, Toolbar.prototype.refreshPositioning = function() {
            var item = this.element.querySelector("." + CLS_ITEMS);
            this.add(item, "e-tbar-pos"), this.itemPositioning();
        }, Toolbar.prototype.itemPositioning = function() {
            var item = this.element.querySelector("." + CLS_ITEMS);
            if (!isNullOrUndefined(item) && item.classList.contains("e-tbar-pos")) {
                var innerItem, popupNav = this.element.querySelector(".e-hor-nav"), margin = (innerItem = this.scrollModule ? [].slice.call(item.querySelector(".e-hscroll-content").children) : [].slice.call(item.childNodes))[0].offsetWidth + innerItem[2].offsetWidth, tbarWid = this.element.offsetWidth;
                if (popupNav) {
                    tbarWid -= popupNav.offsetWidth;
                    var popWid = popupNav.offsetWidth + "px";
                    innerItem[2].removeAttribute("style"), this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;
                }
                if (!(tbarWid <= margin)) {
                    var value = (tbarWid - margin - innerItem[1].offsetWidth) / 2;
                    innerItem[1].removeAttribute("style");
                    var mrgn = innerItem[0].offsetWidth + value + "px";
                    this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;
                }
            }
        }, Toolbar.prototype.tbarItemAlign = function(item, itemEle, pos) {
            var _this = this;
            if (!item.showAlwaysInPopup || "Show" === item.overflow) {
                var alignDiv = [];
                if (alignDiv.push(createElement("div", {
                    className: "e-toolbar-left"
                })), alignDiv.push(createElement("div", {
                    className: "e-toolbar-center"
                })), alignDiv.push(createElement("div", {
                    className: "e-toolbar-right"
                })), 0 === pos && "Left" !== item.align) alignDiv.forEach(function(ele) {
                    itemEle.appendChild(ele);
                }), this.tbarAlign = !0, this.add(itemEle, "e-tbar-pos"); else if ("Left" !== item.align) {
                    var alignEle = itemEle.childNodes, leftAlign_1 = alignDiv[0];
                    [].slice.call(alignEle).forEach(function(el) {
                        _this.tbarAlgEle.lefts.push(el), leftAlign_1.appendChild(el);
                    }), itemEle.appendChild(leftAlign_1), itemEle.appendChild(alignDiv[1]), itemEle.appendChild(alignDiv[2]), 
                    this.tbarAlign = !0, this.add(itemEle, "e-tbar-pos");
                }
            }
        }, Toolbar.prototype.ctrlTemplate = function() {
            var _this = this;
            this.ctrlTem = this.trgtEle.cloneNode(!0), this.add(this.trgtEle, CLS_ITEMS), this.tbarEle = [];
            [].slice.call(this.trgtEle.children).forEach(function(ele) {
                "DIV" === ele.tagName && (_this.tbarEle.push(ele), ele.setAttribute("aria-disabled", "false"), 
                _this.add(ele, CLS_ITEM));
            });
        }, Toolbar.prototype.renderItems = function() {
            var itemEleDom, innerItem, innerPos, ele = this.element, items = this.items;
            if (ele && ele.children.length > 0 && (itemEleDom = ele.querySelector("." + CLS_ITEMS)), 
            null != this.trgtEle) this.ctrlTemplate(); else if (ele && items.length > 0) {
                itemEleDom || (itemEleDom = createElement("div", {
                    className: CLS_ITEMS
                }));
                for (var i = 0; i < items.length; i++) innerItem = this.renderSubComponent(items[i]), 
                -1 === this.tbarEle.indexOf(innerItem) && this.tbarEle.push(innerItem), this.tbarAlign || this.tbarItemAlign(items[i], itemEleDom, i), 
                (innerPos = itemEleDom.querySelector(".e-toolbar-" + items[i].align.toLowerCase())) ? (items[i].showAlwaysInPopup && "Show" !== items[i].overflow || this.tbarAlgEle[(items[i].align + "s").toLowerCase()].push(innerItem), 
                innerPos.appendChild(innerItem)) : itemEleDom.appendChild(innerItem);
                ele.appendChild(itemEleDom);
            }
        }, Toolbar.prototype.setAttr = function(attr, element) {
            for (var keyVal, key = Object.keys(attr), i = 0; i < key.length; i++) "class" === (keyVal = key[i]) ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);
        }, Toolbar.prototype.enableItems = function(items, isEnable) {
            var elements = items, len = elements.length;
            isNullOrUndefined(isEnable) && (isEnable = !0);
            var enable = function(isEnable, ele) {
                isEnable ? (ele.classList.remove("e-overlay"), ele.setAttribute("aria-disabled", "false")) : (ele.classList.add("e-overlay"), 
                ele.setAttribute("aria-disabled", "true"));
            };
            if (len && len > 1) {
                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {
                    enable(isEnable, _a[_i]);
                }
                isEnable ? removeClass(elements, "e-overlay") : addClass(elements, "e-overlay");
            } else {
                enable(isEnable, len && 1 === len ? elements[0] : items);
            }
        }, Toolbar.prototype.addItems = function(items, index) {
            var innerItems, innerEle, itemsDiv = this.element.querySelector("." + CLS_ITEMS), itemAgn = "Left";
            isNullOrUndefined(index) && (index = 0), items.forEach(function(e) {
                isNullOrUndefined(e.align) || "Left" === e.align || "Left" !== itemAgn || (itemAgn = e.align);
            });
            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
                var item = items_1[_i];
                if (isNullOrUndefined(item.type) && (item.type = "Button"), innerItems = selectAll("." + CLS_ITEM, this.element), 
                item.align = itemAgn, innerEle = this.renderSubComponent(item), this.tbarEle.length >= index && innerItems.length > 0) {
                    this.destroyMode();
                    var algIndex = "L" === item.align[0] ? 0 : "C" === item.align[0] ? 1 : 2, ele = void 0;
                    this.tbarAlign || "Left" === itemAgn ? this.tbarAlign ? ((ele = closest(innerItems[0], "." + CLS_ITEMS).children[algIndex]).insertBefore(innerEle, ele.children[index]), 
                    this.tbarAlgEle[(item.align + "s").toLowerCase()].splice(index, 0, innerEle), this.refreshPositioning()) : innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]) : (this.tbarItemAlign(item, itemsDiv, 1), 
                    this.tbarAlign = !0, (ele = closest(innerItems[0], "." + CLS_ITEMS).children[algIndex]).appendChild(innerEle), 
                    this.tbarAlgEle[(item.align + "s").toLowerCase()].push(innerEle), this.refreshPositioning()), 
                    this.items.splice(index, 0, item), this.tbarEle.splice(index, 0, innerEle), index++, 
                    this.offsetWid = itemsDiv.offsetWidth;
                }
            }
            itemsDiv.style.width = "", this.renderOverflowMode();
        }, Toolbar.prototype.removeItems = function(args) {
            var index, elements = args, innerItems = [].slice.call(selectAll("." + CLS_ITEM, this.element));
            if ("number" == typeof elements) index = parseInt(args.toString(), 10), this.removeItemByIndex(index, innerItems); else if (elements && elements.length > 1) for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {
                var ele = _a[_i];
                index = this.tbarEle.indexOf(ele), this.removeItemByIndex(index, innerItems), innerItems = selectAll("." + CLS_ITEM, this.element);
            } else {
                ele = elements && elements.length && 1 === elements.length ? elements[0] : args;
                index = innerItems.indexOf(ele), this.removeItemByIndex(index, innerItems);
            }
            this.resize();
        }, Toolbar.prototype.removeItemByIndex = function(index, innerItems) {
            if (this.tbarEle[index] && innerItems[index]) {
                var eleIdx = this.tbarEle.indexOf(innerItems[index]);
                if (this.tbarAlign) {
                    var indexAgn = void 0;
                    indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + "s").toLowerCase()].indexOf(this.tbarEle[eleIdx]), 
                    this.tbarAlgEle[(this.items[eleIdx].align + "s").toLowerCase()].splice(indexAgn, 1);
                }
                detach(innerItems[index]), this.items.splice(eleIdx, 1), this.tbarEle.splice(eleIdx, 1);
            }
        }, Toolbar.prototype.templateRender = function(templateProp, innerEle, item) {
            var isComponent, itemType = item.type, eleObj = templateProp;
            if ("object" == typeof templateProp && (isComponent = "function" == typeof eleObj.appendTo), 
            "string" != typeof templateProp && isComponent) {
                if ("Input" === itemType) {
                    ele = createElement("input");
                    item.id ? ele.id = item.id : ele.id = getUniqueID("tbr-ipt"), innerEle.appendChild(ele), 
                    eleObj.appendTo(ele);
                }
            } else {
                var templateFn = void 0, val = templateProp;
                val = "string" == typeof templateProp ? templateProp.trim() : templateProp;
                try {
                    if (document.querySelectorAll(val).length) {
                        var ele, tempStr = (ele = document.querySelector(val)).outerHTML.trim();
                        templateFn = compile$$1(tempStr), detach(ele), item.template = tempStr;
                    }
                } catch (e) {
                    templateFn = compile$$1(val);
                }
                var tempArray = void 0;
                isNullOrUndefined(templateFn) || (tempArray = templateFn({}, this, "template")), 
                !isNullOrUndefined(tempArray) && tempArray.length > 0 && [].slice.call(tempArray).forEach(function(ele) {
                    isNullOrUndefined(ele.tagName) || (ele.style.display = ""), innerEle.appendChild(ele);
                });
            }
            this.add(innerEle, "e-template"), this.tbarEle.push(innerEle);
        }, Toolbar.prototype.buttonRendering = function(item, innerEle) {
            var dom = createElement("button", {
                className: "e-tbar-btn"
            });
            dom.setAttribute("type", "button");
            var iconCss, iconPos, textStr = item.text;
            item.id ? dom.id = item.id : dom.id = getUniqueID("e-tbr-btn");
            var btnTxt = createElement("div", {
                className: "e-tbar-btn-text"
            });
            return textStr ? (btnTxt.innerHTML = textStr, dom.appendChild(btnTxt), dom.classList.add("e-tbtn-txt")) : this.add(innerEle, "e-tbtn-align"), 
            (item.prefixIcon || item.suffixIcon) && (item.prefixIcon && item.suffixIcon || item.prefixIcon ? (iconCss = item.prefixIcon + " e-icons", 
            iconPos = "Left") : (iconCss = item.suffixIcon + " e-icons", iconPos = "Right")), 
            new Button({
                iconCss: iconCss,
                iconPosition: iconPos
            }, dom), item.width && setStyleAttribute(dom, {
                width: formatUnit(item.width)
            }), dom;
        }, Toolbar.prototype.renderSubComponent = function(item) {
            var innerEle, dom;
            if ((innerEle = createElement("div", {
                className: CLS_ITEM
            })).setAttribute("aria-disabled", "false"), this.tbarEle || (this.tbarEle = []), 
            item.htmlAttributes && this.setAttr(item.htmlAttributes, innerEle), item.tooltipText && innerEle.setAttribute("title", item.tooltipText), 
            item.cssClass && (innerEle.className = innerEle.className + " " + item.cssClass), 
            item.template) this.templateRender(item.template, innerEle, item); else switch (item.type) {
              case "Button":
                (dom = this.buttonRendering(item, innerEle)).setAttribute("tabindex", "-1"), innerEle.appendChild(dom), 
                innerEle.addEventListener("click", this.itemClick.bind(this));
                break;

              case "Separator":
                this.add(innerEle, "e-separator");
            }
            if (item.showTextOn) {
                var sTxt = item.showTextOn;
                "Toolbar" === sTxt ? (this.add(innerEle, "e-toolbar-text"), this.add(innerEle, "e-tbtn-align")) : "Overflow" === sTxt && this.add(innerEle, "e-popup-text");
            }
            if (item.overflow) {
                var overflow = item.overflow;
                "Show" === overflow ? this.add(innerEle, "e-overflow-show") : "Hide" === overflow && (innerEle.classList.contains("e-separator") || this.add(innerEle, "e-overflow-hide"));
            }
            return "Show" !== item.overflow && item.showAlwaysInPopup && !innerEle.classList.contains("e-separator") && (this.add(innerEle, "e-popup-alone"), 
            this.popupPriCount++), innerEle;
        }, Toolbar.prototype.itemClick = function(e) {
            this.activeEleSwitch(e.currentTarget);
        }, Toolbar.prototype.activeEleSwitch = function(ele) {
            this.activeEleRemove(ele.firstElementChild), this.activeEle.focus();
        }, Toolbar.prototype.activeEleRemove = function(curEle) {
            isNullOrUndefined(this.activeEle) || this.activeEle.setAttribute("tabindex", "-1"), 
            this.activeEle = curEle, isNullOrUndefined(this.trgtEle) && !curEle.parentElement.classList.contains("e-template") ? curEle.removeAttribute("tabindex") : this.activeEle.setAttribute("tabindex", "0");
        }, Toolbar.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, Toolbar.prototype.getModuleName = function() {
            return "toolbar";
        }, Toolbar.prototype.itemsRerender = function(newProp) {
            this.items = this.tbarItemsCol, this.destroyMode(), this.destroyItems(), this.items = newProp, 
            this.tbarItemsCol = this.items, this.renderItems(), this.renderOverflowMode();
        }, Toolbar.prototype.resize = function() {
            var ele = this.element;
            this.tbResize = !0, this.tbarAlign && this.itemPositioning(), this.popObj && this.popObj.hide();
            var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);
            checkOverflow || this.destroyHScroll(), checkOverflow && this.scrollModule && this.offsetWid === ele.offsetWidth || ((this.offsetWid > ele.offsetWidth || checkOverflow) && this.renderOverflowMode(), 
            this.popObj && (this.tbarAlign && this.removePositioning(), this.popupRefresh(this.popObj.element, !1), 
            this.tbarAlign && this.refreshPositioning()), this.offsetWid = ele.offsetWidth, 
            this.tbResize = !1);
        }, Toolbar.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var tEle = this.element, _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "items":
                    if (newProp.items instanceof Array && oldProp.items instanceof Array) this.itemsRerender(newProp.items); else for (var changedProb = Object.keys(newProp.items), i = 0; i < changedProb.length; i++) {
                        var index = parseInt(Object.keys(newProp.items)[i], 10), property = Object.keys(newProp.items[index])[0], newProperty = (Object(oldProp.items[index])[property], 
                        Object(newProp.items[index])[property]);
                        if (this.tbarAlign || "align" === property) {
                            this.refresh();
                            break;
                        }
                        ("showAlwaysInPopup" === property && !newProperty || this.items[index].showAlwaysInPopup && "overflow" === property && 0 !== this.popupPriCount) && --this.popupPriCount, 
                        this.destroyMode();
                        detach([].slice.call(selectAll("." + CLS_ITEMS + " ." + CLS_ITEM, tEle))[index]), 
                        this.tbarEle.splice(index, 1), this.addItems([ this.items[index] ], index), this.items.splice(index, 1), 
                        this.items[index].template && this.tbarEle.splice(this.items.length, 1);
                    }
                    break;

                  case "width":
                    var wid = tEle.offsetWidth;
                    setStyleAttribute(tEle, {
                        width: formatUnit(newProp.width)
                    }), this.renderOverflowMode(), this.popObj && wid < tEle.offsetWidth && this.popupRefresh(this.popObj.element, !1);
                    break;

                  case "height":
                    setStyleAttribute(this.element, {
                        height: formatUnit(newProp.height)
                    });
                    break;

                  case "overflowMode":
                    this.destroyMode(), this.renderOverflowMode(), this.enableRtl && this.add(tEle, "e-rtl"), 
                    this.refreshOverflow();
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? this.add(tEle, "e-rtl") : this.remove(tEle, "e-rtl"), isNullOrUndefined(this.scrollModule) || (newProp.enableRtl ? this.add(this.scrollModule.element, "e-rtl") : this.remove(this.scrollModule.element, "e-rtl")), 
                    isNullOrUndefined(this.popObj) || (newProp.enableRtl ? this.add(this.popObj.element, "e-rtl") : this.remove(this.popObj.element, "e-rtl")), 
                    this.tbarAlign && this.itemPositioning();
                }
            }
        }, Toolbar.prototype.hideItem = function(index, value) {
            if (this.tbarEle[index]) {
                var innerItems = [].slice.call(selectAll("." + CLS_ITEM, this.element));
                !0 === value ? innerItems[index].classList.add("e-hidden") : innerItems[index].classList.remove("e-hidden"), 
                this.refreshOverflow();
            }
        }, __decorate$1$7([ Collection([], Item) ], Toolbar.prototype, "items", void 0), 
        __decorate$1$7([ Property("auto") ], Toolbar.prototype, "width", void 0), __decorate$1$7([ Property("auto") ], Toolbar.prototype, "height", void 0), 
        __decorate$1$7([ Property("Scrollable") ], Toolbar.prototype, "overflowMode", void 0), 
        __decorate$1$7([ Property(!1) ], Toolbar.prototype, "enableRtl", void 0), __decorate$1$7([ Event() ], Toolbar.prototype, "clicked", void 0), 
        __decorate$1$7([ Event() ], Toolbar.prototype, "created", void 0), __decorate$1$7([ Event() ], Toolbar.prototype, "destroyed", void 0), 
        __decorate$1$7([ Event() ], Toolbar.prototype, "beforeCreate", void 0), Toolbar = __decorate$1$7([ NotifyPropertyChanges ], Toolbar);
    }(Component), __extends$3$5 = (function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    }(), function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }()), __decorate$3$5 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, FOCUSED = "e-focused", HEADER$3 = "e-menu-header", WRAPPER$1$1 = "e-contextmenu-wrapper", HIDE = "e-menu-hide", MenuItem = function(_super) {
        function MenuItem() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$3$5(MenuItem, _super), __decorate$3$5([ Property("") ], MenuItem.prototype, "iconCss", void 0), 
        __decorate$3$5([ Property("") ], MenuItem.prototype, "id", void 0), __decorate$3$5([ Property(!1) ], MenuItem.prototype, "separator", void 0), 
        __decorate$3$5([ Collection([], MenuItem) ], MenuItem.prototype, "items", void 0), 
        __decorate$3$5([ Property("") ], MenuItem.prototype, "text", void 0), __decorate$3$5([ Property("") ], MenuItem.prototype, "url", void 0), 
        MenuItem;
    }(ChildProperty), ContextMenu = function(_super) {
        function ContextMenu(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.animation = new Animation({}), _this.navIdx = [], _this.isTapHold = !1, 
            _this;
        }
        return __extends$3$5(ContextMenu, _super), ContextMenu.prototype.preRender = function() {
            if ("EJS-CONTEXTMENU" === this.element.tagName) {
                this.element.style.display = "none", this.element.classList.remove("e-" + this.getModuleName()), 
                this.element.classList.remove("e-control");
                var ejInst = getValue("ej2_instances", this.element), ul = createElement("ul");
                this.ngElement = this.element, this.element = ul, this.element.classList.add("e-control"), 
                this.element.classList.add("e-" + this.getModuleName()), setValue("ej2_instances", ejInst, this.element), 
                this.element.id || (this.element.id = getUniqueID(this.getModuleName()));
            }
        }, ContextMenu.prototype.render = function() {
            this.initWrapper(), this.renderItems(), this.wireEvents();
        }, ContextMenu.prototype.initWrapper = function() {
            var wrapper = this.getWrapper();
            wrapper || (wrapper = createElement("div", {
                className: WRAPPER$1$1
            }), document.body.appendChild(wrapper)), this.cssClass && wrapper.classList.add(this.cssClass), 
            this.enableRtl && wrapper.classList.add("e-rtl"), attributes(this.element, {
                role: "menu",
                tabindex: "0"
            }), wrapper.appendChild(this.element), this.element.style.zIndex = this.getZIndex();
        }, ContextMenu.prototype.renderItems = function() {
            this.items.length || (this.items = ListBase.createJsonFromElement(this.element), 
            this.element.innerHTML = "");
            var ul = this.createItems(this.items);
            append(Array.prototype.slice.call(ul.children), this.element), this.element.classList.add("e-menu-parent");
        }, ContextMenu.prototype.wireEvents = function() {
            var wrapper = this.getWrapper();
            if (this.target) {
                for (var target = void 0, targetElems = selectAll(this.target), i = 0, len = targetElems.length; i < len; i++) target = targetElems[i], 
                Browser.isIos ? new Touch(target, {
                    tapHold: this.touchHandler.bind(this)
                }) : EventHandler.add(target, "contextmenu", this.cmenuHandler, this);
                this.targetElement = target;
                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {
                    var parent_1 = _a[_i];
                    EventHandler.add(parent_1, "scroll", this.scrollHandler, this);
                }
            }
            Browser.isDevice || (EventHandler.add(wrapper, "mouseover", this.moverHandler, this), 
            EventHandler.add(document, "mousedown", this.mouseDownHandler, this)), this.delegateClickHandler = this.clickHandler.bind(this), 
            EventHandler.add(document, "click", this.delegateClickHandler, this), new KeyboardEvents(wrapper, {
                keyAction: this.keyBoardHandler.bind(this),
                keyConfigs: {
                    downarrow: "downarrow",
                    uparrow: "uparrow",
                    enter: "enter",
                    leftarrow: "leftarrow",
                    rightarrow: "rightarrow",
                    escape: "escape"
                }
            }), rippleEffect(wrapper, {
                selector: ".e-menu-item"
            });
        }, ContextMenu.prototype.mouseDownHandler = function(e) {
            closest(e.target, "." + WRAPPER$1$1) !== this.getWrapper() && this.closeMenu(this.navIdx.length, e);
        }, ContextMenu.prototype.keyBoardHandler = function(e) {
            switch (e.preventDefault(), e.action) {
              case "downarrow":
              case "uparrow":
                this.upDownKeyHandler(e);
                break;

              case "rightarrow":
                this.rightEnterKeyHandler(e);
                break;

              case "leftarrow":
                this.leftEscKeyHandler(e);
                break;

              case "enter":
                this.rightEnterKeyHandler(e);
                break;

              case "escape":
                this.leftEscKeyHandler(e);
            }
        }, ContextMenu.prototype.upDownKeyHandler = function(e) {
            var cul = this.getWrapper().children[this.navIdx.length], defaultIdx = "downarrow" === e.action ? 0 : cul.childElementCount - 1, fliIdx = defaultIdx, fli = this.getLIByClass(cul, FOCUSED);
            fli && (fliIdx = this.getIdx(cul, fli), fli.classList.remove(FOCUSED), "downarrow" === e.action ? fliIdx++ : fliIdx--, 
            fliIdx === ("downarrow" === e.action ? cul.childElementCount : -1) && (fliIdx = defaultIdx));
            var cli = cul.children[fliIdx];
            fliIdx = this.isValidLI(cli, fliIdx, e.action), cul.children[fliIdx].classList.add(FOCUSED), 
            cul.children[fliIdx].focus();
        }, ContextMenu.prototype.isValidLI = function(cli, index, action) {
            var cul = this.getWrapper().children[this.navIdx.length];
            return (cli.classList.contains("e-separator") || cli.classList.contains("e-disabled") || cli.classList.contains(HIDE)) && ("downarrow" === action || "rightarrow" === action ? index++ : index--), 
            ((cli = cul.children[index]).classList.contains("e-separator") || cli.classList.contains("e-disabled") || cli.classList.contains(HIDE)) && (index = this.isValidLI(cli, index, action)), 
            index;
        }, ContextMenu.prototype.rightEnterKeyHandler = function(e) {
            var eventArgs, wrapper = this.getWrapper(), cul = wrapper.children[this.navIdx.length], fli = this.getLIByClass(cul, FOCUSED);
            if (fli) {
                var fliIdx = this.getIdx(cul, fli), navIdx = this.navIdx.concat(fliIdx), index = void 0, item = this.getItem(navIdx);
                item.items.length ? (this.navIdx.push(fliIdx), this.openMenu(fli, item, null, null, e), 
                fli.classList.remove(FOCUSED), fli.classList.add("e-selected"), "enter" === e.action && (eventArgs = {
                    element: fli,
                    item: item
                }, this.trigger("select", eventArgs)), fli.focus(), cul = wrapper.children[this.navIdx.length], 
                index = this.isValidLI(cul.children[0], 0, e.action), cul.children[index].classList.add(FOCUSED), 
                cul.children[index].focus()) : "enter" === e.action && (fli.classList.remove(FOCUSED), 
                fli.classList.add("e-selected"), eventArgs = {
                    element: fli,
                    item: item
                }, this.trigger("select", eventArgs), this.closeMenu(null, e));
            }
        }, ContextMenu.prototype.leftEscKeyHandler = function(e) {
            if (this.navIdx.length) {
                var wrapper = this.getWrapper();
                this.closeMenu(this.navIdx.length, e);
                var cul = wrapper.children[this.navIdx.length], sli = this.getLIByClass(cul, "e-selected");
                sli && (sli.setAttribute("aria-expanded", "false"), sli.classList.remove("e-selected"), 
                sli.classList.add(FOCUSED), sli.focus());
            } else "escape" === e.action && this.closeMenu(null, e);
        }, ContextMenu.prototype.scrollHandler = function(e) {
            this.closeMenu(null, e);
        }, ContextMenu.prototype.touchHandler = function(e) {
            this.isTapHold = !0, this.cmenuHandler(e.originalEvent);
        }, ContextMenu.prototype.cmenuHandler = function(e) {
            e.preventDefault(), this.closeMenu(null, e), this.canOpen(e.target) && (e.changedTouches ? this.openMenu(null, null, e.changedTouches[0].clientY + 1, e.changedTouches[0].clientX + 1, e) : this.openMenu(null, null, e.clientY + 1, e.clientX + 1, e));
        }, ContextMenu.prototype.close = function() {
            this.closeMenu();
        }, ContextMenu.prototype.closeMenu = function(ulIndex, e) {
            if (void 0 === ulIndex && (ulIndex = 0), void 0 === e && (e = null), this.isMenuVisible()) for (var ul = void 0, item = void 0, items = void 0, closeArgs = void 0, beforeCloseArgs = void 0, wrapper = this.getWrapper(), cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) items = (item = this.navIdx.length ? this.getItem(this.navIdx) : null) ? item.items : this.items, 
            beforeCloseArgs = {
                element: ul = wrapper.children[cnt - 1],
                parentItem: item,
                items: items,
                event: e,
                cancel: !1
            }, this.trigger("beforeClose", beforeCloseArgs), beforeCloseArgs.cancel || (this.toggleAnimation(ul, !1), 
            this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex, closeArgs = {
                element: ul,
                parentItem: item,
                items: items
            }, this.trigger("onClose", closeArgs));
        }, ContextMenu.prototype.isMenuVisible = function() {
            return this.navIdx.length > 0 || this.element.classList.contains("e-contextmenu") && isVisible(this.element).valueOf();
        }, ContextMenu.prototype.canOpen = function(target) {
            var canOpen = !0;
            if (this.filter) {
                canOpen = !1;
                for (var filter = this.filter.split(" "), i = 0, len = target.classList.length; i < len; i++) if (filter.indexOf(target.classList[i]) > -1) {
                    canOpen = !0;
                    break;
                }
            }
            return canOpen;
        }, ContextMenu.prototype.open = function(top, left) {
            this.openMenu(null, null, top, left);
        }, ContextMenu.prototype.openMenu = function(li, item, top, left, e) {
            void 0 === top && (top = 0), void 0 === left && (left = 0), void 0 === e && (e = null);
            var ul, wrapper = this.getWrapper();
            if (li) {
                if (ul = this.createItems(item.items), Browser.isDevice) {
                    wrapper.lastChild.style.display = "none";
                    var data = {
                        text: item.text,
                        iconCss: "e-icons e-previous"
                    }, hdata = new MenuItem(this.items[0], null, data, !0), hli = this.createItems([ hdata ]).children[0];
                    hli.classList.add(HEADER$3), ul.insertBefore(hli, ul.children[0]);
                }
                ul.style.zIndex = this.element.style.zIndex, wrapper.appendChild(ul);
            } else ul = this.element;
            this.getIndex(li ? li.textContent : null);
            var eventArgs = {
                element: ul,
                items: li ? item.items : this.items,
                parentItem: item,
                event: e,
                cancel: !1
            };
            this.trigger("beforeOpen", eventArgs), eventArgs.cancel ? this.navIdx.pop() : (this.setPosition(li, ul, top, left), 
            this.toggleAnimation(ul));
        }, ContextMenu.prototype.setPosition = function(li, ul, top, left) {
            if (this.toggleVisiblity(ul), ul === this.element) {
                if ((collide = isCollide(ul, null, left, top)).indexOf("right") > -1 && (left -= ul.offsetWidth), 
                collide.indexOf("bottom") > -1) {
                    top = (offset = fit(ul, null, {
                        X: !1,
                        Y: !0
                    }, {
                        top: top,
                        left: left
                    })).top;
                }
                if ((collide = isCollide(ul, null, left, top)).indexOf("left") > -1) {
                    left = (offset = fit(ul, null, {
                        X: !0,
                        Y: !1
                    }, {
                        top: top,
                        left: left
                    })).left;
                }
            } else if (Browser.isDevice) top = Number(this.element.style.top.replace("px", "")), 
            left = Number(this.element.style.left.replace("px", "")); else {
                var offset;
                top = (offset = calculatePosition(li, this.enableRtl ? "left" : "right", "top")).top, 
                left = offset.left;
                var collide, xCollision = (collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top)).indexOf("left") > -1 || collide.indexOf("right") > -1;
                xCollision && (left = (offset = calculatePosition(li, this.enableRtl ? "right" : "left", "top")).left), 
                (this.enableRtl || xCollision) && (left = this.enableRtl && xCollision ? left : left - ul.offsetWidth), 
                collide.indexOf("bottom") > -1 && (top = (offset = fit(ul, null, {
                    X: !1,
                    Y: !0
                }, {
                    top: top,
                    left: left
                })).top);
            }
            this.toggleVisiblity(ul, !1), ul.style.top = top + "px", ul.style.left = left + "px";
        }, ContextMenu.prototype.toggleVisiblity = function(ul, isVisible$$1) {
            void 0 === isVisible$$1 && (isVisible$$1 = !0), ul.style.visibility = isVisible$$1 ? "hidden" : "", 
            ul.style.display = isVisible$$1 ? "block" : "none";
        }, ContextMenu.prototype.createItems = function(items) {
            var _this = this, showIcon = this.hasField(items, "iconCss"), listBaseOptions = {
                showIcon: showIcon,
                moduleName: "menu",
                itemCreating: function(args) {
                    args.curData.htmlAttributes = {
                        role: "menuitem",
                        tabindex: "-1"
                    };
                },
                itemCreated: function(args) {
                    if (args.curData.separator && (args.item.classList.add("e-separator"), args.item.removeAttribute("role")), 
                    !showIcon || args.curData.iconCss || args.curData.separator || args.item.classList.add("e-blankicon"), 
                    args.curData.items && args.curData.items.length) {
                        var span = createElement("span", {
                            className: "e-icons e-caret"
                        });
                        args.item.appendChild(span), args.item.setAttribute("aria-haspopup", "true"), args.item.setAttribute("aria-expanded", "false"), 
                        args.item.removeAttribute("role"), args.item.classList.add("e-menu-caret-icon");
                    }
                    var eventArgs = {
                        item: args.curData,
                        element: args.item
                    };
                    _this.trigger("beforeItemRender", eventArgs);
                }
            }, ul = ListBase.createList(this.toRawObject(items.slice()), listBaseOptions, !0);
            return ul.setAttribute("tabindex", "0"), ul;
        }, ContextMenu.prototype.toRawObject = function(items) {
            for (var item, menuItems = [], i = 0, len = items.length; i < len; i++) item = items[i].properties, 
            menuItems.push(item);
            return menuItems;
        }, ContextMenu.prototype.moverHandler = function(e) {
            var wrapper = this.getWrapper(), trgt = e.target, cli = this.getLI(trgt);
            if (cli && closest(cli, "." + WRAPPER$1$1)) {
                var fli = select("." + FOCUSED, wrapper);
                fli && fli.classList.remove(FOCUSED), cli.classList.add(FOCUSED), this.showItemOnClick || this.clickHandler(e);
            }
        }, ContextMenu.prototype.hasField = function(items, field) {
            for (var i = 0, len = items.length; i < len; i++) if (items[i][field]) return !0;
            return !1;
        }, ContextMenu.prototype.getWrapper = function() {
            return closest(this.element, "." + WRAPPER$1$1);
        }, ContextMenu.prototype.clickHandler = function(e) {
            if (this.isTapHold) this.isTapHold = !1; else {
                var wrapper = this.getWrapper(), trgt = e.target, cli = this.getLI(trgt), cliWrapper = cli ? closest(cli, "." + WRAPPER$1$1) : null, isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;
                if (isInstLI && "click" === e.type && !cli.classList.contains(HEADER$3)) {
                    this.setLISelected(cli);
                    var navIdx = this.getIndex(cli.textContent), eventArgs = {
                        element: cli,
                        item: item = this.getItem(navIdx)
                    };
                    this.trigger("select", eventArgs);
                }
                if (isInstLI && ("mouseover" === e.type || Browser.isDevice || this.showItemOnClick)) {
                    var ul = void 0;
                    if (cli.classList.contains(HEADER$3)) {
                        ul = wrapper.children[this.navIdx.length - 1], this.toggleAnimation(ul);
                        (sli = this.getLIByClass(ul, "e-selected")) && sli.classList.remove("e-selected"), 
                        detach(cli.parentNode), this.navIdx.pop();
                    } else if (!cli.classList.contains("e-separator")) {
                        var showSubMenu = !0, cul = cli.parentNode, cliIdx = this.getIdx(cul, cli);
                        if (!Browser.isDevice) {
                            var culIdx = this.getIdx(wrapper, cul);
                            if (this.navIdx[culIdx] === cliIdx && (showSubMenu = !1), culIdx !== this.navIdx.length && ("mouseover" !== e.type || showSubMenu)) {
                                var sli;
                                (sli = this.getLIByClass(cul, "e-selected")) && sli.classList.remove("e-selected"), 
                                this.closeMenu(culIdx + 1, e);
                            }
                        }
                        if (showSubMenu) {
                            var item, idx = this.navIdx.concat(cliIdx);
                            (item = this.getItem(idx)).items.length ? ("mouseover" === e.type && this.setLISelected(cli), 
                            cli.setAttribute("aria-expanded", "true"), this.navIdx.push(cliIdx), this.openMenu(cli, item, null, null, e)) : "mouseover" !== e.type && this.closeMenu(null, e);
                        }
                    }
                } else "UL" === trgt.tagName && trgt.parentElement === wrapper || cli && cli.querySelector(".e-caret") || this.closeMenu(null, e);
            }
        }, ContextMenu.prototype.setLISelected = function(li) {
            var sli = this.getLIByClass(li.parentElement, "e-selected");
            sli && sli.classList.remove("e-selected"), li.classList.remove(FOCUSED), li.classList.add("e-selected");
        }, ContextMenu.prototype.getLIByClass = function(ul, classname) {
            for (var i = 0, len = ul.children.length; i < len; i++) if (ul.children[i].classList.contains(classname)) return ul.children[i];
            return null;
        }, ContextMenu.prototype.getItem = function(navIdx) {
            var idx = (navIdx = navIdx.slice()).pop();
            return this.getItems(navIdx)[idx];
        }, ContextMenu.prototype.getItems = function(navIdx) {
            for (var items = this.items, i = 0; i < navIdx.length; i++) items = items[navIdx[i]].items;
            return items;
        }, ContextMenu.prototype.getIdx = function(ul, li, skipHdr) {
            void 0 === skipHdr && (skipHdr = !0);
            var idx = Array.prototype.indexOf.call(ul.children, li);
            return skipHdr && ul.children[0].classList.contains(HEADER$3) && idx--, idx;
        }, ContextMenu.prototype.getLI = function(elem) {
            return "LI" === elem.tagName ? elem : closest(elem, "li");
        }, ContextMenu.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var wrapper = this.getWrapper(), _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "cssClass":
                    oldProp.cssClass && wrapper.classList.remove(oldProp.cssClass), newProp.cssClass && wrapper.classList.add(newProp.cssClass);
                    break;

                  case "enableRtl":
                    wrapper.classList.toggle("e-rtl");
                    break;

                  case "filter":
                    this.closeMenu(), this.filter = newProp.filter;
                    break;

                  case "showItemOnClick":
                    this.unWireEvents(), this.showItemOnClick = newProp.showItemOnClick, this.wireEvents();
                    break;

                  case "target":
                    this.unWireEvents(), this.target = newProp.target, this.wireEvents();
                    break;

                  case "items":
                    for (var idx = void 0, navIdx = void 0, item = void 0, keys = Object.keys(newProp.items), i = 0; i < keys.length; i++) (navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]))).length <= this.getWrapper().children.length && (idx = navIdx.pop(), 
                    item = this.getItems(navIdx), this.insertAfter([ item[idx] ], item[idx].text), this.removeItem(item, navIdx, idx)), 
                    navIdx.length = 0;
                }
            }
        }, ContextMenu.prototype.getChangedItemIndex = function(newProp, index, idx) {
            index.push(idx);
            var key = Object.keys(newProp.items[idx]).pop();
            if ("items" === key) {
                var item = newProp.items[idx];
                this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));
            } else "isParentArray" === key && index.length > 1 && index.pop();
            return index;
        }, ContextMenu.prototype.removeItem = function(item, navIdx, idx) {
            item.splice(idx, 1);
            var uls = this.getWrapper().children;
            navIdx.length < uls.length && detach(uls[navIdx.length].children[idx]);
        }, ContextMenu.prototype.unWireEvents = function() {
            var wrapper = this.getWrapper();
            if (this.target) {
                for (var target = void 0, touchModule = void 0, targetElems = selectAll(this.target), i = 0, len = targetElems.length; i < len; i++) target = targetElems[i], 
                Browser.isIos ? (touchModule = getInstance(target, Touch)) && touchModule.destroy() : EventHandler.remove(target, "contextmenu", this.cmenuHandler);
                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {
                    var parent_2 = _a[_i];
                    EventHandler.remove(parent_2, "scroll", this.scrollHandler);
                }
            }
            Browser.isDevice || (EventHandler.remove(wrapper, "mouseover", this.moverHandler), 
            EventHandler.remove(document, "mousedown", this.mouseDownHandler)), EventHandler.remove(document, "click", this.delegateClickHandler);
            var keyboardModule = getInstance(wrapper, KeyboardEvents);
            keyboardModule && keyboardModule.destroy();
        }, ContextMenu.prototype.toggleAnimation = function(ul, isMenuOpen) {
            var _this = this;
            void 0 === isMenuOpen && (isMenuOpen = !0), "None" !== this.animationSettings.effect && isMenuOpen ? this.animation.animate(ul, {
                name: this.animationSettings.effect,
                duration: this.animationSettings.duration,
                timingFunction: this.animationSettings.easing,
                begin: function(options) {
                    options.element.style.display = "block", options.element.style.maxHeight = options.element.getBoundingClientRect().height + "px";
                },
                end: function(options) {
                    _this.end(options.element, isMenuOpen);
                }
            }) : this.end(ul, isMenuOpen);
        }, ContextMenu.prototype.end = function(ul, isMenuOpen) {
            if (isMenuOpen) {
                ul.style.display = "block", ul.style.maxHeight = "";
                var item = this.navIdx.length ? this.getItem(this.navIdx) : null, eventArgs = {
                    element: ul,
                    parentItem: item,
                    items: item ? item.items : this.items
                };
                if (this.trigger("onOpen", eventArgs), ul.querySelector("." + FOCUSED)) ul.querySelector("." + FOCUSED).focus(); else {
                    var ele = void 0;
                    (ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1]) ? ele.querySelector(".e-selected").focus() : this.element.focus();
                }
            } else if (ul === this.element) {
                var fli = this.getLIByClass(this.element, FOCUSED);
                fli && fli.classList.remove(FOCUSED);
                var sli = this.getLIByClass(this.element, "e-selected");
                sli && sli.classList.remove("e-selected"), ul.style.display = "none";
            } else detach(ul);
        }, ContextMenu.prototype.getPersistData = function() {
            return "";
        }, ContextMenu.prototype.getModuleName = function() {
            return "contextmenu";
        }, ContextMenu.prototype.getIndex = function(data, items, navIdx, isCallBack) {
            void 0 === items && (items = this.items), void 0 === navIdx && (navIdx = []), void 0 === isCallBack && (isCallBack = !1);
            for (var item, i = 0, len = items.length; i < len; i++) {
                if ((item = items[i]).text === data) {
                    navIdx.push(i);
                    break;
                }
                if (item.items.length) {
                    if (-1 !== (navIdx = this.getIndex(data, item.items, navIdx, !0))[navIdx.length - 1]) {
                        navIdx.unshift(i);
                        break;
                    }
                    i !== len - 1 && navIdx.pop();
                } else i === len - 1 && navIdx.push(-1);
            }
            return isCallBack || -1 !== navIdx[0] ? navIdx : [];
        }, ContextMenu.prototype.enableItems = function(items, enable) {
            void 0 === enable && (enable = !0);
            for (var ul, idx, navIdx, wrapper = this.getWrapper(), i = 0; i < items.length; i++) idx = (navIdx = this.getIndex(items[i])).pop(), 
            (ul = wrapper.children[navIdx.length]) && (enable ? Browser.isDevice && !ul.classList.contains("e-contextmenu") ? ul.children[idx + 1].classList.remove("e-disabled") : ul.children[idx].classList.remove("e-disabled") : Browser.isDevice && !ul.classList.contains("e-contextmenu") ? ul.children[idx + 1].classList.add("e-disabled") : ul.children[idx].classList.add("e-disabled"));
        }, ContextMenu.prototype.showItems = function(items) {
            this.showHideItems(items, !1);
        }, ContextMenu.prototype.hideItems = function(items) {
            this.showHideItems(items, !0);
        }, ContextMenu.prototype.showHideItems = function(items, ishide) {
            for (var ul, idx, navIdx, wrapper = this.getWrapper(), i = 0; i < items.length; i++) idx = (navIdx = this.getIndex(items[i])).pop(), 
            (ul = wrapper.children[navIdx.length]) && (ishide ? Browser.isDevice && !ul.classList.contains("e-contextmenu") ? ul.children[idx + 1].classList.add(HIDE) : ul.children[idx].classList.add(HIDE) : Browser.isDevice && !ul.classList.contains("e-contextmenu") ? ul.children[idx + 1].classList.remove(HIDE) : ul.children[idx].classList.remove(HIDE));
        }, ContextMenu.prototype.removeItems = function(items) {
            for (var idx, navIdx, iitems, i = 0; i < items.length; i++) idx = (navIdx = this.getIndex(items[i])).pop(), 
            iitems = this.getItems(navIdx), this.removeItem(iitems, navIdx, idx);
        }, ContextMenu.prototype.insertAfter = function(items, text) {
            this.insertItems(items, text);
        }, ContextMenu.prototype.insertBefore = function(items, text) {
            this.insertItems(items, text, !1);
        }, ContextMenu.prototype.insertItems = function(items, text, isAfter) {
            void 0 === isAfter && (isAfter = !0);
            for (var li, idx, navIdx, iitems, menuitem, i = 0; i < items.length; i++) {
                idx = (navIdx = this.getIndex(text)).pop(), iitems = this.getItems(navIdx), menuitem = new MenuItem(iitems[0], null, items[i], !0), 
                iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);
                var uls = this.getWrapper().children;
                navIdx.length < uls.length && (idx = isAfter ? idx + 1 : idx, this.hasField(iitems, "iconCss"), 
                li = this.createItems(iitems).children[idx], uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]));
            }
        }, ContextMenu.prototype.getZIndex = function() {
            for (var index, position, props, zIndex = [ "999" ], i = 0, len = document.body.children.length; i < len; i++) index = (props = document.defaultView.getComputedStyle(document.body.children[i])).getPropertyValue("z-index"), 
            position = props.getPropertyValue("position"), "auto" !== index && "static" !== position && zIndex.push(index);
            return (Math.max.apply(Math, zIndex) + 1).toString();
        }, ContextMenu.prototype.destroy = function() {
            var _this = this, wrapper = this.getWrapper();
            wrapper && (_super.prototype.destroy.call(this), this.unWireEvents(), this.ngElement ? this.ngElement.style.display = "block" : (this.closeMenu(), 
            this.element.innerHTML = "", [ "top", "left", "display", "z-index" ].forEach(function(key) {
                _this.element.style.removeProperty(key);
            }), [ "role", "tabindex", "class", "style" ].forEach(function(key) {
                -1 !== [ "class", "style" ].indexOf(key) && _this.element.getAttribute(key) || _this.element.removeAttribute(key);
            }), wrapper.parentNode.insertBefore(this.element, wrapper)), detach(wrapper));
        }, __decorate$3$5([ Property("") ], ContextMenu.prototype, "cssClass", void 0), 
        __decorate$3$5([ Property("") ], ContextMenu.prototype, "filter", void 0), __decorate$3$5([ Property(!1) ], ContextMenu.prototype, "showItemOnClick", void 0), 
        __decorate$3$5([ Collection([], MenuItem) ], ContextMenu.prototype, "items", void 0), 
        __decorate$3$5([ Property("") ], ContextMenu.prototype, "target", void 0), __decorate$3$5([ Property({
            duration: 400,
            easing: "ease",
            effect: "SlideDown"
        }) ], ContextMenu.prototype, "animationSettings", void 0), __decorate$3$5([ Event() ], ContextMenu.prototype, "beforeItemRender", void 0), 
        __decorate$3$5([ Event() ], ContextMenu.prototype, "beforeOpen", void 0), __decorate$3$5([ Event() ], ContextMenu.prototype, "onOpen", void 0), 
        __decorate$3$5([ Event() ], ContextMenu.prototype, "beforeClose", void 0), __decorate$3$5([ Event() ], ContextMenu.prototype, "onClose", void 0), 
        __decorate$3$5([ Event() ], ContextMenu.prototype, "select", void 0), ContextMenu = __decorate$3$5([ NotifyPropertyChanges ], ContextMenu);
    }(Component), __extends$26 = (function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    }(), function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    }(), function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
    }(), function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }()), ExcelFilter = function(_super) {
        function ExcelFilter(parent, filterSettings, serviceLocator, customFltrOperators) {
            var _this = _super.call(this, parent, filterSettings, serviceLocator) || this;
            return _this.customFilterOperators = customFltrOperators, _this.isExcel = !0, _this;
        }
        return __extends$26(ExcelFilter, _super), ExcelFilter.prototype.getCMenuDS = function(type, operator) {
            var options = {
                number: [ "Equal", "NotEqual", "", "LessThan", "LessThanOrEqual", "GreaterThan", "GreaterThanOrEqual", "Between", "", "CustomFilter" ],
                string: [ "Equal", "NotEqual", "", "StartsWith", "EndsWith", "", "Contains", "", "CustomFilter" ]
            };
            options.date = options.number, options.datetime = options.number;
            for (var model = [], i = 0; i < options[type].length; i++) options[type][i].length ? operator ? model.push({
                text: this.getLocalizedLabel(options[type][i]) + "...",
                iconCss: "e-icons e-icon-check " + (operator === options[type][i] ? "" : "e-emptyicon")
            }) : model.push({
                text: this.getLocalizedLabel(options[type][i]) + "..."
            }) : model.push({
                separator: !0
            });
            return model;
        }, ExcelFilter.prototype.destroy = function() {
            this.dlg && (this.unwireExEvents(), _super.prototype.destroy.call(this)), this.cmenu.parentElement && remove(this.cmenu);
        }, ExcelFilter.prototype.createMenu = function(type, isFiltered, isCheckIcon) {
            this.menu = createElement("div", {
                className: "e-contextmenu-wrapper"
            }), this.parent.enableRtl ? this.menu.classList.add("e-rtl") : this.menu.classList.remove("e-rtl");
            var ul = createElement("ul"), icon = isFiltered ? "e-excl-filter-icon e-filtered" : "e-excl-filter-icon";
            ul.appendChild(this.createMenuElem(this.getLocalizedLabel("ClearFilter"), isFiltered ? "" : "e-disabled", icon)), 
            "boolean" !== type && ul.appendChild(this.createMenuElem(this.getLocalizedLabel({
                string: "TextFilter",
                date: "DateFilter",
                datetime: "DateFilter",
                number: "NumberFilter"
            }[type]), "e-submenu", isCheckIcon && this.ensureTextFilter() ? "e-icon-check" : icon + " e-emptyicon", !0)), 
            this.menu.appendChild(ul);
        }, ExcelFilter.prototype.createMenuElem = function(val, className, iconName, isSubMenu) {
            var li = createElement("li", {
                className: className + " e-menu-item"
            });
            return li.innerHTML = val, li.insertBefore(createElement("span", {
                className: "e-menu-icon e-icons " + iconName
            }), li.firstChild), isSubMenu && li.appendChild(createElement("span", {
                className: "e-icons e-caret"
            })), li;
        }, ExcelFilter.prototype.wireExEvents = function() {
            EventHandler.add(this.dlg, "mouseover", this.hoverHandler, this), EventHandler.add(this.dlg, "click", this.clickExHandler, this);
        }, ExcelFilter.prototype.unwireExEvents = function() {
            EventHandler.remove(this.dlg, "mouseover", this.hoverHandler), EventHandler.remove(this.dlg, "click", this.clickExHandler);
        }, ExcelFilter.prototype.clickExHandler = function(e) {
            var menuItem = parentsUntil(e.target, "e-menu-item");
            menuItem && this.getLocalizedLabel("ClearFilter") === menuItem.innerText.trim() && (this.clearFilter(), 
            this.closeDialog());
        }, ExcelFilter.prototype.destroyCMenu = function() {
            this.menuObj && !this.menuObj.isDestroyed && (this.menuObj.destroy(), remove(this.cmenu));
        }, ExcelFilter.prototype.hoverHandler = function(e) {
            var isSubMenu, target = e.target.querySelector(".e-contextmenu"), li = parentsUntil(e.target, "e-menu-item"), focused = this.menu.querySelector(".e-focused");
            if (focused && focused.classList.remove("e-focused"), li && (li.classList.add("e-focused"), 
            isSubMenu = li.classList.contains("e-submenu")), !target) {
                if (!isSubMenu) {
                    var submenu = this.menu.querySelector(".e-submenu");
                    isNullOrUndefined(submenu) || submenu.classList.remove("e-selected"), this.isCMenuOpen = !1, 
                    this.destroyCMenu();
                }
                var selectedMenu = this.ensureTextFilter();
                if (!this.isCMenuOpen && isSubMenu) {
                    li.classList.add("e-selected"), this.isCMenuOpen = !0;
                    var menuOptions = {
                        items: this.getCMenuDS(this.options.type, selectedMenu ? selectedMenu.replace(/\s/g, "") : void 0),
                        select: this.selectHandler.bind(this),
                        onClose: this.destroyCMenu.bind(this),
                        enableRtl: this.parent.enableRtl,
                        beforeClose: this.preventClose
                    };
                    this.parent.element.appendChild(this.cmenu), this.menuObj = new ContextMenu(menuOptions, this.cmenu);
                    var client = this.menu.querySelector(".e-submenu").getBoundingClientRect(), pos = {
                        top: 0,
                        left: 0
                    };
                    if (Browser.isDevice) {
                        var contextRect = this.getContextBounds(this.menuObj);
                        pos.top = (window.innerHeight - contextRect.height) / 2, pos.left = (window.innerWidth - contextRect.width) / 2, 
                        this.closeDialog();
                    } else pos.top = client.top, pos.left = this.getCMenuYPosition(this.dlg, this.menuObj);
                    this.menuObj.open(pos.top, pos.left);
                }
            }
        }, ExcelFilter.prototype.ensureTextFilter = function() {
            var selectedMenu, predicates = this.existingPredicate[this.options.field];
            return predicates && 2 === predicates.length ? selectedMenu = "greaterThanOrEqual" === predicates[0].operator && "lessThanOrEqual" === predicates[1].operator ? "Between" : "CustomFilter" : predicates && 1 === predicates.length && (this.optrData = this.customFilterOperators[this.options.type + "Operator"], 
            selectedMenu = this.getSelectedText(predicates[0].operator)), selectedMenu;
        }, ExcelFilter.prototype.preventClose = function(args) {
            args.event instanceof MouseEvent && args.event.target.classList.contains("e-submenu") && (args.cancel = !0);
        }, ExcelFilter.prototype.getContextBounds = function(context) {
            this.menuObj.element.style.display;
            return this.menuObj.element.style.display = "block", this.menuObj.element.getBoundingClientRect();
        }, ExcelFilter.prototype.getCMenuYPosition = function(target, context) {
            var contextWidth = this.getContextBounds(context).width, targetPosition = target.getBoundingClientRect();
            return targetPosition.right + contextWidth - this.parent.element.clientWidth < 1 ? targetPosition.right + 1 : targetPosition.left - contextWidth - 1;
        }, ExcelFilter.prototype.openDialog = function(options) {
            var _this = this;
            this.updateModel(options), this.getAndSetChkElem(options), this.showDialog(options), 
            this.dialogObj.dataBind();
            var filterLength = this.existingPredicate[options.field] && this.existingPredicate[options.field].length || this.options.filteredColumns.filter(function(col) {
                return _this.options.field === col.field;
            }).length;
            this.createMenu(options.type, filterLength > 0, 1 === filterLength || 2 === filterLength), 
            this.dlg.insertBefore(this.menu, this.dlg.firstChild), this.dlg.classList.add("e-excelfilter"), 
            this.dlg.classList.remove("e-checkboxfilter"), this.cmenu = createElement("ul", {
                className: "e-excel-menu"
            }), this.wireExEvents();
        }, ExcelFilter.prototype.closeDialog = function() {
            _super.prototype.closeDialog.call(this);
        }, ExcelFilter.prototype.selectHandler = function(e) {
            e.item && (this.menuItem = e.item, this.renderDialogue(e));
        }, ExcelFilter.prototype.renderDialogue = function(e) {
            var _this = this, target = e.element, column = this.options.field, mainDiv = createElement("div", {
                className: "e-xlfl-maindiv",
                id: column + "-xlflmenu"
            });
            this.dlgDiv = createElement("div", {
                className: "e-xlflmenu",
                id: column + "-xlfldlg"
            }), this.parent.element.appendChild(this.dlgDiv), this.dlgObj = new Dialog({
                header: "Custom Filter",
                isModal: !0,
                overlayClick: this.removeDialog.bind(this),
                showCloseIcon: !0,
                closeOnEscape: !1,
                target: document.body,
                visible: !1,
                enableRtl: this.parent.enableRtl,
                open: function() {
                    _this.dlgObj.element.querySelector("table.e-xlfl-table>tr").cells[1].querySelector("input:not([type=hidden])").focus();
                },
                close: this.removeDialog.bind(this),
                created: this.createdDialog.bind(this, target, column),
                buttons: [ {
                    click: this.filterBtnClick.bind(this, column),
                    buttonModel: {
                        content: this.getLocalizedLabel("OK"),
                        isPrimary: !0,
                        cssClass: "e-xlfl-okbtn"
                    }
                }, {
                    click: this.removeDialog.bind(this),
                    buttonModel: {
                        content: this.getLocalizedLabel("Cancel"),
                        cssClass: "e-xlfl-cancelbtn"
                    }
                } ],
                content: mainDiv,
                width: 430,
                animationSettings: {
                    effect: "None"
                }
            }), this.dlgObj.appendTo(this.dlgDiv);
        }, ExcelFilter.prototype.removeDialog = function() {
            this.removeObjects([ this.dropOptr, this.datePicker, this.actObj, this.numericTxtObj, this.dlgObj ]), 
            remove(this.dlgDiv);
        }, ExcelFilter.prototype.clearBtnClick = function(field) {
            this.clearFilter(), this.removeDialog();
        }, ExcelFilter.prototype.createdDialog = function(target, column) {
            this.renderCustomFilter(target, column), this.dlgObj.element.style.left = "0px", 
            this.dlgObj.element.style.top = "0px", Browser.isDevice && window.innerWidth < 440 && (this.dlgObj.element.style.width = "90%"), 
            this.dlgObj.show();
        }, ExcelFilter.prototype.renderCustomFilter = function(target, column) {
            var dlgConetntEle = this.dlgObj.element.querySelector(".e-xlfl-maindiv"), dlgFields = createElement("div", {
                innerHTML: this.getLocalizedLabel("ShowRowsWhere"),
                className: "e-xlfl-dlgfields"
            });
            dlgConetntEle.appendChild(dlgFields);
            var fieldSet = createElement("div", {
                innerHTML: this.options.displayName,
                className: "e-xlfl-fieldset"
            });
            dlgConetntEle.appendChild(fieldSet), this.renderFilterUI(column, dlgConetntEle);
        }, ExcelFilter.prototype.filterBtnClick = function(col) {
            var checkBoxValue, fValue = this.dlgDiv.querySelector("#" + col + "-xlfl-frstvalue").ej2_instances[0], fOperator = this.dlgDiv.querySelector("#" + col + "-xlfl-frstoptr").ej2_instances[0], sValue = this.dlgDiv.querySelector("#" + col + "-xlfl-secndvalue").ej2_instances[0], sOperator = this.dlgDiv.querySelector("#" + col + "-xlfl-secndoptr").ej2_instances[0];
            if ("string" === this.options.type) {
                checkBoxValue = this.dlgDiv.querySelector("#" + col + "-xlflmtcase").ej2_instances[0].checked;
            }
            var andRadio = this.dlgDiv.querySelector("#" + col + "e-xlfl-frstpredicate").ej2_instances[0], predicate = (this.dlgDiv.querySelector("#" + col + "e-xlfl-secndpredicate").ej2_instances[0], 
            andRadio.checked ? "and" : "or");
            null === sValue.value && (predicate = "or"), this.filterByColumn(this.options.field, fOperator.value, fValue.value, predicate, checkBoxValue, this.parent.filterSettings.ignoreAccent, sOperator.value, sValue.value), 
            this.removeDialog();
        }, ExcelFilter.prototype.filterByColumn = function(fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue) {
            var mPredicate, _this = this, col = this.parent.getColumnByField(fieldName), field = col.isForeignColumn() ? col.foreignKeyValue : fieldName, fColl = [];
            fColl.push({
                field: field,
                predicate: predicate,
                matchCase: matchCase,
                ignoreAccent: ignoreAccent,
                operator: firstOperator,
                value: firstValue,
                type: this.options.type
            }), mPredicate = new Predicate$1(field, firstOperator.toLowerCase(), firstValue, !matchCase, ignoreAccent), 
            secondValue && (secondOperator = isNullOrUndefined(secondOperator) ? "equal" : secondOperator, 
            fColl.push({
                field: field,
                predicate: predicate,
                matchCase: matchCase,
                ignoreAccent: ignoreAccent,
                operator: secondOperator,
                value: secondValue,
                type: this.options.type
            }), mPredicate = mPredicate[predicate](field, secondOperator.toLowerCase(), secondValue, !matchCase, ignoreAccent));
            var args = {
                action: "filtering",
                filterCollection: fColl,
                field: this.options.field,
                ejpredicate: mPredicate,
                actualPredicate: fColl
            }, fPredicate = {}, filterCollection = [];
            col.isForeignColumn() ? this.options.column.dataSource.executeQuery(new Query().where(mPredicate)).then(function(e) {
                _this.options.column.columnData = e.result, _this.parent.notify("generateQuery", {
                    predicate: fPredicate,
                    column: col
                }), args.ejpredicate = fPredicate.predicate.predicates, fPredicate.predicate.predicates.forEach(function(fpred) {
                    filterCollection.push({
                        field: fpred.field,
                        predicate: "or",
                        matchCase: fpred.ignoreCase,
                        ignoreAccent: fpred.ignoreAccent,
                        operator: fpred.operator,
                        value: fpred.value,
                        type: _this.options.type
                    });
                }), args.filterCollection = filterCollection.length ? filterCollection : fColl.filter(function(col) {
                    return col.field = _this.options.field;
                }), _this.options.handler(args);
            }) : this.options.handler(args);
        }, ExcelFilter.prototype.renderOperatorUI = function(column, table, elementID, predicates, isFirst) {
            var fieldElement = createElement("tr", {
                className: "e-xlfl-fields"
            });
            table.appendChild(fieldElement);
            var xlfloptr = createElement("td", {
                className: "e-xlfl-optr"
            });
            fieldElement.appendChild(xlfloptr);
            var optrDiv = createElement("div", {
                className: "e-xlfl-optrdiv"
            }), optrInput = createElement("input", {
                id: column + elementID
            });
            optrDiv.appendChild(optrInput), xlfloptr.appendChild(optrDiv);
            var optr = this.options.type + "Operator", dropDatasource = this.customFilterOperators[optr];
            this.optrData = dropDatasource;
            var selectedValue = this.dropSelectedVal(column, predicates, isFirst), menuText = "";
            this.menuItem && ((menuText = this.menuItem.text.slice(0, -3)) !== this.getLocalizedLabel("CustomFilter") && (selectedValue = isFirst ? menuText : void 0), 
            menuText === this.getLocalizedLabel("Between") && (selectedValue = this.getLocalizedLabel(isFirst ? "GreaterThanOrEqual" : "LessThanOrEqual"))), 
            this.dropOptr = new DropDownList({
                dataSource: dropDatasource,
                fields: {
                    text: "text",
                    value: "value"
                },
                text: selectedValue,
                open: this.dropDownOpen.bind(this),
                enableRtl: this.parent.enableRtl
            }), this.dropOptr.appendTo(optrInput);
            return {
                fieldElement: fieldElement,
                operator: this.getSelectedValue(selectedValue)
            };
        }, ExcelFilter.prototype.dropDownOpen = function(args) {
            args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();
        }, ExcelFilter.prototype.getSelectedValue = function(text) {
            var selectedField = new DataManager(this.optrData).executeLocal(new Query().where("text", "equal", text));
            return isNullOrUndefined(selectedField[0]) ? "" : selectedField[0].value;
        }, ExcelFilter.prototype.dropSelectedVal = function(col, predicates, isFirst) {
            var operator;
            return operator = predicates && predicates.length > 0 ? 2 === predicates.length ? isFirst ? predicates[0].operator : predicates[1].operator : isFirst ? predicates[0].operator : void 0 : isFirst ? "equal" : void 0, 
            this.getSelectedText(operator);
        }, ExcelFilter.prototype.getSelectedText = function(operator) {
            var selectedField = new DataManager(this.optrData).executeLocal(new Query().where("value", "equal", operator));
            return isNullOrUndefined(selectedField[0]) ? "" : selectedField[0].text;
        }, ExcelFilter.prototype.renderFilterUI = function(column, dlgConetntEle) {
            var predicates = this.existingPredicate[column], table = createElement("table", {
                className: "e-xlfl-table"
            });
            dlgConetntEle.appendChild(table);
            var colGroup = createElement("colGroup");
            colGroup.innerHTML = '<col style="width: 50%"></col><col style="width: 50%"></col>', 
            table.appendChild(colGroup);
            var optr = this.renderOperatorUI(column, table, "-xlfl-frstoptr", predicates, !0);
            this.renderFlValueUI(column, optr, "-xlfl-frstvalue", predicates, !0);
            var predicate = createElement("tr", {
                className: "e-xlfl-predicate"
            });
            table.appendChild(predicate), this.renderRadioButton(column, predicate, predicates), 
            optr = this.renderOperatorUI(column, table, "-xlfl-secndoptr", predicates, !1), 
            this.renderFlValueUI(column, optr, "-xlfl-secndvalue", predicates, !1);
        }, ExcelFilter.prototype.renderRadioButton = function(column, tr, predicates) {
            var td = createElement("td", {
                className: "e-xlfl-radio",
                attrs: {
                    colSpan: "2"
                }
            });
            tr.appendChild(td);
            var radioDiv = createElement("div", {
                className: "e-xlfl-radiodiv",
                attrs: {
                    style: "display: inline-block"
                }
            }), frstpredicate = createElement("input", {
                id: column + "e-xlfl-frstpredicate",
                attrs: {
                    type: "radio"
                }
            }), secndpredicate = createElement("input", {
                id: column + "e-xlfl-secndpredicate",
                attrs: {
                    type: "radio"
                }
            });
            radioDiv.appendChild(frstpredicate), radioDiv.appendChild(secndpredicate), td.appendChild(radioDiv), 
            "string" === this.options.type && this.renderMatchCase(column, tr, td, "-xlflmtcase", predicates);
            var andRadio = new RadioButton({
                label: this.getLocalizedLabel("AND"),
                name: "default",
                cssClass: "e-xlfl-radio-and",
                checked: !0,
                enableRtl: this.parent.enableRtl
            }), orRadio = new RadioButton({
                label: this.getLocalizedLabel("OR"),
                name: "default",
                cssClass: "e-xlfl-radio-or",
                enableRtl: this.parent.enableRtl
            });
            "and" === (predicates && 2 === predicates.length ? predicates[1].predicate : "and") ? (andRadio.checked = !0, 
            orRadio.checked = !1) : (orRadio.checked = !0, andRadio.checked = !1), andRadio.appendTo(frstpredicate), 
            orRadio.appendTo(secndpredicate);
        }, ExcelFilter.prototype.removeObjects = function(elements) {
            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {
                var obj = elements_1[_i];
                obj && !obj.isDestroyed && obj.destroy();
            }
        }, ExcelFilter.prototype.renderFlValueUI = function(column, optr, elementId, predicates, isFirst) {
            var value = createElement("td", {
                className: "e-xlfl-value"
            });
            optr.fieldElement.appendChild(value);
            var valueDiv = createElement("div", {
                className: "e-xlfl-valuediv"
            }), valueInput = createElement("input", {
                id: column + elementId
            });
            valueDiv.appendChild(valueInput), value.appendChild(valueDiv);
            var flValue, predicate;
            predicates && predicates.length > 0 && (flValue = (predicate = 2 === predicates.length ? isFirst ? predicates[0] : predicates[1] : isFirst ? predicates[0] : void 0) && predicate.operator === optr.operator ? predicate.value : void 0);
            ({
                string: this.renderAutoComplete.bind(this),
                number: this.renderNumericTextBox.bind(this),
                date: this.renderDate.bind(this),
                datetime: this.renderDate.bind(this)
            })[this.options.type](this.options, column, valueInput, flValue, this.parent.enableRtl);
        }, ExcelFilter.prototype.renderMatchCase = function(column, tr, matchCase, elementId, predicates) {
            var matchCaseDiv = createElement("div", {
                className: "e-xlfl-matchcasediv",
                attrs: {
                    style: "display: inline-block"
                }
            }), matchCaseInput = createElement("input", {
                id: column + elementId,
                attrs: {
                    type: "checkbox"
                }
            });
            matchCaseDiv.appendChild(matchCaseInput), matchCase.appendChild(matchCaseDiv);
            var flValue = !!(predicates && predicates.length > 0) && (predicates && 2 === predicates.length ? predicates[1].matchCase : predicates[0].matchCase);
            new CheckBox({
                label: "Match Case",
                enableRtl: this.parent.enableRtl,
                checked: flValue
            }).appendTo(matchCaseInput);
        }, ExcelFilter.prototype.renderDate = function(options, column, inputValue, fValue, isRtl) {
            var format = new Internationalization().getDatePattern({
                type: "date",
                skeleton: options.format
            }, !1);
            this.datePicker = new DatePicker({
                format: format,
                cssClass: "e-popup-flmenu",
                placeholder: this.getLocalizedLabel("CustomFilterDatePlaceHolder"),
                width: "100%",
                enableRtl: isRtl,
                value: new Date(fValue)
            }), this.datePicker.appendTo(inputValue);
        }, ExcelFilter.prototype.completeAction = function(e) {
            e.result = function(result) {
                for (var temp = {}, res = [], i = 0; i < result.length; i++) result[i] in temp || (res.push(result[i].toString()), 
                temp[result[i]] = 1);
                return res;
            }(e.result);
        }, ExcelFilter.prototype.renderNumericTextBox = function(options, column, inputValue, fValue, isRtl) {
            this.numericTxtObj = new NumericTextBox({
                format: options.format,
                placeholder: this.getLocalizedLabel("CustomFilterPlaceHolder"),
                enableRtl: isRtl,
                value: fValue
            }), this.numericTxtObj.appendTo(inputValue);
        }, ExcelFilter.prototype.renderAutoComplete = function(options, column, inputValue, fValue, isRtl) {
            var _this = this, colObj = this.parent.getColumnByField(column), isForeignColumn = colObj.isForeignColumn(), dataSource = isForeignColumn ? colObj.dataSource : options.dataSource, fields = {
                value: isForeignColumn ? colObj.foreignKeyValue : column
            }, actObj = new AutoComplete({
                dataSource: dataSource instanceof DataManager ? dataSource : new DataManager(dataSource),
                fields: fields,
                sortOrder: "Ascending",
                locale: this.parent.locale,
                autofill: !0,
                focus: function() {
                    actObj.filterType = _this.dlgDiv.querySelector("#" + column + (inputValue.id === column + "-xlfl-frstvalue" ? "-xlfl-frstoptr" : "-xlfl-secndoptr")).ej2_instances[0].value, 
                    actObj.ignoreCase = "string" !== options.type || !_this.dlgDiv.querySelector("#" + column + "-xlflmtcase").ej2_instances[0].checked, 
                    actObj.filterType = isNullOrUndefined(actObj.filterType) ? "equal" : actObj.filterType;
                },
                placeholder: this.getLocalizedLabel("CustomFilterPlaceHolder"),
                enableRtl: isRtl,
                actionComplete: function(e) {
                    e.result = e.result.filter(function(obj, index, arr) {
                        return arr.map(function(mapObject) {
                            return mapObject[actObj.fields.value];
                        }).indexOf(obj[_this.actObj.fields.value]) === index;
                    });
                },
                value: fValue
            });
            actObj.appendTo(inputValue), this.actObj = actObj;
        }, ExcelFilter.prototype.getModuleName = function() {
            return "excelFilter";
        }, ExcelFilter;
    }(CheckBoxFilter), Filter = function() {
        function Filter(parent, filterSettings, serviceLocator) {
            this.predicate = "and", this.contentRefresh = !0, this.values = {}, this.nextFlMenuOpen = "", 
            this.type = {
                Menu: FilterMenuRenderer,
                CheckBox: CheckBoxFilter,
                Excel: ExcelFilter
            }, this.filterOperators = {
                contains: "contains",
                endsWith: "endswith",
                equal: "equal",
                greaterThan: "greaterthan",
                greaterThanOrEqual: "greaterthanorequal",
                lessThan: "lessthan",
                lessThanOrEqual: "lessthanorequal",
                notEqual: "notequal",
                startsWith: "startswith"
            }, this.fltrDlgDetails = {
                field: "",
                isOpen: !1
            }, this.actualPredicate = {}, this.parent = parent, this.filterSettings = filterSettings, 
            this.serviceLocator = serviceLocator, this.addEventListener();
        }
        return Filter.prototype.render = function(e) {
            if (!DataUtil.getObject("args.isFrozen", e)) {
                var gObj = this.parent;
                if (this.l10n = this.serviceLocator.getService("localization"), this.getLocalizedCustomOperators(), 
                "FilterBar" === this.parent.filterSettings.type && gObj.columns.length) {
                    var fltrElem = this.parent.element.querySelector(".e-filterbar");
                    fltrElem && remove(fltrElem);
                    var rowRenderer = new RowRenderer(this.serviceLocator, CellType.Filter, gObj), row = void 0;
                    this.serviceLocator.getService("cellRendererFactory").addCellRenderer(CellType.Filter, new FilterCellRenderer(this.parent, this.serviceLocator)), 
                    this.valueFormatter = this.serviceLocator.getService("valueFormatter"), rowRenderer.element = createElement("tr", {
                        className: "e-filterbar"
                    }), (row = this.generateRow()).data = this.values, this.parent.getHeaderContent().querySelector("thead").appendChild(rowRenderer.element), 
                    this.element = rowRenderer.render(row, gObj.getColumns(), null, null, rowRenderer.element);
                    var detail = this.element.querySelector(".e-detailheadercell");
                    detail && (detail.className = "e-filterbarcell e-mastercell");
                    var gCells = [].slice.call(this.element.querySelectorAll(".e-grouptopleftcell"));
                    gCells.length && gCells[gCells.length - 1].classList.add("e-lastgrouptopleftcell"), 
                    this.wireEvents(), this.parent.notify(freezeRender, {
                        case: "filter"
                    });
                }
            }
        }, Filter.prototype.destroy = function() {
            this.filterModule && this.filterModule.destroy(), this.filterSettings.columns = [], 
            this.updateFilterMsg(), this.removeEventListener(), this.unWireEvents(), this.element && (remove(this.element), 
            this.parent.getFrozenColumns() && remove(this.parent.getHeaderContent().querySelector(".e-filterbar")));
        }, Filter.prototype.generateRow = function(index) {
            var row = new Row({});
            return row.cells = this.generateCells(), row;
        }, Filter.prototype.generateCells = function() {
            var cells = [];
            if (this.parent.allowGrouping) for (var c = 0, len = this.parent.groupSettings.columns.length; c < len; c++) cells.push(this.generateCell({}, CellType.HeaderIndent));
            (this.parent.detailTemplate || this.parent.childGrid) && cells.push(this.generateCell({}, CellType.DetailHeader));
            for (var _i = 0, _a = this.parent.getColumns(); _i < _a.length; _i++) {
                var dummy = _a[_i];
                cells.push(this.generateCell(dummy));
            }
            return cells;
        }, Filter.prototype.generateCell = function(column, cellType) {
            var opt = {
                visible: column.visible,
                isDataCell: !1,
                rowId: "",
                column: column,
                cellType: cellType || CellType.Filter,
                attributes: {
                    title: this.l10n.getConstant("FilterbarTitle")
                }
            };
            return new Cell(opt);
        }, Filter.prototype.updateModel = function() {
            var col = this.parent.getColumnByField(this.fieldName), field = col.isForeignColumn() ? col.foreignKeyValue : this.fieldName;
            this.currentFilterObject = {
                field: field,
                operator: this.operator,
                value: this.value,
                predicate: this.predicate,
                matchCase: this.matchCase,
                ignoreAccent: this.ignoreAccent,
                actualFilterValue: {},
                actualOperator: {}
            };
            var index = this.getFilteredColsIndexByField(col);
            index > -1 ? this.filterSettings.columns[index] = this.currentFilterObject : this.filterSettings.columns.push(this.currentFilterObject), 
            this.filterSettings.columns = this.filterSettings.columns, this.parent.dataBind();
        }, Filter.prototype.getFilteredColsIndexByField = function(col) {
            for (var cols = this.filterSettings.columns, i = 0, len = cols.length; i < len; i++) if (cols[i].field === col.field || col.isForeignColumn() && cols[i].field === col.foreignKeyValue) return i;
            return -1;
        }, Filter.prototype.onActionComplete = function(e) {
            var args = this.isRemove ? {
                requestType: "filtering",
                type: actionComplete
            } : {
                currentFilterObject: this.currentFilterObject,
                currentFilteringColumn: this.column.field,
                columns: this.filterSettings.columns,
                requestType: "filtering",
                type: actionComplete
            };
            this.parent.trigger(actionComplete, extend(e, args)), this.isRemove = !1;
        }, Filter.prototype.wireEvents = function() {
            EventHandler.add(this.parent.getHeaderContent(), "keyup", this.keyUpHandler, this);
        }, Filter.prototype.unWireEvents = function() {
            EventHandler.remove(this.parent.getHeaderContent(), "keyup", this.keyUpHandler);
        }, Filter.prototype.enableAfterRender = function(e) {
            e.module === this.getModuleName() && e.enable && this.render();
        }, Filter.prototype.initialEnd = function() {
            if (this.parent.off(contentReady, this.initialEnd), this.parent.getColumns().length && this.filterSettings.columns.length) {
                var gObj = this.parent;
                this.contentRefresh = !1;
                for (var _i = 0, _a = gObj.filterSettings.columns; _i < _a.length; _i++) {
                    var col = _a[_i];
                    this.filterByColumn(col.field, col.operator, col.value, col.predicate, col.matchCase, col.ignoreAccent, col.actualFilterValue, col.actualOperator);
                }
                this.updateFilterMsg(), this.contentRefresh = !0;
            }
        }, Filter.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(uiUpdate, this.enableAfterRender, this), 
            this.parent.on("filtering-complete", this.onActionComplete, this), this.parent.on(inBoundModelChanged, this.onPropertyChanged, this), 
            this.parent.on(keyPressed, this.keyUpHandler, this), this.parent.on(columnPositionChanged, this.columnPositionChanged, this), 
            this.parent.on(headerRefreshed, this.render, this), this.parent.on(contentReady, this.initialEnd, this), 
            this.parent.on("filter-menu-close", this.filterMenuClose, this), EventHandler.add(document, "click", this.clickHandler, this), 
            this.parent.on("filterOpen", this.columnMenuFilter, this), this.parent.on(click, this.filterIconClickHandler, this));
        }, Filter.prototype.removeEventListener = function() {
            EventHandler.remove(document, "click", this.clickHandler), this.parent.isDestroyed || (this.parent.off(uiUpdate, this.enableAfterRender), 
            this.parent.off("filtering-complete", this.onActionComplete), this.parent.off(inBoundModelChanged, this.onPropertyChanged), 
            this.parent.off(keyPressed, this.keyUpHandler), this.parent.off(columnPositionChanged, this.columnPositionChanged), 
            this.parent.off(headerRefreshed, this.render), this.parent.off("filterOpen", this.columnMenuFilter), 
            this.parent.off("filter-menu-close", this.filterMenuClose), this.parent.off(click, this.filterIconClickHandler));
        }, Filter.prototype.filterMenuClose = function(args) {
            this.fltrDlgDetails.isOpen = !1;
        }, Filter.prototype.filterByColumn = function(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {
            var filterCell, gObj = this.parent;
            if (this.column = gObj.getColumnByField(fieldName), "FilterBar" === this.filterSettings.type && (filterCell = gObj.getHeaderContent().querySelector("[id='" + this.column.field + "_filterBarcell']")), 
            isNullOrUndefined(this.column.allowFiltering) || this.column.allowFiltering) if (isActionPrevent(gObj)) gObj.notify(preventBatch, {
                instance: this,
                handler: this.filterByColumn,
                arg1: fieldName,
                arg2: filterOperator,
                arg3: filterValue,
                arg4: predicate,
                arg5: matchCase,
                arg6: ignoreAccent,
                arg7: actualFilterValue,
                arg8: actualOperator
            }); else {
                if (this.value = filterValue, this.matchCase = matchCase || !1, this.ignoreAccent = this.ignoreAccent = isNullOrUndefined(ignoreAccent) ? this.parent.filterSettings.ignoreAccent : ignoreAccent, 
                this.fieldName = fieldName, this.predicate = predicate || "and", this.operator = filterOperator, 
                filterValue = !isNullOrUndefined(filterValue) && filterValue.toString(), "number" !== this.column.type && "date" !== this.column.type || (this.matchCase = !0), 
                gObj.getColumnHeaderByField(fieldName).setAttribute("aria-filtered", "true"), filterValue.length < 1 || this.checkForSkipInput(this.column, filterValue)) return this.filterStatusMsg = filterValue.length < 1 ? "" : this.l10n.getConstant("InvalidFilterMessage"), 
                void this.updateFilterMsg();
                "FilterBar" === this.filterSettings.type && filterCell.value !== filterValue && (filterCell.value = filterValue), 
                this.checkAlreadyColFiltered(this.column.field) || (isNullOrUndefined(this.column.format) ? this.values[this.column.field] = filterValue : this.applyColumnFormat(filterValue), 
                this.updateModel());
            }
        }, Filter.prototype.applyColumnFormat = function(filterValue) {
            var getFlvalue = "date" === this.column.type || "datetime" === this.column.type ? new Date(filterValue) : parseFloat(filterValue);
            this.values[this.column.field] = this.setFormatForFlColumn(getFlvalue, this.column);
        }, Filter.prototype.onPropertyChanged = function(e) {
            if (e.module === this.getModuleName()) for (var _i = 0, _a = Object.keys(e.properties); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "columns":
                    this.contentRefresh && (this.parent.notify(modelChanged, {
                        currentFilterObject: this.currentFilterObject,
                        currentFilteringColumn: this.column ? this.column.field : void 0,
                        columns: this.filterSettings.columns,
                        requestType: "filtering",
                        type: actionBegin
                    }), this.refreshFilterSettings(), this.updateFilterMsg());
                    break;

                  case "showFilterBarStatus":
                    e.properties[prop] ? this.updateFilterMsg() : this.parent.allowPaging && this.parent.updateExternalMessage("");
                    break;

                  case "type":
                    this.parent.refreshHeader();
                }
            }
        }, Filter.prototype.refreshFilterSettings = function() {
            if ("FilterBar" === this.filterSettings.type) for (var i = 0; i < this.filterSettings.columns.length; i++) {
                var filterValue = this.filterSettings.columns[i].value;
                if (filterValue = !isNullOrUndefined(filterValue) && filterValue.toString(), isNullOrUndefined(this.column.format)) {
                    var key = this.filterSettings.columns[i].field;
                    this.values[key] = this.filterSettings.columns[i].value;
                } else this.applyColumnFormat(filterValue);
                var selector = "[id='" + this.filterSettings.columns[i].field + "_filterBarcell']", filterElement = this.element.querySelector(selector);
                filterElement && (filterElement.value = this.filterSettings.columns[i].value);
            }
        }, Filter.prototype.clearFiltering = function() {
            var cols = getActualPropFromColl(this.filterSettings.columns);
            if (isActionPrevent(this.parent)) this.parent.notify(preventBatch, {
                instance: this,
                handler: this.clearFiltering
            }); else {
                for (var i = 0, len = cols.length; i < len; i++) this.removeFilteredColsByField(cols[i].field, !1);
                if (0 === this.parent.filterSettings.columns.length && this.parent.element.querySelector(".e-filtered")) {
                    var fltrElement = [].slice.call(this.parent.element.querySelectorAll(".e-filtered"));
                    for (i = 0, len = fltrElement.length; i < len; i++) fltrElement[0].removeAttribute("aria-filtered"), 
                    fltrElement[0].classList.remove("e-filtered");
                }
                this.isRemove = !0, this.filterStatusMsg = "", this.updateFilterMsg();
            }
        }, Filter.prototype.checkAlreadyColFiltered = function(field) {
            for (var _i = 0, columns_1 = this.filterSettings.columns; _i < columns_1.length; _i++) {
                var col = columns_1[_i];
                if (col.field === field && col.value === this.value && col.operator === this.operator && col.predicate === this.predicate) return !0;
            }
            return !1;
        }, Filter.prototype.columnMenuFilter = function(args) {
            this.column = args.col;
            var ele = closest(args.target, "#" + args.id);
            args.isClose && !ele ? this.filterModule.closeDialog() : ele && this.filterDialogOpen(this.column, args.target);
        }, Filter.prototype.filterDialogOpen = function(col, target, left, top) {
            var gObj = this.parent;
            this.filterModule && this.filterModule.closeDialog(), this.filterModule = new this.type[col.filter.type || this.parent.filterSettings.type](this.parent, gObj.filterSettings, this.serviceLocator, this.customOperators, this);
            var dataSource = col.filter.dataSource || gObj.getDataModule().dataManager;
            this.filterModule.openDialog({
                type: col.type,
                field: col.field,
                displayName: col.headerText,
                dataSource: dataSource,
                format: col.format,
                filteredColumns: gObj.filterSettings.columns,
                target: target,
                sortedColumns: gObj.sortSettings.columns,
                formatFn: col.getFormatter(),
                parserFn: col.getParser(),
                query: gObj.query,
                template: col.getFilterItemTemplate(),
                hideSearchbox: !isNullOrUndefined(col.filter.hideSearchbox) && col.filter.hideSearchbox,
                handler: this.filterHandler.bind(this),
                localizedStrings: gObj.getLocaleConstants(),
                position: {
                    X: left,
                    Y: top
                },
                column: col,
                foreignKeyValue: col.foreignKeyValue,
                actualPredicate: this.actualPredicate,
                localeObj: this.parent.localeObj
            });
        }, Filter.prototype.removeFilteredColsByField = function(field, isClearFilterBar) {
            var cols = this.filterSettings.columns;
            if (isActionPrevent(this.parent)) {
                var args = {
                    instance: this,
                    handler: this.removeFilteredColsByField,
                    arg1: field,
                    arg2: isClearFilterBar
                };
                this.parent.notify(preventBatch, args);
            } else {
                for (var i = 0, len = cols.length; i < len; i++) {
                    var column = this.parent.getColumnByField(field) || getColumnByForeignKeyValue(field, this.parent.getForeignKeyColumns());
                    if (cols[i].field === field || cols[i].field === column.foreignKeyValue) {
                        if ("FilterBar" === this.filterSettings.type && !isClearFilterBar) {
                            var selector = "[id='" + cols[i].field + "_filterBarcell']";
                            this.parent.getHeaderContent().querySelector(selector), delete this.values[field];
                        }
                        cols.splice(i, 1);
                        var fltrElement = this.parent.getColumnHeaderByField(column.field);
                        if (fltrElement.removeAttribute("aria-filtered"), "FilterBar" !== this.filterSettings.type) {
                            var iconClass = this.parent.showColumnMenu ? ".e-columnmenu" : ".e-icon-filter";
                            fltrElement.querySelector(iconClass).classList.remove("e-filtered");
                        }
                        this.isRemove = !0, this.parent.notify(modelChanged, {
                            requestType: "filtering",
                            type: actionBegin
                        });
                        break;
                    }
                }
                this.updateFilterMsg();
            }
        }, Filter.prototype.getModuleName = function() {
            return "filter";
        }, Filter.prototype.keyUpHandler = function(e) {
            var gObj = this.parent, target = e.target;
            if (target && matches(target, ".e-filterbar input")) {
                if (this.column = gObj.getColumnByField(target.id.split("_filterBarcell")[0]), !this.column) return;
                "Immediate" !== this.filterSettings.mode && 13 !== e.keyCode || 9 === e.keyCode || (this.value = target.value.trim(), 
                this.processFilter(e));
            }
        }, Filter.prototype.updateCrossIcon = function(element) {
            element.value.length && element.nextElementSibling.classList.remove("e-hide");
        }, Filter.prototype.updateFilterMsg = function() {
            if ("FilterBar" === this.filterSettings.type) {
                var gObj = this.parent, columns = this.filterSettings.columns, column = (this.serviceLocator.getService("valueFormatter"), 
                void 0);
                if (!this.filterSettings.showFilterBarStatus) return;
                if (columns.length > 0 && this.filterStatusMsg !== this.l10n.getConstant("InvalidFilterMessage")) {
                    this.filterStatusMsg = "";
                    for (var index = 0; index < columns.length; index++) if (column = gObj.getColumnByField(columns[index].field) || getColumnByForeignKeyValue(columns[index].field, this.parent.getForeignKeyColumns()), 
                    index && (this.filterStatusMsg += " && "), isNullOrUndefined(column.format)) this.filterStatusMsg += column.headerText + ": " + this.values[column.field]; else {
                        var flValue = "date" === column.type || "datetime" === column.type ? new Date(this.values[column.field]) : this.values[column.field], getFormatFlValue = this.setFormatForFlColumn(flValue, column);
                        this.filterStatusMsg += column.headerText + ": " + getFormatFlValue;
                    }
                }
                gObj.allowPaging && gObj.updateExternalMessage(this.filterStatusMsg), this.filterStatusMsg = "";
            }
        }, Filter.prototype.setFormatForFlColumn = function(value, column) {
            return this.serviceLocator.getService("valueFormatter").toView(value, column.getFormatter()).toString();
        }, Filter.prototype.checkForSkipInput = function(column, value) {
            var isSkip, skipInput;
            if ("number" === column.type) skipInput = [ "=", " ", "!" ], (DataUtil.operatorSymbols[value] || skipInput.indexOf(value) > -1) && (isSkip = !0); else if ("string" === column.type) {
                skipInput = [ ">", "<", "=", "!" ];
                for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {
                    var val = value_1[_i];
                    skipInput.indexOf(val) > -1 && (isSkip = !0);
                }
            }
            return isSkip;
        }, Filter.prototype.processFilter = function(e) {
            this.stopTimer(), this.startTimer(e);
        }, Filter.prototype.startTimer = function(e) {
            var _this = this;
            this.timer = window.setInterval(function() {
                _this.onTimerTick();
            }, 13 === e.keyCode ? 0 : this.filterSettings.immediateModeDelay);
        }, Filter.prototype.stopTimer = function() {
            window.clearInterval(this.timer);
        }, Filter.prototype.onTimerTick = function() {
            var selector = "[id='" + this.column.field + "_filterBarcell']", filterElement = this.element.querySelector(selector);
            !filterElement && this.parent.getFrozenColumns() && (filterElement = this.parent.getHeaderContent().querySelector(selector));
            var filterValue;
            if (this.stopTimer(), isNullOrUndefined(this.column.filterBarTemplate)) filterValue = JSON.parse(JSON.stringify(filterElement.value)); else {
                var templateRead = this.column.filterBarTemplate.read;
                "string" == typeof templateRead && (templateRead = getValue(templateRead, window)), 
                this.value = templateRead.call(this, filterElement);
            }
            "" !== this.value ? (this.validateFilterValue(this.value), this.filterByColumn(this.column.field, this.operator, this.value, this.predicate, this.matchCase, this.ignoreAccent), 
            filterElement.value = filterValue, this.updateFilterMsg()) : this.removeFilteredColsByField(this.column.field);
        }, Filter.prototype.validateFilterValue = function(value) {
            var skipInput, index;
            this.parent;
            switch (this.matchCase = !0, this.column.type) {
              case "number":
                this.operator = this.filterOperators.equal, skipInput = [ ">", "<", "=", "!" ];
                for (var i = 0; i < value.length; i++) if (skipInput.indexOf(value[i]) > -1) {
                    index = i;
                    break;
                }
                this.getOperator(value.substring(index)), 0 !== index && (this.value = value.substring(0, index)), 
                "" !== this.value && value.length >= 1 && (this.value = this.valueFormatter.fromView(this.value, this.column.getParser(), this.column.type)), 
                isNaN(this.value) && (this.filterStatusMsg = this.l10n.getConstant("InvalidFilterMessage"));
                break;

              case "date":
              case "datetime":
                this.operator = this.filterOperators.equal, "" === this.value || this.value instanceof Date || (this.getOperator(value), 
                this.value = this.valueFormatter.fromView(this.value, this.column.getParser(), this.column.type), 
                isNullOrUndefined(this.value) && (this.filterStatusMsg = this.l10n.getConstant("InvalidFilterMessage")));
                break;

              case "string":
                this.matchCase = !1, "*" === value.charAt(0) ? (this.value = this.value.slice(1), 
                this.operator = this.filterOperators.startsWith) : "%" === value.charAt(value.length - 1) ? (this.value = this.value.slice(0, -1), 
                this.operator = this.filterOperators.startsWith) : "%" === value.charAt(0) ? (this.value = this.value.slice(1), 
                this.operator = this.filterOperators.endsWith) : this.operator = this.filterOperators.startsWith;
                break;

              case "boolean":
                "true" === value.toLowerCase() || "1" === value ? this.value = !0 : "false" === value.toLowerCase() || "0" === value ? this.value = !1 : value.length && (this.filterStatusMsg = this.l10n.getConstant("InvalidFilterMessage")), 
                this.operator = this.filterOperators.equal;
                break;

              default:
                this.operator = this.filterOperators.equal;
            }
        }, Filter.prototype.getOperator = function(value) {
            var singleOp = value.charAt(0), multipleOp = value.slice(0, 2), operators = extend({
                "=": this.filterOperators.equal,
                "!": this.filterOperators.notEqual
            }, DataUtil.operatorSymbols);
            (operators.hasOwnProperty(singleOp) || operators.hasOwnProperty(multipleOp)) && (this.operator = operators[singleOp], 
            this.value = value.substring(1), this.operator || (this.operator = operators[multipleOp], 
            this.value = value.substring(2))), this.operator !== this.filterOperators.lessThan && this.operator !== this.filterOperators.greaterThan || "=" === this.value.charAt(0) && (this.operator = this.operator + "orequal", 
            this.value = this.value.substring(1));
        }, Filter.prototype.columnPositionChanged = function(e) {
            this.parent.filterSettings.type;
        }, Filter.prototype.getLocalizedCustomOperators = function() {
            var numOptr = [ {
                value: "equal",
                text: this.l10n.getConstant("Equal")
            }, {
                value: "greaterthan",
                text: this.l10n.getConstant("GreaterThan")
            }, {
                value: "greaterthanorequal",
                text: this.l10n.getConstant("GreaterThanOrEqual")
            }, {
                value: "lessthan",
                text: this.l10n.getConstant("LessThan")
            }, {
                value: "lessthanorequal",
                text: this.l10n.getConstant("LessThanOrEqual")
            }, {
                value: "notequal",
                text: this.l10n.getConstant("NotEqual")
            } ];
            this.customOperators = {
                stringOperator: [ {
                    value: "startswith",
                    text: this.l10n.getConstant("StartsWith")
                }, {
                    value: "endswith",
                    text: this.l10n.getConstant("EndsWith")
                }, {
                    value: "contains",
                    text: this.l10n.getConstant("Contains")
                }, {
                    value: "equal",
                    text: this.l10n.getConstant("Equal")
                }, {
                    value: "notequal",
                    text: this.l10n.getConstant("NotEqual")
                } ],
                numberOperator: numOptr,
                dateOperator: numOptr,
                datetimeOperator: numOptr,
                booleanOperator: [ {
                    value: "equal",
                    text: this.l10n.getConstant("Equal")
                }, {
                    value: "notequal",
                    text: this.l10n.getConstant("NotEqual")
                } ]
            };
        }, Filter.prototype.filterIconClickHandler = function(e) {
            var target = e.target;
            if (target.classList.contains("e-filtermenudiv") && ("Menu" === this.parent.filterSettings.type || "CheckBox" === this.parent.filterSettings.type || "Excel" === this.parent.filterSettings.type)) {
                var gObj = this.parent, col = gObj.getColumnByUid(parentsUntil(target, "e-headercell").firstElementChild.getAttribute("e-mappinguid")), gClient = gObj.element.getBoundingClientRect(), fClient = target.getBoundingClientRect();
                if (this.column = col, this.fltrDlgDetails.field === col.field && this.fltrDlgDetails.isOpen) return;
                this.filterModule && this.filterModule.closeDialog(), this.fltrDlgDetails = {
                    field: col.field,
                    isOpen: !0
                }, this.filterDialogOpen(this.column, target, fClient.right - gClient.left, fClient.bottom - gClient.top);
            }
        }, Filter.prototype.clickHandler = function(e) {
            if ("Immediate" === this.filterSettings.mode || "Menu" === this.parent.filterSettings.type || "CheckBox" === this.parent.filterSettings.type || "Excel" === this.parent.filterSettings.type) {
                this.parent;
                var target = e.target, datepickerEle = target.classList.contains("e-day");
                if (parentsUntil(target, "e-filter-popup") || target.classList.contains("e-filtermenudiv")) return;
                if (!this.filterModule || parentsUntil(target, "e-popup-wrapper") || closest(target, ".e-filter-item.e-menu-item") || parentsUntil(target, "e-popup") || datepickerEle || this.filterModule.closeDialog(target), 
                "Immediate" === this.filterSettings.mode && target.classList.contains("e-clear-icon")) {
                    var targetText = target.previousElementSibling;
                    this.removeFilteredColsByField(targetText.id.slice(0, -14));
                }
            }
        }, Filter.prototype.filterHandler = function(args) {
            var filterIconElement;
            this.actualPredicate[args.field] = args.actualPredicate;
            for (var dataManager = new DataManager(this.filterSettings.columns), query = new Query().where("field", this.filterOperators.equal, args.field), result = dataManager.executeLocal(query), i = 0; i < result.length; i++) {
                for (var index = -1, j = 0; j < this.filterSettings.columns.length; j++) if (result[i].field === this.filterSettings.columns[j].field) {
                    index = j;
                    break;
                }
                -1 !== index && this.filterSettings.columns.splice(index, 1);
            }
            var iconClass = this.parent.showColumnMenu ? ".e-columnmenu" : ".e-icon-filter";
            filterIconElement = this.parent.getColumnHeaderByField(args.field).querySelector(iconClass), 
            "filtering" === args.action ? (this.filterSettings.columns = this.filterSettings.columns.concat(args.filterCollection), 
            this.filterSettings.columns.length && filterIconElement && filterIconElement.classList.add("e-filtered")) : (filterIconElement && filterIconElement.classList.remove("e-filtered"), 
            this.parent.refresh()), this.parent.dataBind();
        }, Filter;
    }(), resizeClassList_root = "e-rhandler", resizeClassList_suppress = "e-rsuppress", resizeClassList_icon = "e-ricon", resizeClassList_helper = "e-rhelper", resizeClassList_header = "th.e-headercell", resizeClassList_cursor = "e-rcursor", Resize = function() {
        function Resize(parent) {
            this.tapped = !1, this.isDblClk = !0, this.parent = parent, this.parent.isDestroyed || (this.widthService = new ColumnWidthService(parent), 
            this.addEventListener());
        }
        return Resize.prototype.autoFitColumns = function(fName) {
            var columnName = void 0 === fName || null === fName || fName.length <= 0 ? this.parent.getColumns().map(function(x) {
                return x.field;
            }) : "string" == typeof fName ? [ fName ] : fName;
            this.findColumn(columnName);
        }, Resize.prototype.resizeColumn = function(fName, index, id) {
            var headerTable, contentTable, headerTextClone, contentTextClone, gObj = this.parent, tWidth = 0, indentWidth = 0, uid = id || this.parent.getUidByColumnField(fName), columnIndex = this.parent.getNormalizedColumnIndex(uid), frzCols = gObj.getFrozenColumns();
            frzCols ? index < frzCols ? (headerTable = gObj.getHeaderTable(), contentTable = gObj.getContentTable(), 
            headerTextClone = headerTable.querySelectorAll("th")[columnIndex].cloneNode(!0), 
            contentTextClone = contentTable.querySelectorAll("td:nth-child(" + (columnIndex + 1) + ")")) : (headerTable = gObj.getHeaderContent().querySelector(".e-movableheader").children[0], 
            contentTable = gObj.getContent().querySelector(".e-movablecontent").children[0], 
            headerTextClone = headerTable.querySelectorAll("th")[columnIndex - frzCols].cloneNode(!0), 
            contentTextClone = contentTable.querySelectorAll("td:nth-child(" + (columnIndex - frzCols + 1) + ")")) : (headerTable = gObj.getHeaderTable(), 
            contentTable = gObj.getContentTable(), headerTextClone = headerTable.querySelectorAll("th")[columnIndex].cloneNode(!0), 
            contentTextClone = contentTable.querySelectorAll("td:nth-child(" + (columnIndex + 1) + "):not(.e-groupcaption)"));
            var indentWidthClone = headerTable.querySelector("tr").querySelectorAll(".e-grouptopleftcell");
            if (indentWidthClone.length > 0) for (var i = 0; i < indentWidthClone.length; i++) indentWidth += indentWidthClone[i].offsetWidth;
            var headerText = [ headerTextClone ], contentText = [];
            for (i = 0; i < contentTextClone.length; i++) contentText[i] = contentTextClone[i].cloneNode(!0);
            var wHeader = this.createTable(headerTable, headerText, "e-gridheader"), wContent = this.createTable(contentTable, contentText, "e-gridcontent"), columnbyindex = gObj.getColumns()[index];
            columnbyindex.width = formatUnit(wHeader > wContent ? wHeader : wContent);
            this.widthService.setColumnWidth(gObj.getColumns()[index]), !1 === gObj.getColumns().some(function(x) {
                return null === x.width || void 0 === x.width || x.width.length <= 0;
            }) && gObj.getColumns().forEach(function(element) {
                element.visible && (tWidth += parseInt(element.width, 10));
            });
            var calcTableWidth = tWidth + indentWidth;
            tWidth > 0 && !gObj.getFrozenColumns() && (headerTable.style.width = formatUnit(calcTableWidth), 
            contentTable.style.width = formatUnit(calcTableWidth));
            var tableWidth = headerTable.offsetWidth;
            gObj.getContent().scrollWidth > tableWidth ? (headerTable.classList.add("e-tableborder"), 
            contentTable.classList.add("e-tableborder")) : (headerTable.classList.remove("e-tableborder"), 
            contentTable.classList.remove("e-tableborder"));
        }, Resize.prototype.destroy = function() {
            this.widthService = null, this.unwireEvents(), this.removeEventListener();
        }, Resize.prototype.getModuleName = function() {
            return "resize";
        }, Resize.prototype.findColumn = function(fName) {
            var _this = this;
            fName.forEach(function(element) {
                var fieldName = element, columnIndex = _this.parent.getColumnIndexByField(fieldName);
                !0 === _this.parent.getColumns()[columnIndex].visible && _this.resizeColumn(fieldName, columnIndex);
            });
        }, Resize.prototype.createTable = function(table, text, tag) {
            var myTableDiv = createElement("div");
            myTableDiv.className = this.parent.element.className, myTableDiv.style.cssText = "display: inline-block;visibility:hidden;position:absolute";
            var mySubDiv = createElement("div");
            mySubDiv.className = tag;
            var myTable = createElement("table");
            myTable.className = table.className, myTable.style.cssText = "table-layout: auto;width: auto";
            var myTr = createElement("tr");
            text.forEach(function(element) {
                var tr = myTr.cloneNode();
                tr.className = table.querySelector("tr").className, tr.appendChild(element), myTable.appendChild(tr);
            }), mySubDiv.appendChild(myTable), myTableDiv.appendChild(mySubDiv), document.body.appendChild(myTableDiv);
            var offsetWidthValue = myTable.getBoundingClientRect().width;
            return document.body.removeChild(myTableDiv), Math.ceil(offsetWidthValue);
        }, Resize.prototype.addEventListener = function() {
            this.parent.isDestroyed || this.parent.on(headerRefreshed, this.render, this);
        }, Resize.prototype.removeEventListener = function() {
            this.parent.isDestroyed || this.parent.off(headerRefreshed, this.render);
        }, Resize.prototype.render = function() {
            this.unwireEvents(), this.wireEvents(), this.setHandlerHeight();
        }, Resize.prototype.wireEvents = function() {
            var _this = this;
            this.getResizeHandlers().forEach(function(ele) {
                ele.style.height = ele.parentElement.offsetHeight + "px", EventHandler.add(ele, Browser.touchStartEvent, _this.resizeStart, _this), 
                EventHandler.add(ele, "dblclick", _this.callAutoFit, _this);
            });
        }, Resize.prototype.unwireEvents = function() {
            var _this = this;
            this.getResizeHandlers().forEach(function(ele) {
                EventHandler.remove(ele, Browser.touchStartEvent, _this.resizeStart), EventHandler.remove(ele, "dblclick", _this.callAutoFit);
            });
        }, Resize.prototype.getResizeHandlers = function() {
            return this.parent.getFrozenColumns() ? [].slice.call(this.parent.getHeaderContent().querySelectorAll("." + resizeClassList_root)) : [].slice.call(this.parent.getHeaderTable().querySelectorAll("." + resizeClassList_root));
        }, Resize.prototype.setHandlerHeight = function() {
            [].slice.call(this.parent.getHeaderTable().querySelectorAll("." + resizeClassList_suppress)).forEach(function(ele) {
                ele.style.height = ele.parentElement.offsetHeight + "px";
            });
        }, Resize.prototype.callAutoFit = function(e) {
            var col = this.getTargetColumn(e);
            this.resizeColumn(col.field, this.parent.getNormalizedColumnIndex(col.uid), col.uid);
            closest(e.target, resizeClassList_header).classList.add("e-resized");
        }, Resize.prototype.resizeStart = function(e) {
            if (!this.helper) {
                if (0 === this.getScrollBarWidth()) {
                    for (var _i = 0, _a = this.refreshColumnWidth(); _i < _a.length; _i++) {
                        var col = _a[_i];
                        this.widthService.setColumnWidth(col);
                    }
                    this.widthService.setWidthToTable();
                }
                this.element = e.target, this.parentElementWidth = this.parent.element.getBoundingClientRect().width, 
                this.appendHelper(), this.column = this.getTargetColumn(e), this.pageX = this.getPointX(e), 
                this.parent.enableRtl ? this.minMove = parseInt(this.column.width.toString(), 10) - (this.column.minWidth ? parseInt(this.column.minWidth.toString(), 10) : 0) : this.minMove = (this.column.minWidth ? parseInt(this.column.minWidth.toString(), 10) : 0) - parseInt(this.column.width.toString(), 10), 
                this.minMove += this.pageX;
            }
            if (Browser.isDevice && !this.helper.classList.contains(resizeClassList_icon)) this.helper.classList.add(resizeClassList_icon), 
            EventHandler.add(document, Browser.touchStartEvent, this.removeHelper, this), EventHandler.add(this.helper, Browser.touchStartEvent, this.resizeStart, this); else {
                var args = {
                    e: e,
                    column: this.column
                };
                if (this.parent.trigger("resizeStart", args), args.cancel) return void this.cancelResizeAction();
                EventHandler.add(document, Browser.touchEndEvent, this.resizeEnd, this), EventHandler.add(this.parent.element, Browser.touchMoveEvent, this.resizing, this), 
                this.updateCursor("add");
            }
        }, Resize.prototype.cancelResizeAction = function(removeEvents) {
            removeEvents && (EventHandler.remove(this.parent.element, Browser.touchMoveEvent, this.resizing), 
            EventHandler.remove(document, Browser.touchEndEvent, this.resizeEnd), this.updateCursor("remove")), 
            Browser.isDevice && (EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper), 
            EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart)), detach(this.helper), 
            this.refresh();
        }, Resize.prototype.getWidth = function(width, minWidth, maxWidth) {
            return minWidth && width < minWidth ? minWidth : maxWidth && width > maxWidth ? maxWidth : width;
        }, Resize.prototype.resizing = function(e) {
            this.parent.allowTextWrap && (this.parent.getFrozenColumns() && this.parent.notify(freezeRender, {
                case: "textwrap"
            }), this.element.style.height = this.element.parentElement.offsetHeight + "px", 
            this.setHelperHeight());
            var pageX = this.getPointX(e), mousemove = this.parent.enableRtl ? -(pageX - this.pageX) : pageX - this.pageX, colData = {
                width: parseInt(this.widthService.getWidth(this.column).toString(), 10) + mousemove,
                minWidth: this.column.minWidth ? parseInt(this.column.minWidth.toString(), 10) : null,
                maxWidth: this.column.maxWidth ? parseInt(this.column.maxWidth.toString(), 10) : null
            }, width = this.getWidth(colData.width, colData.minWidth, colData.maxWidth);
            if ((!this.parent.enableRtl && this.minMove >= pageX || this.parent.enableRtl && this.minMove <= pageX) && (width = this.column.minWidth ? parseInt(this.column.minWidth.toString(), 10) : 0, 
            this.pageX = pageX = this.minMove), width !== parseInt(this.column.width.toString(), 10)) {
                this.pageX = pageX, this.column.width = formatUnit(width);
                var args = {
                    e: e,
                    column: this.column
                };
                if (this.parent.trigger("resizing", args), args.cancel) return void this.cancelResizeAction(!0);
                this.widthService.setColumnWidth(this.column, null, "resize"), this.updateHelper();
            }
            this.isDblClk = !1;
        }, Resize.prototype.resizeEnd = function(e) {
            if (this.helper && !this.parent.isDestroyed) {
                EventHandler.remove(this.parent.element, Browser.touchMoveEvent, this.resizing), 
                EventHandler.remove(document, Browser.touchEndEvent, this.resizeEnd), this.updateCursor("remove"), 
                detach(this.helper);
                var args = {
                    e: e,
                    column: this.column
                };
                this.parent.trigger("resizeStop", args), closest(this.element, ".e-headercell").classList.add("e-resized"), 
                this.refresh(), this.doubleTapEvent(e), this.isDblClk = !0;
            }
        }, Resize.prototype.getPointX = function(e) {
            return e.touches && e.touches.length ? e.touches[0].pageX : e.pageX;
        }, Resize.prototype.refreshColumnWidth = function() {
            for (var columns = this.parent.getColumns(), _i = 0, _a = [].slice.apply(this.parent.getHeaderTable().querySelectorAll("th.e-headercell")); _i < _a.length; _i++) for (var ele = _a[_i], _b = 0, columns_1 = columns; _b < columns_1.length; _b++) {
                var column = columns_1[_b];
                if (ele.querySelector("[e-mappinguid]") && ele.querySelector("[e-mappinguid]").getAttribute("e-mappinguid") === column.uid && column.visible) {
                    column.width = ele.getBoundingClientRect().width;
                    break;
                }
            }
            return columns;
        }, Resize.prototype.getTargetColumn = function(e) {
            var uid = closest(e.target, resizeClassList_header).querySelector(".e-headercelldiv").getAttribute("e-mappinguid");
            return this.parent.getColumnByUid(uid);
        }, Resize.prototype.updateCursor = function(action) {
            var headerRows = [].slice.call(this.parent.getHeaderContent().querySelectorAll("th"));
            headerRows.push(this.parent.element);
            for (var _i = 0, headerRows_1 = headerRows; _i < headerRows_1.length; _i++) {
                headerRows_1[_i].classList[action](resizeClassList_cursor);
            }
        }, Resize.prototype.refresh = function() {
            this.column = null, this.pageX = null, this.element = null, this.helper = null;
        }, Resize.prototype.appendHelper = function() {
            this.helper = createElement("div", {
                className: resizeClassList_helper
            }), this.parent.element.appendChild(this.helper), this.setHelperHeight();
        }, Resize.prototype.setHelperHeight = function() {
            var height = this.parent.getContent().offsetHeight - this.getScrollBarWidth(), rect = closest(this.element, resizeClassList_header), tr = [].slice.call(this.parent.getHeaderContent().querySelectorAll("tr")), frzCols = this.parent.getFrozenColumns();
            frzCols && (rect.parentElement.children.length !== frzCols ? tr.splice(0, tr.length / 2) : tr.splice(tr.length / 2, tr.length / 2));
            for (var i = tr.indexOf(rect.parentElement); i < tr.length; i++) height += tr[i].offsetHeight;
            var pos = this.calcPos(rect);
            pos.left += this.parent.enableRtl ? -1 : rect.offsetWidth - 2, this.helper.style.cssText = "height: " + height + "px; top: " + pos.top + "px; left:" + Math.floor(pos.left) + "px;";
        }, Resize.prototype.getScrollBarWidth = function(height) {
            var ele = this.parent.getFrozenColumns() ? this.parent.getContent().querySelector(".e-movablecontent") : this.parent.getContent().firstChild;
            return ele.scrollHeight > ele.clientHeight && height || ele.scrollWidth > ele.clientWidth ? getScrollBarWidth() : 0;
        }, Resize.prototype.removeHelper = function(e) {
            var cls = e.target.classList;
            cls.contains(resizeClassList_root) || cls.contains(resizeClassList_icon) || !this.helper || (EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper), 
            EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart), detach(this.helper), 
            this.refresh());
        }, Resize.prototype.updateHelper = function() {
            var rect = closest(this.element, resizeClassList_header), left = Math.floor(this.calcPos(rect).left + (this.parent.enableRtl ? -1 : rect.offsetWidth - 2));
            if (left > this.parentElementWidth && (left = this.parentElementWidth - 2), this.parent.getFrozenColumns()) {
                var fLeft = closest(rect, ".e-table").offsetLeft;
                left < fLeft && (left = fLeft);
            }
            this.helper.style.left = left + "px";
        }, Resize.prototype.calcPos = function(elem) {
            for (var parentOffset = {
                top: 0,
                left: 0
            }, offset = elem.getBoundingClientRect(), doc = elem.ownerDocument, offsetParent = elem.offsetParent || doc.documentElement; offsetParent && (offsetParent === doc.body || offsetParent === doc.documentElement) && "static" === offsetParent.style.position; ) offsetParent = offsetParent.parentNode;
            return offsetParent && offsetParent !== elem && 1 === offsetParent.nodeType && (parentOffset = offsetParent.getBoundingClientRect()), 
            {
                top: offset.top - parentOffset.top,
                left: offset.left - parentOffset.left
            };
        }, Resize.prototype.doubleTapEvent = function(e) {
            this.getUserAgent() && this.isDblClk && (this.tapped ? (clearTimeout(this.tapped), 
            this.callAutoFit(e), this.tapped = null) : this.tapped = setTimeout(this.timeoutHandler(), 300));
        }, Resize.prototype.getUserAgent = function() {
            var userAgent = Browser.userAgent.toLowerCase();
            return /iphone|ipod|ipad/.test(userAgent);
        }, Resize.prototype.timeoutHandler = function() {
            this.tapped = null;
        }, Resize;
    }(), Reorder = function() {
        function Reorder(parent) {
            this.parent = parent, this.parent.isDestroyed || (this.parent.on(headerDrop, this.headerDrop, this), 
            this.parent.on(uiUpdate, this.enableAfterRender, this), this.parent.on(reorderComplete, this.onActionComplete, this), 
            this.parent.on(columnDrag, this.drag, this), this.parent.on(columnDragStart, this.dragStart, this), 
            this.parent.on(columnDragStop, this.dragStop, this), this.parent.on(headerDrop, this.headerDrop, this), 
            this.parent.on(headerRefreshed, this.createReorderElement, this));
        }
        return Reorder.prototype.chkDropPosition = function(srcElem, destElem) {
            return (srcElem.parentElement.isEqualNode(destElem.parentElement) || this.parent.getFrozenColumns() && Array.prototype.indexOf.call(closest(srcElem, "thead").children, srcElem.parentElement) === Array.prototype.indexOf.call(closest(destElem, "thead").children, destElem.parentElement)) && this.targetParentContainerIndex(srcElem, destElem) > -1;
        }, Reorder.prototype.chkDropAllCols = function(srcElem, destElem) {
            for (var isFound, headers = this.getHeaderCells(); !isFound && headers.length > 0; ) isFound = srcElem !== headers.pop() && this.targetParentContainerIndex(srcElem, destElem) > -1;
            return isFound;
        }, Reorder.prototype.findColParent = function(col, cols, parent) {
            parent = parent;
            for (var i = 0, len = cols.length; i < len; i++) {
                if (col === cols[i]) return !0;
                if (cols[i].columns) {
                    var cnt = parent.length;
                    if (parent.push(cols[i]), this.findColParent(col, cols[i].columns, parent)) return !0;
                    parent.splice(cnt, parent.length - cnt);
                }
            }
            return !1;
        }, Reorder.prototype.getColumnsModel = function(cols) {
            for (var columnModel = [], subCols = [], i = 0, len = cols.length; i < len; i++) columnModel.push(cols[i]), 
            cols[i].columns && (subCols = subCols.concat(cols[i].columns));
            return subCols.length && (columnModel = columnModel.concat(this.getColumnsModel(subCols))), 
            columnModel;
        }, Reorder.prototype.headerDrop = function(e) {
            this.parent;
            if (closest(e.target, "th")) {
                var destElem = closest(e.target, ".e-headercell");
                if (destElem && this.chkDropPosition(this.element, destElem) && this.chkDropAllCols(this.element, destElem)) if (this.parent.enableColumnVirtualization) {
                    var columns = this.parent.columns, sourceUid_1 = this.element.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"), colMatchIndex_1 = null, column = this.parent.getColumns(!0).filter(function(col) {
                        return col.uid === sourceUid_1;
                    })[0], destUid_1 = destElem.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");
                    columns.some(function(col, index) {
                        return col.uid === destUid_1 && (colMatchIndex_1 = index, col.uid === destUid_1);
                    });
                    isNullOrUndefined(colMatchIndex_1) || this.moveColumns(colMatchIndex_1, column);
                } else {
                    var headers = this.getHeaderCells(), oldIdx = getElementIndex(this.element, headers), newIndex = (column = (columns = this.getColumnsModel(this.parent.columns))[oldIdx], 
                    this.targetParentContainerIndex(this.element, destElem));
                    this.moveColumns(newIndex, column);
                }
            }
        }, Reorder.prototype.isActionPrevent = function(gObj) {
            return isActionPrevent(gObj);
        }, Reorder.prototype.moveColumns = function(destIndex, column) {
            var gObj = this.parent;
            if (this.isActionPrevent(gObj)) gObj.notify(preventBatch, {
                instance: this,
                handler: this.moveColumns,
                arg1: destIndex,
                arg2: column
            }); else {
                var parent = this.getColParent(column, this.parent.columns), cols = parent ? parent.columns : this.parent.columns, srcIdx = inArray(column, cols);
                gObj.allowReordering && srcIdx !== destIndex && -1 !== srcIdx && -1 !== destIndex && (cols.splice(destIndex, 0, cols.splice(srcIdx, 1)[0]), 
                gObj.getColumns(!0), gObj.notify(columnPositionChanged, {
                    fromIndex: destIndex,
                    toIndex: srcIdx
                }), gObj.notify(modelChanged, {
                    type: actionBegin,
                    requestType: "reorder"
                }));
            }
        }, Reorder.prototype.targetParentContainerIndex = function(srcElem, destElem) {
            var headers = this.getHeaderCells(), cols = this.parent.columns, flatColumns = this.getColumnsModel(cols), parent = this.getColParent(flatColumns[getElementIndex(srcElem, headers)], cols);
            return cols = parent ? parent.columns : cols, inArray(flatColumns[getElementIndex(destElem, headers)], cols);
        }, Reorder.prototype.getHeaderCells = function() {
            if (this.parent.getFrozenColumns()) {
                for (var fTh = void 0, mTh = void 0, fHeaders = [], fRows = [].slice.call(this.parent.getHeaderTable().querySelectorAll(".e-columnheader")), mRows = [].slice.call(this.parent.getHeaderContent().querySelector(".e-movableheader").querySelectorAll(".e-columnheader")), i = 0; i < fRows.length; i++) {
                    fTh = [].slice.call(fRows[i].getElementsByClassName("e-headercell")), mTh = [].slice.call(mRows[i].getElementsByClassName("e-headercell")), 
                    fHeaders = fHeaders.concat(fTh);
                    for (var j = 0; j < mTh.length; j++) fTh.length && 0 === j && fTh[fTh.length - 1].innerText === mTh[0].innerText || fHeaders.push(mTh[j]);
                }
                return fHeaders;
            }
            return [].slice.call(this.parent.element.getElementsByClassName("e-headercell"));
        }, Reorder.prototype.getColParent = function(column, columns) {
            var parents$$1 = [];
            return this.findColParent(column, columns, parents$$1), parents$$1[parents$$1.length - 1];
        }, Reorder.prototype.reorderColumns = function(fromFName, toFName) {
            var column = this.parent.getColumnByField(toFName), parent = this.getColParent(column, this.parent.columns), destIndex = inArray(column, parent ? parent.columns : this.parent.columns);
            destIndex > -1 && this.moveColumns(destIndex, this.parent.getColumnByField(fromFName));
        }, Reorder.prototype.enableAfterRender = function(e) {
            e.module === this.getModuleName() && e.enable && this.createReorderElement();
        }, Reorder.prototype.createReorderElement = function() {
            var header = this.parent.element.querySelector(".e-headercontent");
            this.upArrow = header.appendChild(createElement("div", {
                className: "e-icons e-icon-reorderuparrow e-reorderuparrow",
                attrs: {
                    style: "display:none"
                }
            })), this.downArrow = header.appendChild(createElement("div", {
                className: "e-icons e-icon-reorderdownarrow e-reorderdownarrow",
                attrs: {
                    style: "display:none"
                }
            }));
        }, Reorder.prototype.onActionComplete = function(e) {
            this.parent.trigger(actionComplete, extend(e, {
                type: actionComplete
            }));
        }, Reorder.prototype.destroy = function() {
            this.parent.isDestroyed || (remove(this.upArrow), remove(this.downArrow), this.parent.off(headerDrop, this.headerDrop), 
            this.parent.off(uiUpdate, this.enableAfterRender), this.parent.off(reorderComplete, this.onActionComplete), 
            this.parent.off(columnDrag, this.drag), this.parent.off(columnDragStart, this.dragStart), 
            this.parent.off(columnDragStop, this.dragStop), this.parent.off(headerRefreshed, this.createReorderElement));
        }, Reorder.prototype.drag = function(e) {
            var gObj = this.parent, target = e.target, closest$$1 = closest(target, ".e-headercell:not(.e-stackedHeaderCell)"), cloneElement = gObj.element.querySelector(".e-cloneproperties"), isLeft = this.x > getPosition(e.event).x + gObj.getContent().firstElementChild.scrollLeft;
            removeClass(gObj.getHeaderTable().querySelectorAll(".e-reorderindicate"), [ "e-reorderindicate" ]), 
            this.setDisplay("none"), this.stopTimer(), classList(cloneElement, [ "e-defaultcur" ], [ "e-notallowedcur" ]), 
            this.updateScrollPostion(e.event), closest$$1 && !closest$$1.isEqualNode(this.element) && (target = closest$$1, 
            this.chkDropPosition(this.element, target) && this.chkDropAllCols(this.element, target) ? (this.updateArrowPosition(target, isLeft), 
            classList(target, [ "e-allowDrop", "e-reorderindicate" ], [])) : gObj.allowGrouping && parentsUntil(e.target, "e-groupdroparea") || classList(cloneElement, [ "e-notallowedcur" ], [ "e-defaultcur" ])), 
            gObj.trigger(columnDrag, {
                target: target,
                draggableType: "headercell",
                column: e.column
            });
        }, Reorder.prototype.updateScrollPostion = function(e) {
            var _this = this, frzCols = this.parent.getFrozenColumns(), x = getPosition(e).x, cliRect = this.parent.element.getBoundingClientRect(), cliRectBaseLeft = frzCols ? this.parent.element.querySelector(".e-movableheader").getBoundingClientRect().left : cliRect.left, cliRectBaseRight = cliRect.right, scrollElem = frzCols ? this.parent.getContent().querySelector(".e-movablecontent") : this.parent.getContent().firstElementChild;
            x > cliRectBaseLeft && x < cliRectBaseLeft + 35 ? this.timer = window.setInterval(function() {
                _this.setScrollLeft(scrollElem, !0);
            }, 50) : x < cliRectBaseRight && x > cliRectBaseRight - 35 && (this.timer = window.setInterval(function() {
                _this.setScrollLeft(scrollElem, !1);
            }, 50));
        }, Reorder.prototype.setScrollLeft = function(scrollElem, isLeft) {
            var scrollLeft = scrollElem.scrollLeft;
            scrollElem.scrollLeft = scrollElem.scrollLeft + (isLeft ? -5 : 5), scrollLeft !== scrollElem.scrollLeft && this.setDisplay("none");
        }, Reorder.prototype.stopTimer = function() {
            window.clearInterval(this.timer);
        }, Reorder.prototype.updateArrowPosition = function(target, isLeft) {
            var cliRect = target.getBoundingClientRect(), cliRectBase = this.parent.element.getBoundingClientRect();
            isLeft && cliRect.left < cliRectBase.left || !isLeft && cliRect.right > cliRectBase.right || (this.upArrow.style.top = cliRect.top + cliRect.height - cliRectBase.top + "px", 
            this.downArrow.style.top = cliRect.top - cliRectBase.top - 4 + "px", this.upArrow.style.left = this.downArrow.style.left = (isLeft ? cliRect.left : cliRect.right) - cliRectBase.left - 4 + "px", 
            this.setDisplay(""));
        }, Reorder.prototype.dragStart = function(e) {
            var gObj = this.parent, target = e.target;
            this.element = target.classList.contains("e-headercell") ? target : parentsUntil(target, "e-headercell"), 
            this.x = getPosition(e.event).x + gObj.getContent().firstElementChild.scrollLeft, 
            gObj.trigger(columnDragStart, {
                target: target,
                draggableType: "headercell",
                column: e.column
            });
        }, Reorder.prototype.dragStop = function(e) {
            var gObj = this.parent;
            this.setDisplay("none"), this.stopTimer(), e.cancel || gObj.trigger(columnDrop, {
                target: e.target,
                draggableType: "headercell",
                column: e.column
            }), removeClass(gObj.getHeaderTable().querySelectorAll(".e-reorderindicate"), [ "e-reorderindicate" ]);
        }, Reorder.prototype.setDisplay = function(display) {
            this.upArrow.style.display = display, this.downArrow.style.display = display;
        }, Reorder.prototype.getModuleName = function() {
            return "reorder";
        }, Reorder;
    }(), RowDD = function() {
        function RowDD(parent) {
            var _this = this;
            this.selectedRows = [], this.helper = function(e) {
                var gObj = _this.parent;
                if (document.getElementsByClassName("e-griddragarea").length || !e.sender.target.classList.contains("e-selectionbackground") && "Single" !== gObj.selectionSettings.type) return !1;
                var visualElement = createElement("div", {
                    className: "e-cloneproperties e-draganddrop e-grid e-dragclone",
                    styles: 'height:"auto", z-index:2, width:' + gObj.element.offsetWidth
                }), table = createElement("table", {
                    styles: "width:" + gObj.element.offsetWidth
                }), tbody = createElement("tbody");
                if ("Row" === gObj.selectionSettings.mode && "Single" === gObj.selectionSettings.type) {
                    var index = parseInt(e.sender.target.parentElement.getAttribute("aria-rowindex"), 10);
                    gObj.selectRow(index);
                }
                for (var selectedRows = gObj.getSelectedRows(), i = 0, len = selectedRows.length; i < len; i++) {
                    var selectedRow = selectedRows[i].cloneNode(!0);
                    removeElement(selectedRow, ".e-indentcell"), removeElement(selectedRow, ".e-detailrowcollapse"), 
                    removeElement(selectedRow, ".e-detailrowexpand"), tbody.appendChild(selectedRow);
                }
                return table.appendChild(tbody), visualElement.appendChild(table), gObj.element.appendChild(visualElement), 
                visualElement;
            }, this.dragStart = function(e) {
                var gObj = _this.parent;
                if (!document.getElementsByClassName("e-griddragarea").length) {
                    gObj.trigger(rowDragStart, {
                        rows: gObj.getSelectedRows(),
                        target: e.target,
                        draggableType: "rows",
                        data: gObj.getSelectedRecords()
                    });
                    var dropElem = document.getElementById(gObj.rowDropSettings.targetID);
                    gObj.rowDropSettings.targetID && dropElem && dropElem.ej2_instances && dropElem.ej2_instances[0].getContent().classList.add("e-allowRowDrop"), 
                    _this.isDragStop = !1;
                }
            }, this.drag = function(e) {
                var gObj = _this.parent, cloneElement = _this.parent.element.querySelector(".e-cloneproperties"), target = _this.getElementFromPosition(cloneElement, e.event);
                classList(cloneElement, [ "e-defaultcur" ], [ "e-notallowedcur" ]), gObj.trigger(rowDrag, {
                    rows: gObj.getSelectedRows(),
                    target: target,
                    draggableType: "rows",
                    data: gObj.getSelectedRecords()
                }), gObj.element.classList.add("e-rowdrag"), parentsUntil(target, "e-gridcontent") && parentsUntil(cloneElement.parentElement, "e-grid").id !== parentsUntil(target, "e-grid").id || classList(cloneElement, [ "e-notallowedcur" ], [ "e-defaultcur" ]);
            }, this.dragStop = function(e) {
                var gObj = _this.parent;
                if (!_this.parent.isDestroyed) {
                    var target = _this.getElementFromPosition(e.helper, e.event);
                    gObj.element.classList.remove("e-rowdrag");
                    var dropElem = document.getElementById(gObj.rowDropSettings.targetID);
                    gObj.rowDropSettings.targetID && dropElem && dropElem.ej2_instances && dropElem.ej2_instances[0].getContent().classList.remove("e-allowRowDrop"), 
                    gObj.trigger(rowDrop, {
                        target: target,
                        draggableType: "rows",
                        rows: gObj.getSelectedRows(),
                        data: gObj.getSelectedRecords()
                    }), parentsUntil(target, "e-gridcontent") || remove(e.helper);
                }
            }, this.parent = parent, this.parent.isDestroyed || (this.parent.on(initialEnd, this.initializeDrag, this), 
            this.parent.on(columnDrop, this.columnDrop, this), this.parent.on(rowDragAndDropComplete, this.onActionComplete, this), 
            this.parent.on(uiUpdate, this.enableAfterRender, this));
        }
        return RowDD.prototype.initializeDrag = function() {
            var gObj = this.parent;
            new Draggable(gObj.getContent(), {
                dragTarget: ".e-rowcell",
                distance: 5,
                helper: this.helper,
                dragStart: this.dragStart,
                drag: this.drag,
                dragStop: this.dragStop
            });
        }, RowDD.prototype.getElementFromPosition = function(element, event) {
            var target, position = getPosition(event);
            return element.style.display = "none", target = document.elementFromPoint(position.x, position.y), 
            element.style.display = "", target;
        }, RowDD.prototype.onActionComplete = function(e) {
            this.parent.trigger(actionComplete, extend(e, {
                type: actionComplete
            }));
        }, RowDD.prototype.getTargetIdx = function(targetRow) {
            return targetRow ? parseInt(targetRow.getAttribute("aria-rowindex"), 10) : 0;
        }, RowDD.prototype.columnDrop = function(e) {
            var gObj = this.parent;
            if ("grouping" !== e.droppedElement.getAttribute("action")) {
                var targetRow = closest(e.target, "tr"), srcControl = void 0;
                if (e.droppedElement.parentElement.id === gObj.element.id) return;
                if ((srcControl = e.droppedElement.parentElement.ej2_instances[0]).element.id !== gObj.element.id && srcControl.rowDropSettings.targetID !== gObj.element.id) return;
                var records = srcControl.getSelectedRecords(), targetIndex = this.getTargetIdx(targetRow);
                isNaN(targetIndex) && (targetIndex = 0), gObj.allowPaging && (targetIndex = targetIndex + gObj.pageSettings.currentPage * gObj.pageSettings.pageSize - gObj.pageSettings.pageSize), 
                gObj.notify(rowsAdded, {
                    toIndex: targetIndex,
                    records: records
                }), gObj.notify(modelChanged, {
                    type: actionBegin,
                    requestType: "rowdraganddrop"
                });
                var selectedRows = srcControl.getSelectedRowIndexes(), skip = srcControl.allowPaging ? srcControl.pageSettings.currentPage * srcControl.pageSettings.pageSize - srcControl.pageSettings.pageSize : 0;
                this.selectedRows = [];
                for (var i = 0, len = records.length; i < len; i++) this.selectedRows.push(skip + selectedRows[i]);
                srcControl.notify(rowsRemoved, {
                    indexes: this.selectedRows,
                    records: records
                }), srcControl.notify(modelChanged, {
                    type: actionBegin,
                    requestType: "rowdraganddrop"
                });
            }
        }, RowDD.prototype.enableAfterRender = function(e) {
            e.module === this.getModuleName() && e.enable && this.initializeDrag();
        }, RowDD.prototype.destroy = function() {
            this.parent.isDestroyed || (this.parent.off(initialEnd, this.initializeDrag), this.parent.off(columnDrop, this.columnDrop), 
            this.parent.off(rowDragAndDropComplete, this.onActionComplete), this.parent.off(uiUpdate, this.enableAfterRender));
        }, RowDD.prototype.getModuleName = function() {
            return "rowDragAndDrop";
        }, RowDD;
    }(), Group = function() {
        function Group(parent, groupSettings, sortedColumns, serviceLocator) {
            var _this = this;
            this.isAppliedGroup = !1, this.isAppliedUnGroup = !1, this.visualElement = createElement("div", {
                className: "e-cloneproperties e-dragclone e-gdclone",
                styles: "line-height:23px",
                attrs: {
                    action: "grouping"
                }
            }), this.helper = function(e) {
                var gObj = _this.parent, target = e.sender.target, element = target.classList.contains("e-groupheadercell") ? target : parentsUntil(target, "e-groupheadercell");
                return !!element && (_this.column = gObj.getColumnByField(element.firstElementChild.getAttribute("ej-mappingname")), 
                _this.visualElement.textContent = element.textContent, _this.visualElement.style.width = element.offsetWidth + 2 + "px", 
                _this.visualElement.style.height = element.offsetHeight + 2 + "px", _this.visualElement.setAttribute("e-mappinguid", _this.column.uid), 
                gObj.element.appendChild(_this.visualElement), _this.visualElement);
            }, this.dragStart = function() {
                _this.parent.element.classList.add("e-ungroupdrag");
            }, this.drag = function(e) {
                var target = e.target, cloneElement = _this.parent.element.querySelector(".e-cloneproperties");
                _this.parent.trigger(columnDrag, {
                    target: target,
                    draggableType: "headercell",
                    column: _this.column
                }), classList(cloneElement, [ "e-defaultcur" ], [ "e-notallowedcur" ]), parentsUntil(target, "e-gridcontent") || parentsUntil(target, "e-headercell") || classList(cloneElement, [ "e-notallowedcur" ], [ "e-defaultcur" ]);
            }, this.dragStop = function(e) {
                _this.parent.element.classList.remove("e-ungroupdrag"), parentsUntil(e.target, "e-gridcontent") || parentsUntil(e.target, "e-gridheader") || remove(e.helper);
            }, this.drop = function(e) {
                var gObj = _this.parent, column = gObj.getColumnByUid(e.droppedElement.getAttribute("e-mappinguid"));
                _this.element.classList.remove("e-hover"), remove(e.droppedElement), _this.aria.setDropTarget(_this.parent.element.querySelector(".e-groupdroparea"), !1), 
                _this.aria.setGrabbed(_this.parent.getHeaderTable().querySelector("[aria-grabbed=true]"), !1), 
                isNullOrUndefined(column) || !1 === column.allowGrouping || parentsUntil(gObj.getColumnHeaderByUid(column.uid), "e-grid").getAttribute("id") !== gObj.element.getAttribute("id") || _this.groupColumn(column.field);
            }, this.contentRefresh = !0, this.aria = new AriaService(), this.parent = parent, 
            this.groupSettings = groupSettings, this.serviceLocator = serviceLocator, this.sortedColumns = sortedColumns, 
            this.focus = serviceLocator.getService("focus"), this.addEventListener();
        }
        return Group.prototype.columnDrag = function(e) {
            this.parent;
            var cloneElement = this.parent.element.querySelector(".e-cloneproperties");
            classList(cloneElement, [ "e-defaultcur" ], [ "e-notallowedcur" ]), parentsUntil(e.target, "e-groupdroparea") || this.parent.allowReordering && parentsUntil(e.target, "e-headercell") || classList(cloneElement, [ "e-notallowedcur" ], [ "e-defaultcur" ]), 
            e.target.classList.contains("e-groupdroparea") ? this.element.classList.add("e-hover") : this.element.classList.remove("e-hover");
        }, Group.prototype.columnDragStart = function(e) {
            if (!e.target.classList.contains("e-stackedheadercell")) {
                this.parent;
                var dropArea = this.parent.element.querySelector(".e-groupdroparea");
                this.aria.setDropTarget(dropArea, e.column.allowGrouping);
                var element = e.target.classList.contains("e-headercell") ? e.target : parentsUntil(e.target, "e-headercell");
                this.aria.setGrabbed(element, !0, !e.column.allowGrouping);
            }
        }, Group.prototype.columnDrop = function(e) {
            var gObj = this.parent;
            if ("grouping" === e.droppedElement.getAttribute("action")) {
                var column = gObj.getColumnByUid(e.droppedElement.getAttribute("e-mappinguid"));
                if (isNullOrUndefined(column) || !1 === column.allowGrouping || parentsUntil(gObj.getColumnHeaderByUid(column.uid), "e-grid").getAttribute("id") !== gObj.element.getAttribute("id")) return;
                this.ungroupColumn(column.field);
            }
        }, Group.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(uiUpdate, this.enableAfterRender, this), 
            this.parent.on("grouping-complete", this.onActionComplete, this), this.parent.on("ungrouping-complete", this.onActionComplete, this), 
            this.parent.on(inBoundModelChanged, this.onPropertyChanged, this), this.parent.on(click, this.clickHandler, this), 
            this.parent.on(columnDrag, this.columnDrag, this), this.parent.on(columnDragStart, this.columnDragStart, this), 
            this.parent.on(columnDrop, this.columnDrop, this), this.parent.on(headerRefreshed, this.refreshSortIcons, this), 
            this.parent.on("sorting-complete", this.refreshSortIcons, this), this.parent.on(keyPressed, this.keyPressHandler, this), 
            this.parent.on(contentReady, this.initialEnd, this), this.parent.on(onEmpty, this.initialEnd, this), 
            this.parent.on(initialEnd, this.render, this));
        }, Group.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(initialEnd, this.render), this.parent.off(uiUpdate, this.enableAfterRender), 
            this.parent.off("grouping-complete", this.onActionComplete), this.parent.off("ungrouping-complete", this.onActionComplete), 
            this.parent.off(inBoundModelChanged, this.onPropertyChanged), this.parent.off(click, this.clickHandler), 
            this.parent.off(columnDrag, this.columnDrag), this.parent.off(columnDragStart, this.columnDragStart), 
            this.parent.off(columnDrop, this.columnDrop), this.parent.off(headerRefreshed, this.refreshSortIcons), 
            this.parent.off("sorting-complete", this.refreshSortIcons), this.parent.off(keyPressed, this.keyPressHandler));
        }, Group.prototype.initialEnd = function() {
            var gObj = this.parent;
            if (this.parent.off(contentReady, this.initialEnd), this.parent.off(onEmpty, this.initialEnd), 
            this.parent.getColumns().length && this.groupSettings.columns.length) {
                this.contentRefresh = !1;
                for (var _i = 0, _a = gObj.groupSettings.columns; _i < _a.length; _i++) {
                    var col = _a[_i];
                    this.groupColumn(col);
                }
                this.contentRefresh = !0;
            }
        }, Group.prototype.keyPressHandler = function(e) {
            var gObj = this.parent;
            if (this.groupSettings.columns.length && -1 !== [ "altDownArrow", "altUpArrow", "ctrlDownArrow", "ctrlUpArrow", "enter" ].indexOf(e.action)) switch (e.preventDefault(), 
            e.action) {
              case "altDownArrow":
              case "altUpArrow":
                var selected = gObj.allowSelection ? gObj.getSelectedRowIndexes() : [];
                if (selected.length) {
                    for (var rows = gObj.getContentTable().querySelector("tbody").children, grpRow = void 0, i = gObj.getDataRows()[selected[selected.length - 1]].rowIndex; i >= 0; i--) if (!rows[i].classList.contains("e-row") && !rows[i].classList.contains("e-detailrow")) {
                        grpRow = rows[i];
                        break;
                    }
                    this.expandCollapseRows(grpRow.querySelector("altUpArrow" === e.action ? ".e-recordplusexpand" : ".e-recordpluscollapse"));
                }
                break;

              case "ctrlDownArrow":
                this.expandAll();
                break;

              case "ctrlUpArrow":
                this.collapseAll();
                break;

              case "enter":
                if (this.parent.isEdit || null !== closest(e.target, "#" + this.parent.element.id + "_searchbar")) return;
                var element = this.focus.getFocusedElement(), row = element ? element.parentElement.querySelector('[class^="e-record"]') : null;
                if (!row) break;
                this.expandCollapseRows(row);
            }
        }, Group.prototype.clickHandler = function(e) {
            this.expandCollapseRows(e.target), this.applySortFromTarget(e.target), this.unGroupFromTarget(e.target), 
            this.toogleGroupFromHeader(e.target);
        }, Group.prototype.unGroupFromTarget = function(target) {
            target.classList.contains("e-ungroupbutton") && this.ungroupColumn(target.parentElement.getAttribute("ej-mappingname"));
        }, Group.prototype.toogleGroupFromHeader = function(target) {
            this.groupSettings.showToggleButton && (target.classList.contains("e-grptogglebtn") ? target.classList.contains("e-toggleungroup") ? this.ungroupColumn(this.parent.getColumnByUid(target.parentElement.getAttribute("e-mappinguid")).field) : this.groupColumn(this.parent.getColumnByUid(target.parentElement.getAttribute("e-mappinguid")).field) : target.classList.contains("e-toggleungroup") && this.ungroupColumn(target.parentElement.getAttribute("ej-mappingname")));
        }, Group.prototype.applySortFromTarget = function(target) {
            var gObj = this.parent, gHeader = closest(target, ".e-groupheadercell");
            if (gObj.allowSorting && gHeader && !target.classList.contains("e-ungroupbutton") && !target.classList.contains("e-toggleungroup")) {
                var field = gHeader.firstElementChild.getAttribute("ej-mappingname");
                gObj.getColumnHeaderByField(field).querySelectorAll(".e-ascending").length ? gObj.sortColumn(field, "Descending", !0) : gObj.sortColumn(field, "Ascending", !0);
            }
        }, Group.prototype.expandCollapseRows = function(target) {
            var trgt = parentsUntil(target, "e-recordplusexpand") || parentsUntil(target, "e-recordpluscollapse");
            if (trgt) {
                var cellIdx = trgt.cellIndex, rowIdx = trgt.parentElement.rowIndex, rowNodes = this.parent.getContentTable().querySelector("tbody").children, rows = [].slice.call(rowNodes).slice(rowIdx + 1, rowNodes.length), isHide = void 0, expandElem = void 0, toExpand = [], indent = trgt.parentElement.querySelectorAll(".e-indentcell").length, expand = !1;
                trgt.classList.contains("e-recordpluscollapse") ? (addClass([ trgt ], "e-recordplusexpand"), 
                removeClass([ trgt ], "e-recordpluscollapse"), trgt.firstElementChild.className = "e-icons e-gdiagonaldown e-icon-gdownarrow", 
                expand = !0) : (isHide = !0, removeClass([ trgt ], "e-recordplusexpand"), addClass([ trgt ], "e-recordpluscollapse"), 
                trgt.firstElementChild.className = "e-icons e-gnextforward e-icon-grightarrow"), 
                this.aria.setExpand(trgt, expand);
                for (var i = 0, len = rows.length; i < len && (rows[i].querySelectorAll("td")[cellIdx] && rows[i].querySelectorAll("td")[cellIdx].classList.contains("e-indentcell") && rows); i++) isHide ? rows[i].style.display = "none" : rows[i].querySelectorAll(".e-indentcell").length === indent + 1 && (rows[i].style.display = "", 
                (expandElem = rows[i].querySelector(".e-recordplusexpand")) && toExpand.push(expandElem), 
                rows[i].classList.contains("e-detailrow") && rows[i - 1].querySelectorAll(".e-detailrowcollapse").length && (rows[i].style.display = "none"));
                for (i = 0, len = toExpand.length; i < len; i++) removeClass([ toExpand[i] ], "e-recordplusexpand"), 
                addClass([ toExpand[i] ], "e-recordpluscollapse"), toExpand[i].firstElementChild.className = "e-icons e-gnextforward e-icon-grightarrow", 
                this.expandCollapseRows(toExpand[i]);
            }
        }, Group.prototype.expandCollapse = function(isExpand) {
            for (var row, rowNodes = this.parent.getContentTable().querySelector("tbody").children, i = 0, len = rowNodes.length; i < len; i++) rowNodes[i].querySelectorAll(".e-recordplusexpand, .e-recordpluscollapse").length ? ((row = rowNodes[i].querySelector(isExpand ? ".e-recordpluscollapse" : ".e-recordplusexpand")) && (row.className = isExpand ? "e-recordplusexpand" : "e-recordpluscollapse", 
            row.firstElementChild.className = isExpand ? "e-icons e-gdiagonaldown e-icon-gdownarrow" : "e-icons e-gnextforward e-icon-grightarrow"), 
            rowNodes[i].firstElementChild.classList.contains("e-recordplusexpand") || rowNodes[i].firstElementChild.classList.contains("e-recordpluscollapse") || (rowNodes[i].style.display = isExpand ? "" : "none")) : rowNodes[i].style.display = isExpand ? "" : "none";
        }, Group.prototype.expandAll = function() {
            this.expandCollapse(!0);
        }, Group.prototype.collapseAll = function() {
            this.expandCollapse(!1);
        }, Group.prototype.render = function() {
            this.l10n = this.serviceLocator.getService("localization"), this.renderGroupDropArea(), 
            this.initDragAndDrop(), this.refreshToggleBtn();
        }, Group.prototype.renderGroupDropArea = function() {
            var groupElem = this.parent.element.querySelector(".e-groupdroparea");
            groupElem && remove(groupElem), this.element = createElement("div", {
                className: "e-groupdroparea",
                attrs: {
                    tabindex: "-1"
                }
            }), this.updateGroupDropArea(), this.parent.element.insertBefore(this.element, this.parent.element.firstChild), 
            this.groupSettings.showDropArea || (this.element.style.display = "none");
        }, Group.prototype.updateGroupDropArea = function(clear) {
            if (this.groupSettings.showDropArea && !this.groupSettings.columns.length) {
                var dragLabel = this.l10n.getConstant("GroupDropArea");
                this.element.innerHTML = dragLabel, this.element.classList.remove("e-grouped");
            } else (this.element.innerHTML === this.l10n.getConstant("GroupDropArea") && (1 === this.groupSettings.columns.length || !this.isAppliedGroup && !this.isAppliedUnGroup) || clear) && (this.element.innerHTML = ""), 
            this.element.classList.add("e-grouped");
        }, Group.prototype.initDragAndDrop = function() {
            this.initializeGHeaderDrop(), this.initializeGHeaderDrag();
        }, Group.prototype.initializeGHeaderDrag = function() {
            new Draggable(this.element, {
                dragTarget: ".e-groupheadercell",
                distance: 5,
                helper: this.helper,
                dragStart: this.dragStart,
                drag: this.drag,
                dragStop: this.dragStop
            });
        }, Group.prototype.initializeGHeaderDrop = function() {
            this.parent, new Droppable(this.element, {
                accept: ".e-dragclone",
                drop: this.drop
            });
        }, Group.prototype.groupColumn = function(columnName) {
            var gObj = this.parent, column = gObj.getColumnByField(columnName);
            isNullOrUndefined(column) || !1 === column.allowGrouping || this.contentRefresh && this.groupSettings.columns.indexOf(columnName) > -1 || (isActionPrevent(gObj) ? gObj.notify(preventBatch, {
                instance: this,
                handler: this.groupColumn,
                arg1: columnName
            }) : (column.visible = gObj.groupSettings.showGroupedColumn, this.colName = columnName, 
            this.isAppliedGroup = !0, this.contentRefresh ? this.updateModel() : this.addColToGroupDrop(columnName), 
            this.updateGroupDropArea(), this.isAppliedGroup = !1));
        }, Group.prototype.ungroupColumn = function(columnName) {
            var gObj = this.parent, column = this.parent.enableColumnVirtualization ? this.parent.columns.filter(function(c) {
                return c.field === columnName;
            })[0] : gObj.getColumnByField(columnName);
            if (!(isNullOrUndefined(column) || !1 === column.allowGrouping || this.groupSettings.columns.indexOf(columnName) < 0)) if (isActionPrevent(gObj)) gObj.notify(preventBatch, {
                instance: this,
                handler: this.ungroupColumn,
                arg1: columnName
            }); else {
                column.visible = !0, this.colName = column.field;
                var columns = JSON.parse(JSON.stringify(this.groupSettings.columns));
                if (columns.splice(columns.indexOf(this.colName), 1), this.sortedColumns.indexOf(columnName) < 0) for (var i = 0, len = gObj.sortSettings.columns.length; i < len; i++) if (columnName === gObj.sortSettings.columns[i].field) {
                    gObj.sortSettings.columns.splice(i, 1);
                    break;
                }
                this.groupSettings.columns = columns, gObj.allowGrouping && (this.isAppliedUnGroup = !0, 
                this.parent.dataBind());
            }
        }, Group.prototype.updateModel = function() {
            this.parent;
            var columns = JSON.parse(JSON.stringify(this.groupSettings.columns));
            columns.push(this.colName), this.groupSettings.columns = columns, this.groupAddSortingQuery(this.colName), 
            this.parent.dataBind();
        }, Group.prototype.onActionComplete = function(e) {
            this.parent;
            "grouping" === e.requestType ? this.addColToGroupDrop(this.colName) : this.removeColFromGroupDrop(this.colName);
            var args = this.groupSettings.columns.indexOf(this.colName) > -1 ? {
                columnName: this.colName,
                requestType: "grouping",
                type: actionComplete
            } : {
                requestType: "ungrouping",
                type: actionComplete
            };
            this.parent.trigger(actionComplete, extend(e, args)), this.colName = null;
        }, Group.prototype.groupAddSortingQuery = function(colName) {
            for (var i = 0; i < this.parent.sortSettings.columns.length && this.parent.sortSettings.columns[i].field !== colName; ) i++;
            this.parent.sortSettings.columns.length === i ? this.parent.sortSettings.columns.push({
                field: colName,
                direction: "Ascending"
            }) : this.parent.allowSorting || (this.parent.sortSettings.columns[i].direction = "Ascending");
        }, Group.prototype.addColToGroupDrop = function(field) {
            var gObj = this.parent, direction = "Ascending", groupedColumn = createElement("div", {
                className: "e-grid-icon e-groupheadercell"
            }), childDiv = createElement("div", {
                attrs: {
                    "ej-mappingname": field
                }
            }), column = this.parent.getColumnByField(field);
            if (!isNullOrUndefined(column)) {
                var headerCell = gObj.getColumnHeaderByUid(column.uid);
                isNullOrUndefined(column.headerTemplate) ? childDiv.appendChild(createElement("span", {
                    className: "e-grouptext",
                    innerHTML: column.headerText,
                    attrs: {
                        tabindex: "-1",
                        "aria-label": "sort the grouped column"
                    }
                })) : (-1 !== column.headerTemplate.indexOf("#") ? childDiv.innerHTML = document.querySelector(column.headerTemplate).innerHTML.trim() : childDiv.innerHTML = column.headerTemplate, 
                childDiv.firstElementChild.classList.add("e-grouptext")), this.groupSettings.showToggleButton && childDiv.appendChild(createElement("span", {
                    className: "e-togglegroupbutton e-icons e-icon-ungroup e-toggleungroup",
                    innerHTML: "&nbsp;",
                    attrs: {
                        tabindex: "-1",
                        "aria-label": "ungroup button"
                    }
                })), headerCell.querySelectorAll(".e-ascending,.e-descending").length && (direction = headerCell.querySelector(".e-ascending") ? "Ascending" : "Descending"), 
                childDiv.appendChild(createElement("span", {
                    className: "e-groupsort e-icons e-" + direction.toLowerCase() + " e-icon-" + direction.toLowerCase(),
                    innerHTML: "&nbsp;",
                    attrs: {
                        tabindex: "-1",
                        "aria-label": "sort the grouped column"
                    }
                })), childDiv.appendChild(createElement("span", {
                    className: "e-ungroupbutton e-icons e-icon-hide",
                    innerHTML: "&nbsp;",
                    attrs: {
                        title: this.l10n.getConstant("UnGroup"),
                        tabindex: "-1",
                        "aria-label": "ungroup the grouped column"
                    },
                    styles: this.groupSettings.showUngroupButton ? "" : "display:none"
                })), groupedColumn.appendChild(childDiv), this.element.appendChild(groupedColumn);
            }
        }, Group.prototype.refreshToggleBtn = function(isRemove) {
            if (this.groupSettings.showToggleButton) for (var headers = [].slice.call(this.parent.element.getElementsByClassName("e-headercelldiv")), i = 0, len = headers.length; i < len; i++) if (!headers[i].classList.contains("e-emptycell") && !headers[i].classList.contains("e-headerchkcelldiv")) {
                var column = this.parent.getColumnByUid(headers[i].getAttribute("e-mappinguid"));
                (!this.parent.showColumnMenu || this.parent.showColumnMenu && !column.showColumnMenu) && (headers[i].querySelectorAll(".e-grptogglebtn").length && remove(headers[i].querySelectorAll(".e-grptogglebtn")[0]), 
                isRemove || headers[i].appendChild(createElement("span", {
                    className: "e-grptogglebtn e-icons " + (this.groupSettings.columns.indexOf(column.field) > -1 ? "e-toggleungroup e-icon-ungroup" : "e-togglegroup e-icon-group"),
                    attrs: {
                        tabindex: "-1",
                        "aria-label": "Group button"
                    }
                })));
            }
        }, Group.prototype.removeColFromGroupDrop = function(field) {
            isNullOrUndefined(this.getGHeaderCell(field)) || (remove(this.getGHeaderCell(field)), 
            this.updateGroupDropArea()), this.isAppliedUnGroup = !1;
        }, Group.prototype.onPropertyChanged = function(e) {
            var _this = this;
            if (e.module === this.getModuleName()) for (var _loop_1 = function(prop) {
                switch (prop) {
                  case "columns":
                    var args = void 0;
                    if (this_1.contentRefresh) {
                        if (this_1.isAppliedUnGroup) args = {
                            requestType: "ungrouping",
                            type: actionBegin
                        }; else {
                            if (!this_1.isAppliedGroup) {
                                this_1.updateGroupDropArea(!0);
                                for (var i = 0; i < this_1.groupSettings.columns.length; i++) {
                                    this_1.colName = this_1.groupSettings.columns[i];
                                    this_1.parent.getColumnByField(this_1.colName).visible = this_1.parent.groupSettings.showGroupedColumn, 
                                    this_1.groupAddSortingQuery(this_1.colName), i < this_1.groupSettings.columns.length - 1 && this_1.addColToGroupDrop(this_1.groupSettings.columns[i]);
                                }
                            }
                            args = {
                                columnName: this_1.colName,
                                requestType: e.properties[prop].length ? "grouping" : "ungrouping",
                                type: actionBegin
                            };
                        }
                        this_1.groupSettings.showGroupedColumn || e.oldProperties[prop].forEach(function(column) {
                            -1 === e.properties[prop].indexOf(column) && (_this.parent.getColumnByField(column).visible = !0);
                        }), this_1.parent.notify(modelChanged, args);
                    }
                    break;

                  case "showDropArea":
                    this_1.updateGroupDropArea(), this_1.groupSettings.showDropArea ? this_1.element.style.display = "" : this_1.element.style.display = "none";
                    break;

                  case "showGroupedColumn":
                    this_1.updateGroupedColumn(this_1.groupSettings.showGroupedColumn), this_1.parent.notify(modelChanged, {
                        requestType: "refresh"
                    });
                    break;

                  case "showUngroupButton":
                    this_1.updateButtonVisibility(this_1.groupSettings.showUngroupButton, "e-ungroupbutton");
                    break;

                  case "showToggleButton":
                    this_1.updateButtonVisibility(this_1.groupSettings.showToggleButton, "e-togglegroupbutton "), 
                    this_1.parent.refreshHeader();
                }
            }, this_1 = this, _i = 0, _a = Object.keys(e.properties); _i < _a.length; _i++) {
                _loop_1(_a[_i]);
            }
        }, Group.prototype.updateGroupedColumn = function(isVisible$$1) {
            for (var i = 0; i < this.groupSettings.columns.length; i++) this.parent.getColumnByField(this.groupSettings.columns[i]).visible = isVisible$$1;
        }, Group.prototype.updateButtonVisibility = function(isVisible$$1, className) {
            for (var gHeader = [].slice.call(this.element.querySelectorAll("." + className)), i = 0; i < gHeader.length; i++) gHeader[i].style.display = isVisible$$1 ? "" : "none";
        }, Group.prototype.enableAfterRender = function(e) {
            e.module === this.getModuleName() && e.enable && this.render();
        }, Group.prototype.destroy = function() {
            this.clearGrouping(), this.removeEventListener(), this.refreshToggleBtn(!0), remove(this.element);
        }, Group.prototype.clearGrouping = function() {
            var cols = JSON.parse(JSON.stringify(this.groupSettings.columns));
            this.contentRefresh = !1;
            for (var i = 0, len = cols.length; i < len; i++) this.ungroupColumn(cols[i]);
            this.contentRefresh = !0;
        }, Group.prototype.getModuleName = function() {
            return "group";
        }, Group.prototype.refreshSortIcons = function(e) {
            var header, gObj = this.parent, cols = gObj.sortSettings.columns, gCols = gObj.groupSettings.columns, fieldNames = this.parent.getColumns().map(function(c) {
                return c.field;
            });
            this.refreshToggleBtn();
            for (var i = 0, len = cols.length; i < len; i++) -1 !== fieldNames.indexOf(cols[i].field) && (header = gObj.getColumnHeaderByField(cols[i].field), 
            !gObj.allowSorting && (this.sortedColumns.indexOf(cols[i].field) > -1 || this.groupSettings.columns.indexOf(cols[i].field) > -1) ? (classList(header.querySelector(".e-sortfilterdiv"), [ "e-ascending", "e-icon-ascending" ], []), 
            cols.length > 1 && header.querySelector(".e-headercelldiv").appendChild(createElement("span", {
                className: "e-sortnumber",
                innerHTML: (i + 1).toString()
            }))) : this.getGHeaderCell(cols[i].field) && this.getGHeaderCell(cols[i].field).querySelectorAll(".e-groupsort").length && ("Ascending" === cols[i].direction ? classList(this.getGHeaderCell(cols[i].field).querySelector(".e-groupsort"), [ "e-ascending", "e-icon-ascending" ], [ "e-descending", "e-icon-descending" ]) : classList(this.getGHeaderCell(cols[i].field).querySelector(".e-groupsort"), [ "e-descending", "e-icon-descending" ], [ "e-ascending", "e-icon-ascending" ])));
            for (i = 0, len = gCols.length; i < len; i++) -1 !== fieldNames.indexOf(gCols[i]) && gObj.getColumnHeaderByField(gCols[i]).setAttribute("aria-grouped", "true");
        }, Group.prototype.getGHeaderCell = function(field) {
            return this.element && this.element.querySelector('[ej-mappingname="' + field + '"]') ? this.element.querySelector('[ej-mappingname="' + field + '"]').parentElement : null;
        }, Group;
    }(), DetailRow = function() {
        function DetailRow(parent, locator) {
            this.aria = new AriaService(), this.parent = parent, this.parent.isDestroyed || (this.focus = locator.getService("focus"), 
            this.parent.on(click, this.clickHandler, this), this.parent.on(destroy, this.destroy, this), 
            this.parent.on(keyPressed, this.keyPressHandler, this));
        }
        return DetailRow.prototype.clickHandler = function(e) {
            this.toogleExpandcollapse(closest(e.target, "td"));
        }, DetailRow.prototype.toogleExpandcollapse = function(target) {
            var gObj = this.parent;
            if (target && (target.classList.contains("e-detailrowcollapse") || target.classList.contains("e-detailrowexpand"))) {
                var tr = target.parentElement, uid_1 = tr.getAttribute("data-uid"), nextRow = this.parent.getContentTable().querySelector("tbody").children[tr.rowIndex + 1];
                if (target.classList.contains("e-detailrowcollapse")) {
                    var data = (gObj.allowGrouping && gObj.groupSettings.columns.length ? gObj.currentViewData.records : gObj.currentViewData)[tr.getAttribute("aria-rowindex")];
                    if (this.isDetailRow(nextRow)) nextRow.style.display = ""; else if (gObj.getDetailTemplate() || gObj.childGrid) {
                        var detailRow = createElement("tr", {
                            className: "e-detailrow"
                        }), detailCell = createElement("td", {
                            className: "e-detailcell"
                        });
                        detailCell.setAttribute("colspan", this.parent.getVisibleColumns().length.toString());
                        for (var row = new Row({
                            isDataRow: !0,
                            isExpand: !0,
                            cells: [ new Cell({
                                cellType: CellType.Indent
                            }), new Cell({
                                isDataCell: !0,
                                visible: !0
                            }) ]
                        }), i = 0, len = gObj.groupSettings.columns.length; i < len; i++) detailRow.appendChild(createElement("td", {
                            className: "e-indentcell"
                        })), row.cells.unshift(new Cell({
                            cellType: CellType.Indent
                        }));
                        if (detailRow.appendChild(createElement("td", {
                            className: "e-detailindentcell"
                        })), detailRow.appendChild(detailCell), tr.parentNode.insertBefore(detailRow, tr.nextSibling), 
                        gObj.detailTemplate) appendChildren(detailCell, gObj.getDetailTemplate()(data, gObj, "detailTemplate")); else {
                            gObj.childGrid.parentDetails = {
                                parentID: gObj.element.id,
                                parentPrimaryKeys: gObj.getPrimaryKeyFieldNames(),
                                parentKeyField: gObj.childGrid.queryString,
                                parentKeyFieldValue: data[gObj.childGrid.queryString],
                                parentRowData: data
                            };
                            var grid = new Grid(gObj.childGrid), modules = grid.getInjectedModules(), injectedModues = gObj.getInjectedModules();
                            modules && modules.length === injectedModues.length || grid.setInjectedModules(injectedModues);
                            var gridElem = createElement("div", {
                                id: "child" + function(elem, selector, isID) {
                                    for (var parent = elem, parents = []; parent; ) (isID ? parent.id === selector : parent.classList.contains(selector)) && parents.push(parent), 
                                    parent = parent.parentElement;
                                    return parents;
                                }(tr, "e-grid").length + "_grid" + tr.rowIndex + getUid("")
                            });
                            detailCell.appendChild(gridElem), grid.appendTo(gridElem);
                        }
                        detailRow.appendChild(detailCell), tr.parentNode.insertBefore(detailRow, tr.nextSibling);
                        var idx_1;
                        this.parent.getRowsObject().some(function(r, rIndex) {
                            return idx_1 = rIndex, r.uid === uid_1;
                        }), gObj.getRows().splice(tr.rowIndex + 1, 0, detailRow), this.parent.getRowsObject().splice(idx_1 + 1, 0, row), 
                        gObj.trigger("detailDataBound", {
                            detailElement: detailCell,
                            data: data
                        }), gObj.notify("detailDataBound", {
                            rows: this.parent.getRowsObject()
                        });
                    }
                    classList(target, [ "e-detailrowexpand" ], [ "e-detailrowcollapse" ]), classList(target.firstElementChild, [ "e-dtdiagonaldown", "e-icon-gdownarrow" ], [ "e-dtdiagonalright", "e-icon-grightarrow" ]), 
                    this.parent.getRowsObject()[tr.rowIndex].isExpand = !0, this.aria.setExpand(target, !0);
                } else this.isDetailRow(nextRow) && (nextRow.style.display = "none"), classList(target, [ "e-detailrowcollapse" ], [ "e-detailrowexpand" ]), 
                classList(target.firstElementChild, [ "e-dtdiagonalright", "e-icon-grightarrow" ], [ "e-dtdiagonaldown", "e-icon-gdownarrow" ]), 
                this.parent.getRowsObject()[tr.rowIndex].isExpand = !1, this.aria.setExpand(target, !1);
            }
        }, DetailRow.prototype.isDetailRow = function(row) {
            return row && row.classList.contains("e-detailrow");
        }, DetailRow.prototype.destroy = function() {
            this.parent.isDestroyed || (this.parent.off(click, this.clickHandler), this.parent.off(destroy, this.destroy), 
            this.parent.off(keyPressed, this.keyPressHandler));
        }, DetailRow.prototype.getTDfromIndex = function(index, className) {
            var tr = this.parent.getDataRows()[index];
            return tr && tr.querySelector(className) ? tr.querySelector(className) : null;
        }, DetailRow.prototype.expand = function(target) {
            isNaN(target) || (target = this.getTDfromIndex(target, ".e-detailrowcollapse")), 
            target && target.classList.contains("e-detailrowcollapse") && this.toogleExpandcollapse(target);
        }, DetailRow.prototype.collapse = function(target) {
            isNaN(target) || (target = this.getTDfromIndex(target, ".e-detailrowexpand")), target && target.classList.contains("e-detailrowexpand") && this.toogleExpandcollapse(target);
        }, DetailRow.prototype.expandAll = function() {
            this.expandCollapse(!0);
        }, DetailRow.prototype.collapseAll = function() {
            this.expandCollapse(!1);
        }, DetailRow.prototype.expandCollapse = function(isExpand) {
            for (var td, rows = this.parent.getDataRows(), i = 0, len = rows.length; i < len; i++) td = rows[i].querySelector(".e-detailrowcollapse, .e-detailrowexpand"), 
            isExpand ? this.expand(td) : this.collapse(td);
        }, DetailRow.prototype.keyPressHandler = function(e) {
            var gObj = this.parent;
            switch (e.action) {
              case "ctrlDownArrow":
                this.expandAll();
                break;

              case "ctrlUpArrow":
                this.collapseAll();
                break;

              case "altUpArrow":
              case "altDownArrow":
                var selected = gObj.allowSelection ? gObj.getSelectedRowIndexes() : [];
                if (selected.length) {
                    var td = gObj.getDataRows()[selected[selected.length - 1]].querySelector(".e-detailrowcollapse, .e-detailrowexpand");
                    "altDownArrow" === e.action ? this.expand(td) : this.collapse(td);
                }
                break;

              case "enter":
                if (this.parent.isEdit) return;
                var element = this.focus.getFocusedElement();
                if (!e.target.classList.contains("e-detailrowcollapse") && !e.target.classList.contains("e-detailrowexpand")) break;
                this.toogleExpandcollapse(element);
            }
        }, DetailRow.prototype.getModuleName = function() {
            return "detailRow";
        }, DetailRow;
    }(), Toolbar$1 = function() {
        function Toolbar$$1(parent, serviceLocator) {
            this.predefinedItems = {}, this.items = [ "Add", "Edit", "Update", "Delete", "Cancel", "Print", "Search", "ColumnChooser", "PdfExport", "ExcelExport", "CsvExport", "WordExport" ], 
            this.parent = parent, this.gridID = parent.element.id, this.serviceLocator = serviceLocator, 
            this.addEventListener();
        }
        return Toolbar$$1.prototype.render = function() {
            this.l10n = this.serviceLocator.getService("localization");
            for (var _i = 0, preItems_1 = [ "Add", "Edit", "Update", "Delete", "Cancel", "Print", "PdfExport", "ExcelExport", "WordExport", "CsvExport" ]; _i < preItems_1.length; _i++) {
                var item = preItems_1[_i], itemStr = item.toLowerCase(), localeName = itemStr[0].toUpperCase() + itemStr.slice(1);
                this.predefinedItems[item] = {
                    id: this.gridID + "_" + itemStr,
                    prefixIcon: "e-" + itemStr,
                    text: this.l10n.getConstant(localeName),
                    tooltipText: this.l10n.getConstant(localeName)
                };
            }
            this.predefinedItems.Search = {
                id: this.gridID + "_search",
                template: '<div class="e-input-group e-search" role="search">            <input id="' + this.gridID + '_searchbar" class="e-input" name="input" type="search"             placeholder= "' + this.l10n.getConstant("Search") + '"/>            <span id="' + this.gridID + '_searchbutton" class="e-input-group-icon e-search-icon e-icons"             tabindex="-1" title="Search In" aria-label= "search"></span>             </div>',
                tooltipText: this.l10n.getConstant("Search"),
                align: "right",
                cssClass: "e-search-wrapper"
            }, this.predefinedItems.ColumnChooser = {
                id: this.gridID + "_columnchooser",
                cssClass: "e-cc e-ccdiv e-cc-toolbar",
                suffixIcon: "e-columnchooser-btn",
                text: "Columns",
                tooltipText: "columns",
                align: "right"
            }, this.createToolbar();
        }, Toolbar$$1.prototype.getToolbar = function() {
            return this.toolbar.element;
        }, Toolbar$$1.prototype.destroy = function() {
            this.toolbar.isDestroyed || (this.toolbar.element ? this.toolbar.destroy() : this.parent.destroyTemplate([ "toolbarTemplate" ]), 
            this.unWireEvent(), this.removeEventListener(), remove(this.element));
        }, Toolbar$$1.prototype.createToolbar = function() {
            var items = this.getItems();
            this.toolbar = new Toolbar({
                items: items,
                clicked: this.toolbarClickHandler.bind(this),
                enablePersistence: this.parent.enablePersistence,
                enableRtl: this.parent.enableRtl
            });
            var viewStr = "viewContainerRef";
            this.parent[viewStr] && (this.toolbar.registeredTemplate = {}, this.toolbar[viewStr] = this.parent[viewStr]), 
            this.element = createElement("div", {
                id: this.gridID + "_toolbarItems"
            }), this.parent.toolbarTemplate ? "string" == typeof this.parent.toolbarTemplate ? (this.toolbar.appendTo(this.parent.toolbarTemplate), 
            this.element = this.toolbar.element) : appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, "toolbarTemplate")) : this.toolbar.appendTo(this.element), 
            this.parent.element.insertBefore(this.element, this.parent.getHeaderContent()), 
            this.searchElement = this.element.querySelector("#" + this.gridID + "_searchbar"), 
            this.wireEvent(), this.refreshToolbarItems(), this.parent.searchSettings && this.updateSearchBox();
        }, Toolbar$$1.prototype.refreshToolbarItems = function(args) {
            var gObj = this.parent, enableItems = [], disableItems = [], edit = gObj.editSettings, hasData = gObj.currentViewData && gObj.currentViewData.length;
            edit.allowAdding ? enableItems.push(this.gridID + "_add") : disableItems.push(this.gridID + "_add"), 
            edit.allowEditing && hasData ? enableItems.push(this.gridID + "_edit") : disableItems.push(this.gridID + "_edit"), 
            edit.allowDeleting && hasData ? enableItems.push(this.gridID + "_delete") : disableItems.push(this.gridID + "_delete"), 
            "Batch" === gObj.editSettings.mode ? gObj.element.querySelectorAll(".e-updatedtd").length && (edit.allowAdding || edit.allowEditing) ? (enableItems.push(this.gridID + "_update"), 
            enableItems.push(this.gridID + "_cancel")) : (disableItems.push(this.gridID + "_update"), 
            disableItems.push(this.gridID + "_cancel")) : gObj.isEdit && (edit.allowAdding || edit.allowEditing) ? (enableItems = [ this.gridID + "_update", this.gridID + "_cancel" ], 
            disableItems = [ this.gridID + "_add", this.gridID + "_edit", this.gridID + "_delete" ]) : (disableItems.push(this.gridID + "_update"), 
            disableItems.push(this.gridID + "_cancel")), this.enableItems(enableItems, !0), 
            this.enableItems(disableItems, !1);
        }, Toolbar$$1.prototype.getItems = function() {
            var items = [], toolbarItems = this.parent.toolbar || [];
            if ("string" == typeof this.parent.toolbar) return [];
            for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {
                var item = toolbarItems_1[_i];
                switch (typeof item) {
                  case "number":
                    items.push(this.getItemObject(this.items[item]));
                    break;

                  case "string":
                    items.push(this.getItemObject(item));
                    break;

                  default:
                    items.push(this.getItem(item));
                }
            }
            return items;
        }, Toolbar$$1.prototype.getItem = function(itemObject) {
            var item = this.predefinedItems[itemObject.text];
            return item ? extend(item, item, itemObject) : itemObject;
        }, Toolbar$$1.prototype.getItemObject = function(itemName) {
            return this.predefinedItems[itemName] || {
                text: itemName,
                id: this.gridID + "_" + itemName
            };
        }, Toolbar$$1.prototype.enableItems = function(items, isEnable) {
            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
                var item = items_1[_i], element = this.element.querySelector("#" + item);
                element && this.toolbar.enableItems(element.parentElement, isEnable);
            }
        }, Toolbar$$1.prototype.toolbarClickHandler = function(args) {
            var gObj = this.parent, gID = this.gridID;
            if (extend(args, {
                cancel: !1
            }), gObj.trigger("toolbarClick", args), !args.cancel) switch (!isNullOrUndefined(args.item) && args.item.id) {
              case gID + "_print":
                gObj.print();
                break;

              case gID + "_edit":
                gObj.startEdit();
                break;

              case gID + "_update":
                gObj.endEdit();
                break;

              case gID + "_cancel":
                gObj.closeEdit();
                break;

              case gID + "_add":
                gObj.addRecord();
                break;

              case gID + "_delete":
                gObj.deleteRecord();
                break;

              case gID + "_search":
                args.originalEvent.target.id === gID + "_searchbutton" && this.search();
                break;

              case gID + "_columnchooser":
                var tarElement = this.parent.element.querySelector(".e-ccdiv"), y = tarElement.getBoundingClientRect().top, x = tarElement.getBoundingClientRect().left, targetEle = args.originalEvent.target;
                y = tarElement.getBoundingClientRect().top + tarElement.offsetTop, gObj.createColumnchooser(x, y, targetEle);
            }
        }, Toolbar$$1.prototype.modelChanged = function(e) {
            "edit" === e.module && this.refreshToolbarItems();
        }, Toolbar$$1.prototype.onPropertyChanged = function(e) {
            e.module === this.getModuleName() && this.parent.toolbar && (this.element && remove(this.element), 
            this.render());
        }, Toolbar$$1.prototype.keyUpHandler = function(e) {
            13 === e.keyCode && this.search();
        }, Toolbar$$1.prototype.search = function() {
            this.parent.search(this.searchElement.value);
        }, Toolbar$$1.prototype.updateSearchBox = function() {
            this.searchElement && (this.searchElement.value = this.parent.searchSettings.key);
        }, Toolbar$$1.prototype.wireEvent = function() {
            this.searchElement && (this.searchBoxObj = new SearchBox(this.searchElement), EventHandler.add(this.searchElement, "keyup", this.keyUpHandler, this), 
            this.searchBoxObj.wireEvent());
        }, Toolbar$$1.prototype.unWireEvent = function() {
            this.searchElement && (EventHandler.remove(this.searchElement, "keyup", this.keyUpHandler), 
            this.searchBoxObj.unWireEvent());
        }, Toolbar$$1.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(initialEnd, this.render, this), this.parent.on(uiUpdate, this.onPropertyChanged, this), 
            this.parent.on(inBoundModelChanged, this.updateSearchBox.bind(this)), this.parent.on(modelChanged, this.refreshToolbarItems, this), 
            this.parent.on("toolbar-refresh", this.refreshToolbarItems, this), this.parent.on(inBoundModelChanged, this.modelChanged, this), 
            this.parent.on(dataBound, this.refreshToolbarItems, this));
        }, Toolbar$$1.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(initialEnd, this.render), this.parent.off(uiUpdate, this.onPropertyChanged), 
            this.parent.off(inBoundModelChanged, this.updateSearchBox), this.parent.off(modelChanged, this.refreshToolbarItems), 
            this.parent.off("toolbar-refresh", this.refreshToolbarItems), this.parent.off(inBoundModelChanged, this.modelChanged), 
            this.parent.off(dataBound, this.refreshToolbarItems));
        }, Toolbar$$1.prototype.getModuleName = function() {
            return "toolbar";
        }, Toolbar$$1;
    }(), __extends$28 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), FooterRenderer = function(_super) {
        function FooterRenderer(gridModule, serviceLocator) {
            var _this = _super.call(this, gridModule, serviceLocator) || this;
            return _this.aggregates = {}, _this.parent = gridModule, _this.locator = serviceLocator, 
            _this.modelGenerator = new SummaryModelGenerator(_this.parent), _this.addEventListener(), 
            _this;
        }
        return __extends$28(FooterRenderer, _super), FooterRenderer.prototype.renderPanel = function() {
            var div = createElement("div", {
                className: "e-gridfooter"
            }), innerDiv = createElement("div", {
                className: "e-summarycontent"
            }), movableContent = innerDiv;
            if (this.parent.getFrozenColumns()) {
                var fDiv = createElement("div", {
                    className: "e-frozenfootercontent"
                }), mDiv = createElement("div", {
                    className: "e-movablefootercontent"
                });
                innerDiv.appendChild(fDiv), innerDiv.appendChild(mDiv), this.frozenContent = fDiv, 
                this.movableContent = mDiv, movableContent = mDiv;
            }
            Browser.isDevice && (movableContent.style.overflowX = "scroll"), div.appendChild(innerDiv), 
            this.setPanel(div), null != this.parent.getPager() ? this.parent.element.insertBefore(div, this.parent.getPager()) : this.parent.element.appendChild(div);
        }, FooterRenderer.prototype.renderTable = function() {
            this.getPanel();
            var table = this.createContentTable("_footer_table").querySelector(".e-table"), tFoot = createElement("tfoot");
            if (table.appendChild(tFoot), this.parent.getFrozenColumns()) {
                var freezeTable = table.cloneNode(!0);
                this.frozenContent.appendChild(freezeTable), this.freezeTable = freezeTable, this.movableContent.appendChild(table), 
                remove(table.querySelector("colgroup"));
                var colGroup = this.parent.getHeaderContent().querySelector(".e-movableheader").querySelector("colgroup").cloneNode(!0);
                table.insertBefore(colGroup, table.querySelector("tbody")), this.setColGroup(colGroup);
            }
            this.setTable(table);
        }, FooterRenderer.prototype.renderSummaryContent = function(e, table, cStart, cEnd) {
            var input = this.parent.dataSource instanceof Array ? this.parent.dataSource : this.parent.currentViewData, summaries = this.modelGenerator.getData(), dummies = isNullOrUndefined(cStart) ? this.modelGenerator.getColumns() : this.modelGenerator.getColumns(cStart, cEnd), rows = isNullOrUndefined(cStart) ? this.modelGenerator.generateRows(input, e || this.aggregates) : this.modelGenerator.generateRows(input, e || this.aggregates, cStart, cEnd), fragment = document.createDocumentFragment(), rowrenderer = new RowRenderer(this.locator, null, this.parent);
            rowrenderer.element = createElement("TR", {
                className: "e-summaryrow"
            });
            for (var srow = 0, len = summaries.length; srow < len; srow++) {
                var row = rows[srow];
                if (row) {
                    var tr = rowrenderer.render(row, dummies);
                    fragment.appendChild(tr);
                }
            }
            table.tFoot.appendChild(fragment), this.aggregates = e;
        }, FooterRenderer.prototype.refresh = function(e) {
            if (this.parent.getFrozenColumns() && (remove(this.getPanel()), this.renderPanel(), 
            this.renderTable(), this.freezeTable.tFoot.innerHTML = "", this.renderSummaryContent(e, this.freezeTable, 0, this.parent.getFrozenColumns())), 
            this.getTable().tFoot.innerHTML = "", this.renderSummaryContent(e, this.getTable(), this.parent.getFrozenColumns()), 
            this.parent.getFrozenColumns()) {
                var frozenDiv = this.frozenContent;
                frozenDiv.offsetHeight || (frozenDiv.style.height = this.getTable().offsetHeight + "px");
            }
            this.onScroll();
        }, FooterRenderer.prototype.refreshCol = function() {
            var mheaderCol, fheaderCol = mheaderCol = this.parent.element.querySelector(".e-gridheader").querySelector("colgroup").cloneNode(!0);
            this.parent.getFrozenColumns() && (mheaderCol = renderMovable(fheaderCol, this.parent.getFrozenColumns()), 
            this.freezeTable.replaceChild(fheaderCol, this.freezeTable.querySelector("colGroup"))), 
            this.getTable().replaceChild(mheaderCol, this.getColGroup()), this.setColGroup(mheaderCol);
        }, FooterRenderer.prototype.onWidthChange = function(args) {
            this.getColFromIndex(args.index).style.width = formatUnit(args.width), this.parent.allowResizing && "resize" === args.module && this.updateFooterTableWidth(this.getTable());
        }, FooterRenderer.prototype.onScroll = function(e) {
            void 0 === e && (e = {
                left: this.parent.getContent().firstChild.scrollLeft
            }), this.getTable().parentElement.scrollLeft = e.left;
        }, FooterRenderer.prototype.getColFromIndex = function(index) {
            var fCol = this.parent.getFrozenColumns();
            return fCol && fCol > index ? this.freezeTable.querySelector("colGroup").children[index] : this.getColGroup().children[index - fCol];
        }, FooterRenderer.prototype.columnVisibilityChanged = function() {
            this.refresh();
        }, FooterRenderer.prototype.addEventListener = function() {
            this.parent.on(colGroupRefresh, this.refreshCol, this), this.parent.on(columnWidthChanged, this.onWidthChange, this), 
            this.parent.on("scroll", this.onScroll, this), this.parent.on(columnVisibilityChanged, this.columnVisibilityChanged, this);
        }, FooterRenderer.prototype.removeEventListener = function() {
            this.parent.off(colGroupRefresh, this.refreshCol), this.parent.off(columnWidthChanged, this.onWidthChange), 
            this.parent.off("scroll", this.onScroll), this.parent.off(columnVisibilityChanged, this.columnVisibilityChanged);
        }, FooterRenderer.prototype.updateFooterTableWidth = function(tFoot) {
            var tHead = this.parent.getHeaderTable();
            tHead && tFoot && (tFoot.style.width = tHead.style.width);
        }, FooterRenderer;
    }(ContentRender), __extends$29 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), SummaryCellRenderer = function(_super) {
        function SummaryCellRenderer() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.element = createElement("TD", {
                className: "e-summarycell",
                attrs: {
                    role: "gridcell",
                    tabindex: "-1"
                }
            }), _this;
        }
        return __extends$29(SummaryCellRenderer, _super), SummaryCellRenderer.prototype.getValue = function(field, data, column) {
            var key;
            return key = isNullOrUndefined(column.type) ? column.columnName : column.field + " - " + ("string" == typeof column.type ? column.type.toLowerCase() : ""), 
            data[column.columnName] ? data[column.columnName][key] : "";
        }, SummaryCellRenderer.prototype.evaluate = function(node, cell, data, attributes$$1) {
            var column = cell.column;
            if (!(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate)) return !0;
            var tempObj = column.getTemplate(cell.cellType);
            return appendChildren(node, tempObj.fn(data[column.columnName], this.parent, tempObj.property)), 
            !1;
        }, SummaryCellRenderer;
    }(CellRenderer), Aggregate = function() {
        function Aggregate(parent, locator) {
            this.parent = parent, this.locator = locator, this.addEventListener();
        }
        return Aggregate.prototype.getModuleName = function() {
            return "aggregate";
        }, Aggregate.prototype.initiateRender = function() {
            var _this = this, cellFac = this.locator.getService("cellRendererFactory"), instance = new SummaryCellRenderer(this.parent, this.locator);
            [ CellType.Summary, CellType.CaptionSummary, CellType.GroupSummary ].forEach(function(type) {
                return cellFac.addCellRenderer(type, instance);
            }), this.footerRenderer = new FooterRenderer(this.parent, this.locator), this.footerRenderer.renderPanel(), 
            this.footerRenderer.renderTable(), this.locator.register("footerRenderer", this.footerRenderer);
            var fn = function() {
                _this.prepareSummaryInfo(), _this.parent.off(dataReady, fn);
            };
            this.parent.on(dataReady, fn, this), this.parent.on(dataReady, this.footerRenderer.refresh, this.footerRenderer);
        }, Aggregate.prototype.prepareSummaryInfo = function() {
            var _this = this;
            !function(aggregates, callback) {
                aggregates.forEach(function(row) {
                    row.columns.forEach(function(column) {
                        callback(column, row);
                    });
                });
            }(this.parent.aggregates, function(column) {
                var type = (_this.parent.getColumnByField(column.field) || {}).type;
                column.setPropertiesSilent({
                    format: _this.getFormatFromType(column.format, type)
                }), column.setFormatter(), column.setPropertiesSilent({
                    columnName: column.columnName || column.field
                });
            });
        }, Aggregate.prototype.getFormatFromType = function(format, type) {
            if (isNullOrUndefined(type) || "string" != typeof format) return format;
            var obj;
            switch (type) {
              case "number":
                obj = {
                    format: format
                };
                break;

              case "date":
                obj = {
                    type: type,
                    skeleton: format
                };
                break;

              case "datetime":
                obj = {
                    type: "dateTime",
                    skeleton: format
                };
            }
            return obj;
        }, Aggregate.prototype.onPropertyChanged = function(e) {
            if (e.module === this.getModuleName()) {
                isNullOrUndefined(this.footerRenderer) && this.initiateRender(), this.prepareSummaryInfo(), 
                this.footerRenderer.refresh();
                var cModel = new CaptionSummaryModelGenerator(this.parent);
                0 === new GroupSummaryModelGenerator(this.parent).getData().length && cModel.isEmpty() || this.parent.notify(modelChanged, {});
            }
        }, Aggregate.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(initialEnd, this.initiateRender, this), 
            this.parent.on(uiUpdate, this.onPropertyChanged, this));
        }, Aggregate.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.footerRenderer.removeEventListener(), this.parent.off(initialEnd, this.initiateRender), 
            this.parent.off(dataReady, this.footerRenderer.refresh), this.parent.off(uiUpdate, this.onPropertyChanged));
        }, Aggregate.prototype.destroy = function() {
            this.removeEventListener(), remove(this.parent.element.querySelector(".e-gridfooter"));
        }, Aggregate;
    }(), InterSectionObserver = function() {
        function InterSectionObserver(element, options) {
            var _this = this;
            this.fromWheel = !1, this.touchMove = !1, this.options = {}, this.sentinelInfo = {
                up: {
                    check: function(rect, info) {
                        var top = rect.top - _this.containerRect.top;
                        return info.entered = top >= 0, top + _this.options.pageHeight / 2 >= 0;
                    },
                    axis: "Y"
                },
                down: {
                    check: function(rect, info) {
                        _this.options.container.clientHeight;
                        var top = rect.bottom;
                        return info.entered = rect.bottom <= _this.containerRect.bottom, top - _this.options.pageHeight / 2 <= _this.options.pageHeight / 2;
                    },
                    axis: "Y"
                },
                right: {
                    check: function(rect, info) {
                        var right = rect.right;
                        return info.entered = right < _this.containerRect.right, right - _this.containerRect.width <= _this.containerRect.right;
                    },
                    axis: "X"
                },
                left: {
                    check: function(rect, info) {
                        var left = rect.left;
                        return info.entered = left > 0, left + _this.containerRect.width >= _this.containerRect.left;
                    },
                    axis: "X"
                }
            }, this.element = element, this.options = options;
        }
        return InterSectionObserver.prototype.observe = function(callback, onEnterCallback) {
            var _this = this;
            this.containerRect = this.options.container.getBoundingClientRect(), EventHandler.add(this.options.container, "wheel", function() {
                return _this.fromWheel = !0;
            }, this), EventHandler.add(this.options.container, "scroll", this.virtualScrollHandler(callback, onEnterCallback), this);
        }, InterSectionObserver.prototype.check = function(direction) {
            var info = this.sentinelInfo[direction];
            return info.check(this.element.getBoundingClientRect(), info);
        }, InterSectionObserver.prototype.virtualScrollHandler = function(callback, onEnterCallback) {
            var _this = this, prevTop = 0, prevLeft = 0, debounced100 = debounce(callback, 100), debounced50 = debounce(callback, 50);
            return function(e) {
                var top = e.target.scrollTop, left = e.target.scrollLeft, direction = prevTop < top ? "down" : "up";
                direction = prevLeft === left ? direction : prevLeft < left ? "right" : "left", 
                prevTop = top, prevLeft = left;
                var current = _this.sentinelInfo[direction];
                if (-1 !== _this.options.axes.indexOf(current.axis)) {
                    var check = _this.check(direction);
                    if (current.entered && onEnterCallback(_this.element, current, direction, {
                        top: top,
                        left: left
                    }), check) {
                        var fn = _this.fromWheel ? _this.options.debounceEvent ? debounced100 : callback : debounced100;
                        "X" === current.axis && (fn = debounced50), fn({
                            direction: direction,
                            sentinel: current,
                            offset: {
                                top: top,
                                left: left
                            }
                        });
                    }
                    _this.fromWheel = !1;
                }
            };
        }, InterSectionObserver.prototype.setPageHeight = function(value) {
            this.options.pageHeight = value;
        }, InterSectionObserver;
    }(), VirtualRowModelGenerator = function() {
        function VirtualRowModelGenerator(parent) {
            this.cOffsets = {}, this.cache = {}, this.data = {}, this.groups = {}, this.parent = parent, 
            this.model = this.parent.pageSettings, this.rowModelGenerator = this.parent.allowGrouping ? new GroupModelGenerator(this.parent) : new RowModelGenerator(this.parent);
        }
        return VirtualRowModelGenerator.prototype.generateRows = function(data, notifyArgs) {
            var _this = this, info = notifyArgs.virtualInfo = notifyArgs.virtualInfo || this.getData(), xAxis = info.sentinelInfo && "X" === info.sentinelInfo.axis, page = xAxis || !info.loadNext || info.loadSelf ? info.page : info.nextInfo.page, result = [], indexes = (this.model.pageSize, 
            this.getBlockIndexes(page)), loadedBlocks = [];
            this.checkAndResetCache(notifyArgs.requestType), this.parent.enableColumnVirtualization && info.blockIndexes.forEach(function(value) {
                _this.isBlockAvailable(value) && (_this.cache[value] = _this.rowModelGenerator.refreshRows(_this.cache[value]));
            }), info.blockIndexes.forEach(function(value) {
                if (!_this.isBlockAvailable(value)) {
                    var rows = _this.rowModelGenerator.generateRows(data, {
                        virtualInfo: info,
                        startIndex: _this.getStartIndex(value, data)
                    }), median = ~~Math.max(rows.length, _this.model.pageSize) / 2;
                    _this.isBlockAvailable(indexes[0]) || (_this.cache[indexes[0]] = rows.slice(0, median)), 
                    _this.isBlockAvailable(indexes[1]) || (_this.cache[indexes[1]] = rows.slice(median));
                }
                _this.parent.groupSettings.columns.length && !xAxis && _this.cache[value] && (_this.cache[value] = _this.updateGroupRow(_this.cache[value], value)), 
                result.push.apply(result, _this.cache[value]), _this.isBlockAvailable(value) && loadedBlocks.push(value);
            }), info.blockIndexes = loadedBlocks;
            return this.parent.allowGrouping ? this.parent.currentViewData.records = result.map(function(m) {
                return m.data;
            }) : this.parent.currentViewData = result.map(function(m) {
                return m.data;
            }), result;
        }, VirtualRowModelGenerator.prototype.getBlockIndexes = function(page) {
            return [ page + (page - 1), 2 * page ];
        }, VirtualRowModelGenerator.prototype.getPage = function(block) {
            return block % 2 == 0 ? block / 2 : (block + 1) / 2;
        }, VirtualRowModelGenerator.prototype.isBlockAvailable = function(value) {
            return value in this.cache;
        }, VirtualRowModelGenerator.prototype.getData = function() {
            return {
                page: this.model.currentPage,
                blockIndexes: this.getBlockIndexes(this.model.currentPage),
                direction: "down",
                columnIndexes: this.parent.getColumnIndexesInView()
            };
        }, VirtualRowModelGenerator.prototype.getStartIndex = function(blk, data, full) {
            void 0 === full && (full = !0);
            var even = blk % 2 == 0, index = (this.getPage(blk) - 1) * this.model.pageSize;
            return full || !even ? index : index + ~~(this.model.pageSize / 2);
        }, VirtualRowModelGenerator.prototype.getColumnIndexes = function(content) {
            var _this = this;
            void 0 === content && (content = this.parent.getHeaderContent().firstChild);
            var indexes = [], sLeft = 0 | content.scrollLeft, keys = Object.keys(this.cOffsets), cWidth = content.getBoundingClientRect().width;
            sLeft = Math.min(this.cOffsets[keys.length - 1] - cWidth, sLeft);
            var calWidth = Browser.isDevice ? 2 * cWidth : cWidth / 2, left = sLeft + cWidth + (0 === sLeft ? calWidth : 0);
            return keys.some(function(offset, indx, input) {
                var iOffset = Number(offset), offsetVal = _this.cOffsets[offset];
                return sLeft - calWidth <= offsetVal && left + calWidth >= offsetVal && indexes.push(iOffset), 
                left + calWidth < offsetVal;
            }), indexes;
        }, VirtualRowModelGenerator.prototype.checkAndResetCache = function(action) {
            var clear = [ "paging", "refresh", "sorting", "filtering", "searching", "grouping", "ungrouping", "reorder" ].some(function(value) {
                return action === value;
            });
            return clear && (this.cache = {}, this.data = {}, this.groups = {}), clear;
        }, VirtualRowModelGenerator.prototype.refreshColOffsets = function() {
            var _this = this, col = 0;
            this.cOffsets = {};
            var gLen = this.parent.groupSettings.columns.length, cols = this.parent.columns, cLen = cols.length;
            this.parent.groupSettings.columns.forEach(function(c, n) {
                return _this.cOffsets[n] = 30 + (0 | _this.cOffsets[n - 1]);
            }), Array.apply(null, Array(cLen)).map(function() {
                return col++;
            }).forEach(function(block, i) {
                block += gLen, _this.cOffsets[block] = (0 | _this.cOffsets[block - 1]) + (function(column) {
                    return column.visible && (_this.parent.groupSettings.showGroupedColumn ? column.visible : _this.parent.groupSettings.columns.indexOf(column.field) < 0);
                }(cols[i]) ? parseInt(cols[i].width, 10) : 0);
            });
        }, VirtualRowModelGenerator.prototype.updateGroupRow = function(current, block) {
            var _this = this, currentFirst = current[0], rows = [];
            return Object.keys(this.cache).forEach(function(key) {
                Number(key) < block && (rows = rows.concat(_this.cache[key]));
            }), currentFirst && currentFirst.isDataRow || block % 2 == 0 ? current : this.iterateGroup(current, rows);
        }, VirtualRowModelGenerator.prototype.iterateGroup = function(current, rows) {
            var currentFirst = current[0], offset = 0;
            if (currentFirst && currentFirst.isDataRow) return current;
            return current.some(function(row) {
                return rows.some(function(oRow, index) {
                    var res = oRow && void 0 !== oRow.data.field && oRow.data.field === row.data.field && oRow.data.key === row.data.key;
                    return res && (offset = index), res;
                });
            }) && (current.shift(), current = this.iterateGroup(current, rows.slice(offset))), 
            current;
        }, VirtualRowModelGenerator.prototype.getRows = function() {
            var _this = this, rows = [];
            return Object.keys(this.cache).forEach(function(key) {
                return rows = rows.concat(_this.cache[key]);
            }), rows;
        }, VirtualRowModelGenerator;
    }(), __extends$30 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), VirtualContentRenderer = function(_super) {
        function VirtualContentRenderer(parent, locator) {
            var _this = _super.call(this, parent, locator) || this;
            return _this.prevHeight = 0, _this.preventEvent = !1, _this.actions = [ "filtering", "searching", "grouping", "ungrouping" ], 
            _this.offsets = {}, _this.tmpOffsets = {}, _this.virtualEle = new VirtualElementHandler(), 
            _this.offsetKeys = [], _this.isFocused = !1, _this.locator = locator, _this.eventListener("on"), 
            _this.vgenerator = _this.generator, _this;
        }
        return __extends$30(VirtualContentRenderer, _super), VirtualContentRenderer.prototype.renderTable = function() {
            this.header = this.locator.getService("rendererFactory").getRenderer(RenderType.Header), 
            _super.prototype.renderTable.call(this), this.virtualEle.table = this.getTable(), 
            this.virtualEle.content = this.content = this.getPanel().firstChild, this.virtualEle.renderWrapper(), 
            this.virtualEle.renderPlaceHolder(), this.virtualEle.wrapper.style.position = "absolute";
            var debounceEvent = this.parent.dataSource instanceof DataManager && !this.parent.dataSource.dataSource.offline, opt = {
                container: this.content,
                pageHeight: 2 * this.getBlockHeight(),
                debounceEvent: debounceEvent,
                axes: this.parent.enableColumnVirtualization ? [ "X", "Y" ] : [ "Y" ]
            };
            this.observer = new InterSectionObserver(this.virtualEle.wrapper, opt);
        }, VirtualContentRenderer.prototype.renderEmpty = function(tbody) {
            this.getTable().appendChild(tbody), this.virtualEle.adjustTable(0, 0);
        }, VirtualContentRenderer.prototype.scrollListener = function(scrollArgs) {
            if (this.preventEvent || this.parent.isDestroyed) this.preventEvent = !1; else {
                this.isFocused = this.content === closest(document.activeElement, ".e-content") || this.content === document.activeElement;
                var info = scrollArgs.sentinel, viewInfo = this.getInfoFromView(scrollArgs.direction, info, scrollArgs.offset);
                this.prevInfo && ("Y" === info.axis && this.prevInfo.blockIndexes.toString() === viewInfo.blockIndexes.toString() || "X" === info.axis && this.prevInfo.columnIndexes.toString() === viewInfo.columnIndexes.toString()) || (this.parent.setColumnIndexesInView(this.parent.enableColumnVirtualization ? viewInfo.columnIndexes : []), 
                this.parent.pageSettings.currentPage = viewInfo.loadNext && !viewInfo.loadSelf ? viewInfo.nextInfo.page : viewInfo.page, 
                this.parent.notify(viewInfo.event, {
                    requestType: "virtualscroll",
                    virtualInfo: viewInfo
                }));
            }
        }, VirtualContentRenderer.prototype.block = function(blk) {
            return this.vgenerator.isBlockAvailable(blk);
        }, VirtualContentRenderer.prototype.getInfoFromView = function(direction, info, e) {
            var tempBlocks = [], infoType = {
                direction: direction,
                sentinelInfo: info,
                offsets: e
            };
            infoType.page = this.getPageFromTop(e.top, infoType), infoType.blockIndexes = tempBlocks = this.vgenerator.getBlockIndexes(infoType.page), 
            infoType.loadSelf = !this.vgenerator.isBlockAvailable(tempBlocks[infoType.block]);
            var blocks = this.ensureBlocks(infoType);
            return infoType.blockIndexes = blocks, infoType.loadNext = !blocks.filter(function(val) {
                return -1 === tempBlocks.indexOf(val);
            }).every(this.block.bind(this)), infoType.event = infoType.loadNext || infoType.loadSelf ? modelChanged : refreshVirtualBlock, 
            infoType.nextInfo = infoType.loadNext ? {
                page: Math.max(1, infoType.page + ("down" === direction ? 1 : -1))
            } : {}, infoType.columnIndexes = "X" === info.axis ? this.vgenerator.getColumnIndexes() : this.parent.getColumnIndexesInView(), 
            this.parent.enableColumnVirtualization && "X" === info.axis && (infoType.event = refreshVirtualBlock), 
            infoType;
        }, VirtualContentRenderer.prototype.ensureBlocks = function(info) {
            var mIdx, _this = this, index = info.blockIndexes[info.block], old = index, max = Math.max, indexes = "down" === info.direction ? [ max(index, 1), ++index, ++index ] : [ max(index - 1, 1), index, index + 1 ];
            return indexes = indexes.filter(function(val, ind) {
                return indexes.indexOf(val) === ind;
            }), this.prevInfo.blockIndexes.toString() === indexes.toString() ? indexes : ((info.loadSelf || "down" === info.direction && this.isEndBlock(old)) && (indexes = this.vgenerator.getBlockIndexes(info.page)), 
            indexes.some(function(val, ind) {
                var result = val === _this.getTotalBlocks();
                return result && (mIdx = ind), result;
            }), void 0 !== mIdx && (indexes = indexes.slice(0, mIdx + 1), 0 === info.block && 1 === indexes.length && this.vgenerator.isBlockAvailable(indexes[0] - 1) && (indexes = [ indexes[0] - 1, indexes[0] ])), 
            indexes);
        }, VirtualContentRenderer.prototype.appendContent = function(target, newChild, e) {
            var info = e.virtualInfo;
            this.prevInfo = this.prevInfo || e.virtualInfo;
            var width, cBlock = info.columnIndexes[0] - 1, cOffset = this.getColumnOffset(cBlock), blocks = info.blockIndexes;
            this.parent.groupSettings.columns.length && this.refreshOffsets();
            var translate = this.getTranslateY(this.content.scrollTop, this.content.getBoundingClientRect().height, info);
            if (this.virtualEle.adjustTable(cOffset, translate), this.parent.enableColumnVirtualization && this.header.virtualEle.adjustTable(cOffset, 0), 
            this.parent.enableColumnVirtualization) {
                var cIndex = info.columnIndexes;
                width = this.getColumnOffset(cIndex[cIndex.length - 1]) - this.getColumnOffset(cIndex[0] - 1) + "", 
                this.header.virtualEle.setWrapperWidth(width);
            }
            if (this.virtualEle.setWrapperWidth(width, this.parent.enableColumnVirtualization || Browser.isIE), 
            target.appendChild(newChild), this.getTable().appendChild(target), this.parent.groupSettings.columns.length) {
                if ("up" === info.direction) {
                    var blk = this.offsets[this.getTotalBlocks()] - this.prevHeight;
                    this.preventEvent = !0;
                    var sTop = this.content.scrollTop;
                    this.content.scrollTop = sTop + blk;
                }
                this.setVirtualHeight(), this.observer.setPageHeight(this.getOffset(blocks[blocks.length - 1]) - this.getOffset(blocks[0] - 1));
            }
            this.prevInfo = info, this.isFocused && this.content.focus();
        }, VirtualContentRenderer.prototype.onDataReady = function(e) {
            isNullOrUndefined(e.count) || (this.count = e.count, this.maxPage = Math.ceil(e.count / this.parent.pageSettings.pageSize)), 
            this.vgenerator.checkAndResetCache(e.requestType), this.refreshOffsets(), this.setVirtualHeight(), 
            this.resetScrollPosition(e.requestType);
        }, VirtualContentRenderer.prototype.setVirtualHeight = function() {
            var width = this.parent.enableColumnVirtualization ? this.getColumnOffset(this.parent.columns.length + this.parent.groupSettings.columns.length - 1) + "px" : "100%";
            this.virtualEle.setVirtualHeight(this.offsets[this.getTotalBlocks()], width), this.parent.enableColumnVirtualization && this.header.virtualEle.setVirtualHeight(1, width);
        }, VirtualContentRenderer.prototype.getPageFromTop = function(sTop, info) {
            var _this = this, total = this.getTotalBlocks(), page = 0;
            this.offsets[total], this.prevHeight;
            return this.offsetKeys.some(function(offset) {
                var iOffset = Number(offset), border = sTop < _this.offsets[offset] || iOffset === total && sTop > _this.offsets[offset];
                return border && (info.block = iOffset % 2 == 0 ? 1 : 0, page = Math.max(1, Math.min(_this.vgenerator.getPage(iOffset), _this.maxPage))), 
                border;
            }), page;
        }, VirtualContentRenderer.prototype.getTranslateY = function(sTop, cHeight, info) {
            void 0 === info && ((info = {
                page: this.getPageFromTop(sTop, {})
            }).blockIndexes = this.vgenerator.getBlockIndexes(info.page));
            var block = (info.blockIndexes[0] || 1) - 1, translate = this.getOffset(block), endTranslate = this.getOffset(info.blockIndexes[info.blockIndexes.length - 1]);
            return translate > sTop ? this.getOffset(block - 1) : endTranslate < sTop + cHeight ? this.getOffset(block + 1) : translate;
        }, VirtualContentRenderer.prototype.getOffset = function(block) {
            return Math.min(0 | this.offsets[block], this.offsets[this.maxBlock]);
        }, VirtualContentRenderer.prototype.onEntered = function() {
            var _this = this;
            return function(element, current, direction, e) {
                var xAxis = "X" === current.axis, top = _this.prevInfo.offsets ? _this.prevInfo.offsets.top : null, height = _this.content.getBoundingClientRect().height, x = _this.getColumnOffset(xAxis ? _this.vgenerator.getColumnIndexes()[0] - 1 : _this.prevInfo.columnIndexes[0] - 1), y = _this.getTranslateY(e.top, height, xAxis && top === e.top ? _this.prevInfo : void 0);
                _this.virtualEle.adjustTable(x, Math.min(y, _this.offsets[_this.maxBlock])), _this.parent.enableColumnVirtualization && _this.header.virtualEle.adjustTable(x, 0);
            };
        }, VirtualContentRenderer.prototype.eventListener = function(action) {
            var _this = this;
            this.parent[action](dataReady, this.onDataReady, this), this.parent[action](refreshVirtualBlock, this.refreshContentRows, this), 
            this.actions.forEach(function(event) {
                return _this.parent[action](event + "-begin", _this.onActionBegin, _this);
            });
            var fn = function() {
                _this.observer.observe(function(scrollArgs) {
                    return _this.scrollListener(scrollArgs);
                }, _this.onEntered()), _this.parent.off(contentReady, fn);
            };
            this.parent.on(contentReady, fn, this);
        }, VirtualContentRenderer.prototype.getBlockSize = function() {
            return this.parent.pageSettings.pageSize >> 1;
        }, VirtualContentRenderer.prototype.getBlockHeight = function() {
            return this.getBlockSize() * this.getRowHeight();
        }, VirtualContentRenderer.prototype.isEndBlock = function(index) {
            var totalBlocks = this.getTotalBlocks();
            return index >= totalBlocks || index === totalBlocks - 1;
        }, VirtualContentRenderer.prototype.getRowHeight = function() {
            return this.parent.rowHeight ? this.parent.rowHeight : getRowHeight();
        }, VirtualContentRenderer.prototype.getTotalBlocks = function() {
            return Math.ceil(this.count / this.getBlockSize());
        }, VirtualContentRenderer.prototype.getColumnOffset = function(block) {
            return 0 | this.vgenerator.cOffsets[block];
        }, VirtualContentRenderer.prototype.getModelGenerator = function() {
            return new VirtualRowModelGenerator(this.parent);
        }, VirtualContentRenderer.prototype.resetScrollPosition = function(action) {
            this.actions.some(function(value) {
                return value === action;
            }) && (this.preventEvent = 0 !== this.content.scrollTop, this.content.scrollTop = 0);
        }, VirtualContentRenderer.prototype.onActionBegin = function(e) {
            this.parent.setProperties({
                pageSettings: {
                    currentPage: 1
                }
            }, !0);
        }, VirtualContentRenderer.prototype.getRows = function() {
            return this.vgenerator.getRows();
        }, VirtualContentRenderer.prototype.getRowByIndex = function(index) {
            var startIdx = (this.prevInfo.blockIndexes[0] - 1) * this.getBlockSize();
            return this.parent.getDataRows()[index - startIdx];
        }, VirtualContentRenderer.prototype.getVirtualRowIndex = function(index) {
            return (this.prevInfo.blockIndexes[0] - 1) * this.getBlockSize() + index;
        }, VirtualContentRenderer.prototype.refreshOffsets = function() {
            var _this = this, row = 0, bSize = this.getBlockSize(), total = this.getTotalBlocks();
            this.prevHeight = this.offsets[total], this.maxBlock = total % 2 == 0 ? total - 2 : total - 1, 
            this.offsets = {}, Array.apply(null, Array(total)).map(function() {
                return ++row;
            }).forEach(function(block) {
                var tmp = (_this.vgenerator.cache[block] || []).length, rem = _this.count % bSize, size = block in _this.vgenerator.cache ? tmp * _this.getRowHeight() : rem && block === total ? rem * _this.getRowHeight() : _this.getBlockHeight();
                _this.offsets[block] = (0 | _this.offsets[block - 1]) + size, _this.tmpOffsets[block] = 0 | _this.offsets[block - 1];
            }), this.offsetKeys = Object.keys(this.offsets), this.parent.enableColumnVirtualization && this.vgenerator.refreshColOffsets();
        }, VirtualContentRenderer.prototype.refreshVirtualElement = function() {
            this.vgenerator.refreshColOffsets(), this.setVirtualHeight();
        }, VirtualContentRenderer;
    }(ContentRender), VirtualHeaderRenderer = function(_super) {
        function VirtualHeaderRenderer(parent, locator) {
            var _this = _super.call(this, parent, locator) || this;
            return _this.virtualEle = new VirtualElementHandler(), _this.gen = new VirtualRowModelGenerator(_this.parent), 
            _this.parent.on(refreshVirtualBlock, function(e) {
                return "X" === e.virtualInfo.sentinelInfo.axis ? _this.refreshUI() : null;
            }, _this), _this;
        }
        return __extends$30(VirtualHeaderRenderer, _super), VirtualHeaderRenderer.prototype.renderTable = function() {
            this.gen.refreshColOffsets(), this.parent.setColumnIndexesInView(this.gen.getColumnIndexes(this.getPanel().firstChild)), 
            _super.prototype.renderTable.call(this), this.virtualEle.table = this.getTable(), 
            this.virtualEle.content = this.getPanel().firstChild, this.virtualEle.content.style.position = "relative", 
            this.virtualEle.renderWrapper(), this.virtualEle.renderPlaceHolder("absolute");
        }, VirtualHeaderRenderer.prototype.appendContent = function(table) {
            this.virtualEle.wrapper.appendChild(table);
        }, VirtualHeaderRenderer.prototype.refreshUI = function() {
            this.gen.refreshColOffsets(), this.parent.setColumnIndexesInView(this.gen.getColumnIndexes(this.getPanel().firstChild)), 
            _super.prototype.refreshUI.call(this);
        }, VirtualHeaderRenderer;
    }(HeaderRender), VirtualElementHandler = function() {
        function VirtualElementHandler() {}
        return VirtualElementHandler.prototype.renderWrapper = function() {
            this.wrapper = createElement("div", {
                className: "e-virtualtable"
            }), this.wrapper.appendChild(this.table), this.content.appendChild(this.wrapper);
        }, VirtualElementHandler.prototype.renderPlaceHolder = function(position) {
            void 0 === position && (position = "relative"), this.placeholder = createElement("div", {
                className: "e-virtualtrack",
                styles: "position:" + position
            }), this.content.appendChild(this.placeholder);
        }, VirtualElementHandler.prototype.adjustTable = function(xValue, yValue) {
            this.wrapper.style.transform = "translate(" + xValue + "px, " + yValue + "px)";
        }, VirtualElementHandler.prototype.setWrapperWidth = function(width, full) {
            this.wrapper.style.width = width ? width + "px" : full ? "100%" : "";
        }, VirtualElementHandler.prototype.setVirtualHeight = function(height, width) {
            this.placeholder.style.height = height + "px", this.placeholder.style.width = width;
        }, VirtualElementHandler;
    }(), VirtualScroll = function() {
        function VirtualScroll(parent, locator) {
            this.parent = parent, this.locator = locator, this.addEventListener();
        }
        return VirtualScroll.prototype.getModuleName = function() {
            return "virtualscroll";
        }, VirtualScroll.prototype.instantiateRenderer = function() {
            var renderer = this.locator.getService("rendererFactory");
            this.parent.enableColumnVirtualization && renderer.addRenderer(RenderType.Header, new VirtualHeaderRenderer(this.parent, this.locator)), 
            renderer.addRenderer(RenderType.Content, new VirtualContentRenderer(this.parent, this.locator)), 
            this.ensurePageSize();
        }, VirtualScroll.prototype.ensurePageSize = function() {
            var rowHeight = getRowHeight(this.parent.element);
            this.blockSize = ~~(this.parent.height / rowHeight);
            var height = 2 * this.blockSize, size = this.parent.pageSettings.pageSize;
            this.parent.setProperties({
                pageSettings: {
                    pageSize: size < height ? height : size
                }
            }, !0);
        }, VirtualScroll.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(initialLoad, this.instantiateRenderer, this), 
            this.parent.on(columnWidthChanged, this.refreshVirtualElement, this));
        }, VirtualScroll.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(initialLoad, this.instantiateRenderer), 
            this.parent.off(columnWidthChanged, this.refreshVirtualElement));
        }, VirtualScroll.prototype.refreshVirtualElement = function(args) {
            if (this.parent.enableColumnVirtualization && "resize" === args.module) {
                this.locator.getService("rendererFactory").getRenderer(RenderType.Content).refreshVirtualElement();
            }
        }, VirtualScroll.prototype.destroy = function() {
            this.removeEventListener();
        }, VirtualScroll;
    }(), InlineEditRender = function() {
        function InlineEditRender(parent) {
            this.parent = parent;
        }
        return InlineEditRender.prototype.addNew = function(elements, args) {
            var mTbody, tbody;
            if (tbody = this.parent.frozenRows ? this.parent.getHeaderContent().querySelector("tbody") : this.parent.getContentTable().querySelector("tbody"), 
            args.row = createElement("tr", {
                className: "e-row e-addedrow"
            }), tbody.querySelector(".e-emptyrow") && tbody.querySelector(".e-emptyrow").classList.add("e-hide"), 
            tbody.insertBefore(args.row, tbody.firstChild), args.row.appendChild(this.getEditElement(elements, !1)), 
            this.parent.getFrozenColumns()) {
                var mEle = this.renderMovableform(args.row);
                (mTbody = this.parent.frozenRows ? this.parent.getHeaderContent().querySelector(".e-movableheader").querySelector("tbody") : this.parent.getContent().querySelector(".e-movablecontent").querySelector("tbody")).insertBefore(mEle, mTbody.firstChild), 
                args.row.querySelector(".e-normaledit").setAttribute("colspan", this.parent.getFrozenColumns() + ""), 
                mEle.setAttribute("colspan", "" + (this.parent.getColumns().length - this.parent.getFrozenColumns()));
            }
        }, InlineEditRender.prototype.renderMovableform = function(ele) {
            var mEle = ele.cloneNode(!0);
            return this.renderMovable(ele, mEle), mEle.querySelector("colgroup").innerHTML = this.parent.getHeaderContent().querySelector(".e-movableheader").querySelector("colgroup").innerHTML, 
            mEle;
        }, InlineEditRender.prototype.updateFreezeEdit = function(row, td) {
            if (this.parent.getFrozenColumns()) {
                var idx = parseInt(row.getAttribute("aria-rowindex"), 10), fCont = this.parent.getContent().querySelector(".e-frozencontent").querySelector("tbody"), mCont = this.parent.getContent().querySelector(".e-movablecontent").querySelector("tbody"), fHdr = this.parent.getHeaderContent().querySelector(".e-frozenheader").querySelector("tbody"), mHdr = this.parent.getHeaderContent().querySelector(".e-movableheader").querySelector("tbody");
                this.parent.frozenRows && idx >= this.parent.frozenRows && (idx -= this.parent.frozenRows), 
                fCont.contains(row) ? td = td.concat([].slice.call(mCont.children[idx].querySelectorAll("td.e-rowcell"))) : mCont.contains(row) ? td = td.concat([].slice.call(fCont.children[idx].querySelectorAll("td.e-rowcell"))) : fHdr.contains(row) ? td = td.concat([].slice.call(mHdr.children[idx].querySelectorAll("td.e-rowcell"))) : mHdr.contains(row) && (td = td.concat([].slice.call(fHdr.children[idx].querySelectorAll("td.e-rowcell"))));
            }
            return td;
        }, InlineEditRender.prototype.update = function(elements, args) {
            var tdElement = [].slice.call(args.row.querySelectorAll("td.e-rowcell"));
            args.row.innerHTML = "", tdElement = this.updateFreezeEdit(args.row, tdElement), 
            args.row.appendChild(this.getEditElement(elements, !0, tdElement)), args.row.classList.add("e-editedrow"), 
            this.refreshFreezeEdit(args.row);
        }, InlineEditRender.prototype.refreshFreezeEdit = function(row) {
            var fCls, cont, td = row.firstChild, idx = parseInt(row.getAttribute("aria-rowindex"), 10);
            if (this.parent.getFrozenColumns()) {
                idx < this.parent.frozenRows ? (cont = this.parent.getHeaderContent(), fCls = ".e-frozenheader") : (cont = this.parent.getContent(), 
                fCls = ".e-frozencontent");
                var mTd = td.cloneNode(!0), fRows = void 0;
                cont.querySelector(fCls).contains(row) ? (fRows = this.parent.getMovableRowByIndex(idx), 
                this.updateFrozenCont(fRows, td, mTd)) : (fRows = this.parent.getRowByIndex(idx), 
                this.updateFrozenCont(fRows, mTd, td)), fRows.appendChild(mTd), fRows.classList.add("e-editedrow");
            }
        }, InlineEditRender.prototype.updateFrozenCont = function(row, ele, mEle) {
            row.innerHTML = "", this.renderMovable(ele, mEle), mEle.querySelector("colgroup").innerHTML = this.parent.getHeaderContent().querySelector(".e-movableheader").querySelector("colgroup").innerHTML, 
            ele.setAttribute("colspan", this.parent.getFrozenColumns() + ""), mEle.setAttribute("colspan", this.parent.getColumns().length - this.parent.getFrozenColumns() + "");
        }, InlineEditRender.prototype.renderMovable = function(ele, mEle) {
            for (var frzCols = this.parent.getFrozenColumns(), i = 0; i < frzCols; i++) mEle.querySelector("tr").removeChild(mEle.querySelector("tr").children[0]);
            i = frzCols;
            for (var len = ele.querySelector("tr").childElementCount; i < len; i++) ele.querySelector("tr").removeChild(ele.querySelector("tr").children[ele.querySelector("tr").childElementCount - 1]);
        }, InlineEditRender.prototype.getEditElement = function(elements, isEdit, tdElement) {
            var gObj = this.parent, gLen = 0, isDetail = isNullOrUndefined(gObj.detailTemplate) && isNullOrUndefined(gObj.childGrid) ? 0 : 1;
            gObj.allowGrouping && (gLen = gObj.groupSettings.columns.length);
            var td = createElement("td", {
                className: "e-editcell e-normaledit",
                attrs: {
                    colspan: (gObj.getVisibleColumns().length + gLen + isDetail).toString()
                }
            }), form = createElement("form", {
                id: gObj.element.id + "EditForm",
                className: "e-gridform"
            }), table = createElement("table", {
                className: "e-table e-inline-edit",
                attrs: {
                    cellspacing: "0.25"
                }
            });
            table.appendChild(gObj.getContentTable().querySelector("colgroup").cloneNode(!0));
            var tbody = createElement("tbody"), tr = createElement("tr"), i = 0;
            for (isDetail && tr.insertBefore(createElement("td", {
                className: "e-detailrowcollapse"
            }), tr.firstChild); i < gLen; ) tr.appendChild(createElement("td", {
                className: "e-indentcell"
            })), i++;
            var m = 0;
            for (i = 0; isEdit && m < tdElement.length && i < gObj.getColumns().length || i < gObj.getColumns().length; ) {
                var span = isEdit ? tdElement[m].getAttribute("colspan") : null, col = gObj.getColumns()[i], td_1 = createElement("td", {
                    className: "e-rowcell",
                    attrs: {
                        style: "text-align:" + (col.textAlign ? col.textAlign : ""),
                        colspan: span || ""
                    }
                });
                col.visible ? (td_1.appendChild(elements[col.uid]), "booleanedit" === col.editType ? td_1.classList.add("e-boolcell") : (col.commands || col.commandsTemplate) && addClass([ td_1 ], "e-unboundcell")) : td_1.classList.add("e-hide"), 
                tr.appendChild(td_1), i = span ? i + parseInt(span, 10) : i + 1, m++;
            }
            return tbody.appendChild(tr), table.appendChild(tbody), form.appendChild(table), 
            td.appendChild(form), td;
        }, InlineEditRender.prototype.removeEventListener = function() {}, InlineEditRender;
    }(), BatchEditRender = function() {
        function BatchEditRender(parent) {
            this.parent = parent;
        }
        return BatchEditRender.prototype.update = function(elements, args) {
            args.cell.innerHTML = "", args.cell.appendChild(this.getEditElement(elements, args)), 
            args.cell.classList.add("e-editedbatchcell"), classList(args.row, [ "e-editedrow", "e-batchrow" ], []);
        }, BatchEditRender.prototype.getEditElement = function(elements, args) {
            var form = createElement("form", {
                id: this.parent.element.id + "EditForm",
                className: "e-gridform"
            });
            return form.appendChild(elements[args.columnObject.uid]), "booleanedit" === args.columnObject.editType && args.cell.classList.add("e-boolcell"), 
            args.columnObject.editType || args.cell.classList.add("e-inputbox"), form;
        }, BatchEditRender.prototype.removeEventListener = function() {}, BatchEditRender;
    }(), DialogEditRender = function() {
        function DialogEditRender(parent, serviceLocator) {
            this.parent = parent, this.serviceLocator = serviceLocator, this.parent.isDestroyed || (this.parent.on(dialogDestroy, this.destroy, this), 
            this.parent.on(destroy, this.destroy, this));
        }
        return DialogEditRender.prototype.setLocaleObj = function() {
            this.l10n = this.serviceLocator.getService("localization");
        }, DialogEditRender.prototype.addNew = function(elements, args) {
            this.isEdit = !1, this.createDialog(elements, args);
        }, DialogEditRender.prototype.update = function(elements, args) {
            this.isEdit = !0, this.createDialog(elements, args);
        }, DialogEditRender.prototype.createDialog = function(elements, args) {
            var gObj = this.parent;
            this.dialog = createElement("div", {
                id: gObj.element.id + "_dialogEdit_wrapper"
            }), gObj.element.appendChild(this.dialog), this.setLocaleObj();
            var position = this.parent.element.getBoundingClientRect().height < 400 ? {
                X: "center",
                Y: "top"
            } : {
                X: "center",
                Y: "center"
            };
            this.dialogObj = new Dialog({
                header: this.isEdit ? this.l10n.getConstant("EditFormTitle") + "  " + args.primaryKeyValue[0] : this.l10n.getConstant("AddFormTitle"),
                isModal: !0,
                visible: !0,
                cssClass: "e-edit-dialog",
                content: this.getEditElement(elements),
                showCloseIcon: !0,
                allowDragging: !0,
                position: position,
                close: this.dialogClose.bind(this),
                closeOnEscape: !0,
                width: "330px",
                target: gObj.element,
                animationSettings: {
                    effect: "None"
                },
                buttons: [ {
                    click: this.btnClick.bind(this),
                    buttonModel: {
                        content: this.l10n.getConstant("SaveButton"),
                        cssClass: "e-primary",
                        isPrimary: !0
                    }
                }, {
                    click: this.btnClick.bind(this),
                    buttonModel: {
                        cssClass: "e-flat",
                        content: this.l10n.getConstant("CancelButton")
                    }
                } ]
            }), this.dialogObj.appendTo(this.dialog), changeButtonType(this.dialogObj.element);
        }, DialogEditRender.prototype.btnClick = function(e) {
            this.l10n.getConstant("CancelButton").toLowerCase() === e.target.innerText.toLowerCase() ? this.dialogClose() : this.parent.endEdit();
        }, DialogEditRender.prototype.dialogClose = function() {
            this.parent.closeEdit(), this.destroy();
        }, DialogEditRender.prototype.destroy = function(args) {
            this.parent.notify("destroy-form", {}), this.parent.isEdit = !1, this.parent.notify("toolbar-refresh", {}), 
            this.dialog && !this.dialogObj.isDestroyed && (this.dialogObj.destroy(), remove(this.dialog));
        }, DialogEditRender.prototype.getEditElement = function(elements) {
            for (var gObj = this.parent, div = createElement("div", {
                className: this.isEdit ? "e-editedrow" : "e-insertedrow"
            }), form = createElement("form", {
                id: gObj.element.id + "EditForm",
                className: "e-gridform"
            }), table = createElement("table", {
                className: "e-table",
                attrs: {
                    cellspacing: "6px"
                }
            }), tbody = createElement("tbody"), cols = gObj.getColumns(), i = 0; i < cols.length; i++) if (cols[i].visible && !cols[i].commands && !cols[i].commandsTemplate) {
                var tr = createElement("tr"), dataCell = createElement("td", {
                    className: "e-rowcell",
                    attrs: {
                        style: "text-align:" + (this.parent.enableRtl ? "right" : "left") + ";width:190px"
                    }
                });
                createElement("label", {
                    innerHTML: cols[i].field
                });
                elements[cols[i].uid].classList.remove("e-input"), dataCell.appendChild(elements[cols[i].uid]), 
                tr.appendChild(dataCell), tbody.appendChild(tr);
            }
            return table.appendChild(tbody), form.appendChild(table), div.appendChild(form), 
            div;
        }, DialogEditRender.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(dialogDestroy, this.destroy), this.parent.off(destroy, this.destroy));
        }, DialogEditRender;
    }(), EditRender = function() {
        function EditRender(parent, serviceLocator) {
            this.editType = {
                Inline: InlineEditRender,
                Normal: InlineEditRender,
                Batch: BatchEditRender,
                Dialog: DialogEditRender
            }, this.parent = parent, this.serviceLocator = serviceLocator, this.renderer = new this.editType[this.parent.editSettings.mode](parent, serviceLocator), 
            this.focus = serviceLocator.getService("focus");
        }
        return EditRender.prototype.addNew = function(args) {
            this.renderer.addNew(this.getEditElements(args), args), this.convertWidget(args);
        }, EditRender.prototype.update = function(args) {
            this.renderer.update(this.getEditElements(args), args), this.convertWidget(args);
        }, EditRender.prototype.convertWidget = function(args) {
            var isFocused, cell, fForm, gObj = this.parent, frzCols = gObj.getFrozenColumns(), form = gObj.element.querySelector(".e-gridform");
            if (frzCols && "Normal" === gObj.editSettings.mode) {
                var rowIndex = parseInt(args.row.getAttribute("aria-rowindex"), 10);
                fForm = gObj.frozenRows && ("add" === args.requestType || rowIndex < gObj.frozenRows) ? gObj.element.querySelector(".e-movableheader").querySelector(".e-gridform") : gObj.element.querySelector(".e-movablecontent").querySelector(".e-gridform");
            }
            for (var cols = "Batch" !== gObj.editSettings.mode ? gObj.getColumns() : [ gObj.getColumnByField(args.columnName) ], _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {
                var col = cols_1[_i];
                if (col.visible && !col.commands) {
                    col.valueAccessor(col.field, args.rowData, col), cell = frzCols && cols.indexOf(col) >= frzCols && "Normal" === gObj.editSettings.mode ? fForm.querySelector("[e-mappinguid=" + col.uid + "]") : form.querySelector("[e-mappinguid=" + col.uid + "]");
                    col.edit.write;
                    isNullOrUndefined(cell) || (col.edit.write({
                        rowData: args.rowData,
                        element: cell,
                        column: col,
                        requestType: args.requestType,
                        row: args.row,
                        foreignKeyData: col.isForeignColumn() && getValue(col.field, args.foreignKeyData)
                    }), isFocused || cell.getAttribute("disabled") || (this.focusElement(cell, args.type), 
                    isFocused = !0));
                }
            }
        }, EditRender.prototype.focusElement = function(elem, type) {
            var chkBox = this.parent.element.querySelector(".e-edit-checkselect");
            isNullOrUndefined(chkBox) || chkBox.nextElementSibling.classList.add("e-focus"), 
            "Batch" === this.parent.editSettings.mode ? this.focus.onClick({
                target: closest(elem, "td")
            }, !0) : elem.focus(), elem.classList.contains("e-defaultcell") && elem.setSelectionRange(elem.value.length, elem.value.length);
        }, EditRender.prototype.getEditElements = function(args) {
            for (var gObj = this.parent, elements = {}, cols = "Batch" !== gObj.editSettings.mode ? gObj.getColumns() : [ gObj.getColumnByField(args.columnName) ], i = 0, len = cols.length; i < len; i++) {
                var col = cols[i];
                if (col.visible) if (col.commands || col.commandsTemplate) {
                    var cellRendererFact = this.serviceLocator.getService("cellRendererFactory"), model = new RowModelGenerator(this.parent), cellRenderer = cellRendererFact.getCellRenderer(CellType.CommandColumn), cells = model.generateRows(args.rowData)[0].cells, td = cellRenderer.render(cells[i], args.rowData, {
                        index: args.row ? args.row.getAttribute("aria-rowindex") : 0
                    });
                    (div = td.firstElementChild).setAttribute("textAlign", td.getAttribute("textAlign")), 
                    elements[col.uid] = div;
                } else {
                    var tArgs = {
                        column: col,
                        value: col.valueAccessor(col.field, args.rowData, col),
                        type: args.requestType,
                        data: args.rowData
                    }, input = (col.edit.create, void 0);
                    if ("string" == typeof (input = col.edit.create(tArgs))) {
                        var div;
                        (div = createElement("div")).innerHTML = input, input = div.firstChild;
                    }
                    attributes("input" !== input.tagName && input.querySelectorAll("input").length ? input.querySelector("input") : input, {
                        name: col.field,
                        "e-mappinguid": col.uid,
                        id: gObj.element.id + col.field
                    }), classList(input, [ "e-input", "e-field" ], []), "Right" === col.textAlign && input.classList.add("e-ralign"), 
                    ((col.isPrimaryKey || col.isIdentity) && "beginEdit" === args.requestType || col.isIdentity && "add" === args.requestType) && input.setAttribute("disabled", "true"), 
                    elements[col.uid] = input;
                }
            }
            return elements;
        }, EditRender.prototype.destroy = function() {
            this.renderer.removeEventListener();
        }, EditRender;
    }(), BooleanEditCell = function() {
        function BooleanEditCell(parent) {
            this.activeClasses = [ "e-selectionbackground", "e-active" ], this.parent = parent;
        }
        return BooleanEditCell.prototype.create = function(args) {
            var col = args.column, classNames = "e-field e-boolcell";
            return "checkbox" === col.type && (classNames = "e-field e-boolcell e-edit-checkselect"), 
            createElement("input", {
                className: classNames,
                attrs: {
                    type: "checkbox",
                    value: args.value,
                    "e-mappinguid": col.uid,
                    id: this.parent.element.id + col.field,
                    name: col.field
                }
            });
        }, BooleanEditCell.prototype.read = function(element) {
            return element.checked;
        }, BooleanEditCell.prototype.write = function(args) {
            var selectChkBox, chkState;
            if (isNullOrUndefined(args.row) || (selectChkBox = args.row.querySelector(".e-edit-checkselect")), 
            args.rowData[args.column.field] && (chkState = JSON.parse(args.rowData[args.column.field].toString().toLowerCase())), 
            !isNullOrUndefined(selectChkBox)) {
                if (this.editType = this.parent.editSettings.mode, this.editRow = args.row, "add" !== args.requestType) {
                    var row = this.parent.getRowObjectFromUID(args.row.getAttribute("data-uid"));
                    chkState = !!row && row.isSelected;
                }
                addRemoveActiveClasses.apply(void 0, [ [].slice.call(args.row.querySelectorAll(".e-rowcell")), chkState ].concat(this.activeClasses));
            }
            this.obj = new CheckBox(extend({
                label: "Dialog" !== this.parent.editSettings.mode ? "" : args.column.headerText,
                checked: chkState,
                disabled: !isEditable(args.column, args.requestType, args.element),
                enableRtl: this.parent.enableRtl,
                change: this.checkBoxChange.bind(this)
            }, args.column.edit.params)), this.obj.appendTo(args.element);
        }, BooleanEditCell.prototype.checkBoxChange = function(args) {
            if (this.editRow && "Dialog" !== this.editType) {
                var add = !1;
                args.checked ? (add = !0, this.editRow.setAttribute("aria-selected", add.toString())) : this.editRow.removeAttribute("aria-selected"), 
                addRemoveActiveClasses.apply(void 0, [ [].slice.call(this.editRow.querySelectorAll(".e-rowcell")), add ].concat(this.activeClasses));
            }
        }, BooleanEditCell.prototype.destroy = function() {
            this.obj && this.obj.destroy();
        }, BooleanEditCell;
    }(), DropDownEditCell = function() {
        function DropDownEditCell(parent) {
            this.parent = parent;
        }
        return DropDownEditCell.prototype.create = function(args) {
            return createElement("input", {
                className: "e-field",
                attrs: {
                    id: this.parent.element.id + args.column.field,
                    name: args.column.field,
                    type: "text",
                    "e-mappinguid": args.column.uid
                }
            });
        }, DropDownEditCell.prototype.write = function(args) {
            this.column = args.column;
            var isInline = "Dialog" !== this.parent.editSettings.mode;
            this.obj = new DropDownList(extend({
                dataSource: this.parent.dataSource instanceof DataManager ? this.parent.dataSource : new DataManager(this.parent.dataSource),
                query: new Query().select(args.column.field),
                enabled: isEditable(args.column, args.requestType, args.element),
                fields: {
                    value: args.column.field
                },
                value: args.rowData[args.column.field],
                enableRtl: this.parent.enableRtl,
                actionComplete: this.ddActionComplete.bind(this),
                placeholder: isInline ? "" : args.column.headerText,
                popupHeight: "200px",
                floatLabelType: isInline ? "Never" : "Always",
                open: this.dropDownOpen.bind(this),
                sortOrder: "Ascending"
            }, args.column.edit.params)), this.obj.appendTo(args.element), args.element.setAttribute("name", args.column.field);
        }, DropDownEditCell.prototype.read = function(element) {
            return element.ej2_instances[0].value;
        }, DropDownEditCell.prototype.ddActionComplete = function(e) {
            e.result = DataUtil.distinct(e.result, this.column.isForeignColumn() ? this.column.foreignKeyField : this.column.field, !0), 
            this.column.dataSource && (this.column.dataSource.dataSource.json = e.result);
        }, DropDownEditCell.prototype.dropDownOpen = function(args) {
            var dlgElement = parentsUntil(this.obj.element, "e-dialog");
            if (!isNullOrUndefined(dlgElement)) {
                var dlgObj = this.parent.element.querySelector("#" + dlgElement.id).ej2_instances[0];
                args.popup.element.style.zIndex = (dlgObj.zIndex + 1).toString();
            }
        }, DropDownEditCell.prototype.destroy = function() {
            this.obj && this.obj.destroy();
        }, DropDownEditCell;
    }(), NumericEditCell = function() {
        function NumericEditCell(parent) {
            this.parent = parent;
        }
        return NumericEditCell.prototype.create = function(args) {
            return createElement("input", {
                className: "e-field",
                attrs: {
                    id: this.parent.element.id + args.column.field,
                    name: args.column.field,
                    "e-mappinguid": args.column.uid
                }
            });
        }, NumericEditCell.prototype.read = function(element) {
            return element.blur(), element.ej2_instances[0].value;
        }, NumericEditCell.prototype.write = function(args) {
            var col = args.column, isInline = "Dialog" !== this.parent.editSettings.mode;
            this.obj = new NumericTextBox(extend({
                value: parseFloat(args.rowData[col.field]),
                enableRtl: this.parent.enableRtl,
                placeholder: isInline ? "" : args.column.headerText,
                enabled: isEditable(args.column, args.requestType, args.element),
                floatLabelType: "Dialog" !== this.parent.editSettings.mode ? "Never" : "Always"
            }, col.edit.params)), this.obj.appendTo(args.element), args.element.setAttribute("name", col.field);
        }, NumericEditCell.prototype.destroy = function() {
            this.obj && !this.obj.isDestroyed && this.obj.destroy();
        }, NumericEditCell;
    }(), DefaultEditCell = function() {
        function DefaultEditCell(parent) {
            this.parent = parent;
        }
        return DefaultEditCell.prototype.create = function(args) {
            var col = args.column;
            return createElement("input", {
                className: "e-field e-input e-defaultcell",
                attrs: {
                    type: "text",
                    value: isNullOrUndefined(args.value) ? "" : args.value,
                    "e-mappinguid": col.uid,
                    id: this.parent.element.id + col.field,
                    name: col.field,
                    style: "text-align:" + col.textAlign
                }
            });
        }, DefaultEditCell.prototype.read = function(element) {
            return element.value;
        }, DefaultEditCell.prototype.write = function(args) {
            args.column;
            var isInline = "Dialog" !== this.parent.editSettings.mode;
            Input.createInput({
                element: args.element,
                floatLabelType: "Dialog" !== this.parent.editSettings.mode ? "Never" : "Always",
                properties: {
                    enableRtl: this.parent.enableRtl,
                    enabled: isEditable(args.column, args.requestType, args.element),
                    placeholder: isInline ? "" : args.column.headerText
                }
            });
        }, DefaultEditCell;
    }(), NormalEdit = function() {
        function NormalEdit(parent, serviceLocator, renderer) {
            this.parent = parent, this.renderer = renderer, this.serviceLocator = serviceLocator, 
            this.addEventListener();
        }
        return NormalEdit.prototype.clickHandler = function(e) {
            var target = e.target, gObj = this.parent;
            (parentsUntil(target, "e-gridcontent") && parentsUntil(parentsUntil(target, "e-gridcontent"), "e-grid").id === gObj.element.id || gObj.frozenRows && parentsUntil(target, "e-headercontent")) && !parentsUntil(target, "e-unboundcelldiv") && (this.rowIndex = parentsUntil(target, "e-rowcell") ? parseInt(target.parentElement.getAttribute("aria-rowindex"), 10) : -1, 
            gObj.isEdit && gObj.editModule.endEdit());
        }, NormalEdit.prototype.dblClickHandler = function(e) {
            parentsUntil(e.target, "e-rowcell") && this.parent.editSettings.allowEditOnDblClick && this.parent.editModule.startEdit(parentsUntil(e.target, "e-row"));
        }, NormalEdit.prototype.editComplete = function(e) {
            switch (this.parent.isEdit = !1, e.requestType) {
              case "save":
                (this.parent.isCheckBoxSelection || "Multiple" === this.parent.selectionSettings.type) && this.parent.isPersistSelection || this.parent.selectRow(0), 
                this.parent.trigger(actionComplete, extend(e, {
                    requestType: "save",
                    type: actionComplete
                }));
                break;

              case "delete":
                this.parent.selectRow(this.editRowIndex), this.parent.trigger(actionComplete, extend(e, {
                    requestType: "delete",
                    type: actionComplete
                }));
            }
        }, NormalEdit.prototype.startEdit = function(tr) {
            var gObj = this.parent, primaryKeys = gObj.getPrimaryKeyFieldNames(), primaryKeyValues = [];
            this.rowIndex = this.editRowIndex = parseInt(tr.getAttribute("aria-rowindex"), 10), 
            this.previousData = gObj.getCurrentViewRecords()[this.rowIndex];
            for (var i = 0; i < primaryKeys.length; i++) primaryKeyValues.push(this.previousData[primaryKeys[i]]);
            this.uid = tr.getAttribute("data-uid");
            var rowObj = gObj.getRowObjectFromUID(this.uid), args = {
                row: tr,
                primaryKey: primaryKeys,
                primaryKeyValue: primaryKeyValues,
                requestType: "beginEdit",
                rowData: this.previousData,
                rowIndex: this.rowIndex,
                type: "edit",
                cancel: !1,
                foreignKeyData: rowObj && rowObj.foreignKeyData
            };
            gObj.trigger("beginEdit", args), args.type = "actionBegin", gObj.trigger(actionBegin, args), 
            args.cancel || (gObj.isEdit = !0, gObj.clearSelection(), "Dialog" === gObj.editSettings.mode && args.row.classList.add("e-dlgeditrow"), 
            this.renderer.update(args), this.uid = tr.getAttribute("data-uid"), gObj.editModule.applyFormValidation(), 
            args.type = "actionComplete", gObj.trigger(actionComplete, args), this.parent.allowTextWrap && this.parent.notify(freezeRender, {
                case: "textwrap"
            }));
        }, NormalEdit.prototype.endEdit = function() {
            var gObj = this.parent;
            if (this.parent.isEdit && gObj.editModule.formObj.validate() && (!gObj.editModule.mFormObj || gObj.editModule.mFormObj.validate())) {
                var editedData = extend({}, this.previousData), args = {
                    requestType: "save",
                    type: actionBegin,
                    data: editedData,
                    cancel: !1,
                    previousData: this.previousData,
                    selectedRow: gObj.selectedRowIndex,
                    foreignKeyData: {}
                };
                if (editedData = gObj.editModule.getCurrentEditedData(gObj.element.querySelector(".e-gridform"), editedData), 
                gObj.getFrozenColumns() && "Normal" === gObj.editSettings.mode) {
                    var mForm = gObj.element.querySelector(".e-movableheader").querySelector(".e-gridform");
                    editedData = gObj.frozenRows && mForm ? gObj.editModule.getCurrentEditedData(mForm, editedData) : gObj.editModule.getCurrentEditedData(gObj.element.querySelector(".e-movablecontent").querySelector(".e-gridform"), editedData);
                }
                if (gObj.element.querySelectorAll(".e-editedrow").length) {
                    if (args.action = "edit", gObj.trigger(actionBegin, args), args.cancel) return;
                    gObj.showSpinner(), this.destroyElements(), gObj.notify(updateData, args);
                } else {
                    if (args.action = "add", args.selectedRow = 0, args.index = this.addedRowIndex, 
                    gObj.notify(modelChanged, args), this.addedRowIndex = null, args.cancel) return;
                    this.destroyElements();
                }
                this.stopEditStatus(), "Dialog" === gObj.editSettings.mode && "add" !== args.action && gObj.element.querySelector(".e-dlgeditrow").classList.remove("e-dlgeditrow");
            }
        }, NormalEdit.prototype.destroyElements = function() {
            var gObj = this.parent;
            gObj.editModule.destroyWidgets(), gObj.editModule.destroyForm(), gObj.notify(dialogDestroy, {});
        }, NormalEdit.prototype.editHandler = function(args) {
            var _this = this;
            args.promise ? args.promise.then(function(e) {
                return _this.edSucc(e, args);
            }).catch(function(e) {
                return _this.edFail(e);
            }) : this.editSuccess(args.data, args);
        }, NormalEdit.prototype.edSucc = function(e, args) {
            this.editSuccess(e, args);
        }, NormalEdit.prototype.edFail = function(e) {
            this.editFailure(e);
        }, NormalEdit.prototype.updateCurrentViewData = function(data) {
            this.parent.getCurrentViewRecords()[this.editRowIndex] = data;
        }, NormalEdit.prototype.editSuccess = function(e, args) {
            isNullOrUndefined(e) || (args.data = e), this.parent.trigger("beforeDataBound", args), 
            args.type = actionComplete, this.parent.isEdit = !1, this.refreshRow(args.data), 
            this.updateCurrentViewData(args.data), this.parent.trigger(actionComplete, args), 
            (this.parent.isCheckBoxSelection || "Multiple" === this.parent.selectionSettings.type) && this.parent.isPersistSelection || this.parent.selectRow(this.rowIndex > -1 ? this.rowIndex : this.editRowIndex), 
            this.parent.hideSpinner();
        }, NormalEdit.prototype.editFailure = function(e) {
            this.parent.trigger("actionFailure", e);
        }, NormalEdit.prototype.refreshRow = function(data) {
            var frzCols = this.parent.getFrozenColumns(), row = new RowRenderer(this.serviceLocator, null, this.parent), rowObj = this.parent.getRowObjectFromUID(this.uid);
            if (rowObj && (rowObj.changes = data, refreshForeignData(rowObj, this.parent.getForeignKeyColumns(), rowObj.changes), 
            row.refresh(rowObj, this.parent.getColumns(), !0), frzCols)) {
                var uid = void 0;
                uid = rowObj.cells.length === frzCols ? this.parent.getMovableRows()[rowObj.index].getAttribute("data-uid") : this.parent.getRows()[rowObj.index].getAttribute("data-uid"), 
                (rowObj = this.parent.getRowObjectFromUID(uid)).changes = data, row.refresh(rowObj, this.parent.columns, !0);
            }
        }, NormalEdit.prototype.closeEdit = function() {
            if (this.parent.isEdit) {
                var gObj = this.parent, args = {
                    requestType: "cancel",
                    type: actionBegin,
                    data: this.previousData,
                    selectedRow: gObj.selectedRowIndex
                };
                gObj.trigger(actionBegin, args), "Dialog" === this.parent.editSettings.mode && this.parent.notify(dialogDestroy, {}), 
                gObj.isEdit = !1, this.stopEditStatus(), args.type = actionComplete, "Dialog" !== gObj.editSettings.mode && this.refreshRow(args.data), 
                gObj.getContentTable().querySelector("tr.e-emptyrow") && !gObj.getContentTable().querySelector("tr.e-row") && gObj.getContentTable().querySelector("tr.e-emptyrow").classList.remove("e-hide"), 
                gObj.selectRow(this.rowIndex), gObj.trigger(actionComplete, args);
            }
        }, NormalEdit.prototype.addRecord = function(data, index) {
            var gObj = this.parent;
            if (this.addedRowIndex = isNullOrUndefined(index) ? 0 : index, data) gObj.notify(modelChanged, {
                requestType: "save",
                type: actionBegin,
                data: data,
                selectedRow: 0,
                action: "add",
                index: index
            }); else if (!gObj.isEdit) {
                this.previousData = {}, this.uid = "";
                for (var _i = 0, _a = gObj.getColumns(); _i < _a.length; _i++) {
                    var col = _a[_i];
                    this.previousData[col.field] = data && data[col.field] ? data[col.field] : col.defaultValue;
                }
                var args = {
                    cancel: !1,
                    foreignKeyData: {},
                    requestType: "add",
                    data: this.previousData,
                    type: actionBegin,
                    index: index
                };
                gObj.trigger(actionBegin, args), args.cancel || (gObj.isEdit = !0, gObj.clearSelection(), 
                this.renderer.addNew({
                    rowData: args.data,
                    requestType: "add"
                }), gObj.editModule.applyFormValidation(), args.type = actionComplete, args.row = gObj.element.querySelector(".e-addedrow"), 
                gObj.trigger(actionComplete, args));
            }
        }, NormalEdit.prototype.deleteRecord = function(fieldname, data) {
            this.editRowIndex = this.parent.selectedRowIndex, this.parent.notify(modelChanged, {
                requestType: "delete",
                type: actionBegin,
                foreignKeyData: {},
                data: data ? [ data ] : this.parent.getSelectedRecords(),
                tr: this.parent.getSelectedRows(),
                cancel: !1
            });
        }, NormalEdit.prototype.stopEditStatus = function() {
            var mElem, editMElem, gObj = this.parent, elem = gObj.element.querySelector(".e-addedrow");
            gObj.getFrozenColumns() && (mElem = gObj.element.querySelectorAll(".e-addedrow")[1], 
            editMElem = gObj.element.querySelectorAll(".e-editedrow")[1], mElem && remove(mElem), 
            editMElem && editMElem.classList.remove("e-editedrow")), elem && remove(elem), (elem = gObj.element.querySelector(".e-editedrow")) && elem.classList.remove("e-editedrow");
        }, NormalEdit.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on("crud-Action", this.editHandler, this), 
            this.parent.on("double-tap", this.dblClickHandler, this), this.parent.on(click, this.clickHandler, this), 
            this.parent.on("dblclick", this.dblClickHandler, this), this.parent.on("delete-complete", this.editComplete, this), 
            this.parent.on("save-complete", this.editComplete, this));
        }, NormalEdit.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off("crud-Action", this.editHandler), this.parent.off("double-tap", this.dblClickHandler), 
            this.parent.off(click, this.clickHandler), this.parent.off("dblclick", this.dblClickHandler), 
            this.parent.off("delete-complete", this.editComplete), this.parent.off("save-complete", this.editComplete));
        }, NormalEdit.prototype.destroy = function() {
            this.removeEventListener(), this.renderer.destroy();
        }, NormalEdit;
    }(), __extends$31 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), InlineEdit = function(_super) {
        function InlineEdit(parent, serviceLocator, renderer) {
            var _this = _super.call(this, parent, serviceLocator) || this;
            return _this.parent = parent, _this.serviceLocator = serviceLocator, _this.renderer = renderer, 
            _this;
        }
        return __extends$31(InlineEdit, _super), InlineEdit.prototype.closeEdit = function() {
            _super.prototype.closeEdit.call(this);
        }, InlineEdit.prototype.addRecord = function(data, index) {
            _super.prototype.addRecord.call(this, data, index);
        }, InlineEdit.prototype.endEdit = function() {
            _super.prototype.endEdit.call(this);
        }, InlineEdit.prototype.deleteRecord = function(fieldname, data) {
            _super.prototype.deleteRecord.call(this, fieldname, data);
        }, InlineEdit.prototype.startEdit = function(tr) {
            _super.prototype.startEdit.call(this, tr);
        }, InlineEdit;
    }(NormalEdit), BatchEdit = function() {
        function BatchEdit(parent, serviceLocator, renderer) {
            this.cellDetails = {}, this.parent = parent, this.serviceLocator = serviceLocator, 
            this.renderer = renderer, this.focus = serviceLocator.getService("focus"), this.addEventListener();
        }
        return BatchEdit.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(click, this.clickHandler, this), this.parent.on("dblclick", this.dblClickHandler, this), 
            this.parent.on("beforecellfocused", this.onBeforeCellFocused, this), this.parent.on("cellfocused", this.onCellFocused, this), 
            this.dataBoundFunction = this.dataBound.bind(this), this.parent.addEventListener(dataBound, this.dataBoundFunction), 
            this.parent.on("double-tap", this.dblClickHandler, this), this.parent.on(keyPressed, this.keyDownHandler, this));
        }, BatchEdit.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(click, this.clickHandler), this.parent.off("dblclick", this.dblClickHandler), 
            this.parent.off("beforecellfocused", this.onBeforeCellFocused), this.parent.off("cellfocused", this.onCellFocused), 
            this.parent.removeEventListener(dataBound, this.dataBoundFunction), this.parent.off("double-tap", this.dblClickHandler), 
            this.parent.off(keyPressed, this.keyDownHandler));
        }, BatchEdit.prototype.dataBound = function() {
            this.parent.notify("toolbar-refresh", {});
        }, BatchEdit.prototype.destroy = function() {
            this.removeEventListener();
        }, BatchEdit.prototype.clickHandler = function(e) {
            parentsUntil(e.target, this.parent.element.id + "_add", !0) || (this.saveCell(), 
            parentsUntil(e.target, "e-rowcell") && !this.parent.isEdit && this.setCellIdx(e.target));
        }, BatchEdit.prototype.dblClickHandler = function(e) {
            var target = parentsUntil(e.target, "e-rowcell"), tr = parentsUntil(e.target, "e-row");
            target && tr && !isNaN(parseInt(target.getAttribute("aria-colindex"), 10)) && this.editCell(parseInt(tr.getAttribute("aria-rowindex"), 10), this.parent.getColumns()[parseInt(target.getAttribute("aria-colindex"), 10)].field);
        }, BatchEdit.prototype.onBeforeCellFocused = function(e) {
            this.parent.isEdit && this.validateFormObj() && (e.byClick || [ "tab", "shiftTab", "enter", "shiftEnter" ].indexOf(e.keyArgs.action) > -1) && (e.cancel = !0, 
            e.byClick ? e.clickArgs.preventDefault() : e.keyArgs.preventDefault());
        }, BatchEdit.prototype.onCellFocused = function(e) {
            var frzCols = this.parent.getFrozenColumns(), mCont = this.parent.getContent().querySelector(".e-movablecontent"), mHdr = this.parent.getHeaderContent().querySelector(".e-movableheader"), clear = !(e.container.isContent && e.container.isDataCell || this.parent.frozenRows && e.container.isHeader);
            if (e.byKey && !clear) {
                var _a = e.container.indexes, rowIndex = _a[0], cellIndex = _a[1];
                frzCols && (mCont.contains(e.element) || this.parent.frozenRows && mHdr.contains(e.element)) && (cellIndex += frzCols), 
                this.parent.frozenRows && e.container.isContent && (rowIndex += this.parent.frozenRows);
                var isEdit = this.parent.isEdit;
                if (!document.querySelectorAll(".e-popup-open").length) switch (isEdit = isEdit && !this.validateFormObj(), 
                e.keyArgs.action) {
                  case "tab":
                  case "shiftTab":
                    isEdit && this.editCellFromIndex(rowIndex, cellIndex);
                    break;

                  case "enter":
                  case "shiftEnter":
                    e.keyArgs.preventDefault(), isEdit && this.editCell(rowIndex, this.cellDetails.column.field);
                    break;

                  case "f2":
                    this.editCellFromIndex(rowIndex, cellIndex), this.focus.focus();
                }
            }
        }, BatchEdit.prototype.isAddRow = function(index) {
            return this.parent.getDataRows()[index].classList.contains("e-insertedrow");
        }, BatchEdit.prototype.editCellFromIndex = function(rowIdx, cellIdx) {
            this.cellDetails.rowIndex = rowIdx, this.cellDetails.cellIndex = cellIdx, this.editCell(rowIdx, this.parent.getColumns()[cellIdx].field);
        }, BatchEdit.prototype.closeEdit = function() {
            var tr, mTr, gObj = this.parent, rows = this.parent.getRowsObject(), rowRenderer = new RowRenderer(this.serviceLocator, null, this.parent);
            gObj.isEdit && this.saveCell(!0), gObj.clearSelection();
            for (var i = 0; i < rows.length; i++) rows[i].isDirty && (tr = gObj.getContentTable().querySelector("[data-uid=" + rows[i].uid + "]"), 
            gObj.frozenRows && (tr = gObj.getHeaderContent().querySelector("[data-uid=" + rows[i].uid + "]")), 
            gObj.frozenColumns && (mTr = gObj.frozenRows ? gObj.getHeaderContent().querySelector(".e-movableheader").querySelector("[data-uid=" + rows[i].uid + "]") : gObj.getContent().querySelector(".e-movablecontent").querySelector("[data-uid=" + rows[i].uid + "]")), 
            tr && (tr.classList.contains("e-insertedrow") ? (remove(tr), gObj.frozenRows && mTr && remove(mTr), 
            this.removeRowObjectFromUID(rows[i].uid), i--) : (delete rows[i].changes, rows[i].isDirty = !1, 
            classList(tr, [], [ "e-hiddenrow", "e-updatedtd" ]), rowRenderer.refresh(rows[i], gObj.getColumns(), !1))));
            gObj.getContentTable().querySelector("tr.e-emptyrow") && !gObj.getContentTable().querySelector("tr.e-row") && gObj.getContentTable().querySelector("tr.e-emptyrow").classList.remove("e-hide"), 
            gObj.notify("batchCancel", {
                rows: this.parent.getRowsObject()
            }), gObj.selectRow(this.cellDetails.rowIndex), this.refreshRowIdx(), gObj.notify("toolbar-refresh", {}), 
            this.parent.notify("tooltip-destroy", {});
        }, BatchEdit.prototype.deleteRecord = function(fieldname, data) {
            this.saveCell(), this.validateFormObj() && this.saveCell(!0), this.bulkDelete(fieldname, data);
        }, BatchEdit.prototype.addRecord = function(data) {
            this.bulkAddRow(data);
        }, BatchEdit.prototype.endEdit = function(data) {
            this.parent.isEdit && this.validateFormObj() || this.batchSave();
        }, BatchEdit.prototype.validateFormObj = function() {
            return this.parent.editModule.formObj && !this.parent.editModule.formObj.validate();
        }, BatchEdit.prototype.batchSave = function() {
            var gObj = this.parent;
            if (this.saveCell(), !gObj.isEdit) {
                var changes = this.getBatchChanges(), args = {
                    batchChanges: changes,
                    cancel: !1
                };
                gObj.trigger("beforeBatchSave", args), args.cancel || (gObj.showSpinner(), gObj.notify("bulk-save", {
                    changes: changes
                }));
            }
        }, BatchEdit.prototype.getBatchChanges = function() {
            for (var changes = {
                addedRecords: [],
                deletedRecords: [],
                changedRecords: []
            }, rows = this.parent.getRowsObject(), mRows = this.parent.getMovableRowsObject(), frzCols = this.parent.getFrozenColumns(), _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {
                var row = rows_1[_i];
                if (frzCols && this.mergeBatchChanges(row, mRows[row.index], frzCols), row.isDirty) switch (row.edit) {
                  case "add":
                    changes.addedRecords.push(row.changes);
                    break;

                  case "delete":
                    changes.deletedRecords.push(row.data);
                    break;

                  default:
                    changes.changedRecords.push(row.changes);
                }
            }
            return changes;
        }, BatchEdit.prototype.mergeBatchChanges = function(row, mRow, frzCols) {
            if (row.isDirty) {
                if (mRow.isDirty) {
                    var i_1 = 0;
                    Object.keys(mRow.changes).forEach(function(key) {
                        i_1 < frzCols && delete mRow.changes[key], i_1++;
                    }), extend(row.changes, mRow.changes);
                }
            } else mRow.isDirty && extend(row, mRow);
        }, BatchEdit.prototype.removeRowObjectFromUID = function(uid) {
            for (var rows = this.parent.getRowsObject(), i = 0, len = rows.length; i < len && rows[i].uid !== uid; i++) ;
            rows.splice(i, 1);
        }, BatchEdit.prototype.addRowObject = function(row) {
            this.parent.getRowsObject().unshift(row);
        }, BatchEdit.prototype.bulkDelete = function(fieldname, data) {
            var gObj = this.parent, index = data ? this.getIndexFromData(data) : gObj.selectedRowIndex, selectedRows = gObj.getSelectedRows(), args = {
                primaryKey: this.parent.getPrimaryKeyFieldNames(),
                rowIndex: index,
                rowData: data || gObj.getSelectedRecords()[0],
                row: data ? gObj.getRows()[index] : selectedRows[0],
                cancel: !1
            };
            if (args.row && (gObj.trigger("beforeBatchDelete", args), !args.cancel)) {
                gObj.clearSelection();
                var uid = args.row.getAttribute("data-uid");
                if (args.row.classList.contains("e-insertedrow")) this.removeRowObjectFromUID(uid), 
                remove(args.row); else {
                    var rowObj = gObj.getRowObjectFromUID(uid);
                    rowObj.isDirty = !0, rowObj.edit = "delete", classList(args.row, [ "e-hiddenrow", "e-updatedtd" ], []), 
                    gObj.getFrozenColumns() ? (classList(data ? gObj.getMovableRows()[index] : selectedRows[1], [ "e-hiddenrow", "e-updatedtd" ], []), 
                    gObj.frozenRows && index < gObj.frozenRows && (gObj.getHeaderContent().querySelector(".e-movableheader").querySelector("tbody").appendChild(gObj.getMovableRowByIndex(gObj.frozenRows - 1)), 
                    gObj.getHeaderContent().querySelector(".e-frozenheader").querySelector("tbody").appendChild(gObj.getRowByIndex(gObj.frozenRows - 1)))) : gObj.frozenRows && index < gObj.frozenRows && gObj.getHeaderContent().querySelector("tbody").appendChild(gObj.getRowByIndex(gObj.frozenRows - 1));
                }
                this.refreshRowIdx(), gObj.selectRow(index), delete args.row, gObj.trigger("batchDelete", args), 
                gObj.notify("batchDelete", {
                    rows: this.parent.getRowsObject()
                }), gObj.notify("toolbar-refresh", {});
            }
        }, BatchEdit.prototype.refreshRowIdx = function() {
            var rows = [], mRows = [], nonMovableRows = [], frzCols = this.parent.getFrozenColumns();
            if (this.parent.frozenRows && (rows = [].slice.call(this.parent.getHeaderTable().querySelector("tbody").children), 
            frzCols)) {
                mRows = [].slice.call(this.parent.getHeaderContent().querySelector(".e-movableheader").querySelector("tbody").children);
                for (var i = 0; i < mRows.length; i++) nonMovableRows[i] = createElement("tr", {
                    className: "emptynonmv"
                });
            }
            frzCols && (mRows = mRows.concat([].slice.call(this.parent.getContentTable().querySelector("tbody").children)), 
            nonMovableRows = nonMovableRows.concat([].slice.call(this.parent.element.querySelector(".e-movablecontent").querySelector("tbody").children)));
            i = 0;
            for (var j = 0, len = (rows = rows.concat([].slice.call(this.parent.getContentTable().querySelector("tbody").children))).length; i < len; i++) rows[i].classList.contains("e-row") && !rows[i].classList.contains("e-hiddenrow") ? (rows[i].setAttribute("aria-rowindex", j.toString()), 
            frzCols && (mRows[i].setAttribute("aria-rowindex", j.toString()), nonMovableRows[i].classList.contains("e-row") && nonMovableRows[i].setAttribute("aria-rowindex", j.toString())), 
            j++) : (rows[i].removeAttribute("aria-rowindex"), frzCols && mRows[i].removeAttribute("aria-rowindex"));
        }, BatchEdit.prototype.getIndexFromData = function(data) {
            return inArray(data, this.parent.getCurrentViewRecords());
        }, BatchEdit.prototype.bulkAddRow = function(data) {
            var gObj = this.parent;
            if (gObj.editSettings.allowAdding && (gObj.isEdit && this.saveCell(), !gObj.isEdit)) {
                var args = {
                    defaultData: data || this.getDefaultData(),
                    primaryKey: gObj.getPrimaryKeyFieldNames(),
                    cancel: !1
                };
                if (gObj.trigger("beforeBatchAdd", args), !args.cancel) {
                    gObj.clearSelection();
                    for (var mTr, mTbody, col, index, row = new RowRenderer(this.serviceLocator, null, this.parent), modelData = new RowModelGenerator(this.parent).generateRows([ args.defaultData ]), tr = row.render(modelData[0], gObj.getColumns()), i = 0; i < this.parent.groupSettings.columns.length; i++) tr.insertBefore(createElement("td", {
                        className: "e-indentcell"
                    }), tr.firstChild), modelData[0].cells.unshift(new Cell({
                        cellType: CellType.Indent
                    }));
                    var tbody = gObj.getContentTable().querySelector("tbody");
                    tr.classList.add("e-insertedrow"), tbody.querySelector(".e-emptyrow") && tbody.querySelector(".e-emptyrow").classList.add("e-hide"), 
                    gObj.getFrozenColumns() && (mTr = this.renderMovable(tr), (mTbody = gObj.frozenRows ? gObj.getHeaderContent().querySelector(".e-movableheader").querySelector("tbody") : gObj.getContent().querySelector(".e-movablecontent").querySelector("tbody")).insertBefore(mTr, mTbody.firstChild), 
                    addClass(mTr.querySelectorAll(".e-rowcell"), [ "e-updatedtd" ])), gObj.frozenRows && (tbody = gObj.getHeaderContent().querySelector("tbody")), 
                    tbody.insertBefore(tr, tbody.firstChild), addClass(tr.querySelectorAll(".e-rowcell"), [ "e-updatedtd" ]), 
                    modelData[0].isDirty = !0, modelData[0].changes = extend({}, modelData[0].data), 
                    modelData[0].edit = "add", this.addRowObject(modelData[0]), this.refreshRowIdx(), 
                    this.focus.forgetPrevious(), gObj.notify("batchAdd", {
                        rows: this.parent.getRowsObject()
                    }), gObj.selectRow(0), data || (index = this.findNextEditableCell(0, !0), col = gObj.getColumns()[index], 
                    this.editCell(0, col.field, !0));
                    var args1 = {
                        defaultData: args.defaultData,
                        row: tr,
                        columnObject: col,
                        columnIndex: index,
                        primaryKey: args.primaryKey,
                        cell: tr.cells[index]
                    };
                    gObj.trigger("batchAdd", args1);
                }
            }
        }, BatchEdit.prototype.renderMovable = function(ele) {
            for (var mEle = ele.cloneNode(!0), i = 0; i < this.parent.frozenColumns; i++) mEle.removeChild(mEle.children[0]);
            i = this.parent.frozenColumns;
            for (var len = ele.childElementCount; i < len; i++) ele.removeChild(ele.children[ele.childElementCount - 1]);
            return mEle;
        }, BatchEdit.prototype.findNextEditableCell = function(columnIndex, isAdd) {
            for (var cols = this.parent.getColumns(), endIndex = cols.length, i = columnIndex; i < endIndex; i++) {
                if (!isAdd && this.checkNPCell(cols[i])) return i;
                if (isAdd && !cols[i].template && cols[i].visible && cols[i].allowEditing && (!cols[i].isIdentity || !cols[i].isPrimaryKey)) return i;
            }
            return -1;
        }, BatchEdit.prototype.checkNPCell = function(col) {
            return !col.template && col.visible && !col.isPrimaryKey && !col.isIdentity && col.allowEditing;
        }, BatchEdit.prototype.getDefaultData = function() {
            for (var data = {}, dValues = {
                number: 0,
                string: null,
                boolean: !1,
                date: null,
                datetime: null
            }, _i = 0, _a = this.parent.getColumns(); _i < _a.length; _i++) {
                var col = _a[_i];
                data[col.field] = col.defaultValue ? col.defaultValue : dValues[col.type];
            }
            return data;
        }, BatchEdit.prototype.setCellIdx = function(target) {
            var gLen = 0;
            this.parent.allowGrouping && (gLen = this.parent.groupSettings.columns.length), 
            this.cellDetails.cellIndex = target.cellIndex - gLen, this.cellDetails.rowIndex = parseInt(target.parentElement.getAttribute("aria-rowindex"), 10);
        }, BatchEdit.prototype.editCell = function(index, field, isAdd) {
            var gObj = this.parent, col = gObj.getColumnByField(field), keys = gObj.getPrimaryKeyFieldNames();
            if (gObj.editSettings.allowEditing && col.allowEditing) {
                if (gObj.isEdit && (this.cellDetails.column.field !== field || this.cellDetails.rowIndex !== index || this.parent.getDataRows().length - 1 === index) && (this.saveCell(), 
                this.cellDetails.rowIndex === index && this.cellDetails.column.field === field)) return;
                if (gObj.isEdit) return;
                var row = void 0, colIdx = gObj.getColumnIndexByField(field), frzCols = gObj.getFrozenColumns();
                if (row = frzCols && colIdx >= frzCols ? gObj.getMovableDataRows()[index] : gObj.getDataRows()[index], 
                keys[0] === col.field && !row.classList.contains("e-insertedrow") || col.template || col.columns || col.isPrimaryKey && col.isIdentity) return;
                var rowObj = gObj.getRowObjectFromUID(row.getAttribute("data-uid")), rowData = extend({}, this.getDataByIndex(index)), cells = [].slice.apply(row.cells), args = {
                    cell: cells[this.getColIndex(cells, this.getCellIdx(col.uid))],
                    row: row,
                    columnName: col.field,
                    columnObject: col,
                    isForeignKey: !isNullOrUndefined(col.foreignKeyValue),
                    primaryKey: keys,
                    rowData: rowData,
                    validationRules: extend({}, col.validationRules ? col.validationRules : {}),
                    value: rowData[col.field],
                    type: isAdd ? "add" : "edit",
                    cancel: !1,
                    foreignKeyData: rowObj && rowObj.foreignKeyData
                };
                if (!args.cell) return;
                if (gObj.trigger("cellEdit", args), args.cancel) return;
                this.cellDetails = {
                    rowData: rowData,
                    column: col,
                    value: args.value,
                    isForeignKey: args.isForeignKey,
                    rowIndex: index,
                    cellIndex: parseInt(args.cell.getAttribute("aria-colindex"), 10),
                    foreignKeyData: args.foreignKeyData
                }, args.cell.classList.contains("e-updatedtd") && (this.isColored = !0, args.cell.classList.remove("e-updatedtd")), 
                gObj.isEdit = !0, gObj.clearSelection(), gObj.isCheckBoxSelection && gObj.isPersistSelection || gObj.selectRow(this.cellDetails.rowIndex, !0), 
                this.renderer.update(args), this.form = gObj.element.querySelector("#" + gObj.element.id + "EditForm"), 
                gObj.editModule.applyFormValidation([ col ]), this.parent.element.querySelector(".e-gridpopup").style.display = "none";
            }
        }, BatchEdit.prototype.updateCell = function(rowIndex, field, value) {
            var col = this.parent.getColumnByField(field);
            if (col && !col.isPrimaryKey) {
                var td = this.parent.getDataRows()[rowIndex].cells[this.parent.getColumnIndexByField(field)], rowObj = this.parent.getRowObjectFromUID(td.parentElement.getAttribute("data-uid"));
                this.refreshTD(td, col, rowObj, value), this.parent.trigger("queryCellInfo", {
                    cell: td,
                    column: col,
                    data: rowObj.changes
                });
            }
        }, BatchEdit.prototype.setChanges = function(rowObj, field, value) {
            rowObj.changes || (rowObj.changes = extend({}, rowObj.data)), rowObj.changes[field] = value, 
            rowObj.data[field] !== value && (rowObj.isDirty = !0);
        }, BatchEdit.prototype.updateRow = function(index, data) {
            for (var _i = 0, keys_1 = Object.keys(data); _i < keys_1.length; _i++) {
                var col = keys_1[_i];
                this.updateCell(index, col, data[col]);
            }
        }, BatchEdit.prototype.getCellIdx = function(uid) {
            var cIdx = this.parent.getColumnIndexByUid(uid) + this.parent.groupSettings.columns.length;
            return isNullOrUndefined(this.parent.detailTemplate) && isNullOrUndefined(this.parent.childGrid) || cIdx++, 
            cIdx;
        }, BatchEdit.prototype.refreshTD = function(td, column, rowObj, value) {
            var cell = new CellRenderer(this.parent, this.serviceLocator);
            this.setChanges(rowObj, column.field, value);
            var frzCols = this.parent.getFrozenColumns();
            refreshForeignData(rowObj, this.parent.getForeignKeyColumns(), rowObj.changes), 
            cell.refreshTD(td, rowObj.cells[this.getCellIdx(column.uid) - (this.getCellIdx(column.uid) >= frzCols ? frzCols : 0)], rowObj.changes), 
            td.classList.add("e-updatedtd"), this.parent.notify("toolbar-refresh", {});
        }, BatchEdit.prototype.getColIndex = function(cells, index) {
            var cIdx = 0;
            this.parent.allowGrouping && this.parent.groupSettings.columns && (cIdx = this.parent.groupSettings.columns.length), 
            isNullOrUndefined(this.parent.detailTemplate) && isNullOrUndefined(this.parent.childGrid) || cIdx++;
            for (var m = 0; m < cells.length; m++) {
                if (parseInt(cells[m].getAttribute("aria-colindex"), 10) === index - cIdx) return m;
            }
            return -1;
        }, BatchEdit.prototype.saveCell = function(isForceSave) {
            var gObj = this.parent;
            if (isForceSave || gObj.isEdit && !this.validateFormObj()) {
                var tr = parentsUntil(this.form, "e-row"), column = this.cellDetails.column, editedData = gObj.editModule.getCurrentEditedData(this.form, {});
                editedData = extend(this.cellDetails.rowData, editedData);
                var args = {
                    columnName: column.field,
                    value: editedData[column.field],
                    rowData: this.cellDetails.rowData,
                    previousValue: this.cellDetails.value,
                    columnObject: column,
                    cell: this.form.parentElement,
                    isForeignKey: this.cellDetails.isForeignKey,
                    cancel: !1
                };
                isForceSave || gObj.trigger("cellSave", args), args.cancel || (gObj.editModule.destroyForm(), 
                gObj.isEdit = !1, gObj.editModule.destroyWidgets([ column ]), this.parent.notify("tooltip-destroy", {}), 
                this.refreshTD(args.cell, column, gObj.getRowObjectFromUID(tr.getAttribute("data-uid")), args.value), 
                removeClass([ tr ], [ "e-editedrow", "e-batchrow" ]), removeClass([ args.cell ], [ "e-editedbatchcell", "e-boolcell" ]), 
                isNullOrUndefined(args.value) || args.value.toString() !== (isNullOrUndefined(this.cellDetails.value) ? "" : this.cellDetails.value).toString() || this.isColored || args.cell.classList.remove("e-updatedtd"), 
                gObj.notify("toolbar-refresh", {}), this.isColored = !1);
            }
        }, BatchEdit.prototype.getDataByIndex = function(index) {
            var row = this.parent.getRowObjectFromUID(this.parent.getDataRows()[index].getAttribute("data-uid"));
            return row.changes ? row.changes : row.data;
        }, BatchEdit.prototype.keyDownHandler = function(e) {
            if ("tab" === e.action && this.parent.isEdit) {
                var rowcell = parentsUntil(e.target, "e-rowcell");
                if (rowcell) {
                    var cell = rowcell.querySelector(".e-field");
                    if (cell) {
                        var visibleColumns = this.parent.getVisibleColumns();
                        visibleColumns[visibleColumns.length - 1].field === cell.getAttribute("name") && this.saveCell();
                    }
                }
            }
        }, BatchEdit;
    }(), __extends$32 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), DialogEdit = function(_super) {
        function DialogEdit(parent, serviceLocator, renderer) {
            var _this = _super.call(this, parent, serviceLocator) || this;
            return _this.parent = parent, _this.serviceLocator = serviceLocator, _this.renderer = renderer, 
            _this;
        }
        return __extends$32(DialogEdit, _super), DialogEdit.prototype.closeEdit = function() {
            _super.prototype.closeEdit.call(this);
        }, DialogEdit.prototype.addRecord = function(data, index) {
            _super.prototype.addRecord.call(this, data, index);
        }, DialogEdit.prototype.endEdit = function() {
            _super.prototype.endEdit.call(this);
        }, DialogEdit.prototype.deleteRecord = function(fieldname, data) {
            _super.prototype.deleteRecord.call(this, fieldname, data);
        }, DialogEdit.prototype.startEdit = function(tr) {
            _super.prototype.startEdit.call(this, tr);
        }, DialogEdit;
    }(NormalEdit), DatePickerEditCell = function() {
        function DatePickerEditCell(parent) {
            this.parent = parent;
        }
        return DatePickerEditCell.prototype.create = function(args) {
            return createElement("input", {
                className: "e-field",
                attrs: {
                    id: this.parent.element.id + args.column.field,
                    name: args.column.field,
                    type: "text",
                    "e-mappinguid": args.column.uid
                }
            });
        }, DatePickerEditCell.prototype.read = function(element) {
            return element.ej2_instances[0].value;
        }, DatePickerEditCell.prototype.write = function(args) {
            var isInline = "Dialog" !== this.parent.editSettings.mode;
            this.obj = new DatePicker(extend({
                floatLabelType: isInline ? "Never" : "Always",
                value: new Date(args.rowData[args.column.field]),
                placeholder: isInline ? "" : args.column.headerText,
                enableRtl: this.parent.enableRtl,
                enabled: isEditable(args.column, args.type, args.element)
            }, args.column.edit.params)), this.obj.appendTo(args.element);
        }, DatePickerEditCell.prototype.destroy = function() {
            this.obj && this.obj.destroy();
        }, DatePickerEditCell;
    }(), Edit = function() {
        function Edit(parent, serviceLocator) {
            this.editCellType = {
                dropdownedit: DropDownEditCell,
                numericedit: NumericEditCell,
                datepickeredit: DatePickerEditCell,
                booleanedit: BooleanEditCell,
                defaultedit: DefaultEditCell
            }, this.editType = {
                Inline: InlineEdit,
                Normal: InlineEdit,
                Batch: BatchEdit,
                Dialog: DialogEdit
            }, this.parent = parent, this.serviceLocator = serviceLocator, this.l10n = this.serviceLocator.getService("localization"), 
            this.addEventListener(), this.updateEditObj(), this.createAlertDlg(), this.createConfirmDlg();
        }
        return Edit.prototype.updateColTypeObj = function() {
            for (var _i = 0, _a = this.parent.getColumns(); _i < _a.length; _i++) {
                var col = _a[_i];
                col.edit = extend(new this.editCellType[col.editType && this.editCellType[col.editType] ? col.editType : "defaultedit"](this.parent, this.serviceLocator), col.edit || {});
            }
        }, Edit.prototype.getModuleName = function() {
            return "edit";
        }, Edit.prototype.onPropertyChanged = function(e) {
            if (e.module === this.getModuleName()) for (var gObj = this.parent, _i = (e.properties, 
            0), _a = Object.keys(e.properties); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "allowAdding":
                  case "allowDeleting":
                  case "allowEditing":
                    (gObj.editSettings.allowAdding || gObj.editSettings.allowEditing || gObj.editSettings.allowDeleting) && this.initialEnd();
                    break;

                  case "mode":
                    this.updateEditObj(), gObj.isEdit = !1, gObj.refresh();
                }
            }
        }, Edit.prototype.updateEditObj = function() {
            this.editModule && this.editModule.destroy(), this.renderer = new EditRender(this.parent, this.serviceLocator), 
            this.editModule = new this.editType[this.parent.editSettings.mode](this.parent, this.serviceLocator, this.renderer);
        }, Edit.prototype.initialEnd = function() {
            this.updateColTypeObj();
        }, Edit.prototype.wireEvents = function() {
            EventHandler.add(this.parent.getContent(), "touchstart", this.tapEvent, this);
        }, Edit.prototype.unwireEvents = function() {
            EventHandler.remove(this.parent.getContent(), "touchstart", this.tapEvent);
        }, Edit.prototype.tapEvent = function(e) {
            this.getUserAgent() && (Global.timer ? (clearTimeout(Global.timer), Global.timer = null, 
            this.parent.notify("double-tap", e)) : Global.timer = setTimeout(function() {
                Global.timer = null;
            }, 300));
        }, Edit.prototype.getUserAgent = function() {
            var userAgent = window.navigator.userAgent.toLowerCase();
            return /iphone|ipod|ipad/.test(userAgent);
        }, Edit.prototype.startEdit = function(tr) {
            var gObj = this.parent;
            if (gObj.editSettings.allowEditing && !gObj.isEdit && "Batch" !== gObj.editSettings.mode) {
                if (gObj.getSelectedRows().length) tr || (tr = gObj.getSelectedRows()[0]); else if (!tr) return void this.showDialog("EditOperationAlert", this.alertDObj);
                "none" !== tr.style.display && (this.editModule.startEdit(tr), this.refreshToolbar(), 
                gObj.element.querySelector(".e-gridpopup").style.display = "none", this.parent.notify("start-edit", {}));
            }
        }, Edit.prototype.closeEdit = function() {
            "Batch" === this.parent.editSettings.mode && this.parent.editSettings.showConfirmDialog && this.parent.element.querySelectorAll(".e-updatedtd").length ? this.showDialog("CancelEdit", this.dialogObj) : (this.editModule.closeEdit(), 
            this.refreshToolbar(), this.parent.notify("close-edit", {}));
        }, Edit.prototype.refreshToolbar = function() {
            this.parent.notify("toolbar-refresh", {});
        }, Edit.prototype.addRecord = function(data, index) {
            this.parent.editSettings.allowAdding && (this.editModule.addRecord(data, index), 
            this.refreshToolbar(), this.parent.notify("start-add", {}));
        }, Edit.prototype.deleteRecord = function(fieldname, data) {
            var gObj = this.parent;
            gObj.editSettings.allowDeleting && (data || !isNullOrUndefined(gObj.selectedRowIndex) && -1 !== gObj.selectedRowIndex ? gObj.editSettings.showDeleteConfirmDialog ? this.showDialog("ConfirmDelete", this.dialogObj) : this.editModule.deleteRecord(fieldname, data) : this.showDialog("DeleteOperationAlert", this.alertDObj));
        }, Edit.prototype.deleteRow = function(tr) {
            this.deleteRecord(null, this.parent.getCurrentViewRecords()[parseInt(tr.getAttribute("aria-rowindex"), 10)]);
        }, Edit.prototype.endEdit = function() {
            "Batch" === this.parent.editSettings.mode && this.parent.editSettings.showConfirmDialog && (isNullOrUndefined(this.formObj) || this.formObj.validate()) ? this.showDialog("BatchSaveConfirm", this.dialogObj) : this.endEditing();
        }, Edit.prototype.updateCell = function(rowIndex, field, value) {
            this.editModule.updateCell(rowIndex, field, value);
        }, Edit.prototype.updateRow = function(index, data) {
            this.editModule.updateRow(index, data);
        }, Edit.prototype.batchCancel = function() {
            this.closeEdit();
        }, Edit.prototype.batchSave = function() {
            this.endEdit();
        }, Edit.prototype.editCell = function(index, field) {
            this.editModule.editCell(index, field);
        }, Edit.prototype.editFormValidate = function() {
            return !!this.formObj && this.formObj.validate();
        }, Edit.prototype.getBatchChanges = function() {
            return this.editModule.getBatchChanges ? this.editModule.getBatchChanges() : {};
        }, Edit.prototype.getCurrentEditCellData = function() {
            var obj = this.getCurrentEditedData(this.formObj.element, {});
            return obj[Object.keys(obj)[0]];
        }, Edit.prototype.saveCell = function() {
            this.editModule.saveCell();
        }, Edit.prototype.endEditing = function() {
            this.editModule.endEdit(), this.refreshToolbar();
        }, Edit.prototype.showDialog = function(content, obj) {
            obj.content = "<div>" + this.l10n.getConstant(content) + "</div>", obj.dataBind(), 
            obj.show();
        }, Edit.prototype.getValueFromType = function(col, value) {
            var val = value;
            switch (col.type) {
              case "number":
                val = isNaN(parseFloat(value)) ? null : parseFloat(value);
                break;

              case "boolean":
                "booleanedit" !== col.editType && (val = value === this.l10n.getConstant("True"));
                break;

              case "date":
              case "datetime":
                "datepicker" !== col.editType && value && value.length && (val = new Date(value));
            }
            return val;
        }, Edit.prototype.destroyToolTip = function() {
            for (var _i = 0, elements_1 = [].slice.call(this.parent.element.querySelectorAll(".e-griderror")); _i < elements_1.length; _i++) {
                remove(elements_1[_i]);
            }
            this.parent.getContent().firstElementChild.style.position = "relative";
        }, Edit.prototype.createConfirmDlg = function() {
            this.dialogObj = this.dlgWidget([ {
                click: this.dlgOk.bind(this),
                buttonModel: {
                    content: this.l10n.getConstant("OKButton"),
                    cssClass: "e-primary",
                    isPrimary: !0
                }
            }, {
                click: this.dlgCancel.bind(this),
                buttonModel: {
                    cssClass: "e-flat",
                    content: this.l10n.getConstant("CancelButton")
                }
            } ], "EditConfirm");
        }, Edit.prototype.createAlertDlg = function() {
            this.alertDObj = this.dlgWidget([ {
                click: this.alertClick.bind(this),
                buttonModel: {
                    content: this.l10n.getConstant("OKButton"),
                    cssClass: "e-flat",
                    isPrimary: !0
                }
            } ], "EditAlert");
        }, Edit.prototype.alertClick = function() {
            this.alertDObj.hide();
        }, Edit.prototype.dlgWidget = function(btnOptions, name) {
            var div = createElement("div", {
                id: this.parent.element.id + name
            });
            this.parent.element.appendChild(div);
            var options = {
                showCloseIcon: !1,
                isModal: !0,
                visible: !1,
                closeOnEscape: !0,
                target: this.parent.element,
                width: "320px",
                animationSettings: {
                    effect: "None"
                }
            };
            options.buttons = btnOptions;
            var obj = new Dialog(options);
            return obj.appendTo(div), changeButtonType(obj.element), obj;
        }, Edit.prototype.dlgCancel = function() {
            this.dialogObj.hide();
        }, Edit.prototype.dlgOk = function(e) {
            switch (this.dialogObj.element.querySelector(".e-dlg-content").firstElementChild.innerText) {
              case this.l10n.getConstant("ConfirmDelete"):
                this.editModule.deleteRecord();
                break;

              case this.l10n.getConstant("CancelEdit"):
                this.editModule.closeEdit();
                break;

              case this.l10n.getConstant("BatchSaveConfirm"):
                this.endEditing();
                break;

              case this.l10n.getConstant("BatchSaveLostChanges"):
                this.executeAction();
            }
            this.dlgCancel();
        }, Edit.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(inBoundModelChanged, this.onPropertyChanged, this), 
            this.parent.on(initialEnd, this.initialEnd, this), this.parent.on(keyPressed, this.keyPressHandler, this), 
            this.parent.on("auto-col", this.updateColTypeObj, this), this.parent.on("tooltip-destroy", this.destroyToolTip, this), 
            this.parent.on(preventBatch, this.preventBatch, this), this.parent.on("destroy-form", this.destroyForm, this), 
            this.actionBeginFunction = this.onActionBegin.bind(this), this.actionCompleteFunction = this.actionComplete.bind(this), 
            this.parent.addEventListener(actionBegin, this.actionBeginFunction), this.parent.addEventListener(actionComplete, this.actionCompleteFunction), 
            this.parent.on(initialEnd, this.wireEvents, this));
        }, Edit.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(inBoundModelChanged, this.onPropertyChanged), 
            this.parent.off(initialEnd, this.initialEnd), this.parent.off(keyPressed, this.keyPressHandler), 
            this.parent.off("auto-col", this.updateColTypeObj), this.parent.off("tooltip-destroy", this.destroyToolTip), 
            this.parent.off(preventBatch, this.preventBatch), this.parent.off("destroy-form", this.destroyForm), 
            this.parent.removeEventListener(actionComplete, this.actionCompleteFunction), this.parent.removeEventListener(actionBegin, this.actionBeginFunction), 
            this.parent.off(initialEnd, this.unwireEvents));
        }, Edit.prototype.actionComplete = function(e) {
            [ "add", "beginEdit", "save", "delete", "cancel" ].indexOf(e.requestType) < 0 && (this.parent.isEdit = !1), 
            this.refreshToolbar();
        }, Edit.prototype.getCurrentEditedData = function(form, editedData) {
            for (var gObj = this.parent, inputs = [].slice.call(form.querySelectorAll(".e-field")), i = 0, len = inputs.length; i < len; i++) {
                var col = gObj.getColumnByUid(inputs[i].getAttribute("e-mappinguid")), value = void 0;
                if (col && col.field) {
                    var temp = col.edit.read;
                    "string" == typeof temp && (temp = getValue(temp, window)), value = "checkbox" !== col.type ? gObj.editModule.getValueFromType(col, col.edit.read(inputs[i])) : inputs[i].checked, 
                    setValue(col.field, value, editedData);
                }
            }
            return editedData;
        }, Edit.prototype.onActionBegin = function(e) {
            "Batch" !== this.parent.editSettings.mode && this.formObj && !this.formObj.isDestroyed && -1 === [ "filterafteropen", "filterbeforeopen", "filterchoicerequest", "save" ].indexOf(e.requestType) && (this.destroyForm(), 
            this.destroyWidgets());
        }, Edit.prototype.destroyWidgets = function(cols) {
            for (var _i = 0, cols_1 = cols = cols || this.parent.getColumns(); _i < cols_1.length; _i++) {
                var col = cols_1[_i];
                col.edit.destroy && col.edit.destroy();
            }
        }, Edit.prototype.destroyForm = function() {
            this.destroyToolTip(), this.formObj && !this.formObj.isDestroyed && this.formObj.destroy(), 
            this.destroyToolTip();
        }, Edit.prototype.destroy = function() {
            this.destroyForm(), this.removeEventListener();
            var elem = this.dialogObj.element;
            this.dialogObj.destroy(), remove(elem), elem = this.alertDObj.element, this.alertDObj.destroy(), 
            remove(elem), this.unwireEvents();
        }, Edit.prototype.keyPressHandler = function(e) {
            switch (e.action) {
              case "insert":
                this.addRecord();
                break;

              case "delete":
                "INPUT" === e.target.tagName || document.querySelector(".e-popup-open") || this.deleteRecord();
                break;

              case "f2":
                this.startEdit();
                break;

              case "enter":
                parentsUntil(e.target, ".e-unboundcelldiv") || "Batch" === this.parent.editSettings.mode || !(parentsUntil(e.target, "e-gridcontent") || this.parent.frozenRows && parentsUntil(e.target, "e-headercontent")) || document.querySelectorAll(".e-popup-open").length || (e.preventDefault(), 
                this.endEdit());
                break;

              case "escape":
                this.closeEdit();
            }
        }, Edit.prototype.preventBatch = function(args) {
            this.preventObj = args, this.showDialog("BatchSaveLostChanges", this.dialogObj);
        }, Edit.prototype.executeAction = function() {
            this.preventObj.handler.call(this.preventObj.instance, this.preventObj.arg1, this.preventObj.arg2, this.preventObj.arg3, this.preventObj.arg4, this.preventObj.arg5, this.preventObj.arg6, this.preventObj.arg7);
        }, Edit.prototype.applyFormValidation = function(cols) {
            for (var gObj = this.parent, frzCols = gObj.getFrozenColumns(), form = gObj.element.querySelector(".e-gridform"), mForm = gObj.element.querySelectorAll(".e-gridform")[1], rules = {}, mRules = {}, _i = 0, cols_2 = cols = cols || gObj.columns; _i < cols_2.length; _i++) {
                var col = cols_2[_i];
                col.validationRules && form.querySelectorAll("#" + gObj.element.id + col.field).length ? rules[col.field] = col.validationRules : frzCols && col.validationRules && mForm.querySelectorAll("#" + gObj.element.id + col.field).length && (mRules[col.field] = col.validationRules);
            }
            this.parent.editModule.formObj = this.createFormObj(form, rules), frzCols && "Dialog" !== this.parent.editSettings.mode && (this.parent.editModule.mFormObj = this.createFormObj(mForm, mRules));
        }, Edit.prototype.createFormObj = function(form, rules) {
            var _this = this;
            return new FormValidator(form, {
                rules: rules,
                validationComplete: function(args) {
                    _this.validationComplete(args);
                },
                customPlacement: function(inputElement, error) {
                    _this.valErrorPlacement(inputElement, error);
                }
            });
        }, Edit.prototype.valErrorPlacement = function(inputElement, error) {
            if (this.parent.isEdit) {
                var id = error.getAttribute("for"), elem = this.getElemTable(inputElement).querySelector("#" + id + "_Error");
                elem ? elem.querySelector(".e-tip-content").innerHTML = error.innerHTML : this.createTooltip(inputElement, error, id, "");
            }
        }, Edit.prototype.getElemTable = function(inputElement) {
            var isFHdr;
            return "Dialog" !== this.parent.editSettings.mode && (isFHdr = this.parent.frozenRows && this.parent.frozenRows > (parseInt(closest(inputElement, ".e-row").getAttribute("aria-rowindex"), 10) || 0)), 
            "Dialog" !== this.parent.editSettings.mode ? isFHdr ? this.parent.getHeaderTable() : this.parent.getContentTable() : this.parent.element.querySelector("#" + this.parent.element.id + "_dialogEdit_wrapper");
        }, Edit.prototype.validationComplete = function(args) {
            if (this.parent.isEdit) {
                var elem = this.getElemTable(args.element).querySelector("#" + args.inputName + "_Error");
                elem && ("failure" === args.status ? elem.style.display = "" : elem.style.display = "none");
            }
        }, Edit.prototype.createTooltip = function(element, error, name, display) {
            var isFHdr, gcontent = this.parent.getContent().firstElementChild, isScroll = gcontent.scrollHeight > gcontent.clientHeight, isInline = "Dialog" !== this.parent.editSettings.mode;
            isInline && (isFHdr = this.parent.frozenRows && this.parent.frozenRows > (parseInt(closest(element, ".e-row").getAttribute("aria-rowindex"), 10) || 0));
            var fCont = this.parent.getContent().querySelector(".e-frozencontent"), table = isInline ? isFHdr ? this.parent.getHeaderTable() : this.parent.getContentTable() : this.parent.element.querySelector("#" + this.parent.element.id + "_dialogEdit_wrapper").querySelector(".e-dlg-content"), client = table.getBoundingClientRect(), left = isInline ? this.parent.element.getBoundingClientRect().left : client.left, input = parentsUntil(element, "e-rowcell"), inputClient = input.getBoundingClientRect(), td = closest(element, "td").getBoundingClientRect(), div = createElement("div", {
                className: "e-tooltip-wrap e-control e-popup e-griderror",
                id: name + "_Error",
                styles: "display:" + display + ";top:" + ((isFHdr ? inputClient.top + inputClient.height : inputClient.bottom - client.top - (this.parent.getFrozenColumns() ? fCont.scrollTop : 0)) + table.scrollTop + 9) + "px;left:" + (inputClient.left - left + table.scrollLeft + inputClient.width / 2) + "px;max-width:" + td.width + "px;text-align:center;"
            }), content = createElement("div", {
                className: "e-tip-content"
            });
            content.appendChild(error);
            var arrow = createElement("div", {
                className: "e-arrow-tip e-tip-top"
            });
            arrow.appendChild(createElement("div", {
                className: "e-arrow-tip-outer e-tip-top"
            })), arrow.appendChild(createElement("div", {
                className: "e-arrow-tip-inner e-tip-top"
            })), div.appendChild(content), div.appendChild(arrow), table.appendChild(div);
            var lineHeight = parseInt(document.defaultView.getComputedStyle(div, null).getPropertyValue("font-size"), 10);
            if (div.getBoundingClientRect().width < td.width && div.querySelector("label").getBoundingClientRect().height / (1.2 * lineHeight) >= 2 && (div.style.width = div.style.maxWidth), 
            div.style.left = parseInt(div.style.left, 10) - div.offsetWidth / 2 + "px", !isScroll && isInline && !this.parent.allowPaging) {
                gcontent.style.position = "static";
                var pos = calculateRelativeBasedPosition(input, div);
                div.style.top = pos.top + inputClient.height + 9 + "px";
            }
        }, Edit;
    }();
    !function(Global) {
        Global.timer = null;
    }(Global || (Global = {}));
    var ColumnChooser = function() {
        function ColumnChooser(parent, serviceLocator) {
            this.showColumn = [], this.hideColumn = [], this.isDlgOpen = !1, this.dlghide = !1, 
            this.initialOpenDlg = !0, this.stateChangeColumns = [], this.isInitialOpen = !1, 
            this.isCustomizeOpenCC = !1, this.cBoxTrue = createCheckBox(!0, {
                checked: !0,
                label: " "
            }), this.cBoxFalse = createCheckBox(!0, {
                checked: !1,
                label: " "
            }), this.parent = parent, this.serviceLocator = serviceLocator, this.addEventListener(), 
            this.cBoxTrue.insertBefore(createElement("input", {
                className: "e-chk-hidden e-cc e-cc-chbox",
                attrs: {
                    type: "checkbox"
                }
            }), this.cBoxTrue.firstChild), this.cBoxFalse.insertBefore(createElement("input", {
                className: "e-chk-hidden e-cc e-cc-chbox",
                attrs: {
                    type: "checkbox"
                }
            }), this.cBoxFalse.firstChild), this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"), 
            this.parent.enableRtl && addClass([ this.cBoxTrue, this.cBoxFalse ], [ "e-rtl" ]);
        }
        return ColumnChooser.prototype.destroy = function() {
            this.removeEventListener(), this.unWireEvents(), isNullOrUndefined(this.dlgObj) || !this.dlgObj.element || this.dlgObj.isDestroyed || this.dlgObj.destroy();
        }, ColumnChooser.prototype.rtlUpdate = function() {
            this.parent.enableRtl ? addClass(this.innerDiv.querySelectorAll(".e-checkbox-wrapper"), [ "e-rtl" ]) : removeClass(this.innerDiv.querySelectorAll(".e-checkbox-wrapper"), [ "e-rtl" ]);
        }, ColumnChooser.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(click, this.clickHandler, this), this.parent.on(uiUpdate, this.enableAfterRenderEle, this), 
            this.parent.on(initialEnd, this.render, this), this.parent.addEventListener(dataBound, this.hideDialog.bind(this)), 
            this.parent.on(destroy, this.destroy, this), this.parent.on("rtl-updated", this.rtlUpdate, this));
        }, ColumnChooser.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(click, this.clickHandler), this.parent.off(initialEnd, this.render), 
            this.parent.off(destroy, this.destroy), this.parent.off(uiUpdate, this.enableAfterRenderEle), 
            this.parent.off("rtl-updated", this.rtlUpdate));
        }, ColumnChooser.prototype.render = function() {
            this.l10n = this.serviceLocator.getService("localization"), this.renderDlgContent(), 
            this.getShowHideService = this.serviceLocator.getService("showHideService");
        }, ColumnChooser.prototype.clickHandler = function(e) {
            var targetElement = e.target;
            if (!this.isCustomizeOpenCC) if (isNullOrUndefined(closest(targetElement, ".e-cc")) && isNullOrUndefined(closest(targetElement, ".e-cc-toolbar"))) isNullOrUndefined(this.dlgObj) || !this.dlgObj.visible || targetElement.classList.contains("e-toolbar-items") || (this.dlgObj.hide(), 
            this.refreshCheckboxState(), this.isDlgOpen = !1); else if (targetElement.classList.contains("e-columnchooser-btn") || targetElement.classList.contains("e-cc-toolbar")) {
                if (this.initialOpenDlg && this.dlgObj.visible || !this.isDlgOpen) return void (this.isDlgOpen = !0);
            } else targetElement.classList.contains("e-cc-cancel") && (targetElement.parentElement.querySelector(".e-ccsearch").value = "", 
            this.columnChooserSearch(""), this.removeCancelIcon());
            this.rtlUpdate();
        }, ColumnChooser.prototype.hideDialog = function() {
            !isNullOrUndefined(this.dlgObj) && this.dlgObj.visible && (this.dlgObj.hide(), this.isDlgOpen = !1);
        }, ColumnChooser.prototype.renderColumnChooser = function(x, y, target) {
            if (this.dlgObj.visible) this.hideDialog(), this.addcancelIcon(); else {
                var args1 = {
                    requestType: "beforeOpenColumnChooser",
                    element: this.parent.element,
                    columns: this.getColumns(),
                    cancel: !1
                };
                if (this.parent.trigger("beforeOpenColumnChooser", args1), args1.cancel) return;
                this.refreshCheckboxState(), this.dlgObj.dataBind(), this.dlgObj.element.style.maxHeight = "430px";
                var elementVisible = this.dlgObj.element.style.display;
                this.dlgObj.element.style.display = "block";
                var newpos = calculateRelativeBasedPosition(closest(target, ".e-toolbar-item"), this.dlgObj.element);
                this.dlgObj.element.style.display = elementVisible, this.dlgObj.element.style.top = newpos.top + closest(target, ".e-cc-toolbar").getBoundingClientRect().height + "px";
                isNullOrUndefined(closest(target, ".e-bigger")) || (this.dlgObj.width = 258), Browser.isDevice ? (this.dlgObj.target = document.body, 
                this.dlgObj.position = {
                    X: "center",
                    Y: "center"
                }, this.dlgObj.refreshPosition(), this.dlgObj.open = this.mOpenDlg.bind(this)) : this.parent.enableRtl ? this.dlgObj.element.style.left = target.offsetLeft + "px" : this.dlgObj.element.style.left = newpos.left - 250 + closest(target, ".e-cc-toolbar").clientWidth + 2 + "px", 
                this.removeCancelIcon(), this.dlgObj.show();
            }
            this.rtlUpdate();
        }, ColumnChooser.prototype.openColumnChooser = function(X, Y) {
            this.isCustomizeOpenCC = !0, this.dlgObj.visible ? this.hideDialog() : (this.isInitialOpen ? this.refreshCheckboxState() : this.dlgObj.content = this.renderChooserList(), 
            this.dlgObj.dataBind(), this.dlgObj.position = {
                X: "center",
                Y: "center"
            }, isNullOrUndefined(X) ? (this.dlgObj.position = {
                X: "center",
                Y: "center"
            }, this.dlgObj.refreshPosition()) : (this.dlgObj.element.style.top = "", this.dlgObj.element.style.left = "", 
            this.dlgObj.element.style.top = Y + "px", this.dlgObj.element.style.left = X + "px"), 
            this.dlgObj.beforeOpen = this.customDialogOpen.bind(this), this.dlgObj.show(), this.isInitialOpen = !0, 
            this.dlgObj.beforeClose = this.customDialogClose.bind(this));
        }, ColumnChooser.prototype.enableAfterRenderEle = function(e) {
            e.module === this.getModuleName() && e.enable && this.render();
        }, ColumnChooser.prototype.customDialogOpen = function() {
            var searchElement = this.dlgObj.content.querySelector("input.e-ccsearch");
            EventHandler.add(searchElement, "keyup", this.columnChooserManualSearch, this);
        }, ColumnChooser.prototype.customDialogClose = function() {
            var searchElement = this.dlgObj.content.querySelector("input.e-ccsearch");
            EventHandler.remove(searchElement, "keyup", this.columnChooserManualSearch);
        }, ColumnChooser.prototype.getColumns = function() {
            return this.parent.getColumns().filter(function(column) {
                return "checkbox" !== column.type && !0 === column.showInColumnChooser || "checkbox" === column.type && void 0 !== column.field;
            });
        }, ColumnChooser.prototype.renderDlgContent = function() {
            this.dlgDiv = createElement("div", {
                className: "e-ccdlg e-cc",
                id: this.parent.element.id + "_ccdlg"
            }), this.parent.element.appendChild(this.dlgDiv);
            this.parent.element.getBoundingClientRect().width, this.parent.enableRtl;
            var tarElement = this.parent.element.querySelector(".e-ccdiv");
            isNullOrUndefined(tarElement) || tarElement.getBoundingClientRect().top, this.dlgObj = new Dialog({
                header: this.l10n.getConstant("ChooseColumns"),
                showCloseIcon: !1,
                closeOnEscape: !1,
                locale: this.parent.locale,
                visible: !1,
                enableRtl: this.parent.enableRtl,
                target: document.getElementById(this.parent.element.id),
                buttons: [ {
                    click: this.confirmDlgBtnClick.bind(this),
                    buttonModel: {
                        content: this.l10n.getConstant("OKButton"),
                        isPrimary: !0,
                        cssClass: "e-cc e-cc_okbtn"
                    }
                }, {
                    click: this.clearActions.bind(this),
                    buttonModel: {
                        cssClass: "e-flat e-cc e-cc-cnbtn",
                        content: this.l10n.getConstant("CancelButton")
                    }
                } ],
                content: this.renderChooserList(),
                width: 250,
                cssClass: "e-cc",
                animationSettings: {
                    effect: "None"
                }
            }), this.dlgObj.appendTo(this.dlgDiv), changeButtonType(this.dlgObj.element), this.wireEvents();
        }, ColumnChooser.prototype.renderChooserList = function() {
            this.mainDiv = createElement("div", {
                className: "e-main-div e-cc"
            });
            var searchDiv = createElement("div", {
                className: "e-cc-searchdiv e-cc e-input-group"
            }), ccsearchele = createElement("input", {
                className: "e-ccsearch e-cc e-input",
                attrs: {
                    placeholder: this.l10n.getConstant("Search")
                }
            }), ccsearchicon = createElement("span", {
                className: "e-ccsearch-icon e-icons e-cc e-input-group-icon"
            }), conDiv = createElement("div", {
                className: "e-cc-contentdiv"
            });
            this.innerDiv = createElement("div", {
                className: "e-innerdiv e-cc"
            }), searchDiv.appendChild(ccsearchele), searchDiv.appendChild(ccsearchicon), this.searchBoxObj = new SearchBox(ccsearchele);
            var innerDivContent = this.refreshCheckboxList(this.parent.getColumns());
            return this.innerDiv.appendChild(innerDivContent), conDiv.appendChild(this.innerDiv), 
            this.mainDiv.appendChild(searchDiv), this.mainDiv.appendChild(conDiv), this.mainDiv;
        }, ColumnChooser.prototype.confirmDlgBtnClick = function(args) {
            if (this.stateChangeColumns = [], !isNullOrUndefined(args)) {
                this.hideColumn.length && this.columnStateChange(this.hideColumn, !1), this.showColumn.length && this.columnStateChange(this.showColumn, !0);
                var params = {
                    requestType: "columnstate",
                    element: this.parent.element,
                    columns: this.stateChangeColumns,
                    dialogInstance: this.dlgObj
                };
                this.parent.trigger(actionComplete, params), this.getShowHideService.setVisible(this.stateChangeColumns), 
                this.clearActions(), this.parent.notify("tooltip-destroy", {
                    module: "edit"
                });
            }
        }, ColumnChooser.prototype.columnStateChange = function(stateColumns, state) {
            for (var index = 0; index < stateColumns.length; index++) {
                var colUid = stateColumns[index], currentCol = this.parent.getColumnByUid(colUid);
                currentCol.visible = state, this.stateChangeColumns.push(currentCol);
            }
        }, ColumnChooser.prototype.clearActions = function() {
            this.hideColumn = [], this.showColumn = [], this.hideDialog(), this.addcancelIcon();
        }, ColumnChooser.prototype.checkstatecolumn = function(isChecked, coluid) {
            isChecked ? (-1 !== this.hideColumn.indexOf(coluid) && this.hideColumn.splice(this.hideColumn.indexOf(coluid), 1), 
            -1 === this.showColumn.indexOf(coluid) && this.showColumn.push(coluid)) : (-1 !== this.showColumn.indexOf(coluid) && this.showColumn.splice(this.showColumn.indexOf(coluid), 1), 
            -1 === this.hideColumn.indexOf(coluid) && this.hideColumn.push(coluid));
        }, ColumnChooser.prototype.columnChooserSearch = function(searchVal) {
            var fltrCol, clearSearch = !1;
            if ("" === searchVal ? (this.removeCancelIcon(), fltrCol = this.getColumns(), clearSearch = !0) : fltrCol = new DataManager(this.getColumns()).executeLocal(new Query().where("headerText", "startswith", searchVal, !0)), 
            fltrCol.length) this.innerDiv.innerHTML = " ", this.innerDiv.classList.remove("e-ccnmdiv"), 
            this.innerDiv.appendChild(this.refreshCheckboxList(fltrCol, searchVal)), clearSearch || this.addcancelIcon(); else {
                var nMatchele = createElement("span", {
                    className: "e-cc e-nmatch"
                });
                nMatchele.innerHTML = this.l10n.getConstant("Matchs"), this.innerDiv.innerHTML = " ", 
                this.innerDiv.appendChild(nMatchele), this.innerDiv.classList.add("e-ccnmdiv");
            }
            this.flag = !0, this.stopTimer();
        }, ColumnChooser.prototype.wireEvents = function() {
            EventHandler.add(this.dlgObj.element, "click", this.checkBoxClickHandler, this), 
            EventHandler.add(this.searchBoxObj.searchBox, "keyup", this.columnChooserManualSearch, this), 
            this.searchBoxObj.wireEvent();
        }, ColumnChooser.prototype.unWireEvents = function() {
            this.parent.isDestroyed || (this.dlgObj.element && EventHandler.remove(this.dlgObj.element, "click", this.checkBoxClickHandler), 
            EventHandler.remove(this.searchBoxObj.searchBox, "keyup", this.columnChooserManualSearch), 
            this.searchBoxObj.unWireEvent());
        }, ColumnChooser.prototype.checkBoxClickHandler = function(e) {
            var checkstate, elem = parentsUntil(e.target, "e-checkbox-wrapper");
            if (elem) {
                if (toogleCheckbox(elem.parentElement), elem.querySelector(".e-chk-hidden").focus(), 
                elem.querySelector(".e-check")) checkstate = !0; else {
                    if (!elem.querySelector(".e-uncheck")) return;
                    checkstate = !1;
                }
                var columnUid = parentsUntil(elem, "e-ccheck").getAttribute("uid");
                this.checkstatecolumn(checkstate, columnUid);
            }
        }, ColumnChooser.prototype.refreshCheckboxList = function(gdCol, searchVal) {
            this.ulElement = createElement("ul", {
                className: "e-ccul-ele e-cc"
            });
            for (var i = 0; i < gdCol.length; i++) {
                var columns = gdCol[i];
                this.renderCheckbox(columns);
            }
            return this.ulElement;
        }, ColumnChooser.prototype.refreshCheckboxState = function() {
            this.dlgObj.element.querySelector(".e-cc.e-input").value = "", this.columnChooserSearch("");
            for (var i = 0; i < this.parent.element.querySelectorAll(".e-cc-chbox").length; i++) {
                var element = this.parent.element.querySelectorAll(".e-cc-chbox")[i], columnUID = parentsUntil(element, "e-ccheck").getAttribute("uid");
                this.parent.getColumnByUid(columnUID).visible ? (element.checked = !0, this.checkState(element.parentElement.querySelector(".e-icons"), !0)) : (element.checked = !1, 
                this.checkState(element.parentElement.querySelector(".e-icons"), !1));
            }
        }, ColumnChooser.prototype.checkState = function(element, state) {
            state ? classList(element, [ "e-check" ], [ "e-uncheck" ]) : classList(element, [ "e-uncheck" ], [ "e-check" ]);
        }, ColumnChooser.prototype.createCheckBox = function(label, checked, uid) {
            var cbox = checked ? this.cBoxTrue.cloneNode(!0) : this.cBoxFalse.cloneNode(!0);
            return cbox.querySelector(".e-label").innerHTML = label, createCboxWithWrap(uid, cbox, "e-ccheck");
        }, ColumnChooser.prototype.renderCheckbox = function(column) {
            var cclist, hideColState, showColState;
            if (column.showInColumnChooser) {
                cclist = createElement("li", {
                    className: "e-cclist e-cc",
                    styles: "list-style:None",
                    id: "e-ccli_" + column.uid
                }), hideColState = -1 !== this.hideColumn.indexOf(column.uid), showColState = -1 !== this.showColumn.indexOf(column.uid);
                var cccheckboxlist = this.createCheckBox(column.headerText, column.visible && !hideColState || showColState, column.uid);
                cclist.appendChild(cccheckboxlist), this.ulElement.appendChild(cclist);
            }
        }, ColumnChooser.prototype.columnChooserManualSearch = function(e) {
            this.addcancelIcon(), this.searchValue = e.target.value, this.stopTimer(), this.startTimer(e);
        }, ColumnChooser.prototype.startTimer = function(e) {
            var proxy = this, interval = proxy.flag || 13 === e.keyCode ? 0 : 500;
            this.timer = window.setInterval(function() {
                proxy.columnChooserSearch(proxy.searchValue);
            }, interval);
        }, ColumnChooser.prototype.stopTimer = function() {
            window.clearInterval(this.timer);
        }, ColumnChooser.prototype.addcancelIcon = function() {
            this.dlgDiv.querySelector(".e-cc.e-ccsearch-icon").classList.add("e-cc-cancel");
        }, ColumnChooser.prototype.removeCancelIcon = function() {
            this.dlgDiv.querySelector(".e-cc.e-ccsearch-icon").classList.remove("e-cc-cancel");
        }, ColumnChooser.prototype.mOpenDlg = function() {
            Browser.isDevice && (this.dlgObj.element.querySelector(".e-cc-searchdiv").classList.remove("e-input-focus"), 
            this.dlgObj.element.querySelectorAll(".e-cc-chbox")[0].focus());
        }, ColumnChooser.prototype.getModuleName = function() {
            return "columnChooser";
        }, ColumnChooser;
    }(), Encoding = function() {
        function Encoding(includeBom) {
            this.emitBOM = !0, this.encodingType = "Ansi", this.initBOM(includeBom);
        }
        return Object.defineProperty(Encoding.prototype, "includeBom", {
            get: function() {
                return this.emitBOM;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Encoding.prototype, "type", {
            get: function() {
                return this.encodingType;
            },
            set: function(value) {
                this.encodingType = value;
            },
            enumerable: !0,
            configurable: !0
        }), Encoding.prototype.initBOM = function(includeBom) {
            this.emitBOM = void 0 === includeBom || null === includeBom || includeBom;
        }, Encoding.prototype.getByteCount = function(chars) {
            if (validateNullOrUndefined(chars, "string"), "" === chars) {
                return this.utf8Len(chars.charCodeAt(0));
            }
            return null !== this.type && void 0 !== this.type || (this.type = "Ansi"), this.getByteCountInternal(chars, 0, chars.length);
        }, Encoding.prototype.utf8Len = function(codePoint) {
            return codePoint <= 127 ? 1 : codePoint <= 2047 ? 2 : codePoint <= 65535 ? 3 : codePoint <= 2097151 ? 4 : 0;
        }, Encoding.prototype.isHighSurrogate = function(codeUnit) {
            return codeUnit >= 55296 && codeUnit <= 56319;
        }, Encoding.prototype.toCodepoint = function(highCodeUnit, lowCodeUnit) {
            return ((highCodeUnit = (1023 & highCodeUnit) << 10) | 1023 & lowCodeUnit) + 65536;
        }, Encoding.prototype.getByteCountInternal = function(chars, charIndex, charCount) {
            var byteCount = 0;
            if ("Utf8" === this.encodingType || "Unicode" === this.encodingType) {
                for (var isUtf8 = "Utf8" === this.encodingType, i = 0; i < charCount; i++) {
                    var charCode = chars.charCodeAt(isUtf8 ? charIndex : charIndex++);
                    if (this.isHighSurrogate(charCode)) if (isUtf8) {
                        var high = charCode, low = chars.charCodeAt(++charIndex);
                        byteCount += this.utf8Len(this.toCodepoint(high, low));
                    } else byteCount += 4, ++i; else byteCount += isUtf8 ? this.utf8Len(charCode) : 2;
                    isUtf8 && charIndex++;
                }
                return byteCount;
            }
            return byteCount = charCount;
        }, Encoding.prototype.getBytes = function(s, charIndex, charCount) {
            if (validateNullOrUndefined(s, "string"), validateNullOrUndefined(charIndex, "charIndex"), 
            validateNullOrUndefined(charCount, "charCount"), charIndex < 0 || charCount < 0) throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");
            if (s.length - charIndex < charCount) throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");
            if ("" === s) return new ArrayBuffer(0);
            null !== this.type && void 0 !== this.type || (this.type = "Ansi");
            var byteCount = this.getByteCountInternal(s, charIndex, charCount);
            switch (this.type) {
              case "Utf8":
                return this.getBytesOfUtf8Encoding(byteCount, s, charIndex, charCount);

              case "Unicode":
                return this.getBytesOfUnicodeEncoding(byteCount, s, charIndex, charCount);

              default:
                return this.getBytesOfAnsiEncoding(byteCount, s, charIndex, charCount);
            }
        }, Encoding.prototype.getString = function(bytes, index, count) {
            if (validateNullOrUndefined(bytes, "bytes"), validateNullOrUndefined(index, "index"), 
            validateNullOrUndefined(count, "count"), index < 0 || count < 0) throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");
            if (bytes.byteLength - index < count) throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");
            if (0 === bytes.byteLength || 0 === count) return "";
            null !== this.type && void 0 !== this.type || (this.type = "Ansi");
            var out = "", byteCal = new Uint8Array(bytes);
            switch (this.type) {
              case "Utf8":
                return this.getStringOfUtf8Encoding(byteCal, index, count);

              case "Unicode":
                var byteUnicode = new Uint16Array(bytes);
                return out = this.getStringofUnicodeEncoding(byteUnicode, index, count);

              default:
                for (var j = index, i = 0; i < count; i++) {
                    var c = byteCal[j];
                    out += String.fromCharCode(c), j++;
                }
                return out;
            }
        }, Encoding.prototype.getBytesOfAnsiEncoding = function(byteCount, s, charIndex, charCount) {
            for (var bytes = new ArrayBuffer(byteCount), bufview = new Uint8Array(bytes), k = 0, i = 0; i < charCount; i++) {
                var charcode = s.charCodeAt(charIndex++);
                bufview[k] = charcode < 2048 ? charcode : 63, k++;
            }
            return bytes;
        }, Encoding.prototype.getBytesOfUtf8Encoding = function(byteCount, s, charIndex, charCount) {
            for (var bytes = new ArrayBuffer(byteCount), uint = new Uint8Array(bytes), index = charIndex, j = 0, i = 0; i < charCount; i++) {
                var charcode = s.charCodeAt(index);
                charcode <= 127 ? uint[j] = charcode : charcode < 2048 ? (uint[j] = 192 | charcode >> 6, 
                uint[++j] = 128 | 63 & charcode) : charcode < 55296 || charcode >= 57344 ? (uint[j] = 224 | charcode >> 12, 
                uint[++j] = 128 | charcode >> 6 & 63, uint[++j] = 128 | 63 & charcode) : (uint[j] = 239, 
                uint[++j] = 191, uint[++j] = 189), ++j, ++index;
            }
            return bytes;
        }, Encoding.prototype.getBytesOfUnicodeEncoding = function(byteCount, s, charIndex, charCount) {
            for (var bytes = new ArrayBuffer(byteCount), uint16 = new Uint16Array(bytes), i = 0; i < charCount; i++) {
                var charcode = s.charCodeAt(i);
                uint16[i] = charcode;
            }
            return bytes;
        }, Encoding.prototype.getStringOfUtf8Encoding = function(byteCal, index, count) {
            for (var j = 0, i = index, s = ""; j < count; j++) {
                for (var c = byteCal[i++]; i > byteCal.length; ) return s;
                c > 127 && (c > 191 && c < 224 && i < count ? c = (31 & c) << 6 | 63 & byteCal[i] : c > 223 && c < 240 && i < byteCal.byteLength ? c = (15 & c) << 12 | (63 & byteCal[i]) << 6 | 63 & byteCal[++i] : c > 239 && c < 248 && i < byteCal.byteLength && (c = (7 & c) << 18 | (63 & byteCal[i]) << 12 | (63 & byteCal[++i]) << 6 | 63 & byteCal[++i]), 
                ++i), s += String.fromCharCode(c);
            }
            return s;
        }, Encoding.prototype.getStringofUnicodeEncoding = function(byteUni, index, count) {
            if (count > byteUni.length) throw new RangeError("ArgumentOutOfRange_Count");
            for (var byte16 = new Uint16Array(count), i = 0; i < count && i < byteUni.length; i++) byte16[i] = byteUni[index++];
            return String.fromCharCode.apply(null, byte16);
        }, Encoding.prototype.destroy = function() {
            this.emitBOM = void 0, this.encodingType = void 0;
        }, Encoding;
    }(), Save = function() {
        function Save() {}
        return Save.save = function(fileName, buffer) {
            if (null === fileName || void 0 === fileName || "" === fileName) throw new Error("ArgumentException: fileName cannot be undefined, null or empty");
            var extension = fileName.substring(fileName.lastIndexOf(".") + 1, fileName.length), mimeType = this.getMimeType(extension);
            if ("" !== mimeType && (buffer = new Blob([ buffer ], {
                type: mimeType
            })), this.isMicrosoftBrowser) navigator.msSaveBlob(buffer, fileName); else {
                var downloadLink = document.createElementNS("http://www.w3.org/1999/xhtml", "a");
                this.saveInternal(fileName, extension, buffer, downloadLink, "download" in downloadLink);
            }
        }, Save.saveInternal = function(fileName, extension, buffer, downloadLink, hasDownloadAttribute) {
            if (hasDownloadAttribute) {
                downloadLink.download = fileName;
                var dataUrl_1 = window.URL.createObjectURL(buffer);
                downloadLink.href = dataUrl_1;
                var event_1 = document.createEvent("MouseEvent");
                event_1.initEvent("click", !0, !0), downloadLink.dispatchEvent(event_1), setTimeout(function() {
                    window.URL.revokeObjectURL(dataUrl_1), dataUrl_1 = void 0;
                });
            } else if ("docx" !== extension && "xlsx" !== extension) {
                var url = window.URL.createObjectURL(buffer);
                window.open(url, "_blank") || (window.location.href = url);
            } else {
                var reader_1 = new FileReader();
                reader_1.onloadend = function() {
                    window.open(reader_1.result, "_blank") || (window.location.href = reader_1.result);
                }, reader_1.readAsDataURL(buffer);
            }
        }, Save.getMimeType = function(extension) {
            var mimeType = "";
            switch (extension) {
              case "html":
                mimeType = "text/html";
                break;

              case "pdf":
                mimeType = "application/pdf";
                break;

              case "docx":
                mimeType = "application/vnd.openxmlformats-officedocument.wordprocessingml.document";
                break;

              case "xlsx":
                mimeType = "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";
                break;

              case "txt":
                mimeType = "text/plain";
            }
            return mimeType;
        }, Save;
    }(), StreamWriter = function() {
        function StreamWriter(encoding) {
            this.bufferBlob = new Blob([ "" ]), this.bufferText = "", this.init(encoding), Save.isMicrosoftBrowser = !!navigator.msSaveBlob;
        }
        return Object.defineProperty(StreamWriter.prototype, "buffer", {
            get: function() {
                return this.flush(), this.bufferBlob;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(StreamWriter.prototype, "encoding", {
            get: function() {
                return this.enc;
            },
            enumerable: !0,
            configurable: !0
        }), StreamWriter.prototype.init = function(encoding) {
            null === encoding || void 0 === encoding ? (this.enc = new Encoding(!1), this.enc.type = "Utf8") : (this.enc = encoding, 
            this.setBomByte());
        }, StreamWriter.prototype.setBomByte = function() {
            if (this.encoding.includeBom) switch (this.encoding.type) {
              case "Unicode":
                var arrayUnicode = new ArrayBuffer(2), uint8 = new Uint8Array(arrayUnicode);
                uint8[0] = 255, uint8[1] = 254, this.bufferBlob = new Blob([ arrayUnicode ]);
                break;

              case "Utf8":
                var arrayUtf8 = new ArrayBuffer(3), utf8 = new Uint8Array(arrayUtf8);
                utf8[0] = 239, utf8[1] = 187, utf8[2] = 191, this.bufferBlob = new Blob([ arrayUtf8 ]);
                break;

              default:
                this.bufferBlob = new Blob([ "" ]);
            }
        }, StreamWriter.prototype.save = function(fileName) {
            "" !== this.bufferText && this.flush(), Save.save(fileName, this.buffer);
        }, StreamWriter.prototype.write = function(value) {
            if (void 0 === this.encoding) throw new Error("Object Disposed Exception: current writer is disposed");
            validateNullOrUndefined(value, "string"), this.bufferText += value, this.bufferText.length >= 10240 && this.flush();
        }, StreamWriter.prototype.flush = function() {
            if (void 0 !== this.bufferText && null !== this.bufferText && 0 !== this.bufferText.length) {
                var bufferArray = this.encoding.getBytes(this.bufferText, 0, this.bufferText.length);
                this.bufferText = "", this.bufferBlob = new Blob([ this.bufferBlob, bufferArray ]);
            }
        }, StreamWriter.prototype.writeLine = function(value) {
            if (void 0 === this.encoding) throw new Error("Object Disposed Exception: current writer is disposed");
            validateNullOrUndefined(value, "string"), this.bufferText = this.bufferText + value + "\r\n", 
            this.bufferText.length >= 10240 && this.flush();
        }, StreamWriter.prototype.destroy = function() {
            this.bufferBlob = void 0, this.bufferText = void 0, this.enc instanceof Encoding && this.enc.destroy(), 
            this.enc = void 0;
        }, StreamWriter;
    }(), _fileutils = Object.freeze({
        StreamWriter: StreamWriter,
        Encoding: Encoding,
        validateNullOrUndefined: validateNullOrUndefined,
        Save: Save
    }), arrLiteralCodes = new Int16Array(286), arrLiteralLengths = new Uint8Array(286), arrDistanceCodes = new Int16Array(30), arrDistanceLengths = new Uint8Array(30), CompressedStreamWriter = function() {
        function CompressedStreamWriter(noWrap) {
            this.pendingBuffer = new Uint8Array(65536), this.pendingBufLength = 0, this.pendingBufCache = 0, 
            this.pendingBufBitsInCache = 0, this.bufferPosition = 0, this.extraBits = 0, this.currentHash = 0, 
            this.matchStart = 0, this.matchLength = 0, this.matchPrevAvail = !1, this.blockStart = 0, 
            this.stringStart = 0, this.lookAhead = 0, this.totalBytesIn = 0, this.inputOffset = 0, 
            this.inputEnd = 0, this.windowSize = 32768, this.windowMask = this.windowSize - 1, 
            this.hashSize = 32768, this.hashMask = this.hashSize - 1, this.hashShift = Math.floor(17 / 3), 
            this.maxDist = this.windowSize - 262, this.checkSum = 1, this.noWrap = !1, this.treeLiteral = new CompressorHuffmanTree(this, 286, 257, 15), 
            this.treeDistances = new CompressorHuffmanTree(this, 30, 1, 15), this.treeCodeLengths = new CompressorHuffmanTree(this, 19, 4, 7), 
            this.arrDistances = new Uint16Array(16384), this.arrLiterals = new Uint8Array(16384), 
            this.stream = [], this.dataWindow = new Uint8Array(2 * this.windowSize), this.hashHead = new Int16Array(this.hashSize), 
            this.hashPrevious = new Int16Array(this.windowSize), this.blockStart = this.stringStart = 1, 
            this.noWrap = noWrap, noWrap || this.writeZLibHeader();
        }
        return Object.defineProperty(CompressedStreamWriter.prototype, "compressedData", {
            get: function() {
                return this.stream;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(CompressedStreamWriter.prototype, "getCompressedString", {
            get: function() {
                var compressedString = "";
                if (void 0 !== this.stream) for (var i = 0; i < this.stream.length; i++) compressedString += String.fromCharCode.apply(null, this.stream[i]);
                return compressedString;
            },
            enumerable: !0,
            configurable: !0
        }), CompressedStreamWriter.prototype.write = function(data, offset, length) {
            if (void 0 === data || null === data) throw new Error("ArgumentException: data cannot null or undefined");
            var end = offset + length;
            if (0 > offset || offset > end || end > data.length) throw new Error("ArgumentOutOfRangeException: Offset or length is incorrect");
            if ("string" == typeof data) {
                var encode = new Encoding(!1);
                encode.type = "Utf8", end = offset + (data = new Uint8Array(encode.getBytes(data, 0, data.length))).length;
            }
            for (this.inputBuffer = data, this.inputOffset = offset, this.inputEnd = end, this.noWrap || (this.checkSum = ChecksumCalculator.checksumUpdate(this.checkSum, this.inputBuffer, this.inputOffset, end)); this.inputEnd !== this.inputOffset || 0 !== this.pendingBufLength; ) this.pendingBufferFlush(), 
            this.compressData(!1);
        }, CompressedStreamWriter.prototype.writeZLibHeader = function() {
            var headerDate = 30720;
            headerDate |= 64, headerDate += 31 - headerDate % 31, this.pendingBufferWriteShortBytes(headerDate);
        }, CompressedStreamWriter.prototype.pendingBufferWriteShortBytes = function(s) {
            this.pendingBuffer[this.pendingBufLength++] = s >> 8, this.pendingBuffer[this.pendingBufLength++] = s;
        }, CompressedStreamWriter.prototype.compressData = function(finish) {
            var success;
            do {
                this.fillWindow();
                var canFlush = finish && this.inputEnd === this.inputOffset;
                success = this.compressSlow(canFlush, finish);
            } while (0 === this.pendingBufLength && success);
            return success;
        }, CompressedStreamWriter.prototype.compressSlow = function(flush, finish) {
            if (this.lookAhead < 262 && !flush) return !1;
            for (;this.lookAhead >= 262 || flush; ) {
                if (0 === this.lookAhead) return this.lookAheadCompleted(finish);
                this.stringStart >= 2 * this.windowSize - 262 && this.slideWindow();
                var prevMatch = this.matchStart, prevLen = this.matchLength;
                if (this.lookAhead >= 3 && this.discardMatch(), prevLen >= 3 && this.matchLength <= prevLen ? prevLen = this.matchPreviousBest(prevMatch, prevLen) : this.matchPreviousAvailable(), 
                this.bufferPosition >= 16384) return this.huffmanIsFull(finish);
            }
            return !0;
        }, CompressedStreamWriter.prototype.discardMatch = function() {
            var hashHead = this.insertString();
            0 !== hashHead && this.stringStart - hashHead <= this.maxDist && this.findLongestMatch(hashHead) && this.matchLength <= 5 && 3 === this.matchLength && this.stringStart - this.matchStart > 4096 && (this.matchLength = 2);
        }, CompressedStreamWriter.prototype.matchPreviousAvailable = function() {
            this.matchPrevAvail && this.huffmanTallyLit(255 & this.dataWindow[this.stringStart - 1]), 
            this.matchPrevAvail = !0, this.stringStart++, this.lookAhead--;
        }, CompressedStreamWriter.prototype.matchPreviousBest = function(prevMatch, prevLen) {
            this.huffmanTallyDist(this.stringStart - 1 - prevMatch, prevLen), prevLen -= 2;
            do {
                this.stringStart++, this.lookAhead--, this.lookAhead >= 3 && this.insertString();
            } while (--prevLen > 0);
            return this.stringStart++, this.lookAhead--, this.matchPrevAvail = !1, this.matchLength = 2, 
            prevLen;
        }, CompressedStreamWriter.prototype.lookAheadCompleted = function(finish) {
            return this.matchPrevAvail && this.huffmanTallyLit(255 & this.dataWindow[this.stringStart - 1]), 
            this.matchPrevAvail = !1, this.huffmanFlushBlock(this.dataWindow, this.blockStart, this.stringStart - this.blockStart, finish), 
            this.blockStart = this.stringStart, !1;
        }, CompressedStreamWriter.prototype.huffmanIsFull = function(finish) {
            var len = this.stringStart - this.blockStart;
            this.matchPrevAvail && len--;
            var lastBlock = finish && 0 === this.lookAhead && !this.matchPrevAvail;
            return this.huffmanFlushBlock(this.dataWindow, this.blockStart, len, lastBlock), 
            this.blockStart += len, !lastBlock;
        }, CompressedStreamWriter.prototype.fillWindow = function() {
            for (this.stringStart >= this.windowSize + this.maxDist && this.slideWindow(); this.lookAhead < 262 && this.inputOffset < this.inputEnd; ) {
                var more = 2 * this.windowSize - this.lookAhead - this.stringStart;
                more > this.inputEnd - this.inputOffset && (more = this.inputEnd - this.inputOffset), 
                this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset, this.inputOffset + more), this.stringStart + this.lookAhead), 
                this.inputOffset += more, this.totalBytesIn += more, this.lookAhead += more;
            }
            this.lookAhead >= 3 && this.updateHash();
        }, CompressedStreamWriter.prototype.slideWindow = function() {
            this.dataWindow.set(this.dataWindow.subarray(this.windowSize, this.windowSize + this.windowSize), 0), 
            this.matchStart -= this.windowSize, this.stringStart -= this.windowSize, this.blockStart -= this.windowSize;
            for (var i = 0; i < this.hashSize; ++i) {
                var m = 65535 & this.hashHead[i];
                this.hashHead[i] = m >= this.windowSize ? m - this.windowSize : 0;
            }
            for (i = 0; i < this.windowSize; i++) {
                m = 65535 & this.hashPrevious[i];
                this.hashPrevious[i] = m >= this.windowSize ? m - this.windowSize : 0;
            }
        }, CompressedStreamWriter.prototype.insertString = function() {
            var match, hash = (this.currentHash << this.hashShift ^ this.dataWindow[this.stringStart + 2]) & this.hashMask;
            return this.hashPrevious[this.stringStart & this.windowMask] = match = this.hashHead[hash], 
            this.hashHead[hash] = this.stringStart, this.currentHash = hash, 65535 & match;
        }, CompressedStreamWriter.prototype.findLongestMatch = function(curMatch) {
            var match, chainLen = 4096, niceLen = 258, scan = this.stringStart, bestEnd = this.stringStart + this.matchLength, bestLength = Math.max(this.matchLength, 2), limit = Math.max(this.stringStart - this.maxDist, 0), stringEnd = this.stringStart + 258 - 1, scanEnd1 = this.dataWindow[bestEnd - 1], scanEnd = this.dataWindow[bestEnd], data = this.dataWindow;
            bestLength >= 32 && (chainLen >>= 2), niceLen > this.lookAhead && (niceLen = this.lookAhead);
            do {
                if (data[curMatch + bestLength] === scanEnd && data[curMatch + bestLength - 1] === scanEnd1 && data[curMatch] === data[scan] && data[curMatch + 1] === data[scan + 1]) {
                    for (match = curMatch + 2, scan += 2; data[++scan] === data[++match] && data[++scan] === data[++match] && data[++scan] === data[++match] && data[++scan] === data[++match] && data[++scan] === data[++match] && data[++scan] === data[++match] && data[++scan] === data[++match] && data[++scan] === data[++match] && scan < stringEnd; ) ;
                    if (scan > bestEnd) {
                        if (this.matchStart = curMatch, bestEnd = scan, (bestLength = scan - this.stringStart) >= niceLen) break;
                        scanEnd1 = data[bestEnd - 1], scanEnd = data[bestEnd];
                    }
                    scan = this.stringStart;
                }
            } while ((curMatch = 65535 & this.hashPrevious[curMatch & this.windowMask]) > limit && 0 != --chainLen);
            return this.matchLength = Math.min(bestLength, this.lookAhead), this.matchLength >= 3;
        }, CompressedStreamWriter.prototype.updateHash = function() {
            this.currentHash = this.dataWindow[this.stringStart] << this.hashShift ^ this.dataWindow[this.stringStart + 1];
        }, CompressedStreamWriter.prototype.huffmanTallyLit = function(literal) {
            return this.arrDistances[this.bufferPosition] = 0, this.arrLiterals[this.bufferPosition++] = literal, 
            this.treeLiteral.codeFrequencies[literal]++, this.bufferPosition >= 16384;
        }, CompressedStreamWriter.prototype.huffmanTallyDist = function(dist, len) {
            this.arrDistances[this.bufferPosition] = dist, this.arrLiterals[this.bufferPosition++] = len - 3;
            var lc = this.huffmanLengthCode(len - 3);
            this.treeLiteral.codeFrequencies[lc]++, lc >= 265 && lc < 285 && (this.extraBits += Math.floor((lc - 261) / 4));
            var dc = this.huffmanDistanceCode(dist - 1);
            return this.treeDistances.codeFrequencies[dc]++, dc >= 4 && (this.extraBits += Math.floor(dc / 2 - 1)), 
            this.bufferPosition >= 16384;
        }, CompressedStreamWriter.prototype.huffmanFlushBlock = function(stored, storedOffset, storedLength, lastBlock) {
            this.treeLiteral.codeFrequencies[256]++, this.treeLiteral.buildTree(), this.treeDistances.buildTree(), 
            this.treeLiteral.calculateBLFreq(this.treeCodeLengths), this.treeDistances.calculateBLFreq(this.treeCodeLengths), 
            this.treeCodeLengths.buildTree();
            for (var blTreeCodes = 4, i = 18; i > blTreeCodes; i--) this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[i]] > 0 && (blTreeCodes = i + 1);
            var opt_len = 14 + 3 * blTreeCodes + this.treeCodeLengths.getEncodedLength() + this.treeLiteral.getEncodedLength() + this.treeDistances.getEncodedLength() + this.extraBits, static_len = this.extraBits;
            for (i = 0; i < 286; i++) static_len += this.treeLiteral.codeFrequencies[i] * arrLiteralLengths[i];
            for (i = 0; i < 30; i++) static_len += this.treeDistances.codeFrequencies[i] * arrDistanceLengths[i];
            opt_len >= static_len && (opt_len = static_len), storedOffset >= 0 && storedLength + 4 < opt_len >> 3 ? this.huffmanFlushStoredBlock(stored, storedOffset, storedLength, lastBlock) : opt_len == static_len ? (this.pendingBufferWriteBits(2 + (lastBlock ? 1 : 0), 3), 
            this.treeLiteral.setStaticCodes(arrLiteralCodes, arrLiteralLengths), this.treeDistances.setStaticCodes(arrDistanceCodes, arrDistanceLengths), 
            this.huffmanCompressBlock(), this.huffmanReset()) : (this.pendingBufferWriteBits(4 + (lastBlock ? 1 : 0), 3), 
            this.huffmanSendAllTrees(blTreeCodes), this.huffmanCompressBlock(), this.huffmanReset());
        }, CompressedStreamWriter.prototype.huffmanFlushStoredBlock = function(stored, storedOffset, storedLength, lastBlock) {
            this.pendingBufferWriteBits(0 + (lastBlock ? 1 : 0), 3), this.pendingBufferAlignToByte(), 
            this.pendingBufferWriteShort(storedLength), this.pendingBufferWriteShort(~storedLength), 
            this.pendingBufferWriteByteBlock(stored, storedOffset, storedLength), this.huffmanReset();
        }, CompressedStreamWriter.prototype.huffmanLengthCode = function(len) {
            if (255 === len) return 285;
            for (var code = 257; len >= 8; ) code += 4, len >>= 1;
            return code + len;
        }, CompressedStreamWriter.prototype.huffmanDistanceCode = function(distance) {
            for (var code = 0; distance >= 4; ) code += 2, distance >>= 1;
            return code + distance;
        }, CompressedStreamWriter.prototype.huffmanSendAllTrees = function(blTreeCodes) {
            this.treeCodeLengths.buildCodes(), this.treeLiteral.buildCodes(), this.treeDistances.buildCodes(), 
            this.pendingBufferWriteBits(this.treeLiteral.treeLength - 257, 5), this.pendingBufferWriteBits(this.treeDistances.treeLength - 1, 5), 
            this.pendingBufferWriteBits(blTreeCodes - 4, 4);
            for (var rank = 0; rank < blTreeCodes; rank++) this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[rank]], 3);
            this.treeLiteral.writeTree(this.treeCodeLengths), this.treeDistances.writeTree(this.treeCodeLengths);
        }, CompressedStreamWriter.prototype.huffmanReset = function() {
            this.bufferPosition = 0, this.extraBits = 0, this.treeLiteral.reset(), this.treeDistances.reset(), 
            this.treeCodeLengths.reset();
        }, CompressedStreamWriter.prototype.huffmanCompressBlock = function() {
            for (var i = 0; i < this.bufferPosition; i++) {
                var literalLen = 255 & this.arrLiterals[i], dist = this.arrDistances[i];
                if (0 != dist--) {
                    var lc = this.huffmanLengthCode(literalLen);
                    this.treeLiteral.writeCodeToStream(lc);
                    var bits = Math.floor((lc - 261) / 4);
                    bits > 0 && bits <= 5 && this.pendingBufferWriteBits(literalLen & (1 << bits) - 1, bits);
                    var dc = this.huffmanDistanceCode(dist);
                    this.treeDistances.writeCodeToStream(dc), (bits = Math.floor(dc / 2 - 1)) > 0 && this.pendingBufferWriteBits(dist & (1 << bits) - 1, bits);
                } else this.treeLiteral.writeCodeToStream(literalLen);
            }
            this.treeLiteral.writeCodeToStream(256);
        }, CompressedStreamWriter.prototype.pendingBufferWriteBits = function(b, count) {
            var uint = new Uint32Array(1);
            uint[0] = this.pendingBufCache | b << this.pendingBufBitsInCache, this.pendingBufCache = uint[0], 
            this.pendingBufBitsInCache += count, this.pendingBufferFlushBits();
        }, CompressedStreamWriter.prototype.pendingBufferFlush = function(isClose) {
            if (this.pendingBufferFlushBits(), this.pendingBufLength > 0) {
                var array = new Uint8Array(this.pendingBufLength);
                array.set(this.pendingBuffer.subarray(0, this.pendingBufLength), 0), this.stream.push(array);
            }
            this.pendingBufLength = 0;
        }, CompressedStreamWriter.prototype.pendingBufferFlushBits = function() {
            for (var result = 0; this.pendingBufBitsInCache >= 8 && this.pendingBufLength < 65536; ) this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache, 
            this.pendingBufCache >>= 8, this.pendingBufBitsInCache -= 8, result++;
            return result;
        }, CompressedStreamWriter.prototype.pendingBufferWriteByteBlock = function(data, offset, length) {
            var array = data.subarray(offset, offset + length);
            this.pendingBuffer.set(array, this.pendingBufLength), this.pendingBufLength += length;
        }, CompressedStreamWriter.prototype.pendingBufferWriteShort = function(s) {
            this.pendingBuffer[this.pendingBufLength++] = s, this.pendingBuffer[this.pendingBufLength++] = s >> 8;
        }, CompressedStreamWriter.prototype.pendingBufferAlignToByte = function() {
            this.pendingBufBitsInCache > 0 && (this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache), 
            this.pendingBufCache = 0, this.pendingBufBitsInCache = 0;
        }, CompressedStreamWriter.prototype.close = function() {
            do {
                this.pendingBufferFlush(!0), this.compressData(!0) || (this.pendingBufferFlush(!0), 
                this.pendingBufferAlignToByte(), this.noWrap || (this.pendingBufferWriteShortBytes(this.checkSum >> 16), 
                this.pendingBufferWriteShortBytes(65535 & this.checkSum)), this.pendingBufferFlush(!0));
            } while (this.inputEnd !== this.inputOffset || 0 !== this.pendingBufLength);
        }, CompressedStreamWriter.prototype.destroy = function() {
            this.stream = [], this.stream = void 0, this.pendingBuffer = void 0, this.treeLiteral = void 0, 
            this.treeDistances = void 0, this.treeCodeLengths = void 0, this.arrLiterals = void 0, 
            this.arrDistances = void 0, this.hashHead = void 0, this.hashPrevious = void 0, 
            this.dataWindow = void 0, this.inputBuffer = void 0, this.pendingBufLength = void 0, 
            this.pendingBufCache = void 0, this.pendingBufBitsInCache = void 0, this.bufferPosition = void 0, 
            this.extraBits = void 0, this.currentHash = void 0, this.matchStart = void 0, this.matchLength = void 0, 
            this.matchPrevAvail = void 0, this.blockStart = void 0, this.stringStart = void 0, 
            this.lookAhead = void 0, this.totalBytesIn = void 0, this.inputOffset = void 0, 
            this.inputEnd = void 0, this.windowSize = void 0, this.windowMask = void 0, this.hashSize = void 0, 
            this.hashMask = void 0, this.hashShift = void 0, this.maxDist = void 0, this.checkSum = void 0, 
            this.noWrap = void 0;
        }, CompressedStreamWriter;
    }(), CompressorHuffmanTree = function() {
        function CompressorHuffmanTree(writer, elementCount, minCodes, maxLength) {
            this.writer = writer, this.codeMinCount = minCodes, this.maxLength = maxLength, 
            this.codeFrequency = new Uint16Array(elementCount), this.lengthCount = new Int32Array(maxLength);
        }
        return Object.defineProperty(CompressorHuffmanTree.prototype, "treeLength", {
            get: function() {
                return this.codeCount;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(CompressorHuffmanTree.prototype, "codeLengths", {
            get: function() {
                return this.codeLength;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(CompressorHuffmanTree.prototype, "codeFrequencies", {
            get: function() {
                return this.codeFrequency;
            },
            enumerable: !0,
            configurable: !0
        }), CompressorHuffmanTree.prototype.setStaticCodes = function(codes, lengths) {
            var temp = new Int16Array(codes.length);
            temp.set(codes, 0), this.codes = temp;
            var lengthTemp = new Uint8Array(lengths.length);
            lengthTemp.set(lengths, 0), this.codeLength = lengthTemp;
        }, CompressorHuffmanTree.prototype.reset = function() {
            for (var i = 0; i < this.codeFrequency.length; i++) this.codeFrequency[i] = 0;
            this.codes = void 0, this.codeLength = void 0;
        }, CompressorHuffmanTree.prototype.writeCodeToStream = function(code) {
            this.writer.pendingBufferWriteBits(65535 & this.codes[code], this.codeLength[code]);
        }, CompressorHuffmanTree.prototype.buildCodes = function() {
            var nextCode = new Int32Array(this.maxLength);
            this.codes = new Int16Array(this.codeCount);
            for (var code = 0, bitsCount = 0; bitsCount < this.maxLength; bitsCount++) nextCode[bitsCount] = code, 
            code += this.lengthCount[bitsCount] << 15 - bitsCount;
            for (var i = 0; i < this.codeCount; i++) {
                var bits = this.codeLength[i];
                bits > 0 && (this.codes[i] = CompressorHuffmanTree.bitReverse(nextCode[bits - 1]), 
                nextCode[bits - 1] += 1 << 16 - bits);
            }
        }, CompressorHuffmanTree.bitReverse = function(value) {
            return CompressorHuffmanTree.reverseBits[15 & value] << 12 | CompressorHuffmanTree.reverseBits[value >> 4 & 15] << 8 | CompressorHuffmanTree.reverseBits[value >> 8 & 15] << 4 | CompressorHuffmanTree.reverseBits[value >> 12];
        }, CompressorHuffmanTree.prototype.getEncodedLength = function() {
            for (var len = 0, i = 0; i < this.codeFrequency.length; i++) len += this.codeFrequency[i] * this.codeLength[i];
            return len;
        }, CompressorHuffmanTree.prototype.calculateBLFreq = function(blTree) {
            for (var maxCount, minCount, count, curLen = -1, i = 0; i < this.codeCount; ) {
                count = 1;
                var nextLen = this.codeLength[i];
                for (0 === nextLen ? (maxCount = 138, minCount = 3) : (maxCount = 6, minCount = 3, 
                curLen !== nextLen && (blTree.codeFrequency[nextLen]++, count = 0)), curLen = nextLen, 
                i++; i < this.codeCount && curLen === this.codeLength[i] && (i++, !(++count >= maxCount)); ) ;
                count < minCount ? blTree.codeFrequency[curLen] += count : 0 !== curLen ? blTree.codeFrequency[16]++ : count <= 10 ? blTree.codeFrequency[17]++ : blTree.codeFrequency[18]++;
            }
        }, CompressorHuffmanTree.prototype.writeTree = function(blTree) {
            for (var maxRepeatCount, minRepeatCount, currentRepeatCount, currentCodeLength = -1, i = 0; i < this.codeCount; ) {
                currentRepeatCount = 1;
                var nextLen = this.codeLength[i];
                for (0 === nextLen ? (maxRepeatCount = 138, minRepeatCount = 3) : (maxRepeatCount = 6, 
                minRepeatCount = 3, currentCodeLength !== nextLen && (blTree.writeCodeToStream(nextLen), 
                currentRepeatCount = 0)), currentCodeLength = nextLen, i++; i < this.codeCount && currentCodeLength === this.codeLength[i] && (i++, 
                !(++currentRepeatCount >= maxRepeatCount)); ) ;
                if (currentRepeatCount < minRepeatCount) for (;currentRepeatCount-- > 0; ) blTree.writeCodeToStream(currentCodeLength); else 0 !== currentCodeLength ? (blTree.writeCodeToStream(16), 
                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 2)) : currentRepeatCount <= 10 ? (blTree.writeCodeToStream(17), 
                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 3)) : (blTree.writeCodeToStream(18), 
                this.writer.pendingBufferWriteBits(currentRepeatCount - 11, 7));
            }
        }, CompressorHuffmanTree.prototype.buildTree = function() {
            for (var codesCount = this.codeFrequency.length, arrTree = new Int32Array(codesCount), treeLength = 0, maxCount = 0, n = 0; n < codesCount; n++) {
                var freq = this.codeFrequency[n];
                if (0 !== freq) {
                    for (var pos = treeLength++, pPos = 0; pos > 0 && this.codeFrequency[arrTree[pPos = Math.floor((pos - 1) / 2)]] > freq; ) arrTree[pos] = arrTree[pPos], 
                    pos = pPos;
                    arrTree[pos] = n, maxCount = n;
                }
            }
            for (;treeLength < 2; ) arrTree[treeLength++] = maxCount < 2 ? ++maxCount : 0;
            this.codeCount = Math.max(maxCount + 1, this.codeMinCount);
            for (var nodesCount = treeLength, child = new Int32Array(4 * treeLength - 2), values = new Int32Array(2 * treeLength - 1), i = 0; i < treeLength; i++) {
                var node = arrTree[i], iIndex = 2 * i;
                child[iIndex] = node, child[iIndex + 1] = -1, values[i] = this.codeFrequency[node] << 8, 
                arrTree[i] = i;
            }
            this.constructHuffmanTree(arrTree, treeLength, values, nodesCount, child), this.buildLength(child);
        }, CompressorHuffmanTree.prototype.constructHuffmanTree = function(arrTree, treeLength, values, nodesCount, child) {
            do {
                for (var first = arrTree[0], last = arrTree[--treeLength], lastVal = values[last], pPos = 0, path = 1; path < treeLength; ) path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]] && path++, 
                arrTree[pPos] = arrTree[path], path = 2 * (pPos = path) + 1;
                for (;(path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal; ) arrTree[path] = arrTree[pPos];
                arrTree[path] = last;
                var second = arrTree[0];
                child[2 * (last = nodesCount++)] = first, child[2 * last + 1] = second;
                var minDepth = Math.min(255 & values[first], 255 & values[second]);
                for (values[last] = lastVal = values[first] + values[second] - minDepth + 1, pPos = 0, 
                path = 1; path < treeLength; ) path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]] && path++, 
                arrTree[pPos] = arrTree[path], path = 2 * (pPos = path) + 1;
                for (;(path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal; ) arrTree[path] = arrTree[pPos];
                arrTree[path] = last;
            } while (treeLength > 1);
        }, CompressorHuffmanTree.prototype.buildLength = function(child) {
            this.codeLength = new Uint8Array(this.codeFrequency.length);
            for (var numNodes = Math.floor(child.length / 2), numLeafs = Math.floor((numNodes + 1) / 2), overflow = 0, i = 0; i < this.maxLength; i++) this.lengthCount[i] = 0;
            if (0 !== (overflow = this.calculateOptimalCodeLength(child, overflow, numNodes))) {
                var iIncreasableLength = this.maxLength - 1;
                do {
                    for (;0 === this.lengthCount[--iIncreasableLength]; ) ;
                    do {
                        this.lengthCount[iIncreasableLength]--, this.lengthCount[++iIncreasableLength]++, 
                        overflow -= 1 << this.maxLength - 1 - iIncreasableLength;
                    } while (overflow > 0 && iIncreasableLength < this.maxLength - 1);
                } while (overflow > 0);
                this.recreateTree(child, overflow, numLeafs);
            }
        }, CompressorHuffmanTree.prototype.recreateTree = function(child, overflow, numLeafs) {
            this.lengthCount[this.maxLength - 1] += overflow, this.lengthCount[this.maxLength - 2] -= overflow;
            for (var nodePtr = 2 * numLeafs, bits = this.maxLength; 0 !== bits; bits--) for (var n = this.lengthCount[bits - 1]; n > 0; ) {
                var childPtr = 2 * child[nodePtr++];
                -1 === child[childPtr + 1] && (this.codeLength[child[childPtr]] = bits, n--);
            }
        }, CompressorHuffmanTree.prototype.calculateOptimalCodeLength = function(child, overflow, numNodes) {
            var lengths = new Int32Array(numNodes);
            lengths[numNodes - 1] = 0;
            for (var i = numNodes - 1; i >= 0; i--) {
                var childIndex = 2 * i + 1;
                if (-1 !== child[childIndex]) {
                    (bitLength = lengths[i] + 1) > this.maxLength && (bitLength = this.maxLength, overflow++), 
                    lengths[child[childIndex - 1]] = lengths[child[childIndex]] = bitLength;
                } else {
                    var bitLength = lengths[i];
                    this.lengthCount[bitLength - 1]++, this.codeLength[child[childIndex - 1]] = lengths[i];
                }
            }
            return overflow;
        }, CompressorHuffmanTree.reverseBits = [ 0, 8, 4, 12, 2, 10, 6, 14, 1, 9, 5, 13, 3, 11, 7, 15 ], 
        CompressorHuffmanTree.huffCodeLengthOrders = [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ], 
        CompressorHuffmanTree;
    }(), ChecksumCalculator = function() {
        function ChecksumCalculator() {}
        return ChecksumCalculator.checksumUpdate = function(checksum, buffer, offset, length) {
            var uint = new Uint32Array(1);
            uint[0] = checksum;
            for (var checksum_uint = uint[0], s1 = uint[0] = 65535 & checksum_uint, s2 = uint[0] = checksum_uint >> ChecksumCalculator.checkSumBitOffset; length > 0; ) {
                var steps = Math.min(length, ChecksumCalculator.checksumIterationCount);
                for (length -= steps; --steps >= 0; ) s2 += s1 += uint[0] = 255 & buffer[offset++];
                s1 %= ChecksumCalculator.checksumBase, s2 %= ChecksumCalculator.checksumBase;
            }
            return checksum_uint = s2 << ChecksumCalculator.checkSumBitOffset | s1;
        }, ChecksumCalculator.checkSumBitOffset = 16, ChecksumCalculator.checksumBase = 65521, 
        ChecksumCalculator.checksumIterationCount = 3800, ChecksumCalculator;
    }();
    !function() {
        for (var i = 0; i < 144; ) arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse(48 + i << 8), 
        arrLiteralLengths[i++] = 8;
        for (;i < 256; ) arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse(256 + i << 7), 
        arrLiteralLengths[i++] = 9;
        for (;i < 280; ) arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse(-256 + i << 9), 
        arrLiteralLengths[i++] = 7;
        for (;i < 286; ) arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse(-88 + i << 8), 
        arrLiteralLengths[i++] = 8;
        for (i = 0; i < 30; i++) arrDistanceCodes[i] = CompressorHuffmanTree.bitReverse(i << 11), 
        arrDistanceLengths[i] = 5;
    }();
    var crc32Table = [], ZipArchive = function() {
        function ZipArchive() {
            this.files = [], this.level = "Normal", Save.isMicrosoftBrowser = !!navigator.msSaveBlob;
        }
        return Object.defineProperty(ZipArchive.prototype, "compressionLevel", {
            get: function() {
                return this.level;
            },
            set: function(level) {
                this.level = level;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(ZipArchive.prototype, "length", {
            get: function() {
                return void 0 === this.files ? 0 : this.files.length;
            },
            enumerable: !0,
            configurable: !0
        }), ZipArchive.prototype.addItem = function(item) {
            if (null === item || void 0 === item) throw new Error("ArgumentException: item cannot be null or undefined");
            for (var i = 0; i < this.files.length; i++) {
                var file = this.files[i];
                if (file instanceof ZipArchiveItem && file.name === item.name) throw new Error("item with same name already exist");
            }
            this.files.push(item);
        }, ZipArchive.prototype.addDirectory = function(directoryName) {
            if (null === directoryName || void 0 === directoryName) throw new Error("ArgumentException: string cannot be null or undefined");
            if (0 === directoryName.length) throw new Error("ArgumentException: string cannot be empty");
            if ("/" !== directoryName.slice(-1) && (directoryName += "/"), -1 !== this.files.indexOf(directoryName)) throw new Error("item with same name already exist");
            this.files.push(directoryName);
        }, ZipArchive.prototype.getItem = function(index) {
            if (index >= 0 && index < this.files.length) return this.files[index];
        }, ZipArchive.prototype.contains = function(item) {
            return -1 !== this.files.indexOf(item);
        }, ZipArchive.prototype.save = function(fileName) {
            if (null === fileName || void 0 === fileName || 0 === fileName.length) throw new Error("ArgumentException: fileName cannot be null or undefined");
            if (0 === this.files.length) throw new Error("InvalidOperation");
            var zipArchive = this;
            return new Promise(function(resolve, reject) {
                zipArchive.saveInternal(fileName, !1).then(function() {
                    resolve(zipArchive);
                });
            });
        }, ZipArchive.prototype.saveAsBlob = function() {
            var zipArchive = this;
            return new Promise(function(resolve, reject) {
                zipArchive.saveInternal("", !0).then(function(blob) {
                    resolve(blob);
                });
            });
        }, ZipArchive.prototype.saveInternal = function(fileName, skipFileSave) {
            var _this = this, zipArchive = this;
            return new Promise(function(resolve, reject) {
                for (var zipData = [], dirLength = 0, i = 0; i < zipArchive.files.length; i++) {
                    _this.getCompressedData(_this.files[i]).then(function(data) {
                        if (dirLength = zipArchive.constructZippedObject(zipData, data, dirLength, data.isDirectory), 
                        zipData.length === zipArchive.files.length) {
                            var blob = zipArchive.writeZippedContent(fileName, zipData, dirLength, skipFileSave);
                            resolve(blob);
                        }
                    });
                }
            });
        }, ZipArchive.prototype.destroy = function() {
            if (void 0 !== this.files && this.files.length > 0) {
                for (var i = 0; i < this.files.length; i++) {
                    var file = this.files[i];
                    file instanceof ZipArchiveItem && file.destroy(), file = void 0;
                }
                this.files = [];
            }
            this.files = void 0, this.level = void 0;
        }, ZipArchive.prototype.getCompressedData = function(item) {
            var zipArchive = this;
            return new Promise(function(resolve, reject) {
                if (item instanceof ZipArchiveItem) {
                    var reader_1 = new FileReader();
                    reader_1.onload = function() {
                        var input = new Uint8Array(reader_1.result), data = {
                            fileName: item.name,
                            crc32Value: 0,
                            compressedData: [],
                            compressedSize: void 0,
                            uncompressedDataSize: input.length,
                            compressionType: void 0,
                            isDirectory: !1
                        };
                        if ("Normal" === zipArchive.level) {
                            zipArchive.compressData(input, data, crc32Table);
                            for (var length_1 = 0, i = 0; i < data.compressedData.length; i++) length_1 += data.compressedData[i].length;
                            data.compressedSize = length_1, data.compressionType = "\b\0";
                        } else data.compressedSize = input.length, data.crc32Value = zipArchive.calculateCrc32Value(0, input, crc32Table), 
                        data.compressionType = "\0\0", data.compressedData.push(input);
                        resolve(data);
                    }, reader_1.readAsArrayBuffer(item.data);
                } else {
                    resolve({
                        fileName: item,
                        crc32Value: 0,
                        compressedData: "",
                        compressedSize: 0,
                        uncompressedDataSize: 0,
                        compressionType: "\0\0",
                        isDirectory: !0
                    });
                }
            });
        }, ZipArchive.prototype.compressData = function(input, data, crc32Table) {
            var compressor = new CompressedStreamWriter(!0), currentIndex = 0, nextIndex = 0;
            do {
                if (currentIndex >= input.length) {
                    compressor.close();
                    break;
                }
                nextIndex = Math.min(input.length, currentIndex + 16384);
                var subArray = input.subarray(currentIndex, nextIndex);
                data.crc32Value = this.calculateCrc32Value(data.crc32Value, subArray, crc32Table), 
                compressor.write(subArray, 0, nextIndex - currentIndex), currentIndex = nextIndex;
            } while (currentIndex <= input.length);
            data.compressedData = compressor.compressedData, compressor.destroy();
        }, ZipArchive.prototype.constructZippedObject = function(zipParts, data, dirLength, isDirectory) {
            var extFileAttr = 0, date = new Date();
            isDirectory && (extFileAttr |= 16), extFileAttr |= 0;
            var header = this.writeHeader(data, date), localHeader = "PK" + header + data.fileName, centralDir = this.writeCentralDirectory(data, header, dirLength, extFileAttr);
            return zipParts.push({
                localHeader: localHeader,
                centralDir: centralDir,
                compressedData: data
            }), dirLength + localHeader.length + data.compressedSize;
        }, ZipArchive.prototype.writeHeader = function(data, date) {
            var zipHeader = "";
            return zipHeader += "\n\0\0\0", zipHeader += data.compressionType, zipHeader += this.getBytes(this.getModifiedTime(date), 2), 
            zipHeader += this.getBytes(this.getModifiedDate(date), 2), zipHeader += this.getBytes(data.crc32Value, 4), 
            zipHeader += this.getBytes(data.compressedSize, 4), zipHeader += this.getBytes(data.uncompressedDataSize, 4), 
            zipHeader += this.getBytes(data.fileName.length, 2), zipHeader += this.getBytes(0, 2);
        }, ZipArchive.prototype.writeZippedContent = function(fileName, zipData, localDirLen, skipFileSave) {
            for (var cenDirLen = 0, buffer = [], i = 0; i < zipData.length; i++) {
                var item = zipData[i];
                for (cenDirLen += item.centralDir.length, buffer.push(this.getArrayBuffer(item.localHeader)); item.compressedData.compressedData.length; ) buffer.push(item.compressedData.compressedData.shift().buffer);
            }
            for (i = 0; i < zipData.length; i++) buffer.push(this.getArrayBuffer(zipData[i].centralDir));
            buffer.push(this.getArrayBuffer(this.writeFooter(zipData, cenDirLen, localDirLen)));
            var blob = new Blob(buffer, {
                type: "application/zip"
            });
            return skipFileSave || Save.save(fileName, blob), blob;
        }, ZipArchive.prototype.writeCentralDirectory = function(data, localHeader, offset, externalFileAttribute) {
            return "PK" + this.getBytes(20, 2) + localHeader + this.getBytes(0, 2) + "\0\0\0\0" + this.getBytes(externalFileAttribute, 4) + this.getBytes(offset, 4) + data.fileName;
        }, ZipArchive.prototype.writeFooter = function(zipData, centralLength, localLength) {
            return "PK\0\0\0\0" + this.getBytes(zipData.length, 2) + this.getBytes(zipData.length, 2) + this.getBytes(centralLength, 4) + this.getBytes(localLength, 4) + this.getBytes(0, 2);
        }, ZipArchive.prototype.getArrayBuffer = function(input) {
            for (var a = new Uint8Array(input.length), j = 0; j < input.length; ++j) a[j] = 255 & input.charCodeAt(j);
            return a.buffer;
        }, ZipArchive.prototype.getBytes = function(value, offset) {
            for (var bytes = "", i = 0; i < offset; i++) bytes += String.fromCharCode(255 & value), 
            value >>>= 8;
            return bytes;
        }, ZipArchive.prototype.getModifiedTime = function(date) {
            var modTime = date.getHours();
            return modTime <<= 6, modTime |= date.getMinutes(), modTime <<= 5, modTime |= date.getSeconds() / 2;
        }, ZipArchive.prototype.getModifiedDate = function(date) {
            var modiDate = date.getFullYear() - 1980;
            return modiDate <<= 4, modiDate |= date.getMonth() + 1, modiDate <<= 5, modiDate |= date.getDate();
        }, ZipArchive.prototype.calculateCrc32Value = function(crc32Value, input, crc32Table) {
            crc32Value ^= -1;
            for (var i = 0; i < input.length; i++) crc32Value = crc32Value >>> 8 ^ crc32Table[255 & (crc32Value ^ input[i])];
            return -1 ^ crc32Value;
        }, ZipArchive;
    }(), ZipArchiveItem = function() {
        function ZipArchiveItem(data, itemName) {
            if (null === data || void 0 === data) throw new Error("ArgumentException: data cannot be null or undefined");
            if (null === itemName || void 0 === itemName) throw new Error("ArgumentException: string cannot be null or undefined");
            if (0 === itemName.length) throw new Error("string cannot be empty");
            this.data = data, this.name = itemName;
        }
        return Object.defineProperty(ZipArchiveItem.prototype, "name", {
            get: function() {
                return this.fileName;
            },
            set: function(value) {
                this.fileName = value;
            },
            enumerable: !0,
            configurable: !0
        }), ZipArchiveItem.prototype.destroy = function() {
            this.fileName = void 0, this.data = void 0;
        }, ZipArchiveItem;
    }();
    !function() {
        for (var i, j = 0; j < 256; j++) {
            i = j;
            for (var k = 0; k < 8; k++) i = 1 & i ? 3988292384 ^ i >>> 1 : i >>> 1;
            crc32Table[j] = i;
        }
    }();
    var InternalEnum, _compression = Object.freeze({
        ZipArchive: ZipArchive,
        ZipArchiveItem: ZipArchiveItem,
        CompressedStreamWriter: CompressedStreamWriter,
        CompressorHuffmanTree: CompressorHuffmanTree,
        ChecksumCalculator: ChecksumCalculator
    }), CellStyle = function() {
        return function() {
            this.numFmtId = 0, this.backColor = "none", this.fontName = "Calibri", this.fontSize = 14, 
            this.fontColor = "#000000", this.italic = !1, this.bold = !1, this.underline = !1, 
            this.wrapText = !1, this.hAlign = "general", this.vAlign = "bottom", this.numberFormat = "GENERAL", 
            this.type = "datetime", this.borders = new Borders(), this.isGlobalStyle = !1;
        };
    }(), Font = function() {
        return function() {
            this.sz = 14, this.name = "Calibri", this.u = !1, this.b = !1, this.i = !1, this.color = "FF000000";
        };
    }(), CellXfs = function() {
        return function() {};
    }(), Alignment = function() {
        return function() {};
    }(), CellStyleXfs = function() {
        return function() {};
    }(), CellStyles = function() {
        return function() {
            this.name = "Normal", this.xfId = 0;
        };
    }(), NumFmt = function() {
        return function(id, code) {
            this.numFmtId = id, this.formatCode = code;
        };
    }(), Border = function() {
        return function(mLine, mColor) {
            this.lineStyle = mLine, this.color = mColor;
        };
    }(), Borders = function() {
        return function() {
            this.left = new Border("none", "#FFFFFF"), this.right = new Border("none", "#FFFFFF"), 
            this.top = new Border("none", "#FFFFFF"), this.bottom = new Border("none", "#FFFFFF"), 
            this.all = new Border("none", "#FFFFFF");
        };
    }(), __extends$33 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), Cell$1 = function() {
        return function() {};
    }(), Cells = function(_super) {
        function Cells() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.add = function(cell) {
                for (var inserted = !1, count = 0, _i = 0, _a = _this; _i < _a.length; _i++) {
                    _a[_i].index === cell.index && (_this[count] = cell, inserted = !0), count++;
                }
                inserted || _this.push(cell);
            }, _this;
        }
        return __extends$33(Cells, _super), Cells;
    }(Array), Column$1 = function() {
        return function() {};
    }(), __extends$1$8 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), Row$1 = function() {
        return function() {};
    }(), Rows = function(_super) {
        function Rows() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.add = function(row) {
                for (var inserted = !1, count = 0, _i = 0, _a = _this; _i < _a.length; _i++) {
                    _a[_i].index === row.index && (_this[count] = row, inserted = !0), count++;
                }
                inserted || _this.push(row);
            }, _this;
        }
        return __extends$1$8(Rows, _super), Rows;
    }(Array), __extends$2$8 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), Worksheets = function(_super) {
        function Worksheets() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$2$8(Worksheets, _super), Worksheets;
    }(Array), __extends$3$6 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), Worksheet = function() {
        return function() {
            this.isSummaryRowBelow = !0;
        };
    }(), HyperLink = function() {
        return function() {};
    }(), Grouping = function() {
        return function() {};
    }(), FreezePane = function() {
        return function() {};
    }(), MergeCell = function() {
        return function() {};
    }(), MergeCells = function(_super) {
        function MergeCells() {
            var _this = null !== _super && _super.apply(this, arguments) || this;
            return _this.add = function(mergeCell) {
                for (var inserted = !1, count = 0, _i = 0, _a = _this; _i < _a.length; _i++) {
                    var mCell = _a[_i];
                    if (MergeCells.isIntersecting(mCell, mergeCell)) {
                        var intersectingCell = new MergeCell();
                        intersectingCell.x = Math.min(mCell.x, mergeCell.x), intersectingCell.y = Math.min(mCell.Y, mergeCell.y), 
                        intersectingCell.width = Math.max(mCell.Width + mCell.X, mergeCell.width + mergeCell.x), 
                        intersectingCell.height = Math.max(mCell.Height + mCell.Y, mergeCell.height + mergeCell.y), 
                        intersectingCell.ref = _this[count].ref.split(":")[0] + ":" + mergeCell.ref.split(":")[1], 
                        _this[count] = intersectingCell, inserted = !0;
                    }
                    count++;
                }
                inserted || _this.push(mergeCell);
            }, _this;
        }
        return __extends$3$6(MergeCells, _super), MergeCells.isIntersecting = function(base, compare) {
            return base.x <= compare.x + compare.width && compare.x <= base.x + base.width && base.y <= compare.y + compare.height && compare.y <= base.y + base.height;
        }, MergeCells;
    }(Array), ValueFormatter$1 = function() {
        function ValueFormatter(cultureName) {
            this.intl = new Internationalization();
        }
        return ValueFormatter.prototype.getFormatFunction = function(format) {
            return format.type ? this.intl.getDateFormat(format) : this.intl.getNumberFormat(format);
        }, ValueFormatter.prototype.toView = function(value, format) {
            var result = value;
            return isNullOrUndefined(format) || isNullOrUndefined(value) || (result = format(value)), 
            result;
        }, ValueFormatter.prototype.displayText = function(value, format) {
            return this.toView(value, this.getFormatFunction(format));
        }, ValueFormatter;
    }(), CsvHelper = function() {
        function CsvHelper(json) {
            if (this.csvStr = "", this.formatter = new ValueFormatter$1(), this.isMicrosoftBrowser = !!navigator.msSaveBlob, 
            null !== json.styles && void 0 !== json.styles) {
                this.globalStyles = new Map();
                for (var i = 0; i < json.styles.length; i++) void 0 !== json.styles[i].name && void 0 !== json.styles[i].numberFormat && this.globalStyles.set(json.styles[i].name, json.styles[i].numberFormat);
            }
            null !== json.worksheets && void 0 !== json.worksheets && this.parseWorksheet(json.worksheets[0]);
        }
        return CsvHelper.prototype.parseWorksheet = function(json) {
            null !== json.rows && void 0 !== json.rows && this.parseRows(json.rows);
        }, CsvHelper.prototype.parseRows = function(rows) {
            for (var count = 1, _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {
                var row = rows_1[_i];
                if (null === row.index || void 0 === row.index) throw Error("Row index is missing.");
                for (;count < row.index; ) this.csvStr += "\n", count++;
                this.parseRow(row);
            }
        }, CsvHelper.prototype.parseRow = function(row) {
            if (null !== row.cells && void 0 !== row.cells) for (var count = 1, _i = 0, _a = row.cells; _i < _a.length; _i++) {
                var cell = _a[_i];
                if (null === cell.index || void 0 === cell.index) throw Error("Cell index is missing.");
                for (;count < cell.index; ) this.csvStr += ",", count++;
                this.parseCell(cell);
            }
        }, CsvHelper.prototype.parseCell = function(cell) {
            var csv = this.csvStr;
            void 0 !== cell.value && (cell.value instanceof Date ? void 0 !== cell.style && void 0 !== cell.style.numberFormat ? csv += this.parseCellValue(this.formatter.displayText(cell.value, {
                type: "dateTime",
                skeleton: cell.style.numberFormat
            })) : void 0 !== cell.style && void 0 !== cell.style.name && this.globalStyles.has(cell.style.name) ? csv += this.parseCellValue(this.formatter.displayText(cell.value, {
                type: "dateTime",
                skeleton: this.globalStyles.get(cell.style.name)
            })) : csv += cell.value : "boolean" == typeof cell.value ? csv += cell.value ? "TRUE" : "FALSE" : "number" == typeof cell.value ? void 0 !== cell.style && void 0 !== cell.style.numberFormat ? csv += this.parseCellValue(this.formatter.displayText(cell.value, {
                format: cell.style.numberFormat
            })) : void 0 !== cell.style && void 0 !== cell.style.name && this.globalStyles.has(cell.style.name) ? csv += this.parseCellValue(this.formatter.displayText(cell.value, {
                format: this.globalStyles.get(cell.style.name)
            })) : csv += cell.value : csv += this.parseCellValue(cell.value)), this.csvStr = csv;
        }, CsvHelper.prototype.parseCellValue = function(value) {
            return -1 !== value.indexOf(",") ? value = '"' + value + '"' : value;
        }, CsvHelper.prototype.save = function(fileName) {
            if (this.buffer = new Blob([ this.csvStr ], {
                type: "text/plain"
            }), this.isMicrosoftBrowser) navigator.msSaveBlob(this.buffer, fileName); else {
                var dataUrl_1 = window.URL.createObjectURL(this.buffer), dwlLink = document.createElementNS("http://www.w3.org/1999/xhtml", "a");
                dwlLink.download = fileName, dwlLink.href = dataUrl_1;
                var event_1 = document.createEvent("MouseEvent");
                event_1.initEvent("click", !0, !0), dwlLink.dispatchEvent(event_1), setTimeout(function() {
                    window.URL.revokeObjectURL(dataUrl_1);
                });
            }
        }, CsvHelper.prototype.saveAsBlob = function() {
            return new Blob([ this.csvStr ], {
                type: "text/csv"
            });
        }, CsvHelper;
    }(), BlobHelper = function() {
        function BlobHelper() {
            this.parts = [];
        }
        return BlobHelper.prototype.append = function(part) {
            this.parts.push(part), this.blob = void 0;
        }, BlobHelper.prototype.getBlob = function() {
            return new Blob(this.parts, {
                type: "text/plain"
            });
        }, BlobHelper;
    }(), Workbook = function() {
        function Workbook(json, saveType, culture) {
            if (this.sharedStringCount = 0, this.unitsProportions = [ 1.28, .32, 96, 96 / 25.4, 96 / 2.54, 1, 96 / 72, 96 / 72 / 12700 ], 
            this.hyperlinkStyle = {
                fontColor: "#0000FF",
                underline: !0
            }, this.culture = void 0 !== culture ? culture : "en-US", this.intl = new Internationalization(this.culture), 
            this.mSaveType = saveType, "xlsx" === saveType) {
                if (this.mArchive = new ZipArchive(), this.sharedString = [], this.mFonts = [], 
                this.mBorders = [], this.mStyles = [], this.printTitles = new Map(), this.cellStyles = new Map(), 
                this.mNumFmt = new Map(), this.mFills = new Map(), this.mStyles.push(new CellStyle()), 
                this.mFonts.push(new Font()), this.cellStyles.set("Normal", new CellStyles()), this.mCellXfs = [], 
                this.mCellStyleXfs = [], null !== json.styles && void 0 !== json.styles) {
                    this.globalStyles = new Map();
                    for (var i = 0; i < json.styles.length; i++) if (void 0 !== json.styles[i].name) {
                        if (this.cellStyles.has(json.styles[i].name)) throw Error("Style name " + json.styles[i].name + " is already existed");
                        var cellStyle = new CellStyle();
                        cellStyle.isGlobalStyle = !0, this.parserCellStyle(json.styles[i], cellStyle, "none");
                        var cellStyles = new CellStyles();
                        cellStyles.name = cellStyle.name, cellStyles.xfId = cellStyle.index, this.cellStyles.set(cellStyles.name, cellStyles);
                        var tFormat = {};
                        void 0 !== json.styles[i].numberFormat && (tFormat.format = json.styles[i].numberFormat), 
                        void 0 !== json.styles[i].type ? tFormat.type = json.styles[i].type : tFormat.type = "datetime", 
                        void 0 !== tFormat.format && this.globalStyles.set(json.styles[i].name, tFormat);
                    }
                }
                if (null === json.worksheets || void 0 === json.worksheets) throw Error("Worksheet is expected.");
                this.parserWorksheets(json.worksheets), null !== json.builtInProperties && void 0 !== json.builtInProperties && (this.builtInProperties = new BuiltInProperties(), 
                this.parserBuiltInProperties(json.builtInProperties, this.builtInProperties));
            } else this.csvHelper = new CsvHelper(json);
        }
        return Workbook.prototype.parserBuiltInProperties = function(jsonBuiltInProperties, builtInProperties) {
            null !== jsonBuiltInProperties.author && void 0 !== jsonBuiltInProperties.author && (builtInProperties.author = jsonBuiltInProperties.author), 
            null !== jsonBuiltInProperties.comments && void 0 !== jsonBuiltInProperties.comments && (builtInProperties.comments = jsonBuiltInProperties.comments), 
            null !== jsonBuiltInProperties.category && void 0 !== jsonBuiltInProperties.category && (builtInProperties.category = jsonBuiltInProperties.category), 
            null !== jsonBuiltInProperties.company && void 0 !== jsonBuiltInProperties.company && (builtInProperties.company = jsonBuiltInProperties.company), 
            null !== jsonBuiltInProperties.manager && void 0 !== jsonBuiltInProperties.manager && (builtInProperties.manager = jsonBuiltInProperties.manager), 
            null !== jsonBuiltInProperties.subject && void 0 !== jsonBuiltInProperties.subject && (builtInProperties.subject = jsonBuiltInProperties.subject), 
            null !== jsonBuiltInProperties.title && void 0 !== jsonBuiltInProperties.title && (builtInProperties.title = jsonBuiltInProperties.title), 
            null !== jsonBuiltInProperties.createdDate && void 0 !== jsonBuiltInProperties.createdDate && (builtInProperties.createdDate = jsonBuiltInProperties.createdDate), 
            null !== jsonBuiltInProperties.modifiedDate && void 0 !== jsonBuiltInProperties.modifiedDate && (builtInProperties.modifiedDate = jsonBuiltInProperties.modifiedDate), 
            null !== jsonBuiltInProperties.tags && void 0 !== jsonBuiltInProperties.tags && (builtInProperties.tags = jsonBuiltInProperties.tags), 
            null !== jsonBuiltInProperties.status && void 0 !== jsonBuiltInProperties.status && (builtInProperties.status = jsonBuiltInProperties.status);
        }, Workbook.prototype.parserWorksheets = function(json) {
            this.worksheets = new Worksheets();
            for (var length = json.length, i = 0; i < length; i++) {
                var jsonSheet = json[i], sheet = new Worksheet();
                this.mergeCells = new MergeCells(), this.mHyperLinks = [], null !== jsonSheet.name && void 0 !== jsonSheet.name ? sheet.name = jsonSheet.name : sheet.name = "Sheet" + (i + 1).toString(), 
                sheet.index = i + 1, null !== jsonSheet.columns && void 0 !== jsonSheet.columns && this.parserColumns(jsonSheet.columns, sheet), 
                null !== jsonSheet.rows && void 0 !== jsonSheet.rows && this.parserRows(jsonSheet.rows, sheet), 
                null !== jsonSheet.freeze && void 0 !== jsonSheet.freeze && this.parserFreezePanes(jsonSheet.freeze, sheet), 
                null !== jsonSheet.printTitle && void 0 !== jsonSheet.printTitle && this.parserPrintTitle(jsonSheet.printTitle, sheet), 
                void 0 !== jsonSheet.pageSetup && void 0 !== jsonSheet.pageSetup.isSummaryRowBelow && (sheet.isSummaryRowBelow = jsonSheet.pageSetup.isSummaryRowBelow), 
                sheet.index = i + 1, sheet.mergeCells = this.mergeCells, sheet.hyperLinks = this.mHyperLinks, 
                this.worksheets.push(sheet);
            }
        }, Workbook.prototype.mergeOptions = function(fromJson, toJson) {
            var result = {};
            return this.applyProperties(fromJson, result), this.applyProperties(toJson, result), 
            result;
        }, Workbook.prototype.applyProperties = function(sourceJson, destJson) {
            for (var keys = Object.keys(sourceJson), index = 0; index < keys.length; index++) "name" !== keys[index] && (destJson[keys[index]] = sourceJson[keys[index]]);
        }, Workbook.prototype.getCellName = function(row, column) {
            return this.getColumnName(column) + row.toString();
        }, Workbook.prototype.getColumnName = function(col) {
            col--;
            var strColumnName = "";
            do {
                var iCurrentDigit = col % 26;
                col = col / 26 - 1, strColumnName = String.fromCharCode(65 + iCurrentDigit) + strColumnName;
            } while (col >= 0);
            return strColumnName;
        }, Workbook.prototype.parserPrintTitle = function(json, sheet) {
            var titleRowName, printTitleName = "";
            if (null !== json.fromRow && void 0 !== json.fromRow) {
                titleRowName = "$" + json.fromRow + ":$" + (null !== json.toRow && void 0 !== json.toRow ? json.toRow : json.fromRow);
            }
            var titleColName;
            if (null !== json.fromColumn && void 0 !== json.fromColumn) {
                var fromColumn = json.fromColumn, toColumn = void 0;
                toColumn = null !== json.toColumn && void 0 !== json.toColumn ? json.toColumn : json.fromColumn, 
                titleColName = "$" + this.getColumnName(fromColumn) + ":$" + this.getColumnName(toColumn);
            }
            void 0 !== titleRowName && (printTitleName += sheet.name + "!" + titleRowName), 
            void 0 !== titleColName && void 0 !== titleRowName ? printTitleName += "," + sheet.name + "!" + titleColName : void 0 !== titleColName && (printTitleName += sheet.name + "!" + titleColName), 
            "" !== printTitleName && this.printTitles.set(sheet.index - 1, printTitleName);
        }, Workbook.prototype.parserFreezePanes = function(json, sheet) {
            sheet.freezePanes = new FreezePane(), null !== json.row && void 0 !== json.row ? sheet.freezePanes.row = json.row : sheet.freezePanes.row = 0, 
            null !== json.column && void 0 !== json.column ? sheet.freezePanes.column = json.column : sheet.freezePanes.column = 0, 
            sheet.freezePanes.leftCell = this.getCellName(sheet.freezePanes.row + 1, sheet.freezePanes.column + 1);
        }, Workbook.prototype.parserColumns = function(json, sheet) {
            var columnsLength = json.length;
            sheet.columns = [];
            for (var column = 0; column < columnsLength; column++) {
                var col = new Column$1();
                if (null === json[column].index || void 0 === json[column].index) throw Error("Column index is missing.");
                col.index = json[column].index, null !== json[column].width && void 0 !== json[column].width && (col.width = json[column].width), 
                sheet.columns.push(col);
            }
        }, Workbook.prototype.parserRows = function(json, sheet) {
            var rowsLength = json.length;
            sheet.rows = new Rows();
            for (var rowId = 0, r = 0; r < rowsLength; r++) {
                var row = this.parserRow(json[r], rowId);
                rowId = row.index, sheet.rows.add(row);
            }
        }, Workbook.prototype.parserRow = function(json, rowIndex) {
            var row = new Row$1();
            if (null !== json.height && void 0 !== json.height && (row.height = json.height), 
            null === json.index || void 0 === json.index) throw Error("Row index is missing.");
            return row.index = json.index, null !== json.grouping && void 0 !== json.grouping && this.parseGrouping(json.grouping, row), 
            this.parseCells(json.cells, row), row;
        }, Workbook.prototype.parseGrouping = function(json, row) {
            row.grouping = new Grouping(), void 0 !== json.outlineLevel && (row.grouping.outlineLevel = json.outlineLevel), 
            void 0 !== json.isCollapsed && (row.grouping.isCollapsed = json.isCollapsed), void 0 !== json.isHidden && (row.grouping.isHidden = json.isHidden);
        }, Workbook.prototype.parseCells = function(json, row) {
            row.cells = new Cells();
            for (var cellsLength = void 0 !== json ? json.length : 0, spanMin = 1, spanMax = 1, cellId = 0; cellId < cellsLength; cellId++) {
                var jsonCell = json[cellId], cell = new Cell$1();
                if (null === jsonCell.index || void 0 === jsonCell.index) throw Error("Cell index is missing.");
                if (cell.index = jsonCell.index, cell.index < spanMin ? spanMin = cell.index : cell.index > spanMax && (spanMax = cell.index), 
                cell.refName = this.getCellName(row.index, cell.index), null !== jsonCell.rowSpan && void 0 !== jsonCell.rowSpan ? cell.rowSpan = jsonCell.rowSpan - 1 : cell.rowSpan = 0, 
                null !== jsonCell.colSpan && void 0 !== jsonCell.colSpan ? cell.colSpan = jsonCell.colSpan - 1 : cell.colSpan = 0, 
                this.mergeCells = this.processMergeCells(cell, row.index, this.mergeCells), null !== jsonCell.hyperlink && void 0 !== jsonCell.hyperlink) {
                    var hyperLink = new HyperLink();
                    void 0 !== jsonCell.hyperlink.target && (hyperLink.target = jsonCell.hyperlink.target, 
                    void 0 !== jsonCell.hyperlink.displayText ? cell.value = jsonCell.hyperlink.displayText : cell.value = jsonCell.hyperlink.target, 
                    cell.type = this.getCellValueType(cell.value), hyperLink.ref = cell.refName, hyperLink.rId = this.mHyperLinks.length + 1, 
                    this.mHyperLinks.push(hyperLink), cell.cellStyle = new CellStyle(), this.parserCellStyle(void 0 !== jsonCell.style ? this.mergeOptions(jsonCell.style, this.hyperlinkStyle) : this.hyperlinkStyle, cell.cellStyle, "string"), 
                    cell.styleIndex = cell.cellStyle.index);
                }
                null !== jsonCell.value && void 0 !== jsonCell.value && (cell.value = jsonCell.value, 
                cell.type = this.getCellValueType(cell.value)), null !== jsonCell.style && void 0 !== jsonCell.style && void 0 === cell.styleIndex ? (cell.cellStyle = new CellStyle(), 
                cell.value instanceof Date ? this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type, 14) : this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type), 
                cell.styleIndex = cell.cellStyle.index) : cell.value instanceof Date && (cell.cellStyle = new CellStyle(), 
                this.parserCellStyle({}, cell.cellStyle, cell.type, 14), cell.styleIndex = cell.cellStyle.index), 
                this.parseCellType(cell), row.cells.add(cell);
            }
            row.spans = spanMin + ":" + spanMax;
        }, Workbook.prototype.applyGlobalStyle = function(json, cellStyle) {
            var index = 0;
            if (this.cellStyles.has(json.name)) {
                index = this.cellStyles.get(json.name).xfId;
                var cellStyleXfs = this.mCellStyleXfs[index - 1];
                cellStyle.name = json.name;
                var compareResult = this.compareStyleXfs(cellStyleXfs);
                if (compareResult.result) cellStyle.index = compareResult.index; else {
                    var cellXfs = new CellXfs();
                    cellXfs.alignment = cellStyleXfs.alignment, cellXfs.applyAlignment = cellStyleXfs.applyAlignment, 
                    cellXfs.borderId = cellStyleXfs.borderId, cellXfs.fillId = cellStyleXfs.fillId, 
                    cellXfs.fontId = cellStyleXfs.fontId, cellXfs.numFmtId = cellStyleXfs.numFmtId, 
                    cellXfs.xfId = index, this.mCellXfs.push(cellXfs), this.mStyles.push(cellStyle), 
                    cellStyle.index = this.mCellXfs.length;
                }
            }
        }, Workbook.prototype.compareStyleXfs = function(toCompareStyle) {
            for (var result = !1, index = 1, _i = 0, _a = this.mCellXfs; _i < _a.length; _i++) {
                var baseStyle = _a[_i];
                if (result = baseStyle.alignment === toCompareStyle.alignment && baseStyle.borderId === toCompareStyle.borderId && baseStyle.numFmtId === toCompareStyle.numFmtId && baseStyle.fillId === toCompareStyle.fillId && baseStyle.fontId === toCompareStyle.fontId) break;
                index++;
            }
            return {
                index: index,
                result: result
            };
        }, Workbook.prototype.parserCellStyle = function(json, cellStyle, cellType, defStyleIndex) {
            if (null !== json.name && void 0 !== json.name) {
                if (!cellStyle.isGlobalStyle) return void this.applyGlobalStyle(json, cellStyle);
                cellStyle.name = json.name;
            }
            null !== json.backColor && void 0 !== json.backColor && (cellStyle.backColor = json.backColor), 
            cellStyle.borders = new Borders(), null !== json.borders && void 0 !== json.borders && this.parserBorder(json.borders, cellStyle.borders.all), 
            null !== json.leftBorder && void 0 !== json.leftBorder && this.parserBorder(json.leftBorder, cellStyle.borders.left), 
            null !== json.rightBorder && void 0 !== json.rightBorder && this.parserBorder(json.rightBorder, cellStyle.borders.right), 
            null !== json.topBorder && void 0 !== json.topBorder && this.parserBorder(json.topBorder, cellStyle.borders.top), 
            null !== json.bottomBorder && void 0 !== json.bottomBorder && this.parserBorder(json.bottomBorder, cellStyle.borders.bottom), 
            null !== json.fontName && void 0 !== json.fontName && (cellStyle.fontName = json.fontName), 
            null !== json.fontSize && void 0 !== json.fontSize && (cellStyle.fontSize = json.fontSize), 
            null !== json.fontColor && void 0 !== json.fontColor && (cellStyle.fontColor = json.fontColor), 
            null !== json.italic && void 0 !== json.italic && (cellStyle.italic = json.italic), 
            null !== json.bold && void 0 !== json.bold && (cellStyle.bold = json.bold), null !== json.hAlign && void 0 !== json.hAlign && (cellStyle.hAlign = json.hAlign), 
            null !== json.vAlign && void 0 !== json.vAlign && (cellStyle.vAlign = json.vAlign), 
            null !== json.underline && void 0 !== json.underline && (cellStyle.underline = json.underline), 
            null !== json.wrapText && void 0 !== json.wrapText && (cellStyle.wrapText = json.wrapText), 
            null !== json.numberFormat && void 0 !== json.numberFormat ? null !== json.type && void 0 !== json.type ? cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, json.type) : cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, cellType) : void 0 !== defStyleIndex ? (cellStyle.numFmtId = 14, 
            cellStyle.numberFormat = "GENERAL") : cellStyle.numberFormat = "GENERAL", cellStyle.index = this.processCellStyle(cellStyle);
        }, Workbook.prototype.switchNumberFormat = function(numberFormat, type) {
            var format = this.getNumberFormat(numberFormat, type);
            if (format !== numberFormat) {
                var numFmt = this.mNumFmt.get(numberFormat);
                if (void 0 !== numFmt && (numFmt.formatCode = format, this.mNumFmt.has(format))) {
                    for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {
                        var cellStyleXfs = _a[_i];
                        cellStyleXfs.numFmtId === numFmt.numFmtId && (cellStyleXfs.numFmtId = this.mNumFmt.get(format).numFmtId);
                    }
                    for (var _b = 0, _c = this.mCellXfs; _b < _c.length; _b++) {
                        var cellXfs = _c[_b];
                        cellXfs.numFmtId === numFmt.numFmtId && (cellXfs.numFmtId = this.mNumFmt.get(format).numFmtId);
                    }
                }
            }
        }, Workbook.prototype.getNumberFormat = function(numberFormat, type) {
            var returnFormat;
            switch (type) {
              case "number":
                try {
                    returnFormat = this.intl.getNumberPattern({
                        format: numberFormat
                    });
                } catch (error) {
                    returnFormat = numberFormat;
                }
                break;

              case "datetime":
                try {
                    returnFormat = this.intl.getDatePattern({
                        skeleton: numberFormat,
                        type: "dateTime"
                    }, !0);
                } catch (error) {
                    returnFormat = numberFormat;
                }
                break;

              case "date":
                try {
                    returnFormat = this.intl.getDatePattern({
                        skeleton: numberFormat,
                        type: "date"
                    }, !0);
                } catch (error) {
                    returnFormat = numberFormat;
                }
                break;

              case "time":
                try {
                    returnFormat = this.intl.getDatePattern({
                        skeleton: numberFormat,
                        type: "time"
                    }, !0);
                } catch (error) {
                    returnFormat = numberFormat;
                }
                break;

              default:
                returnFormat = numberFormat;
            }
            return returnFormat;
        }, Workbook.prototype.parserBorder = function(json, border) {
            null !== json.color && void 0 !== json.color ? border.color = json.color : border.color = "#000000", 
            null !== json.lineStyle && void 0 !== json.lineStyle ? border.lineStyle = json.lineStyle : border.lineStyle = "thin";
        }, Workbook.prototype.processCellStyle = function(style) {
            var compareResult = this.compareStyle(style);
            if (compareResult.result) return compareResult.index;
            this.mStyles.push(style);
            var cellXfs = void 0;
            cellXfs = style.isGlobalStyle ? new CellStyleXfs() : new CellXfs();
            var compareFontResult = this.isNewFont(style);
            if (compareFontResult.result) cellXfs.fontId = compareFontResult.index; else {
                var font = new Font();
                font.b = style.bold, font.i = style.italic, font.name = style.fontName, font.sz = style.fontSize, 
                font.u = style.underline, font.color = "FF" + style.fontColor.replace("#", ""), 
                this.mFonts.push(font), cellXfs.fontId = this.mFonts.length - 1;
            }
            if ("none" !== style.backColor) {
                var backColor = "FF" + style.backColor.replace("#", "");
                if (this.mFills.has(backColor)) {
                    var fillId = this.mFills.get(backColor);
                    cellXfs.fillId = fillId;
                } else {
                    fillId = this.mFills.size + 2;
                    this.mFills.set(backColor, fillId), cellXfs.fillId = fillId;
                }
            } else cellXfs.fillId = 0;
            if (this.isNewBorder(style) ? cellXfs.borderId = 0 : (this.mBorders.push(style.borders), 
            cellXfs.borderId = this.mBorders.length), cellXfs.xfId = 0, "GENERAL" !== style.numberFormat) if (this.mNumFmt.has(style.numberFormat)) {
                var numFmt = this.mNumFmt.get(style.numberFormat);
                cellXfs.numFmtId = numFmt.numFmtId;
            } else {
                var id = this.mNumFmt.size + 164;
                this.mNumFmt.set(style.numberFormat, new NumFmt(id, style.numberFormat)), cellXfs.numFmtId = id;
            } else "GENERAL" === style.numberFormat && 14 === style.numFmtId ? cellXfs.numFmtId = 14 : cellXfs.numFmtId = 0;
            return ("left" !== style.hAlign || "bottom" !== style.vAlign || style.wrapText) && (cellXfs.applyAlignment = 1, 
            cellXfs.alignment = new Alignment(), cellXfs.alignment.horizontal = style.hAlign, 
            cellXfs.alignment.vertical = style.vAlign, cellXfs.alignment.wrapText = style.wrapText ? 1 : 0), 
            style.isGlobalStyle ? (this.mCellStyleXfs.push(cellXfs), this.mCellStyleXfs.length) : (this.mCellXfs.push(cellXfs), 
            this.mCellXfs.length);
        }, Workbook.prototype.isNewFont = function(toCompareStyle) {
            for (var result = !1, index = 0, _i = 0, _a = this.mFonts; _i < _a.length; _i++) {
                var font = _a[_i];
                index++;
                var fontColor = void 0;
                if (void 0 !== toCompareStyle.fontColor && (fontColor = "FF" + toCompareStyle.fontColor.replace("#", "")), 
                result = font.color === fontColor && font.b === toCompareStyle.bold && font.i === toCompareStyle.italic && font.u === toCompareStyle.underline && font.name === toCompareStyle.fontName && font.sz === toCompareStyle.fontSize) break;
            }
            return index -= 1, {
                index: index,
                result: result
            };
        }, Workbook.prototype.isNewBorder = function(toCompareStyle) {
            var bStyle = new CellStyle();
            return this.isAllBorder(toCompareStyle.borders) ? bStyle.borders.all.color === toCompareStyle.borders.all.color && bStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle : bStyle.borders.left.color === toCompareStyle.borders.left.color && bStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle && bStyle.borders.right.color === toCompareStyle.borders.right.color && bStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle && bStyle.borders.top.color === toCompareStyle.borders.top.color && bStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle && bStyle.borders.bottom.color === toCompareStyle.borders.bottom.color && bStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle;
        }, Workbook.prototype.isAllBorder = function(toCompareBorder) {
            var allBorderStyle = new CellStyle();
            return allBorderStyle.borders.all.color !== toCompareBorder.all.color && allBorderStyle.borders.all.lineStyle !== toCompareBorder.all.lineStyle;
        }, Workbook.prototype.compareStyle = function(toCompareStyle) {
            for (var result = !0, index = 0, globalStyleIndex = 0, _i = 0, _a = this.mStyles; _i < _a.length; _i++) {
                var baseStyle = _a[_i];
                if (result = baseStyle.backColor === toCompareStyle.backColor && baseStyle.bold === toCompareStyle.bold && baseStyle.numFmtId === toCompareStyle.numFmtId && baseStyle.numberFormat === toCompareStyle.numberFormat && baseStyle.type === toCompareStyle.type && baseStyle.fontColor === toCompareStyle.fontColor && baseStyle.fontName === toCompareStyle.fontName && baseStyle.fontSize === toCompareStyle.fontSize && baseStyle.hAlign === toCompareStyle.hAlign && baseStyle.italic === toCompareStyle.italic && baseStyle.underline === toCompareStyle.underline && baseStyle.vAlign === toCompareStyle.vAlign && baseStyle.wrapText === toCompareStyle.wrapText && baseStyle.borders.all.color === toCompareStyle.borders.all.color && baseStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle && baseStyle.borders.left.color === toCompareStyle.borders.left.color && baseStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle && baseStyle.borders.right.color === toCompareStyle.borders.right.color && baseStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle && baseStyle.borders.top.color === toCompareStyle.borders.top.color && baseStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle && baseStyle.borders.bottom.color === toCompareStyle.borders.bottom.color && baseStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle) break;
                baseStyle.isGlobalStyle ? globalStyleIndex++ : index++;
            }
            return toCompareStyle.isGlobalStyle && (index = globalStyleIndex + 1), {
                index: index,
                result: result
            };
        }, Workbook.prototype.contains = function(array, item) {
            var index = array.indexOf(item);
            return index > -1 && index < array.length;
        }, Workbook.prototype.getCellValueType = function(value) {
            return value instanceof Date ? "datetime" : "boolean" == typeof value ? "boolean" : "number" == typeof value ? "number" : "string";
        }, Workbook.prototype.parseCellType = function(cell) {
            var saveType, type = cell.type, value = cell.value;
            switch (type) {
              case "datetime":
                if (value = this.toOADate(value), void 0 !== cell.cellStyle && void 0 !== cell.cellStyle.name && this.globalStyles.has(cell.cellStyle.name)) {
                    var value_1 = this.globalStyles.get(cell.cellStyle.name);
                    this.switchNumberFormat(value_1.format, value_1.type);
                }
                saveType = "n";
                break;

              case "boolean":
                value = value ? 1 : 0, saveType = "b";
                break;

              case "number":
                saveType = "n", void 0 !== cell.cellStyle && void 0 !== cell.cellStyle.name && this.globalStyles.has(cell.cellStyle.name) && this.switchNumberFormat(this.globalStyles.get(cell.cellStyle.name).format, "number");
                break;

              case "string":
                this.sharedStringCount++, saveType = "s", this.contains(this.sharedString, value) || this.sharedString.push(value), 
                value = this.sharedString.indexOf(value);
            }
            cell.saveType = saveType, cell.value = value;
        }, Workbook.prototype.saveAsBlob = function(blobSaveType) {
            var _this = this;
            switch (blobSaveType) {
              case "text/csv":
                return new Promise(function(resolve, reject) {
                    var obj = {};
                    obj.blobData = _this.csvHelper.saveAsBlob(), resolve(obj);
                });

              default:
                return new Promise(function(resolve, reject) {
                    _this.saveInternal(), _this.mArchive.saveAsBlob().then(function(blob) {
                        var obj = {};
                        obj.blobData = new Blob([ blob ], {
                            type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
                        }), resolve(obj);
                    });
                });
            }
        }, Workbook.prototype.save = function(fileName, proxyUrl) {
            var _this = this;
            if (null === fileName || void 0 === fileName || "" === fileName) throw new Error("Argument Null Exception: fileName cannot be null or empty");
            var xlsxMatch = fileName.match(".xlsx$"), csvMatch = fileName.match(".csv$");
            if (null !== xlsxMatch && xlsxMatch[0] === "." + this.mSaveType) this.saveInternal(), 
            this.mArchive.save(fileName).then(function() {
                _this.mArchive.destroy();
            }); else {
                if (null === csvMatch || csvMatch[0] !== "." + this.mSaveType) throw Error("Save type and file extension is different.");
                this.csvHelper.save(fileName);
            }
        }, Workbook.prototype.saveInternal = function() {
            this.saveWorkbook(), this.saveWorksheets(), this.saveSharedString(), this.saveStyles(), 
            this.saveApp(this.builtInProperties), this.saveCore(this.builtInProperties), this.saveContentType(), 
            this.saveTopLevelRelation(), this.saveWorkbookRelation();
        }, Workbook.prototype.saveWorkbook = function() {
            for (var workbookTemp = '<?xml version="1.0" encoding="utf-8"?><workbook xmlns:r = "http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns= "http://schemas.openxmlformats.org/spreadsheetml/2006/main"><workbookPr codeName="ThisWorkbook" defaultThemeVersion= "153222"/><bookViews><workbookView activeTab="0"/></bookViews>', sheets = "<sheets>", length = this.worksheets.length, i = 0; i < length; i++) sheets += '<sheet name="' + this.worksheets[i].name + '" sheetId="' + (i + 1).toString() + '" r:id ="rId' + (i + 1).toString() + '" />';
            if (sheets += "</sheets>", workbookTemp += sheets, this.printTitles.size > 0) {
                var printTitle_1 = "<definedNames>";
                this.printTitles.forEach(function(value, key) {
                    printTitle_1 += '<definedName name="_xlnm.Print_Titles" localSheetId="' + key + '">' + value + "</definedName>";
                }), workbookTemp += printTitle_1 += "</definedNames>";
            }
            this.addToArchive(workbookTemp + "</workbook>", "xl/workbook.xml");
        }, Workbook.prototype.saveWorksheets = function() {
            for (var length = this.worksheets.length, i = 0; i < length; i++) this.saveWorksheet(this.worksheets[i], i);
        }, Workbook.prototype.saveWorksheet = function(sheet, index) {
            var sheetBlob = new BlobHelper(), sheetString = '<?xml version="1.0" encoding="utf-8" standalone="yes"?><worksheet xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';
            if (sheet.isSummaryRowBelow ? sheetString += "<sheetPr />" : sheetString += '<sheetPr><outlinePr summaryBelow="0" ></outlinePr></sheetPr>', 
            void 0 !== sheet.freezePanes && (sheetString += this.saveFreezePanes(sheet)), void 0 !== sheet.columns) {
                for (var colString = "<cols>", _i = 0, _a = sheet.columns; _i < _a.length; _i++) {
                    var column = _a[_i];
                    void 0 !== column.width ? colString += '<col min="' + column.index + '" max="' + column.index + '" width="' + this.pixelsToColumnWidth(column.width) + '" customWidth="1" />' : colString += '<col min="' + column.index + '" max="' + column.index + '" width="8.43" customWidth="1" />';
                }
                sheetString += colString + "</cols>";
            }
            if (sheetString += "<sheetData>", sheetBlob.append(sheetString), sheetString = "", 
            void 0 !== sheet.rows) for (var _b = 0, _c = sheet.rows; _b < _c.length; _b++) {
                var row = _c[_b], rowString = '<row r="' + row.index + '" spans="' + row.spans + '" ';
                void 0 !== row.height && (rowString += 'ht="' + this.pixelsToRowHeight(row.height) + '" customHeight="1" '), 
                void 0 !== row.grouping && (row.grouping.isHidden && (rowString += 'hidden="1" '), 
                void 0 !== row.grouping.outlineLevel && (rowString += 'outlineLevel="' + row.grouping.outlineLevel + '" '), 
                row.grouping.isCollapsed && (rowString += 'collapsed="1" ')), rowString += ">";
                for (var _d = 0, _e = row.cells; _d < _e.length; _d++) {
                    var cell = _e[_d];
                    void 0 === cell || void 0 === cell.value && void 0 === cell.cellStyle || (rowString += '<c r="' + cell.refName + '" ', 
                    void 0 !== cell.saveType && (rowString += 't="' + cell.saveType + '" '), void 0 !== cell.styleIndex && (rowString += 's="' + cell.styleIndex + '" '), 
                    rowString += " >", void 0 !== cell.value ? rowString += "<v>" + cell.value + "</v></c>" : rowString += "</c>");
                }
                rowString += "</row>", sheetBlob.append(rowString);
            }
            if (sheetString += "</sheetData>", sheet.mergeCells.length > 0) {
                sheetString += '<mergeCells count="' + sheet.mergeCells.length + '">';
                for (var _f = 0, _g = sheet.mergeCells; _f < _g.length; _f++) {
                    sheetString += '<mergeCell ref="' + _g[_f].ref + '" />';
                }
                sheetString += "</mergeCells>";
            }
            if (sheet.hyperLinks.length > 0) {
                sheetString += "<hyperlinks>";
                for (var _h = 0, _j = sheet.hyperLinks; _h < _j.length; _h++) {
                    var hLink = _j[_h];
                    sheetString += '<hyperlink ref="' + hLink.ref + '" r:id="rId' + hLink.rId + '" />';
                }
                sheetString += "</hyperlinks>", this.addToArchive(this.saveSheetRelations(sheet), "xl/worksheets/_rels/sheet" + sheet.index + ".xml.rels");
            }
            sheetString += '<pageMargins left="0.75" right="0.75" top="1" bottom="1" header="0.5" footer="0.5" /><headerFooter scaleWithDoc="1" alignWithMargins="0" differentFirst="0" differentOddEven="0" /></worksheet>', 
            sheetBlob.append(sheetString), this.addToArchive(sheetBlob.getBlob(), "xl/worksheets/sheet" + (index + 1) + ".xml");
        }, Workbook.prototype.pixelsToColumnWidth = function(pixels) {
            var val = pixels > 12 ? this.trunc((pixels - 5) / 7 * 100 + .5) / 100 : pixels / 12;
            return val > 1 ? (7 * val + 5) / 7 * 256 / 256 : 12 * val / 7 * 256 / 256;
        }, Workbook.prototype.trunc = function(x) {
            var n = x - x % 1;
            return 0 === n && (x < 0 || 0 === x && 1 / x != 1 / 0) ? -0 : n;
        }, Workbook.prototype.pixelsToRowHeight = function(pixels) {
            return pixels * this.unitsProportions[5] / this.unitsProportions[6];
        }, Workbook.prototype.saveSheetRelations = function(sheet) {
            for (var relStr = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">', _i = 0, _a = sheet.hyperLinks; _i < _a.length; _i++) {
                var hLink = _a[_i];
                relStr += '<Relationship Id="rId' + hLink.rId + '" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="' + hLink.target + '" TargetMode="External" />';
            }
            return relStr += "</Relationships>";
        }, Workbook.prototype.saveFreezePanes = function(sheet) {
            var paneString = '<sheetViews><sheetView workbookViewId="0" ><pane state="frozen" topLeftCell="' + sheet.freezePanes.leftCell + '" ';
            return 0 !== sheet.freezePanes.row && (paneString += 'ySplit="' + sheet.freezePanes.row + '" '), 
            0 !== sheet.freezePanes.column && (paneString += 'xSplit="' + sheet.freezePanes.column + '" '), 
            paneString += "/></sheetView></sheetViews>";
        }, Workbook.prototype.saveSharedString = function() {
            var length = this.sharedString.length;
            if (length > 0) {
                for (var sstStart = '<?xml version="1.0" encoding="utf-8"?><sst uniqueCount="' + length + '" count="' + this.sharedStringCount + '" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">', si = "", i = 0; i < length; i++) si += "<si><t>", 
                si += this.processString(this.sharedString[i]), si += "</t></si>";
                si += "</sst>", this.addToArchive(sstStart + si, "xl/sharedStrings.xml");
            }
        }, Workbook.prototype.processString = function(value) {
            return -1 !== value.indexOf("&") && (value = value.replace(/&/g, "&amp;")), -1 !== value.indexOf("<") && (value = value.replace(/</g, "&lt;")), 
            -1 !== value.indexOf(">") && (value = value.replace(/>/g, "&gt;")), value;
        }, Workbook.prototype.saveStyles = function() {
            var styleTemp = '<?xml version="1.0" encoding="utf-8"?><styleSheet xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';
            styleTemp += this.saveNumberFormats(), styleTemp += this.saveFonts(), styleTemp += this.saveFills(), 
            styleTemp += this.saveBorders(), styleTemp += this.saveCellStyleXfs(), styleTemp += this.saveCellXfs(), 
            styleTemp += this.saveCellStyles(), this.addToArchive(styleTemp + "</styleSheet>", "xl/styles.xml");
        }, Workbook.prototype.saveNumberFormats = function() {
            if (this.mNumFmt.size >= 1) {
                var numFmtStyle_1 = '<numFmts count="' + this.mNumFmt.size + '">';
                return this.mNumFmt.forEach(function(value, key) {
                    numFmtStyle_1 += '<numFmt numFmtId="' + value.numFmtId + '" formatCode="' + value.formatCode.replace(/"/g, "&quot;") + '" />';
                }), numFmtStyle_1 += "</numFmts>";
            }
            return "";
        }, Workbook.prototype.saveFonts = function() {
            var fontStyle = '<fonts count="' + this.mFonts.length + '">';
            if (this.mFonts.length >= 1) for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {
                var font = _a[_i];
                fontStyle += "<font>", font.b && (fontStyle += "<b />"), font.i && (fontStyle += "<i />"), 
                font.u && (fontStyle += "<u />"), fontStyle += '<sz val="' + this.pixelsToRowHeight(font.sz) + '" />', 
                fontStyle += '<color rgb="' + font.color + '" />', fontStyle += '<name val="' + font.name + '" /></font>';
            }
            return fontStyle + "</fonts>";
        }, Workbook.prototype.saveFills = function() {
            var fillsStyle = '<fills count="' + (this.mFills.size + 2) + '"><fill><patternFill patternType="none"></patternFill></fill><fill><patternFill patternType="gray125"></patternFill></fill>';
            return this.mFills.size >= 1 && this.mFills.forEach(function(value, key) {
                fillsStyle += '<fill><patternFill patternType="solid"><fgColor rgb="' + key + '" /><bgColor rgb="FFFFFFFF" /></patternFill></fill>';
            }), fillsStyle + "</fills>";
        }, Workbook.prototype.saveBorders = function() {
            var bordersStyle = '<borders count="' + (this.mBorders.length + 1) + '"><border><left /><right /><top /><bottom /><diagonal /></border>';
            if (this.mBorders.length >= 1) for (var _i = 0, _a = this.mBorders; _i < _a.length; _i++) {
                var borders = _a[_i];
                if (this.isAllBorder(borders)) {
                    var color = borders.all.color.replace("#", ""), lineStyle = borders.all.lineStyle;
                    bordersStyle += '<border><left style="' + lineStyle + '"><color rgb="FF' + color + '" /></left><right style="' + lineStyle + '"><color rgb="FF' + color + '" /></right><top style="' + lineStyle + '"><color rgb="FF' + color + '" /></top><bottom style="' + lineStyle + '"><color rgb="FF' + color + '" /></bottom></border>';
                } else bordersStyle += '<border><left style="' + borders.left.lineStyle + '"><color rgb="FF' + borders.left.color.replace("#", "") + '" /></left><right style="' + borders.right.lineStyle + '"><color rgb="FF' + borders.right.color.replace("#", "") + '" /></right><top style="' + borders.top.lineStyle + '"><color rgb="FF' + borders.top.color.replace("#", "") + '" /></top><bottom style="' + borders.bottom.lineStyle + '"><color rgb="FF' + borders.bottom.color.replace("#", "") + '" /></bottom></border>';
            }
            return bordersStyle + "</borders>";
        }, Workbook.prototype.saveCellStyles = function() {
            var _this = this, cellStyleString = '<cellStyles  count="' + this.cellStyles.size + '">';
            return this.cellStyles.forEach(function(value, key) {
                cellStyleString += '<cellStyle name="' + key + '" xfId="' + _this.cellStyles.get(key).xfId + '"', 
                "Normal" === key && (cellStyleString += ' builtinId="0"'), cellStyleString += " />";
            }), cellStyleString += "</cellStyles>";
        }, Workbook.prototype.saveCellStyleXfs = function() {
            var cellXfsStyle = '<cellStyleXfs count="' + (this.mCellStyleXfs.length + 1) + '"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" />';
            if (this.mCellStyleXfs.length >= 1) for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {
                var cellStyleXf = _a[_i];
                cellXfsStyle += '<xf numFmtId="' + cellStyleXf.numFmtId + '" fontId="' + cellStyleXf.fontId + '" fillId="' + cellStyleXf.fillId + '" borderId="' + cellStyleXf.borderId + '" ', 
                1 === cellStyleXf.applyAlignment ? (cellXfsStyle += 'applyAlignment="1"><alignment ', 
                void 0 !== cellStyleXf.alignment.horizontal && (cellXfsStyle += 'horizontal="' + cellStyleXf.alignment.horizontal + '" '), 
                void 0 !== cellStyleXf.alignment.vertical && (cellXfsStyle += 'vertical="' + cellStyleXf.alignment.vertical + '" '), 
                cellXfsStyle += 'wrapText="' + cellStyleXf.alignment.wrapText + '" /></xf>') : cellXfsStyle += " />";
            }
            return cellXfsStyle + "</cellStyleXfs>";
        }, Workbook.prototype.saveCellXfs = function() {
            var cellXfsStyle = '<cellXfs count="' + (this.mCellXfs.length + 1) + '"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />';
            if (this.mCellXfs.length >= 1) for (var _i = 0, _a = this.mCellXfs; _i < _a.length; _i++) {
                var cellXf = _a[_i];
                cellXfsStyle += '<xf numFmtId="' + cellXf.numFmtId + '" fontId="' + cellXf.fontId + '" fillId="' + cellXf.fillId + '" borderId="' + cellXf.borderId + '" xfId="' + cellXf.xfId + '" ', 
                1 === cellXf.applyAlignment ? (cellXfsStyle += 'applyAlignment="1"><alignment ', 
                void 0 !== cellXf.alignment.horizontal && (cellXfsStyle += 'horizontal="' + cellXf.alignment.horizontal + '" '), 
                void 0 !== cellXf.alignment.vertical && (cellXfsStyle += 'vertical="' + cellXf.alignment.vertical + '" '), 
                cellXfsStyle += 'wrapText="' + cellXf.alignment.wrapText + '" /></xf>') : cellXfsStyle += " />";
            }
            return cellXfsStyle + "</cellXfs>";
        }, Workbook.prototype.saveApp = function(builtInProperties) {
            var appString = '<?xml version="1.0" encoding="utf-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>Essential XlsIO</Application>';
            void 0 !== builtInProperties && (void 0 !== builtInProperties.manager && (appString += "<Manager>" + builtInProperties.manager + "</Manager>"), 
            void 0 !== builtInProperties.company && (appString += "<Company>" + builtInProperties.company + "</Company>")), 
            this.addToArchive(appString + "</Properties>", "docProps/app.xml");
        }, Workbook.prototype.saveCore = function(builtInProperties) {
            var createdDate = new Date(), coreString = '<?xml version="1.0" encoding="utf-8" standalone="yes"?><cp:coreProperties xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties">';
            void 0 !== this.builtInProperties ? (void 0 !== builtInProperties.author && (coreString += "<dc:creator>" + builtInProperties.author + "</dc:creator>"), 
            void 0 !== builtInProperties.subject && (coreString += "<dc:subject>" + builtInProperties.subject + "</dc:subject>"), 
            void 0 !== builtInProperties.category && (coreString += "<cp:category>" + builtInProperties.category + "</cp:category>"), 
            void 0 !== builtInProperties.comments && (coreString += "<dc:description>" + builtInProperties.comments + "</dc:description>"), 
            void 0 !== builtInProperties.title && (coreString += "<dc:title>" + builtInProperties.title + "</dc:title>"), 
            void 0 !== builtInProperties.tags && (coreString += "<cp:keywords>" + builtInProperties.tags + "</cp:keywords>"), 
            void 0 !== builtInProperties.status && (coreString += "<cp:contentStatus>" + builtInProperties.status + "</cp:contentStatus>"), 
            void 0 !== builtInProperties.createdDate ? coreString += '<dcterms:created xsi:type="dcterms:W3CDTF">' + builtInProperties.createdDate.toISOString() + "</dcterms:created>" : coreString += '<dcterms:created xsi:type="dcterms:W3CDTF">' + createdDate.toISOString() + "</dcterms:created>", 
            void 0 !== builtInProperties.modifiedDate ? coreString += '<dcterms:modified xsi:type="dcterms:W3CDTF">' + builtInProperties.modifiedDate.toISOString() + "</dcterms:modified>" : coreString += '<dcterms:modified xsi:type="dcterms:W3CDTF">' + createdDate.toISOString() + "</dcterms:modified>") : (coreString += '<dcterms:created xsi:type="dcterms:W3CDTF">' + createdDate.toISOString() + "</dcterms:created>", 
            coreString += '<dcterms:modified xsi:type="dcterms:W3CDTF">' + createdDate.toISOString() + "</dcterms:modified>"), 
            coreString += "</cp:coreProperties>", this.addToArchive(coreString, "docProps/core.xml");
        }, Workbook.prototype.saveTopLevelRelation = function() {
            this.addToArchive('<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml" /><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml" /><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml" /></Relationships>', "_rels/.rels");
        }, Workbook.prototype.saveWorkbookRelation = function() {
            for (var wbRelation = '<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">', length = this.worksheets.length, count = 0, i = 0; i < length; i++, 
            count++) wbRelation += '<Relationship Id="rId' + (i + 1).toString() + '" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet' + (i + 1).toString() + '.xml" />';
            wbRelation += '<Relationship Id="rId' + (++count).toString() + '" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />', 
            this.sharedStringCount > 0 && (wbRelation += '<Relationship Id="rId' + (++count).toString() + '" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />'), 
            this.addToArchive(wbRelation + "</Relationships>", "xl/_rels/workbook.xml.rels");
        }, Workbook.prototype.saveContentType = function() {
            for (var contentTypeString = '<?xml version="1.0" encoding="utf-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />', sheetsOverride = "", length = this.worksheets.length, i = 0; i < length; i++) sheetsOverride += '<Override PartName="/xl/worksheets/sheet' + (i + 1).toString() + '.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />';
            this.sharedStringCount > 0 && (contentTypeString += '<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" />'), 
            this.addToArchive(contentTypeString + sheetsOverride + "</Types>", "[Content_Types].xml");
        }, Workbook.prototype.addToArchive = function(xmlString, itemName) {
            if ("string" == typeof xmlString) {
                var blob = new Blob([ xmlString ], {
                    type: "text/plain"
                }), archiveItem = new ZipArchiveItem(blob, itemName);
                this.mArchive.addItem(archiveItem);
            } else {
                archiveItem = new ZipArchiveItem(xmlString, itemName);
                this.mArchive.addItem(archiveItem);
            }
        }, Workbook.prototype.processMergeCells = function(cell, rowIndex, mergeCells) {
            if (0 !== cell.rowSpan || 0 !== cell.colSpan) {
                var mCell = new MergeCell();
                mCell.x = cell.index, mCell.width = cell.colSpan, mCell.y = rowIndex, mCell.height = cell.rowSpan;
                var startCell = this.getCellName(mCell.y, mCell.x), endCell = this.getCellName(rowIndex + mCell.height, cell.index + mCell.width);
                mCell.ref = startCell + ":" + endCell, mergeCells.add(mCell);
            }
            return mergeCells;
        }, Workbook.prototype.dateToTicks = function(year, month, day) {
            if (year >= 1 && year <= 9999 && month >= 1 && month <= 12) {
                var y = year - 1;
                return 864e9 * (365 * y + (y / 4 | 0) - (y / 100 | 0) + (y / 400 | 0) + (this.isLeapYear(year) ? [ 0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366 ] : [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 ])[month - 1] + day - 1);
            }
            throw new Error("Not a valid date");
        }, Workbook.prototype.timeToTicks = function(hour, minute, second) {
            if (hour >= 0 && hour < 24 && minute >= 0 && minute < 60 && second >= 0 && second < 60) {
                return 1e4 * (3600 * hour + 60 * minute + second) * 1e3;
            }
            throw new Error("Not valid time");
        }, Workbook.prototype.isLeapYear = function(year) {
            return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);
        }, Workbook.prototype.toOADate = function(date) {
            var ticks = 0;
            if (0 === (ticks = this.dateToTicks(date.getFullYear(), date.getMonth() + 1, date.getDate()) + this.timeToTicks(date.getHours(), date.getMinutes(), date.getSeconds()))) return 0;
            if (ticks < 31241376e9) throw new Error("Arg_OleAutDateInvalid");
            return (ticks - 599264352e9) / 1e4 / 864e5;
        }, Workbook;
    }(), BuiltInProperties = function() {
        return function() {};
    }(), _excelexport = Object.freeze({
        CellStyle: CellStyle,
        Font: Font,
        CellXfs: CellXfs,
        Alignment: Alignment,
        CellStyleXfs: CellStyleXfs,
        CellStyles: CellStyles,
        NumFmt: NumFmt,
        Border: Border,
        Borders: Borders,
        Cell: Cell$1,
        Cells: Cells,
        Column: Column$1,
        Row: Row$1,
        Rows: Rows,
        Workbook: Workbook,
        BuiltInProperties: BuiltInProperties,
        Worksheet: Worksheet,
        HyperLink: HyperLink,
        Grouping: Grouping,
        FreezePane: FreezePane,
        MergeCell: MergeCell,
        MergeCells: MergeCells,
        Worksheets: Worksheets,
        CsvHelper: CsvHelper,
        ValueFormatter: ValueFormatter$1,
        BlobHelper: BlobHelper
    }), ExportHelper = function() {
        function ExportHelper(parent) {
            this.hideColumnInclude = !1, this.foreignKeyData = {}, this.parent = parent;
        }
        return ExportHelper.getQuery = function(parent, data) {
            return data.isRemote() ? data.generateQuery(!0).requiresCount().take(parent.pageSettings.totalRecordsCount) : data.generateQuery(!0).requiresCount();
        }, ExportHelper.prototype.getFData = function(value, column) {
            return getForeignData(column, {}, value, this.foreignKeyData[column.field])[0];
        }, ExportHelper.prototype.getColumnData = function(gridObj) {
            var promise, _this = this, columnPromise = [], fColumns = gridObj.getForeignKeyColumns();
            return fColumns.length && (fColumns.forEach(function(col) {
                columnPromise.push(col.dataSource.executeQuery(new Query()));
            }), promise = Promise.all(columnPromise).then(function(e) {
                fColumns.forEach(function(col, index) {
                    _this.foreignKeyData[col.field] = e[index].result;
                });
            })), promise;
        }, ExportHelper.prototype.getHeaders = function(column, isHideColumnInclude) {
            this.hideColumnInclude = !!isHideColumnInclude;
            var cols = column;
            this.colDepth = this.measureColumnDepth(cols);
            for (var rows = [], actualColumns = [], i = 0; i < this.colDepth; i++) rows[i] = new Row({}), 
            rows[i].cells = [];
            rows = this.processColumns(rows);
            for (var _i = 0, rows_1 = rows = this.processHeaderCells(rows); _i < rows_1.length; _i++) {
                var row = rows_1[_i];
                for (i = 0; i < row.cells.length; i++) {
                    var cell = row.cells[i];
                    void 0 === cell.visible && cell.cellType !== CellType.StackedHeader && (row.cells = this.removeCellFromRow(row.cells, i), 
                    i -= 1), isHideColumnInclude || void 0 === cell.visible || cell.visible || (row.cells = this.removeCellFromRow(row.cells, i), 
                    i -= 1);
                }
            }
            for (i = 0; i < cols.length; i++) this.generateActualColumns(cols[i], actualColumns);
            return {
                rows: rows,
                columns: actualColumns
            };
        }, ExportHelper.prototype.getConvertedWidth = function(input) {
            var value = parseFloat(input);
            return -1 !== input.indexOf("%") ? this.parent.element.getBoundingClientRect().width * value / 100 : value;
        }, ExportHelper.prototype.generateActualColumns = function(column, actualColumns) {
            if (column.columns) {
                if (column.visible || this.hideColumnInclude) {
                    if (0 !== this.getCellCount(column, 0)) for (var i = 0; i < column.columns.length; i++) this.generateActualColumns(column.columns[i], actualColumns);
                }
            } else (column.visible || this.hideColumnInclude) && actualColumns.push(column);
        }, ExportHelper.prototype.removeCellFromRow = function(cells, cellIndex) {
            for (var resultCells = [], i = 0; i < cellIndex; i++) resultCells.push(cells[i]);
            for (i = cellIndex + 1; i < cells.length; i++) resultCells.push(cells[i]);
            return resultCells;
        }, ExportHelper.prototype.processHeaderCells = function(rows) {
            for (var columns = this.parent.enableColumnVirtualization ? this.parent.getColumns() : this.parent.columns, i = 0; i < columns.length; i++) rows = this.appendGridCells(columns[i], rows, 0, 0 === i, !1, i === columns.length - 1);
            return rows;
        }, ExportHelper.prototype.appendGridCells = function(cols, gridRows, index, isFirstObj, isFirstColumn, isLastColumn) {
            var lastCol = isLastColumn ? "e-lastcell" : "";
            if (cols.columns) {
                var colSpan = this.getCellCount(cols, 0);
                colSpan && gridRows[index].cells.push(new Cell({
                    cellType: CellType.StackedHeader,
                    column: cols,
                    colSpan: colSpan
                }));
                for (var isIgnoreFirstCell = void 0, i = 0, len = cols.columns.length; i < len; i++) cols.columns[i].visible && !isIgnoreFirstCell && (isIgnoreFirstCell = !0), 
                gridRows = this.appendGridCells(cols.columns[i], gridRows, index + 1, isFirstObj, 0 === i, i === len - 1 && isLastColumn);
            } else gridRows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, (isFirstObj ? "" : isFirstColumn ? "e-firstcell" : "") + lastCol, index, this.parent.getColumnIndexByUid(cols.uid)));
            return gridRows;
        }, ExportHelper.prototype.generateCell = function(gridColumn, cellType, rowSpan, className, rowIndex, columnIndex) {
            var option = {
                visible: gridColumn.visible,
                isDataCell: !1,
                isTemplate: !isNullOrUndefined(gridColumn.headerTemplate),
                rowID: "",
                column: gridColumn,
                cellType: cellType,
                rowSpan: rowSpan,
                className: className,
                index: rowIndex,
                colIndex: columnIndex
            };
            return (!option.rowSpan || option.rowSpan < 2) && delete option.rowSpan, new Cell(option);
        }, ExportHelper.prototype.processColumns = function(rows) {
            for (var gridObj = this.parent, columnIndexes = this.parent.getColumnIndexesInView(), i = 0, len = rows.length; i < len; i++) {
                if (gridObj.allowGrouping) for (var j = 0, len_1 = gridObj.groupSettings.columns.length; j < len_1; j++) this.parent.enableColumnVirtualization && -1 === columnIndexes.indexOf(j) || rows[i].cells.push(this.generateCell({}, CellType.HeaderIndent));
                (gridObj.detailTemplate || gridObj.childGrid) && rows[i].cells.push(this.generateCell({}, CellType.DetailHeader));
            }
            return rows;
        }, ExportHelper.prototype.getCellCount = function(column, count) {
            if (column.columns) for (var i = 0; i < column.columns.length; i++) count = this.getCellCount(column.columns[i], count); else (column.visible || this.hideColumnInclude) && count++;
            return count;
        }, ExportHelper.prototype.measureColumnDepth = function(column) {
            for (var max = 0, i = 0; i < column.length; i++) {
                var depth = this.checkDepth(column[i], 0);
                max < depth && (max = depth);
            }
            return max + 1;
        }, ExportHelper.prototype.checkDepth = function(col, index) {
            if (col.columns) {
                index++;
                for (var i = 0; i < col.columns.length; i++) index = this.checkDepth(col.columns[i], index);
            }
            return index;
        }, ExportHelper;
    }(), ExportValueFormatter = function() {
        function ExportValueFormatter() {
            this.valueFormatter = new ValueFormatter(), this.internationalization = new Internationalization();
        }
        return ExportValueFormatter.prototype.returnFormattedValue = function(args, customFormat) {
            return !isNullOrUndefined(args.value) && args.value ? this.valueFormatter.getFormatFunction(customFormat)(args.value) : "";
        }, ExportValueFormatter.prototype.formatCellValue = function(args) {
            if (args.isForeignKey && (args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0])), 
            "number" === args.column.type && void 0 !== args.column.format && "" !== args.column.format) return args.value ? this.internationalization.getNumberFormat({
                format: args.column.format
            })(args.value) : "";
            if ("boolean" === args.column.type) return args.value ? "true" : "false";
            if ("date" !== args.column.type && "datetime" !== args.column.type && "time" !== args.column.type || void 0 === args.column.format) return void 0 === args.column.type || null === args.column.type ? "" : args.value.toString();
            if ("string" == typeof args.column.format) {
                var format = void 0;
                return format = "date" === args.column.type ? {
                    type: "date",
                    skeleton: args.column.format
                } : "time" === args.column.type ? {
                    type: "time",
                    skeleton: args.column.format
                } : {
                    type: "dateTime",
                    skeleton: args.column.format
                }, this.returnFormattedValue(args, format);
            }
            if (args.column.format instanceof Object && void 0 === args.column.format.type) return args.value.toString();
            var customFormat = void 0;
            return customFormat = "date" === args.column.type ? {
                type: args.column.format.type,
                format: args.column.format.format,
                skeleton: args.column.format.skeleton
            } : "time" === args.column.type ? {
                type: "time",
                format: args.column.format.format,
                skeleton: args.column.format.skeleton
            } : {
                type: "dateTime",
                format: args.column.format.format,
                skeleton: args.column.format.skeleton
            }, this.returnFormattedValue(args, customFormat);
        }, ExportValueFormatter;
    }(), ExcelExport = function() {
        function ExcelExport(parent) {
            this.book = {}, this.workSheet = [], this.rows = [], this.columns = [], this.styles = [], 
            this.rowLength = 1, this.expType = "AppendToSheet", this.includeHiddenColumn = !1, 
            this.isCsvExport = !1, this.isElementIdChanged = !1, this.foreignKeyData = {}, this.parent = parent, 
            this.helper = new ExportHelper(parent);
        }
        return ExcelExport.prototype.getModuleName = function() {
            return "ExcelExport";
        }, ExcelExport.prototype.init = function(gObj) {
            null !== gObj.element && "" === gObj.element.id && (gObj.element.id = new Date().toISOString(), 
            this.isElementIdChanged = !0), this.parent = gObj, this.parent.isDestroyed || (this.isExporting = void 0, 
            this.book = {}, this.workSheet = [], this.rows = [], this.columns = [], this.styles = [], 
            this.rowLength = 1, this.footer = void 0, this.expType = "AppendToSheet", this.includeHiddenColumn = !1, 
            this.exportValueFormatter = new ExportValueFormatter());
        }, ExcelExport.prototype.Map = function(grid, exportProperties, isMultipleExport, workbook, isCsv, isBlob) {
            var gObj = grid;
            return gObj.trigger("beforeExcelExport"), this.data = new Data(gObj), this.isExporting = !0, 
            this.isBlob = isBlob, this.isCsvExport = isCsv || !1, this.processRecords(gObj, exportProperties, isMultipleExport, workbook);
        }, ExcelExport.prototype.processRecords = function(gObj, exportProperties, isMultipleExport, workbook) {
            var _this = this;
            if (!isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.dataSource) && exportProperties.dataSource instanceof DataManager) {
                return new Promise(function(resolve, reject) {
                    exportProperties.dataSource.executeQuery(new Query()).then(function(r) {
                        _this.init(gObj), _this.processInnerRecords(gObj, exportProperties, isMultipleExport, workbook, r), 
                        resolve(_this.book);
                    });
                });
            }
            var allPromise = [];
            allPromise.push(this.data.getData({}, ExportHelper.getQuery(gObj, this.data))), 
            allPromise.push(this.helper.getColumnData(gObj));
            var bool_1 = !0;
            return Promise.all(allPromise).then(function(e) {
                bool_1 && (_this.init(gObj), _this.processInnerRecords(gObj, exportProperties, isMultipleExport, workbook, e[0]), 
                bool_1 = !1);
            }).catch(function(e) {
                _this.parent.trigger("actionFailure", e);
            });
        }, ExcelExport.prototype.processInnerRecords = function(gObj, exportProperties, isMultipleExport, workbook, r) {
            var blankRows = 5;
            isNullOrUndefined(exportProperties) || isNullOrUndefined(exportProperties.multipleExport) || (this.expType = isNullOrUndefined(exportProperties.multipleExport.type) ? "AppendToSheet" : exportProperties.multipleExport.type, 
            isNullOrUndefined(exportProperties.multipleExport.blankRows) || (blankRows = exportProperties.multipleExport.blankRows)), 
            isNullOrUndefined(workbook) ? (this.workSheet = [], this.rows = [], this.columns = [], 
            this.styles = []) : "NewSheet" === this.expType ? (this.workSheet = workbook.worksheets, 
            this.rows = [], this.columns = [], this.styles = workbook.styles) : (this.workSheet = [], 
            this.rows = workbook.worksheets[0].rows, this.columns = workbook.worksheets[0].columns, 
            this.styles = workbook.styles, this.rowLength = this.rows[this.rows.length - 1].index + blankRows, 
            this.rowLength++), isNullOrUndefined(exportProperties) || (isNullOrUndefined(isMultipleExport) ? (isNullOrUndefined(exportProperties.header) || this.processExcelHeader(JSON.parse(JSON.stringify(exportProperties.header))), 
            isNullOrUndefined(exportProperties.footer) || (this.footer = JSON.parse(JSON.stringify(exportProperties.footer)))) : (isNullOrUndefined(exportProperties.header) || !isMultipleExport && "NewSheet" !== this.expType || this.processExcelHeader(JSON.parse(JSON.stringify(exportProperties.header))), 
            isNullOrUndefined(exportProperties.footer) || ("AppendToSheet" === this.expType ? isMultipleExport || (this.footer = JSON.parse(JSON.stringify(exportProperties.footer))) : this.footer = JSON.parse(JSON.stringify(exportProperties.footer))))), 
            this.includeHiddenColumn = !isNullOrUndefined(exportProperties) && exportProperties.includeHiddenColumn;
            var headerRow = this.helper.getHeaders(gObj.columns, this.includeHiddenColumn), groupIndent = 0;
            isNullOrUndefined(r.result.level) || (groupIndent += r.result.level, groupIndent += r.result.childLevels), 
            this.processHeaderContent(gObj, headerRow, exportProperties, groupIndent), isNullOrUndefined(exportProperties) || isNullOrUndefined(exportProperties.dataSource) || exportProperties.dataSource instanceof DataManager ? isNullOrUndefined(exportProperties) || "CurrentPage" !== exportProperties.exportType ? this.processRecordContent(gObj, r, headerRow, isMultipleExport) : this.processRecordContent(gObj, r, headerRow, isMultipleExport, gObj.getCurrentViewRecords()) : this.processRecordContent(gObj, r, headerRow, isMultipleExport, exportProperties.dataSource), 
            this.isExporting = !1, gObj.trigger("excelExportComplete", this.isBlob ? {
                promise: this.blobPromise
            } : {});
        }, ExcelExport.prototype.processRecordContent = function(gObj, returnType, headerRow, isMultipleExport, currentViewRecords) {
            gObj.columns;
            var record = void 0;
            isNullOrUndefined((record = isNullOrUndefined(currentViewRecords) ? returnType.result : currentViewRecords).level) ? this.processRecordRows(gObj, record, headerRow, 0) : this.processGroupedRows(gObj, record, headerRow, record.level), 
            isNullOrUndefined(returnType.aggregates) || (isNullOrUndefined(currentViewRecords) ? this.processAggregates(gObj, returnType.result) : this.processAggregates(gObj, returnType.result, currentViewRecords)), 
            isNullOrUndefined(this.footer) || ("AppendToSheet" === this.expType && !isMultipleExport || "NewSheet" === this.expType) && this.processExcelFooter(this.footer);
            var sheet = {};
            if (this.columns.length > 0 && (sheet.columns = this.columns), sheet.rows = this.rows, 
            this.workSheet.push(sheet), this.book.worksheets = this.workSheet, this.book.styles = this.styles, 
            !isMultipleExport) {
                if (this.isCsvExport) {
                    var book = new Workbook(this.book, "csv");
                    this.isBlob ? this.blobPromise = book.saveAsBlob("text/csv") : book.save("Export.csv");
                } else {
                    book = new Workbook(this.book, "xlsx");
                    this.isBlob ? this.blobPromise = book.saveAsBlob("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet") : book.save("Export.xlsx");
                }
                this.isElementIdChanged && (gObj.element.id = "");
            }
        }, ExcelExport.prototype.processGroupedRows = function(gObj, dataSource, headerRow, level) {
            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {
                var item = dataSource_1[_i], cells = [], cell = {};
                cell.index = 1 + level;
                var col = gObj.getColumnByField(item.field), args = {
                    value: item.key,
                    column: col,
                    style: void 0,
                    isForeignKey: col.isForeignColumn()
                };
                cell.value = item.field + ": " + this.exportValueFormatter.formatCellValue(args) + " - ", 
                item.count > 1 ? cell.value += item.count + " items" : cell.value += item.count + " item", 
                cell.style = this.getCaptionThemeStyle(this.theme);
                var groupCaptionSummaryRows = new CaptionSummaryModelGenerator(gObj).generateRows(item);
                if (this.fillAggregates(gObj, groupCaptionSummaryRows, dataSource.level + dataSource.childLevels, this.rowLength), 
                cells.push(cell), this.rows[this.rows.length - 1].cells.length > 0) {
                    for (var lIndex = dataSource.level + dataSource.childLevels + groupCaptionSummaryRows[0].cells.length, hIndex = 0, _a = 0, _b = this.rows[this.rows.length - 1].cells; _a < _b.length; _a++) {
                        var tCell = _b[_a];
                        tCell.index < lIndex && (lIndex = tCell.index), tCell.index > hIndex && (hIndex = tCell.index), 
                        tCell.style = this.getCaptionThemeStyle(this.theme), cells[cells.length - 1].index !== tCell.index && cells.push(tCell);
                    }
                    for (lIndex - cell.index > 1 && (cell.colSpan = lIndex - cell.index); hIndex < headerRow.columns.length + level; ) {
                        var sCell = {};
                        0 === dataSource.childLevels ? sCell.index = hIndex : sCell.index = hIndex + 1, 
                        sCell.style = this.getCaptionThemeStyle(this.theme), cells.push(sCell), hIndex++;
                    }
                } else {
                    for (var span = 0, _c = 0, _d = headerRow.columns; _c < _d.length; _c++) {
                        _d[_c].visible && span++;
                    }
                    cell.colSpan = dataSource.childLevels + span;
                }
                this.rows[this.rows.length - 1].cells = cells, this.rowLength++, !isNullOrUndefined(dataSource.childLevels) && dataSource.childLevels > 0 ? this.processGroupedRows(gObj, item.items, headerRow, item.items.level) : (this.processRecordRows(gObj, item.items, headerRow, level), 
                this.processAggregates(gObj, item, void 0, level, !0));
            }
        }, ExcelExport.prototype.processRecordRows = function(gObj, record, headerRow, level) {
            for (var rLen = Object.keys(record).length, index = 1, cells = [], r = 0; r < rLen; r++) {
                cells = [], index = 1;
                for (var c = 0, len = headerRow.columns.length; c < len; c++) {
                    var value = isNullOrUndefined(headerRow.columns[c].field) ? "" : getValue(headerRow.columns[c].field, record[r]), column = headerRow.columns[c], foreignKeyData$$1 = void 0;
                    if (column.isForeignColumn && column.isForeignColumn() && (foreignKeyData$$1 = this.helper.getFData(value, column), 
                    value = getValue(column.foreignKeyValue, foreignKeyData$$1)), !isNullOrUndefined(value)) {
                        var excelCellArgs = {
                            data: record[r],
                            column: headerRow.columns[c],
                            foreignKeyData: foreignKeyData$$1
                        };
                        gObj.trigger("excelQueryCellInfo", extend(excelCellArgs, {
                            column: headerRow.columns[c],
                            data: record[r],
                            value: value,
                            style: void 0,
                            colSpan: 1
                        }));
                        var cell = {};
                        if (cell.index = index + level, cell.value = excelCellArgs.value, excelCellArgs.colSpan > 1 && (cell.colSpan = excelCellArgs.colSpan), 
                        isNullOrUndefined(excelCellArgs.style)) cell.style = {
                            name: gObj.element.id + "column" + (index + level)
                        }; else {
                            var styleIndex = this.getColumnStyle(gObj, index + level);
                            cell.style = this.mergeOptions(this.styles[styleIndex], excelCellArgs.style);
                        }
                        cells.push(cell);
                    }
                    index++;
                }
                this.rows.push({
                    index: this.rowLength++,
                    cells: cells
                });
            }
        }, ExcelExport.prototype.processAggregates = function(gObj, rec, currentViewRecords, indent, byGroup) {
            var summaryModel = new SummaryModelGenerator(gObj), data = void 0;
            if (data = isNullOrUndefined(currentViewRecords) ? rec : currentViewRecords, void 0 === indent && (indent = 0), 
            gObj.groupSettings.columns.length > 0 && byGroup) {
                var groupSummaryRows = new GroupSummaryModelGenerator(gObj).generateRows(data, {
                    level: data.level
                });
                groupSummaryRows.length > 0 && this.fillAggregates(gObj, groupSummaryRows, indent);
            } else {
                indent = gObj.groupSettings.columns.length > 0 && !byGroup ? gObj.groupSettings.columns.length : indent;
                var sRows = summaryModel.generateRows(data, rec.aggregates);
                sRows.length > 0 && !byGroup && this.fillAggregates(gObj, sRows, indent);
            }
        }, ExcelExport.prototype.fillAggregates = function(gObj, cells, indent, customIndex) {
            for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {
                for (var row = cells_1[_i], cells_2 = [], index = 0, _a = 0, _b = row.cells; _a < _b.length; _a++) {
                    var cell = _b[_a], eCell = {};
                    if (cell.visible || this.includeHiddenColumn) if (index++, cell.isDataCell) {
                        if (eCell.index = index + indent, isNullOrUndefined(cell.column.footerTemplate)) if (isNullOrUndefined(cell.column.groupFooterTemplate)) if (isNullOrUndefined(cell.column.groupCaptionTemplate)) for (var _c = 0, _d = Object.keys(row.data[cell.column.field]); _c < _d.length; _c++) {
                            _d[_c] === cell.column.type && (isNullOrUndefined(row.data[cell.column.field].Sum) ? isNullOrUndefined(row.data[cell.column.field].Average) ? isNullOrUndefined(row.data[cell.column.field].Max) ? isNullOrUndefined(row.data[cell.column.field].Min) ? isNullOrUndefined(row.data[cell.column.field].Count) ? isNullOrUndefined(row.data[cell.column.field].TrueCount) ? isNullOrUndefined(row.data[cell.column.field].FalseCount) ? isNullOrUndefined(row.data[cell.column.field].Custom) || (eCell.value = row.data[cell.column.field].Custom) : eCell.value = row.data[cell.column.field].FalseCount : eCell.value = row.data[cell.column.field].TrueCount : eCell.value = row.data[cell.column.field].Count : eCell.value = row.data[cell.column.field].Min : eCell.value = row.data[cell.column.field].Max : eCell.value = row.data[cell.column.field].Average : eCell.value = row.data[cell.column.field].Sum);
                        } else eCell.value = this.getAggreateValue(CellType.CaptionSummary, cell.column.groupCaptionTemplate, cell, row); else eCell.value = this.getAggreateValue(CellType.GroupSummary, cell.column.groupFooterTemplate, cell, row); else eCell.value = this.getAggreateValue(CellType.Summary, cell.column.footerTemplate, cell, row);
                        eCell.style = this.getCaptionThemeStyle(this.theme), cell.attributes.style.textAlign && (eCell.style.hAlign = cell.attributes.style.textAlign), 
                        cells_2.push(eCell);
                    } else void 0 === customIndex && (eCell.index = index + indent, eCell.style = this.getCaptionThemeStyle(this.theme), 
                    cells_2.push(eCell));
                }
                isNullOrUndefined(customIndex) ? this.rows.push({
                    index: this.rowLength++,
                    cells: cells_2
                }) : this.rows.push({
                    index: customIndex,
                    cells: cells_2
                });
            }
        }, ExcelExport.prototype.getAggreateValue = function(cellType, template, cell, row) {
            var templateFn = {};
            templateFn[getEnumValue(CellType, cell.cellType)] = compile$$1(template);
            return templateFn[getEnumValue(CellType, cell.cellType)](row.data[cell.column.field ? cell.column.field : cell.column.columnName])[0].wholeText;
        }, ExcelExport.prototype.mergeOptions = function(JSON1, JSON2) {
            for (var result = {}, attrname = Object.keys(JSON1), index = 0; index < attrname.length; index++) "name" !== attrname[index] && (result[attrname[index]] = JSON1[attrname[index]]);
            attrname = Object.keys(JSON2);
            for (index = 0; index < attrname.length; index++) "name" !== attrname[index] && (result[attrname[index]] = JSON2[attrname[index]]);
            return result;
        }, ExcelExport.prototype.getColumnStyle = function(gObj, columnIndex) {
            for (var index = 0, _i = 0, _a = this.styles; _i < _a.length; _i++) {
                if (_a[_i].name === gObj.element.id + "column" + columnIndex) return index;
                index++;
            }
        }, ExcelExport.prototype.processHeaderContent = function(gObj, headerRow, exportProperties, indent) {
            gObj.columns;
            var returnValue = headerRow, gridRows = returnValue.rows, gridColumns = returnValue.columns, spannedCells = [];
            if (indent > 0) for (var index = 0; index !== indent; ) this.columns.push({
                index: index + 1,
                width: 30
            }), index++;
            for (var row = 0; row < gridRows.length; row++) {
                for (var currentCellIndex = 1 + indent, cells = [], column_1 = 0; column_1 < gridRows[row].cells.length; column_1++) {
                    for (var style = {}, cell = {}, gridCell = gridRows[row].cells[column_1], result = {
                        contains: !0,
                        index: 1
                    }; result.contains; ) if (result = this.getIndex(spannedCells, 1, currentCellIndex), 
                    currentCellIndex = result.index, !result.contains) {
                        cell.index = result.index;
                        break;
                    }
                    if (!isNullOrUndefined(gridCell.rowSpan) && 1 !== gridCell.rowSpan) {
                        cell.rowSpan = gridCell.rowSpan;
                        for (var i = 1; i < gridCell.rowSpan + 1; i++) {
                            var spannedCell = {
                                rowIndex: 0,
                                columnIndex: 0
                            };
                            spannedCell.rowIndex = i, spannedCell.columnIndex = currentCellIndex, spannedCells.push(spannedCell);
                        }
                    }
                    isNullOrUndefined(gridCell.colSpan) || 1 === gridCell.colSpan || (cell.colSpan = gridCell.colSpan, 
                    currentCellIndex = currentCellIndex + cell.colSpan - 1), cell.value = gridCell.column.headerText, 
                    isNullOrUndefined(exportProperties) || isNullOrUndefined(exportProperties.theme) || (this.theme = exportProperties.theme), 
                    style = this.getHeaderThemeStyle(this.theme), isNullOrUndefined(gridCell.column.textAlign) || (style.hAlign = gridCell.column.textAlign), 
                    isNullOrUndefined(gridCell.column.headerTextAlign) || (style.hAlign = gridCell.column.headerTextAlign), 
                    cell.style = style, cells.push(cell), currentCellIndex++;
                }
                this.rows.push({
                    index: this.rowLength++,
                    cells: cells
                });
            }
            for (var col = 0; col < gridColumns.length; col++) this.parseStyles(gObj, gridColumns[col], this.getRecordThemeStyle(this.theme), indent + col + 1);
        }, ExcelExport.prototype.getHeaderThemeStyle = function(theme) {
            var style = {};
            return style.fontSize = 12, style.borders = {
                color: "#E0E0E0"
            }, isNullOrUndefined(theme) || isNullOrUndefined(theme.header) || (style = this.updateThemeStyle(theme.header, style)), 
            style;
        }, ExcelExport.prototype.updateThemeStyle = function(themestyle, style) {
            return isNullOrUndefined(themestyle.fontColor) || (style.fontColor = themestyle.fontColor), 
            isNullOrUndefined(themestyle.fontName) || (style.fontName = themestyle.fontName), 
            isNullOrUndefined(themestyle.fontSize) || (style.fontSize = themestyle.fontSize), 
            isNullOrUndefined(themestyle.borders) || (isNullOrUndefined(themestyle.borders.color) || (style.borders.color = themestyle.borders.color), 
            isNullOrUndefined(themestyle.borders.lineStyle) || (style.borders.lineStyle = themestyle.borders.lineStyle)), 
            !1 !== themestyle.bold && (style.bold = themestyle.bold), style;
        }, ExcelExport.prototype.getCaptionThemeStyle = function(theme) {
            var style = {};
            return style.fontSize = 13, style.backColor = "#F6F6F6", isNullOrUndefined(theme) || isNullOrUndefined(theme.caption) || (style = this.updateThemeStyle(theme.caption, style)), 
            style;
        }, ExcelExport.prototype.getRecordThemeStyle = function(theme) {
            var style = {};
            return style.fontSize = 13, style.borders = {
                color: "#E0E0E0"
            }, isNullOrUndefined(theme) || isNullOrUndefined(theme.record) || (style = this.updateThemeStyle(theme.record, style)), 
            style;
        }, ExcelExport.prototype.processExcelHeader = function(header) {
            if (!isNullOrUndefined(header.rows) && ("NewSheet" === this.expType || 1 === this.rowLength)) {
                var noRows = void 0;
                void 0 === header.headerRows ? this.rowLength = header.rows.length : this.rowLength = header.headerRows, 
                noRows = this.rowLength < header.rows.length ? this.rowLength : header.rows.length, 
                this.rowLength++;
                for (var row = 0; row < noRows; row++) {
                    var json = header.rows[row];
                    (null === json.index || isNullOrUndefined(json.index)) && (json.index = row + 1), 
                    this.updatedCellIndex(json);
                }
            }
        }, ExcelExport.prototype.updatedCellIndex = function(json) {
            for (var cellsLength = json.cells.length, cellId = 0; cellId < cellsLength; cellId++) {
                var jsonCell = json.cells[cellId];
                (null === jsonCell.index || isNullOrUndefined(jsonCell.index)) && (jsonCell.index = cellId + 1);
            }
            this.rows.push(json);
        }, ExcelExport.prototype.processExcelFooter = function(footer) {
            if (!isNullOrUndefined(footer.rows)) {
                var noRows = void 0;
                void 0 === footer.footerRows ? this.rowLength += footer.rows.length : footer.footerRows > footer.rows.length ? (this.rowLength += footer.footerRows - footer.rows.length, 
                noRows = footer.rows.length) : noRows = footer.footerRows;
                for (var row = 0; row < noRows; row++) {
                    var json = footer.rows[row];
                    null === json.index || void 0 === json.index ? json.index = this.rowLength++ : json.index += this.rowLength, 
                    this.updatedCellIndex(json);
                }
            }
        }, ExcelExport.prototype.getIndex = function(spannedCells, rowIndex, columnIndex) {
            for (var _i = 0, spannedCells_1 = spannedCells; _i < spannedCells_1.length; _i++) {
                var spannedCell = spannedCells_1[_i];
                if (spannedCell.rowIndex === rowIndex && spannedCell.columnIndex === columnIndex) return columnIndex += 1, 
                {
                    contains: !0,
                    index: columnIndex
                };
            }
            return {
                contains: !1,
                index: columnIndex
            };
        }, ExcelExport.prototype.parseStyles = function(gObj, col, style, index) {
            isNullOrUndefined(col.format) || (isNullOrUndefined(col.format.skeleton) ? (style.numberFormat = col.format, 
            style.type = col.type) : (style.numberFormat = col.format.skeleton, isNullOrUndefined(col.format.type) || (style.type = col.format.type))), 
            isNullOrUndefined(col.textAlign) || (style.hAlign = col.textAlign), Object.keys(style).length > 0 && (style.name = gObj.element.id + "column" + index, 
            this.styles.push(style)), isNullOrUndefined(col.width) || this.columns.push({
                index: index,
                width: "number" == typeof col.width ? col.width : this.helper.getConvertedWidth(col.width)
            });
        }, ExcelExport.prototype.destroy = function() {}, ExcelExport;
    }(), Dictionary = function() {
        function Dictionary(toStringFunction) {
            this.table = {}, this.nElements = 0, this.toStr = toStringFunction || defaultToString;
        }
        return Dictionary.prototype.getValue = function(key) {
            var pair = this.table["$" + this.toStr(key)];
            if (void 0 !== pair) return pair.value;
        }, Dictionary.prototype.setValue = function(key, value) {
            var k = "$" + this.toStr(key);
            this.table[k];
            this.nElements++, this.table[k] = {
                key: key,
                value: value
            };
        }, Dictionary.prototype.remove = function(key) {
            var k = "$" + this.toStr(key), previousElement = this.table[k];
            return delete this.table[k], this.nElements--, previousElement.value;
        }, Dictionary.prototype.keys = function() {
            for (var keysArray = [], namesOfKeys = Object.keys(this.table), index1 = 0; index1 < namesOfKeys.length; index1++) {
                var pair1 = this.table[namesOfKeys[index1]];
                keysArray.push(pair1.key);
            }
            return keysArray;
        }, Dictionary.prototype.values = function() {
            for (var valuesArray = [], namesOfValues = Object.keys(this.table), index2 = 0; index2 < namesOfValues.length; index2++) {
                var pair2 = this.table[namesOfValues[index2]];
                valuesArray.push(pair2.value);
            }
            return valuesArray;
        }, Dictionary.prototype.containsKey = function(key) {
            return !(void 0 === this.getValue(key));
        }, Dictionary.prototype.clear = function() {
            this.table = {}, this.nElements = 0;
        }, Dictionary.prototype.size = function() {
            return this.nElements;
        }, Dictionary;
    }(), PdfName = function() {
        function PdfName(value) {
            this.stringStartMark = "/", this.internalValue = "", this.isSaving6 = !1, this.position6 = -1, 
            this.internalValue = this.normalizeValue(value);
        }
        return Object.defineProperty(PdfName.prototype, "status", {
            get: function() {
                return this.status6;
            },
            set: function(value) {
                this.status6 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfName.prototype, "isSaving", {
            get: function() {
                return this.isSaving6;
            },
            set: function(value) {
                this.isSaving6 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfName.prototype, "objectCollectionIndex", {
            get: function() {
                return this.index6;
            },
            set: function(value) {
                this.index6 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfName.prototype, "position", {
            get: function() {
                return this.position6;
            },
            set: function(value) {
                this.position6 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfName.prototype, "clonedObject", {
            get: function() {
                return null;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfName.prototype, "value", {
            get: function() {
                return this.internalValue;
            },
            set: function(value) {
                var val = value;
                null !== value && value.length > 0 ? (val = value, this.internalValue = this.normalizeValue(val)) : this.internalValue = val;
            },
            enumerable: !0,
            configurable: !0
        }), PdfName.prototype.save = function(writer) {
            writer.write(this.toString());
        }, PdfName.prototype.toString = function() {
            return this.stringStartMark + this.escapeString(this.value);
        }, PdfName.prototype.clone = function(crossTable) {
            var newName = new PdfName();
            return newName.value = this.internalValue, newName;
        }, PdfName.prototype.escapeString = function(stringValue) {
            for (var result = "", i = 0, len_1 = stringValue.length; i < len_1; i++) {
                var ch = stringValue[i];
                PdfName.delimiters.indexOf(ch);
                result += ch;
            }
            return result;
        }, PdfName.prototype.normalizeValue = function(value, c) {
            return value;
        }, PdfName.delimiters = "()<>[]{}/%}", PdfName.replacements = [ " ", "\t", "\n", "\r" ], 
        PdfName;
    }(), Operators = function() {
        function Operators() {
            this.forTest = "test", this.forTest = Operators.obj;
        }
        return Operators.obj = "obj", Operators.endObj = "endobj", Operators.r = "R", Operators.whiteSpace = " ", 
        Operators.slash = "/", Operators.newLine = "\r\n", Operators.stream = "stream", 
        Operators.endStream = "endstream", Operators.xref = "xref", Operators.f = "f", Operators.n = "n", 
        Operators.trailer = "trailer", Operators.startxref = "startxref", Operators.eof = "%%EOF", 
        Operators.header = "%PDF-1.5", Operators.beginText = "BT", Operators.endText = "ET", 
        Operators.beginPath = "m", Operators.appendLineSegment = "l", Operators.stroke = "S", 
        Operators.fill = "f", Operators.fillEvenOdd = "f*", Operators.fillStroke = "B", 
        Operators.fillStrokeEvenOdd = "B*", Operators.appendbeziercurve = "c", Operators.appendRectangle = "re", 
        Operators.saveState = "q", Operators.restoreState = "Q", Operators.paintXObject = "Do", 
        Operators.modifyCtm = "cm", Operators.modifyTM = "Tm", Operators.setLineWidth = "w", 
        Operators.setLineCapStyle = "J", Operators.setLineJoinStyle = "j", Operators.setDashPattern = "d", 
        Operators.setFlatnessTolerance = "i", Operators.closePath = "h", Operators.closeStrokePath = "s", 
        Operators.closeFillStrokePath = "b", Operators.setCharacterSpace = "Tc", Operators.setWordSpace = "Tw", 
        Operators.setHorizontalScaling = "Tz", Operators.setTextLeading = "TL", Operators.setFont = "Tf", 
        Operators.setRenderingMode = "Tr", Operators.setTextRise = "Ts", Operators.setTextScaling = "Tz", 
        Operators.setCoords = "Td", Operators.goToNextLine = "T*", Operators.setText = "Tj", 
        Operators.setTextWithFormatting = "TJ", Operators.setTextOnNewLine = "'", Operators.selectcolorspaceforstroking = "CS", 
        Operators.selectcolorspacefornonstroking = "cs", Operators.setrbgcolorforstroking = "RG", 
        Operators.setrbgcolorfornonstroking = "rg", Operators.setcmykcolorforstroking = "K", 
        Operators.setcmykcolorfornonstroking = "k", Operators.setgraycolorforstroking = "G", 
        Operators.setgraycolorfornonstroking = "g", Operators.clipPath = "W", Operators.clipPathEvenOdd = "W*", 
        Operators.endPath = "n", Operators.setGraphicsState = "gs", Operators.comment = "%", 
        Operators.evenOdd = "*", Operators.setMiterLimit = "M", Operators;
    }(), DictionaryProperties = function() {
        return function() {
            this.pages = "Pages", this.kids = "Kids", this.count = "Count", this.resources = "Resources", 
            this.type = "Type", this.size = "Size", this.mediaBox = "MediaBox", this.parent = "Parent", 
            this.root = "Root", this.decodeParms = "DecodeParms", this.filter = "Filter", this.font = "Font", 
            this.type1 = "Type1", this.baseFont = "BaseFont", this.encoding = "Encoding", this.subtype = "Subtype", 
            this.contents = "Contents", this.procset = "ProcSet", this.colorSpace = "ColorSpace", 
            this.extGState = "ExtGState", this.pattern = "Pattern", this.xObject = "XObject", 
            this.length = "Length", this.width = "Width", this.height = "Height", this.bitsPerComponent = "BitsPerComponent", 
            this.image = "Image", this.dctdecode = "DCTDecode", this.columns = "Columns", this.blackIs1 = "BlackIs1", 
            this.k = "K", this.s = "S", this.predictor = "Predictor", this.deviceRgb = "DeviceRGB", 
            this.next = "Next", this.action = "Action", this.link = "Link", this.a = "A", this.annot = "Annot", 
            this.p = "P", this.c = "C", this.rect = "Rect", this.uri = "URI", this.annots = "Annots", 
            this.ca = "ca", this.CA = "CA", this.xyz = "XYZ", this.fit = "Fit", this.dest = "Dest", 
            this.BM = "BM", this.flatedecode = "FlateDecode", this.rotate = "Rotate", this.bBox = "BBox", 
            this.form = "Form";
        };
    }(), PdfDictionary = function() {
        function PdfDictionary(dictionary) {
            if (this.position7 = -1, this.primitiveItems = new Dictionary(), this.prefix = "<<", 
            this.suffix = ">>", this.resources = [], this.object = null, this.archive = !0, 
            void 0 === dictionary) this.primitiveItems = new Dictionary(), this.encrypt = !0, 
            this.dictionaryProperties = new DictionaryProperties(); else {
                this.primitiveItems = new Dictionary();
                for (var keys = dictionary.items.keys(), values = dictionary.items.values(), index = 0; index < dictionary.items.size(); index++) this.primitiveItems.setValue(keys[index], values[index]);
                this.status = dictionary.status, this.freezeChanges(this), this.encrypt = !0, this.dictionaryProperties = new DictionaryProperties();
            }
        }
        return Object.defineProperty(PdfDictionary.prototype, "items", {
            get: function() {
                return this.primitiveItems;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDictionary.prototype, "status", {
            get: function() {
                return this.status7;
            },
            set: function(value) {
                this.status7 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDictionary.prototype, "isSaving", {
            get: function() {
                return this.isSaving7;
            },
            set: function(value) {
                this.isSaving7 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDictionary.prototype, "objectCollectionIndex", {
            get: function() {
                return this.index7;
            },
            set: function(value) {
                this.index7 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDictionary.prototype, "clonedObject", {
            get: function() {
                return this.object;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDictionary.prototype, "position", {
            get: function() {
                return this.position7;
            },
            set: function(value) {
                this.position7 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDictionary.prototype, "Count", {
            get: function() {
                return this.primitiveItems.size();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDictionary.prototype, "Dictionary", {
            get: function() {
                return this;
            },
            enumerable: !0,
            configurable: !0
        }), PdfDictionary.prototype.getArchive = function() {
            return this.archive;
        }, PdfDictionary.prototype.setArchive = function(value) {
            this.archive = value;
        }, PdfDictionary.prototype.setEncrypt = function(value) {
            this.encrypt = value, this.modify();
        }, PdfDictionary.prototype.getEncrypt = function() {
            return this.encrypt;
        }, PdfDictionary.prototype.freezeChanges = function(freezer) {
            this.bChanged = !1;
        }, PdfDictionary.prototype.clone = function(crossTable) {
            return new PdfDictionary();
        }, PdfDictionary.prototype.modify = function() {
            this.bChanged = !0;
        }, PdfDictionary.prototype.remove = function(key) {
            "string" != typeof key ? (this.primitiveItems.remove(key.value), this.modify()) : this.remove(new PdfName(key));
        }, PdfDictionary.prototype.containsKey = function(key) {
            return this.primitiveItems.containsKey(key.toString());
        }, PdfDictionary.prototype.onBeginSave = function() {
            this.beginSave.sender.beginSave();
        }, PdfDictionary.prototype.onTemplateBeginSave = function() {
            this.pageBeginDrawTemplate.sender.pageBeginSave();
        }, PdfDictionary.prototype.onBeginAnnotationSave = function() {
            this.annotationBeginSave.sender.beginSave();
        }, PdfDictionary.prototype.onSectionBeginSave = function(writer) {
            var saveEvent = this.sectionBeginSave;
            saveEvent.sender.beginSave(saveEvent.state, writer);
        }, PdfDictionary.prototype.save = function(writer, bRaiseEvent) {
            void 0 === bRaiseEvent ? this.save(writer, !0) : (writer.write(this.prefix), void 0 !== this.beginSave && this.onBeginSave(), 
            void 0 !== this.annotationBeginSave && this.onBeginAnnotationSave(), void 0 !== this.sectionBeginSave && this.onSectionBeginSave(writer), 
            void 0 !== this.pageBeginDrawTemplate && this.onTemplateBeginSave(), this.Count > 0 && this.saveItems(writer), 
            writer.write(this.suffix), writer.write(Operators.newLine));
        }, PdfDictionary.prototype.saveItems = function(writer) {
            writer.write(Operators.newLine);
            for (var keys = this.primitiveItems.keys(), values = this.primitiveItems.values(), index = 0; index < keys.length; index++) {
                var key = keys[index];
                new PdfName(key).save(writer), writer.write(Operators.whiteSpace);
                values[index].save(writer), writer.write(Operators.newLine);
            }
        }, PdfDictionary;
    }(), SaveSectionCollectionEventHandler = function() {
        return function(sender) {
            this.sender = sender;
        };
    }(), SaveAnnotationEventHandler = function() {
        return function(sender) {
            this.sender = sender;
        };
    }(), SaveSectionEventHandler = function() {
        return function(sender, state) {
            this.sender = sender, this.state = state;
        };
    }(), SaveTemplateEventHandler = function() {
        return function(sender) {
            this.sender = sender;
        };
    }(), PdfNumber = function() {
        function PdfNumber(value) {
            this.position5 = -1, this.value = value;
        }
        return Object.defineProperty(PdfNumber.prototype, "intValue", {
            get: function() {
                return this.value;
            },
            set: function(value) {
                this.value = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfNumber.prototype, "isInteger", {
            get: function() {
                return this.integer;
            },
            set: function(value) {
                this.integer = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfNumber.prototype, "status", {
            get: function() {
                return this.status5;
            },
            set: function(value) {
                this.status5 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfNumber.prototype, "isSaving", {
            get: function() {
                return this.isSaving5;
            },
            set: function(value) {
                this.isSaving5 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfNumber.prototype, "objectCollectionIndex", {
            get: function() {
                return this.index5;
            },
            set: function(value) {
                this.index5 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfNumber.prototype, "position", {
            get: function() {
                return this.position5;
            },
            set: function(value) {
                this.position5 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfNumber.prototype, "clonedObject", {
            get: function() {
                return null;
            },
            enumerable: !0,
            configurable: !0
        }), PdfNumber.prototype.save = function(writer) {
            writer.write(this.intValue.toString());
        }, PdfNumber.prototype.clone = function(crossTable) {
            return new PdfNumber(this.value);
        }, PdfNumber.floatToString = function(number) {
            var returnString = number.toFixed(2);
            return "0.00" === returnString && (returnString = ".00"), returnString;
        }, PdfNumber.min = function(x, y, z) {
            var r = Math.min(x, y);
            return Math.min(z, r);
        }, PdfNumber;
    }(), PdfArray = function() {
        function PdfArray(array) {
            if (this.startMark = "[", this.endMark = "]", this.position9 = -1, this.clonedObject9 = null, 
            void 0 === array) this.internalElements = []; else if (void 0 === array || array instanceof PdfArray) {
                var tempArray = array;
                this.internalElements = [];
                for (index = 0; index < tempArray.elements.length; index++) this.internalElements.push(tempArray.elements[index]);
            } else for (var tempNumberArray = array, index = 0; index < tempNumberArray.length; index++) {
                var pdfNumber = new PdfNumber(tempNumberArray[index]);
                this.add(pdfNumber);
            }
        }
        return PdfArray.prototype.items = function(index) {
            return this.internalElements[index];
        }, Object.defineProperty(PdfArray.prototype, "count", {
            get: function() {
                return this.internalElements.length;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfArray.prototype, "status", {
            get: function() {
                return this.status9;
            },
            set: function(value) {
                this.status9 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfArray.prototype, "isSaving", {
            get: function() {
                return this.isSaving9;
            },
            set: function(value) {
                this.isSaving9 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfArray.prototype, "clonedObject", {
            get: function() {
                return this.clonedObject9;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfArray.prototype, "position", {
            get: function() {
                return this.position9;
            },
            set: function(value) {
                this.position9 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfArray.prototype, "objectCollectionIndex", {
            get: function() {
                return this.index9;
            },
            set: function(value) {
                this.index9 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfArray.prototype, "CrossTable", {
            get: function() {
                return this.pdfCrossTable;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfArray.prototype, "elements", {
            get: function() {
                return this.internalElements;
            },
            enumerable: !0,
            configurable: !0
        }), PdfArray.prototype.add = function(element) {
            void 0 === this.internalElements && (this.internalElements = []), this.internalElements.push(element), 
            this.markedChange();
        }, PdfArray.prototype.markedChange = function() {
            this.bChanged = !0;
        }, PdfArray.prototype.contains = function(element) {
            for (var index = 0; index < this.internalElements.length; index++) {
                var tempElement = this.internalElements[index], inputElement = element;
                if (null != tempElement && void 0 !== tempElement && null != inputElement && void 0 !== inputElement && tempElement.value === inputElement.value) return !0;
            }
            return !1;
        }, PdfArray.prototype.getItems = function(index) {
            return this.internalElements[index];
        }, PdfArray.prototype.save = function(writer) {
            writer.write(this.startMark);
            for (var i = 0, len = this.count; i < len; i++) this.getItems(i).save(writer), i + 1 !== len && writer.write(Operators.whiteSpace);
            writer.write(this.endMark);
        }, PdfArray.prototype.clone = function(crossTable) {
            this.clonedObject9 = null;
            for (var newArray = new PdfArray(), index = 0; index < this.internalElements.length; index++) {
                var obj = this.internalElements[index];
                newArray.add(obj.clone(crossTable));
            }
            return newArray.pdfCrossTable = crossTable, this.clonedObject9 = newArray, newArray;
        }, PdfArray.fromRectangle = function(bounds) {
            return new PdfArray([ bounds.x, bounds.y, bounds.width, bounds.height ]);
        }, PdfArray.prototype.insert = function(index, element) {
            if (index < this.internalElements.length && index > 0) {
                for (var tempElements = [], i = 0; i < index; i++) tempElements.push(this.internalElements[i]);
                tempElements.push(element);
                for (i = index; i < this.internalElements.length; i++) tempElements.push(this.internalElements[i]);
                this.internalElements = tempElements;
            } else this.internalElements.push(element);
            this.markChanged();
        }, PdfArray.prototype.indexOf = function(element) {
            return this.internalElements.indexOf(element);
        }, PdfArray.prototype.remove = function(element) {
            var index = this.internalElements.indexOf(element);
            this.internalElements[index] = null, this.markChanged();
        }, PdfArray.prototype.removeAt = function(index) {
            if (this.internalElements.length > index) {
                for (var tempArray = [], i = 0; i < index; i++) tempArray.push(this.internalElements[i]);
                for (i = index + 1; i < this.internalElements.length; i++) tempArray.push(this.internalElements[i]);
                this.internalElements = tempArray;
            }
            this.markChanged();
        }, PdfArray.prototype.clear = function() {
            this.internalElements = [], this.markChanged();
        }, PdfArray.prototype.markChanged = function() {
            this.bChanged = !0;
        }, PdfArray;
    }(), __extends$34 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfStream = function(_super) {
        function PdfStream(dictionary, data) {
            var _this = _super.call(this, dictionary) || this;
            return _this.dicPrefix = "stream", _this.dicSuffix = "endstream", _this.clonedObject2 = null, 
            _this.bCompress = !0, _this.isImageStream = !1, void 0 !== dictionary || void 0 !== data ? (_this.dataStream2 = [], 
            _this.dataStream2 = data, _this.bCompress2 = !1) : (_this.dataStream2 = [], _this.bCompress2 = !0), 
            _this;
        }
        return __extends$34(PdfStream, _super), Object.defineProperty(PdfStream.prototype, "internalStream", {
            get: function() {
                return this.dataStream2;
            },
            set: function(value) {
                this.dataStream2 = [], this.dataStream2 = value, this.modify();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStream.prototype, "isImage", {
            get: function() {
                return this.isImageStream;
            },
            set: function(value) {
                this.isImageStream = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStream.prototype, "compress", {
            get: function() {
                return this.bCompress;
            },
            set: function(value) {
                this.bCompress = value, this.modify();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStream.prototype, "data", {
            get: function() {
                return this.dataStream2;
            },
            set: function(value) {
                this.dataStream2 = [], this.dataStream2 = value, this.modify();
            },
            enumerable: !0,
            configurable: !0
        }), PdfStream.prototype.clearStream = function() {
            this.internalStream = [], this.remove(this.dictionaryProperties.filter), this.bCompress = !0, 
            this.modify();
        }, PdfStream.prototype.write = function(text) {
            if (null == text) throw new Error("ArgumentNullException:text");
            if (text.length <= 0) throw new Error("ArgumentException: Can not write an empty string, text");
            this.dataStream2.push(text), this.modify();
        }, PdfStream.prototype.compressContent = function(data, writer) {
            if (this.bCompress) {
                var sw = new CompressedStreamWriter();
                sw.write(data, 0, data.length), sw.close(), data = sw.getCompressedString, this.addFilter(this.dictionaryProperties.flatedecode);
            }
            return data;
        }, PdfStream.prototype.addFilter = function(filterName) {
            var obj = this.items.getValue(this.dictionaryProperties.filter);
            if (obj instanceof PdfReferenceHolder) {
                obj = obj.object;
            }
            var array = obj, name = obj;
            null != name && ((array = new PdfArray()).insert(0, name), this.items.setValue(this.dictionaryProperties.filter, array)), 
            name = new PdfName(filterName), null == array ? this.items.setValue(this.dictionaryProperties.filter, name) : array.insert(0, name);
        }, PdfStream.prototype.save = function(writer) {
            for (var data = "", i = 0; i < this.data.length; i++) data += this.data[i];
            data.length > 1 && !this.isImage && (data = "q\r\n" + data + "Q\r\n");
            var length = (data = this.compressContent(data, writer)).length;
            this.items.setValue(this.dictionaryProperties.length, new PdfNumber(length)), _super.prototype.save.call(this, writer, !1), 
            writer.write(this.dicPrefix), writer.write(Operators.newLine), data.length > 0 && writer.write(data), 
            writer.write(Operators.newLine), writer.write(this.dicSuffix), writer.write(Operators.newLine);
        }, PdfStream.bytesToString = function(byteArray) {
            for (var output = "", i = 0; i < byteArray.length; i++) output += String.fromCharCode(byteArray[i]);
            return output;
        }, PdfStream;
    }(PdfDictionary);
    !function(InternalEnum) {
        !function(ForceEncoding) {
            ForceEncoding[ForceEncoding.None = 0] = "None", ForceEncoding[ForceEncoding.Ascii = 1] = "Ascii", 
            ForceEncoding[ForceEncoding.Unicode = 2] = "Unicode";
        }(InternalEnum.ForceEncoding || (InternalEnum.ForceEncoding = {}));
        var SourceType;
        !function(SourceType) {
            SourceType[SourceType.StringValue = 0] = "StringValue", SourceType[SourceType.ByteBuffer = 1] = "ByteBuffer";
        }(SourceType || (SourceType = {}));
    }(InternalEnum || (InternalEnum = {}));
    var PdfHorizontalAlignment, PdfString = function() {
        function PdfString(value) {
            if (this.bHex = !1, this.position1 = -1, this.clonedObject1 = null, this.bDecrypted = !1, 
            this.isParentDecrypted = !1, this.isPacked = !1, this.isFormField = !1, this.isColorSpace = !1, 
            this.isHexString = !0, void 0 === value) this.bHex = !1; else if (!(value.length > 0 && "0xfeff" === value[0])) {
                this.stringValue = value, this.data = [];
                for (var i = 0; i < value.length; ++i) this.data.push(value.charCodeAt(i));
            }
        }
        return Object.defineProperty(PdfString.prototype, "hex", {
            get: function() {
                return this.bHex;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfString.prototype, "value", {
            get: function() {
                return this.stringValue;
            },
            set: function(value) {
                this.stringValue = value, this.data = null;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfString.prototype, "status", {
            get: function() {
                return this.status1;
            },
            set: function(value) {
                this.status1 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfString.prototype, "isSaving", {
            get: function() {
                return this.isSaving1;
            },
            set: function(value) {
                this.isSaving1 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfString.prototype, "objectCollectionIndex", {
            get: function() {
                return this.index1;
            },
            set: function(value) {
                this.index1 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfString.prototype, "clonedObject", {
            get: function() {
                return this.clonedObject1;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfString.prototype, "position", {
            get: function() {
                return this.position1;
            },
            set: function(value) {
                this.position1 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfString.prototype, "CrossTable", {
            get: function() {
                return this.crossTable;
            },
            enumerable: !0,
            configurable: !0
        }), PdfString.bytesToHex = function(bytes) {
            if (null == bytes) return "";
            return "";
        }, PdfString.prototype.save = function(writer) {
            if (null === writer) throw new Error("ArgumentNullException : writer");
            writer.write(PdfString.stringMark[0] + this.value + PdfString.stringMark[1]);
        }, PdfString.prototype.clone = function(crossTable) {
            if (null !== this.clonedObject1 && this.clonedObject1.CrossTable === crossTable) return this.clonedObject1;
            this.clonedObject1 = null;
            var newString = new PdfString(this.stringValue);
            return newString.bHex = this.bHex, newString.crossTable = crossTable, newString.isColorSpace = this.isColorSpace, 
            this.clonedObject1 = newString, newString;
        }, PdfString.stringMark = "()", PdfString.hexStringMark = "<>", PdfString.hexFormatPattern = "{0:X2}", 
        PdfString;
    }(), PdfReference = function() {
        function PdfReference(objNumber, genNumber) {
            this.index3 = -1, this.position3 = -1, this.objNumber = 0, this.genNumber = 0, "number" == typeof objNumber && "number" == typeof genNumber ? (this.objNumber = objNumber, 
            this.genNumber = genNumber) : (this.objNumber = Number(objNumber), this.genNumber = Number(genNumber));
        }
        return Object.defineProperty(PdfReference.prototype, "status", {
            get: function() {
                return this.status3;
            },
            set: function(value) {
                this.status3 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReference.prototype, "isSaving", {
            get: function() {
                return this.isSaving3;
            },
            set: function(value) {
                this.isSaving3 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReference.prototype, "objectCollectionIndex", {
            get: function() {
                return this.index3;
            },
            set: function(value) {
                this.index3 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReference.prototype, "position", {
            get: function() {
                return this.position3;
            },
            set: function(value) {
                this.position3 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReference.prototype, "clonedObject", {
            get: function() {
                return null;
            },
            enumerable: !0,
            configurable: !0
        }), PdfReference.prototype.save = function(writer) {
            writer.write(this.toString());
        }, PdfReference.prototype.toString = function() {
            return this.objNumber.toString() + " " + this.genNumber.toString() + " R";
        }, PdfReference.prototype.clone = function(crossTable) {
            return null;
        }, PdfReference;
    }(), PdfReferenceHolder = function() {
        function PdfReferenceHolder(obj1, obj2) {
            if (this.index4 = -1, this.position4 = -1, this.objectIndex = -1, this.dictionaryProperties = new DictionaryProperties(), 
            obj1 instanceof PdfArray || obj1 instanceof PdfDictionary || obj1 instanceof PdfName || obj1 instanceof PdfNumber || obj1 instanceof PdfStream || obj1 instanceof PdfReference || obj1 instanceof PdfString) this.primitiveObject = obj1; else {
                var tempObj = obj1;
                this.constructor(tempObj.element);
            }
        }
        return Object.defineProperty(PdfReferenceHolder.prototype, "status", {
            get: function() {
                return this.status4;
            },
            set: function(value) {
                this.status4 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReferenceHolder.prototype, "isSaving", {
            get: function() {
                return this.isSaving4;
            },
            set: function(value) {
                this.isSaving4 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReferenceHolder.prototype, "objectCollectionIndex", {
            get: function() {
                return this.index4;
            },
            set: function(value) {
                this.index4 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReferenceHolder.prototype, "position", {
            get: function() {
                return this.position4;
            },
            set: function(value) {
                this.position4 = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReferenceHolder.prototype, "clonedObject", {
            get: function() {
                return null;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReferenceHolder.prototype, "object", {
            get: function() {
                return this.primitiveObject;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReferenceHolder.prototype, "reference", {
            get: function() {
                return this.pdfReference;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReferenceHolder.prototype, "index", {
            get: function() {
                return this.objectIndex;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfReferenceHolder.prototype, "element", {
            get: function() {
                return this.primitiveObject;
            },
            enumerable: !0,
            configurable: !0
        }), PdfReferenceHolder.prototype.save = function(writer) {
            writer.position;
            var cTable = writer.document.crossTable;
            this.object.isSaving = !0;
            cTable.getReference(this.object).save(writer);
        }, PdfReferenceHolder.prototype.clone = function(crossTable) {
            return null;
        }, PdfReferenceHolder;
    }(), PdfAction = function() {
        function PdfAction() {
            this.action = null, this.dictionaryProperties = new DictionaryProperties(), this.initialize();
        }
        return Object.defineProperty(PdfAction.prototype, "next", {
            get: function() {
                return this.action;
            },
            set: function(value) {
                this.action = value, this.dictionary.items.setValue(this.dictionaryProperties.next, new PdfReferenceHolder(this.action));
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAction.prototype, "dictionary", {
            get: function() {
                return void 0 === this.pdfDictionary && (this.pdfDictionary = new PdfDictionary()), 
                this.pdfDictionary;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAction.prototype.initialize = function() {
            this.dictionary.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.action));
        }, Object.defineProperty(PdfAction.prototype, "element", {
            get: function() {
                return this.dictionary;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAction;
    }(), __extends$1$9 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfUriAction = function(_super) {
        function PdfUriAction(uri) {
            var _this = _super.call(this) || this;
            return _this.uniformResourceIdentifier = "", _this;
        }
        return __extends$1$9(PdfUriAction, _super), Object.defineProperty(PdfUriAction.prototype, "uri", {
            get: function() {
                return this.uniformResourceIdentifier;
            },
            set: function(value) {
                this.uniformResourceIdentifier = value, this.dictionary.items.setValue(this.dictionaryProperties.uri, new PdfString(this.uniformResourceIdentifier));
            },
            enumerable: !0,
            configurable: !0
        }), PdfUriAction.prototype.initialize = function() {
            _super.prototype.initialize.call(this), this.dictionary.items.setValue(this.dictionaryProperties.s, new PdfName(this.dictionaryProperties.uri));
        }, PdfUriAction;
    }(PdfAction);
    !function(PdfHorizontalAlignment) {
        PdfHorizontalAlignment[PdfHorizontalAlignment.Left = 0] = "Left", PdfHorizontalAlignment[PdfHorizontalAlignment.Center = 1] = "Center", 
        PdfHorizontalAlignment[PdfHorizontalAlignment.Right = 2] = "Right";
    }(PdfHorizontalAlignment || (PdfHorizontalAlignment = {}));
    var PdfVerticalAlignment;
    !function(PdfVerticalAlignment) {
        PdfVerticalAlignment[PdfVerticalAlignment.Top = 0] = "Top", PdfVerticalAlignment[PdfVerticalAlignment.Middle = 1] = "Middle", 
        PdfVerticalAlignment[PdfVerticalAlignment.Bottom = 2] = "Bottom";
    }(PdfVerticalAlignment || (PdfVerticalAlignment = {}));
    var PdfTextAlignment;
    !function(PdfTextAlignment) {
        PdfTextAlignment[PdfTextAlignment.Left = 0] = "Left", PdfTextAlignment[PdfTextAlignment.Center = 1] = "Center", 
        PdfTextAlignment[PdfTextAlignment.Right = 2] = "Right", PdfTextAlignment[PdfTextAlignment.Justify = 3] = "Justify";
    }(PdfTextAlignment || (PdfTextAlignment = {}));
    var TextRenderingMode;
    !function(TextRenderingMode) {
        TextRenderingMode[TextRenderingMode.Fill = 0] = "Fill", TextRenderingMode[TextRenderingMode.Stroke = 1] = "Stroke", 
        TextRenderingMode[TextRenderingMode.FillStroke = 2] = "FillStroke", TextRenderingMode[TextRenderingMode.None = 3] = "None", 
        TextRenderingMode[TextRenderingMode.ClipFlag = 4] = "ClipFlag", TextRenderingMode[TextRenderingMode.ClipFill = 4] = "ClipFill", 
        TextRenderingMode[TextRenderingMode.ClipStroke = 5] = "ClipStroke", TextRenderingMode[TextRenderingMode.ClipFillStroke = 6] = "ClipFillStroke", 
        TextRenderingMode[TextRenderingMode.Clip = 7] = "Clip";
    }(TextRenderingMode || (TextRenderingMode = {}));
    var PdfLineJoin;
    !function(PdfLineJoin) {
        PdfLineJoin[PdfLineJoin.Miter = 0] = "Miter", PdfLineJoin[PdfLineJoin.Round = 1] = "Round", 
        PdfLineJoin[PdfLineJoin.Bevel = 2] = "Bevel";
    }(PdfLineJoin || (PdfLineJoin = {}));
    var PdfLineCap;
    !function(PdfLineCap) {
        PdfLineCap[PdfLineCap.Flat = 0] = "Flat", PdfLineCap[PdfLineCap.Round = 1] = "Round", 
        PdfLineCap[PdfLineCap.Square = 2] = "Square";
    }(PdfLineCap || (PdfLineCap = {}));
    var PdfDashStyle;
    !function(PdfDashStyle) {
        PdfDashStyle[PdfDashStyle.Solid = 0] = "Solid", PdfDashStyle[PdfDashStyle.Dash = 1] = "Dash", 
        PdfDashStyle[PdfDashStyle.Dot = 2] = "Dot", PdfDashStyle[PdfDashStyle.DashDot = 3] = "DashDot", 
        PdfDashStyle[PdfDashStyle.DashDotDot = 4] = "DashDotDot", PdfDashStyle[PdfDashStyle.Custom = 5] = "Custom";
    }(PdfDashStyle || (PdfDashStyle = {}));
    var PdfFillMode;
    !function(PdfFillMode) {
        PdfFillMode[PdfFillMode.Winding = 0] = "Winding", PdfFillMode[PdfFillMode.Alternate = 1] = "Alternate";
    }(PdfFillMode || (PdfFillMode = {}));
    var PdfColorSpace;
    !function(PdfColorSpace) {
        PdfColorSpace[PdfColorSpace.Rgb = 0] = "Rgb", PdfColorSpace[PdfColorSpace.Cmyk = 1] = "Cmyk", 
        PdfColorSpace[PdfColorSpace.GrayScale = 2] = "GrayScale", PdfColorSpace[PdfColorSpace.Indexed = 3] = "Indexed";
    }(PdfColorSpace || (PdfColorSpace = {}));
    var PdfBlendMode;
    !function(PdfBlendMode) {
        PdfBlendMode[PdfBlendMode.Normal = 0] = "Normal", PdfBlendMode[PdfBlendMode.Multiply = 1] = "Multiply", 
        PdfBlendMode[PdfBlendMode.Screen = 2] = "Screen", PdfBlendMode[PdfBlendMode.Overlay = 3] = "Overlay", 
        PdfBlendMode[PdfBlendMode.Darken = 4] = "Darken", PdfBlendMode[PdfBlendMode.Lighten = 5] = "Lighten", 
        PdfBlendMode[PdfBlendMode.ColorDodge = 6] = "ColorDodge", PdfBlendMode[PdfBlendMode.ColorBurn = 7] = "ColorBurn", 
        PdfBlendMode[PdfBlendMode.HardLight = 8] = "HardLight", PdfBlendMode[PdfBlendMode.SoftLight = 9] = "SoftLight", 
        PdfBlendMode[PdfBlendMode.Difference = 10] = "Difference", PdfBlendMode[PdfBlendMode.Exclusion = 11] = "Exclusion", 
        PdfBlendMode[PdfBlendMode.Hue = 12] = "Hue", PdfBlendMode[PdfBlendMode.Saturation = 13] = "Saturation", 
        PdfBlendMode[PdfBlendMode.Color = 14] = "Color", PdfBlendMode[PdfBlendMode.Luminosity = 15] = "Luminosity";
    }(PdfBlendMode || (PdfBlendMode = {}));
    var PdfGraphicsUnit;
    !function(PdfGraphicsUnit) {
        PdfGraphicsUnit[PdfGraphicsUnit.Centimeter = 0] = "Centimeter", PdfGraphicsUnit[PdfGraphicsUnit.Pica = 1] = "Pica", 
        PdfGraphicsUnit[PdfGraphicsUnit.Pixel = 2] = "Pixel", PdfGraphicsUnit[PdfGraphicsUnit.Point = 3] = "Point", 
        PdfGraphicsUnit[PdfGraphicsUnit.Inch = 4] = "Inch", PdfGraphicsUnit[PdfGraphicsUnit.Document = 5] = "Document", 
        PdfGraphicsUnit[PdfGraphicsUnit.Millimeter = 6] = "Millimeter";
    }(PdfGraphicsUnit || (PdfGraphicsUnit = {}));
    var PdfGridImagePosition;
    !function(PdfGridImagePosition) {
        PdfGridImagePosition[PdfGridImagePosition.Fit = 0] = "Fit", PdfGridImagePosition[PdfGridImagePosition.Center = 1] = "Center", 
        PdfGridImagePosition[PdfGridImagePosition.Stretch = 2] = "Stretch", PdfGridImagePosition[PdfGridImagePosition.Tile = 3] = "Tile";
    }(PdfGridImagePosition || (PdfGridImagePosition = {}));
    var PdfFontStyle, PdfColor = function() {
        function PdfColor(color1, color2, color3, color4) {
            color1 instanceof PdfColor ? (this.redColor = color1.r, this.greenColor = color1.g, 
            this.blueColor = color1.b, this.grayColor = color1.gray, this.alpha = color1.alpha, 
            this.filled = 0 !== this.alpha) : "number" == typeof color1 && "number" == typeof color2 && "number" == typeof color3 && void 0 === color4 ? this.constructor(PdfColor.maxColourChannelValue, color1, color2, color3) : "number" == typeof color1 && "number" == typeof color2 && "number" == typeof color3 && "number" == typeof color4 && (this.redColor = color2, 
            this.cyanColor = 0, this.greenColor = color3, this.magentaColor = 0, this.blueColor = color4, 
            this.yellowColor = 0, this.blackColor = 0, this.grayColor = 0, this.alpha = color1, 
            this.filled = !0, this.assignCMYK(color2, color3, color4));
        }
        return PdfColor.prototype.assignCMYK = function(r, g, b) {
            var red = r / PdfColor.maxColourChannelValue, green = g / PdfColor.maxColourChannelValue, blue = b / PdfColor.maxColourChannelValue, black = PdfNumber.min(1 - red, 1 - green, 1 - blue), cyan = 1 === black ? 0 : (1 - red - black) / (1 - black), magenta = 1 === black ? 0 : (1 - green - black) / (1 - black), yellow = 1 === black ? 0 : (1 - blue - black) / (1 - black);
            this.blackColor = black, this.cyanColor = cyan, this.magentaColor = magenta, this.yellowColor = yellow;
        }, Object.defineProperty(PdfColor.prototype, "r", {
            get: function() {
                return this.redColor;
            },
            set: function(value) {
                this.redColor = value, this.assignCMYK(this.redColor, this.greenColor, this.blueColor), 
                this.filled = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfColor.prototype, "red", {
            get: function() {
                return this.r / PdfColor.maxColourChannelValue;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfColor.prototype, "b", {
            get: function() {
                return this.blueColor;
            },
            set: function(value) {
                this.blueColor = value, this.assignCMYK(this.redColor, this.greenColor, this.blueColor), 
                this.filled = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfColor.prototype, "blue", {
            get: function() {
                return this.b / PdfColor.maxColourChannelValue;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfColor.prototype, "g", {
            get: function() {
                return this.greenColor;
            },
            set: function(value) {
                this.greenColor = value, this.assignCMYK(this.redColor, this.greenColor, this.blueColor), 
                this.filled = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfColor.prototype, "green", {
            get: function() {
                return this.g / PdfColor.maxColourChannelValue;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfColor.prototype, "gray", {
            get: function() {
                return (this.redColor + this.greenColor + this.blueColor) / (3 * PdfColor.maxColourChannelValue);
            },
            set: function(value) {
                this.grayColor = value < 0 ? 0 : value > 1 ? 1 : value, this.r = this.grayColor * PdfColor.maxColourChannelValue, 
                this.g = this.grayColor * PdfColor.maxColourChannelValue, this.b = this.grayColor * PdfColor.maxColourChannelValue, 
                this.assignCMYK(this.redColor, this.greenColor, this.blueColor), this.filled = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfColor.prototype, "isEmpty", {
            get: function() {
                return !this.filled;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfColor.prototype, "a", {
            get: function() {
                return this.alpha;
            },
            set: function(value) {
                this.alpha = value < 0 ? 0 : value, this.filled = !0;
            },
            enumerable: !0,
            configurable: !0
        }), PdfColor.prototype.toString = function(colorSpace, stroke) {
            return this.isEmpty ? "" : this.rgbToString(stroke);
        }, PdfColor.prototype.rgbToString = function(ifStroking) {
            var r = this.r, g = this.g, b = this.b, key = (r << 16) + (g << 8) + b;
            ifStroking && (key += 1 << 24);
            var colour = "", obj = null;
            if (PdfColor.rgbStrings.containsKey(key) && (obj = PdfColor.rgbStrings.getValue(key)), 
            null == obj) {
                var red = r / PdfColor.maxColourChannelValue, green = g / PdfColor.maxColourChannelValue, blue = b / PdfColor.maxColourChannelValue;
                colour = ifStroking ? red.toString() + " " + green.toString() + " " + blue.toString() + " RG" : red.toString() + " " + green.toString() + " " + blue.toString() + " rg", 
                PdfColor.rgbStrings.setValue(key, colour);
            } else colour = obj.toString();
            return colour + Operators.newLine;
        }, PdfColor.prototype.toArray = function(colorSpace) {
            var array = new PdfArray();
            switch (colorSpace) {
              case PdfColorSpace.Rgb:
                array.add(new PdfNumber(this.red)), array.add(new PdfNumber(this.green)), array.add(new PdfNumber(this.blue));
                break;

              default:
                throw new Error("NotSupportedException : Unsupported colour space.");
            }
            return array;
        }, PdfColor.rgbStrings = new Dictionary(), PdfColor.grayStringsSroke = new Dictionary(), 
        PdfColor.grayStringsFill = new Dictionary(), PdfColor.maxColourChannelValue = 255, 
        PdfColor;
    }(), PointF = function() {
        return function(x, y) {
            void 0 === x ? (this.x = 0, this.y = 0) : (this.x = null !== x ? x : 0, this.y = null !== y ? y : 0);
        };
    }(), SizeF = function() {
        return function(width, height) {
            void 0 === height ? (this.height = 0, this.width = 0) : (this.height = null !== height ? height : 0, 
            this.width = null !== width ? width : 0);
        };
    }(), RectangleF = function() {
        return function(arg1, arg2, arg3, arg4) {
            if (typeof arg1 == typeof arg1 && void 0 === arg1) this.x = 0, this.y = 0, this.height = 0, 
            this.width = 0; else if (arg1 instanceof PointF && arg2 instanceof SizeF && void 0 === arg3) {
                var pointf = arg1;
                this.x = pointf.x, this.y = pointf.y;
                var sizef = arg2;
                this.height = sizef.height, this.width = sizef.width;
            } else {
                var x = arg1, y = arg2, width = arg3, height = arg4;
                this.x = x, this.y = y, this.height = height, this.width = width;
            }
        };
    }(), PdfBrush = function() {
        return function() {};
    }(), __extends$4$6 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfSolidBrush = function(_super) {
        function PdfSolidBrush(color) {
            var _this = _super.call(this) || this;
            return _this.pdfColor = color, _this;
        }
        return __extends$4$6(PdfSolidBrush, _super), Object.defineProperty(PdfSolidBrush.prototype, "color", {
            get: function() {
                return this.pdfColor;
            },
            set: function(value) {
                this.pdfColor = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfSolidBrush.prototype.monitorChanges = function(brush, streamWriter, getResources, saveChanges, currentColorSpace) {
            if (null == streamWriter) throw new Error("ArgumentNullException:streamWriter");
            var diff = !1;
            return diff = !0, streamWriter.setColorAndSpace(this.pdfColor, currentColorSpace, !1), 
            diff;
        }, PdfSolidBrush.prototype.resetChanges = function(streamWriter) {
            streamWriter.setColorAndSpace(new PdfColor(0, 0, 0), PdfColorSpace.Rgb, !1);
        }, PdfSolidBrush;
    }(PdfBrush);
    !function(PdfFontStyle) {
        PdfFontStyle[PdfFontStyle.Regular = 0] = "Regular", PdfFontStyle[PdfFontStyle.Bold = 1] = "Bold", 
        PdfFontStyle[PdfFontStyle.Italic = 2] = "Italic", PdfFontStyle[PdfFontStyle.Underline = 4] = "Underline", 
        PdfFontStyle[PdfFontStyle.Strikeout = 8] = "Strikeout";
    }(PdfFontStyle || (PdfFontStyle = {}));
    var PdfFontFamily;
    !function(PdfFontFamily) {
        PdfFontFamily[PdfFontFamily.Helvetica = 0] = "Helvetica", PdfFontFamily[PdfFontFamily.Courier = 1] = "Courier", 
        PdfFontFamily[PdfFontFamily.TimesRoman = 2] = "TimesRoman", PdfFontFamily[PdfFontFamily.Symbol = 3] = "Symbol", 
        PdfFontFamily[PdfFontFamily.ZapfDingbats = 4] = "ZapfDingbats";
    }(PdfFontFamily || (PdfFontFamily = {}));
    var PdfFontType;
    !function(PdfFontType) {
        PdfFontType[PdfFontType.Standard = 0] = "Standard", PdfFontType[PdfFontType.TrueType = 1] = "TrueType", 
        PdfFontType[PdfFontType.TrueTypeEmbedded = 2] = "TrueTypeEmbedded";
    }(PdfFontType || (PdfFontType = {}));
    var PdfWordWrapType;
    !function(PdfWordWrapType) {
        PdfWordWrapType[PdfWordWrapType.None = 0] = "None", PdfWordWrapType[PdfWordWrapType.Word = 1] = "Word", 
        PdfWordWrapType[PdfWordWrapType.WordOnly = 2] = "WordOnly", PdfWordWrapType[PdfWordWrapType.Character = 3] = "Character";
    }(PdfWordWrapType || (PdfWordWrapType = {}));
    var PdfSubSuperScript;
    !function(PdfSubSuperScript) {
        PdfSubSuperScript[PdfSubSuperScript.None = 0] = "None", PdfSubSuperScript[PdfSubSuperScript.SuperScript = 1] = "SuperScript", 
        PdfSubSuperScript[PdfSubSuperScript.SubScript = 2] = "SubScript";
    }(PdfSubSuperScript || (PdfSubSuperScript = {}));
    var FontEncoding;
    !function(FontEncoding) {
        FontEncoding[FontEncoding.Unknown = 0] = "Unknown", FontEncoding[FontEncoding.StandardEncoding = 1] = "StandardEncoding", 
        FontEncoding[FontEncoding.MacRomanEncoding = 2] = "MacRomanEncoding", FontEncoding[FontEncoding.MacExpertEncoding = 3] = "MacExpertEncoding", 
        FontEncoding[FontEncoding.WinAnsiEncoding = 4] = "WinAnsiEncoding", FontEncoding[FontEncoding.PdfDocEncoding = 5] = "PdfDocEncoding", 
        FontEncoding[FontEncoding.IdentityH = 6] = "IdentityH";
    }(FontEncoding || (FontEncoding = {}));
    var LineType, PdfStringFormat = function() {
        function PdfStringFormat(arg1, arg2) {
            this.scalingFactor = 100, void 0 === arg1 ? (this.internalLineLimit = !0, this.wordWrapType = PdfWordWrapType.Word) : "string" == typeof arg1 ? this.constructor() : void 0 === arg2 ? (this.constructor(), 
            this.textAlignment = arg1) : (this.constructor(arg1), this.verticalAlignment = arg2);
        }
        return Object.defineProperty(PdfStringFormat.prototype, "alignment", {
            get: function() {
                return this.textAlignment;
            },
            set: function(value) {
                this.textAlignment = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "lineAlignment", {
            get: function() {
                return void 0 === this.verticalAlignment || null == this.verticalAlignment ? PdfVerticalAlignment.Top : this.verticalAlignment;
            },
            set: function(value) {
                this.verticalAlignment = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "rightToLeft", {
            get: function() {
                return void 0 !== this.isRightToLeft && null != this.isRightToLeft && this.isRightToLeft;
            },
            set: function(value) {
                this.isRightToLeft = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "characterSpacing", {
            get: function() {
                return void 0 === this.internalCharacterSpacing || null == this.internalCharacterSpacing ? 0 : this.internalCharacterSpacing;
            },
            set: function(value) {
                this.internalCharacterSpacing = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "wordSpacing", {
            get: function() {
                return void 0 === this.internalWordSpacing || null == this.internalWordSpacing ? 0 : this.internalWordSpacing;
            },
            set: function(value) {
                this.internalWordSpacing = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "lineSpacing", {
            get: function() {
                return void 0 === this.leading || null == this.leading ? 0 : this.leading;
            },
            set: function(value) {
                this.leading = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "clipPath", {
            get: function() {
                return void 0 !== this.clip && null != this.clip && this.clip;
            },
            set: function(value) {
                this.clip = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "subSuperScript", {
            get: function() {
                return void 0 === this.pdfSubSuperScript || null == this.pdfSubSuperScript ? PdfSubSuperScript.None : this.pdfSubSuperScript;
            },
            set: function(value) {
                this.pdfSubSuperScript = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "paragraphIndent", {
            get: function() {
                return void 0 === this.internalParagraphIndent || null == this.internalParagraphIndent ? 0 : this.internalParagraphIndent;
            },
            set: function(value) {
                this.internalParagraphIndent = value, this.firstLineIndent = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "lineLimit", {
            get: function() {
                return this.internalLineLimit;
            },
            set: function(value) {
                this.internalLineLimit = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "measureTrailingSpaces", {
            get: function() {
                return void 0 !== this.trailingSpaces && null != this.trailingSpaces && this.trailingSpaces;
            },
            set: function(value) {
                this.trailingSpaces = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "noClip", {
            get: function() {
                return void 0 !== this.isNoClip && null != this.isNoClip && this.isNoClip;
            },
            set: function(value) {
                this.isNoClip = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "wordWrap", {
            get: function() {
                return this.wordWrapType;
            },
            set: function(value) {
                this.wordWrapType = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "horizontalScalingFactor", {
            get: function() {
                return this.scalingFactor;
            },
            set: function(value) {
                if (value <= 0) throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");
                this.scalingFactor = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringFormat.prototype, "firstLineIndent", {
            get: function() {
                return void 0 === this.initialLineIndent || null == this.initialLineIndent ? 0 : this.initialLineIndent;
            },
            set: function(value) {
                this.initialLineIndent = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfStringFormat.prototype.clone = function() {
            return this;
        }, PdfStringFormat;
    }(), StringTokenizer = function() {
        function StringTokenizer(textValue) {
            if (this.currentPosition = 0, null == textValue) throw new Error("ArgumentNullException:text");
            this.text = textValue;
        }
        return Object.defineProperty(StringTokenizer.prototype, "length", {
            get: function() {
                return this.text.length;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(StringTokenizer.prototype, "position", {
            get: function() {
                return this.currentPosition;
            },
            set: function(value) {
                this.currentPosition = value;
            },
            enumerable: !0,
            configurable: !0
        }), StringTokenizer.getCharsCount = function(text, symbols) {
            if ("string" == typeof symbols) {
                if (null == text) throw new Error("ArgumentNullException:wholeText");
                for (var numSymbols = 0, curIndex = 0; -1 !== (curIndex = text.indexOf(symbols, curIndex)); ) numSymbols++, 
                curIndex++;
                return numSymbols;
            }
            if (null == text) throw new Error("ArgumentNullException:text");
            if (null == symbols) throw new Error("ArgumentNullException:symbols");
            for (var count = 0, i = 0, len = text.length; i < len; i++) {
                var ch = text[i];
                this.contains(symbols, ch) && count++;
            }
            return count;
        }, StringTokenizer.prototype.readLine = function() {
            for (var pos = this.currentPosition; pos < this.length; ) {
                switch (this.text[pos]) {
                  case "\r":
                  case "\n":
                    var text = this.text.substring(this.currentPosition, pos - this.currentPosition);
                    return this.currentPosition = pos + 1, this.currentPosition++, text;
                }
                pos++;
            }
            if (pos > this.currentPosition) {
                var text2 = this.text.substring(this.currentPosition, pos - this.currentPosition);
                return this.currentPosition = pos, text2;
            }
            return null;
        }, StringTokenizer.prototype.peekLine = function() {
            var pos = this.currentPosition, line = this.readLine();
            return this.currentPosition = pos, line;
        }, StringTokenizer.prototype.readWord = function() {
            for (var pos = this.currentPosition; pos < this.length; ) {
                var ch = this.text[pos];
                switch (ch) {
                  case "\r":
                  case "\n":
                    var textValue = this.text.substr(this.currentPosition, pos - this.currentPosition);
                    return this.currentPosition = pos + 1, "\r" === ch && this.currentPosition < this.length && "\n" === this.text[this.currentPosition] && this.currentPosition++, 
                    textValue;

                  case " ":
                  case "\t":
                    pos === this.currentPosition && pos++;
                    var text = this.text.substr(this.currentPosition, pos - this.currentPosition);
                    return this.currentPosition = pos, text;
                }
                pos++;
            }
            if (pos > this.currentPosition) {
                var text2 = this.text.substr(this.currentPosition, pos - this.currentPosition);
                return this.currentPosition = pos, text2;
            }
            return null;
        }, StringTokenizer.prototype.peekWord = function() {
            var pos = this.currentPosition, word = this.readWord();
            return this.currentPosition = pos, word;
        }, StringTokenizer.prototype.read = function(count) {
            if (void 0 === count) {
                return "0";
            }
            return "";
        }, StringTokenizer.prototype.peek = function() {
            return "0";
        }, StringTokenizer.prototype.close = function() {
            this.text = null;
        }, StringTokenizer.contains = function(array, symbol) {
            for (var contains = !1, i = 0; i < array.length; i++) if (array[i] === symbol) {
                contains = !0;
                break;
            }
            return contains;
        }, StringTokenizer.whiteSpace = " ", StringTokenizer.tab = "\t", StringTokenizer.spaces = [ StringTokenizer.whiteSpace, StringTokenizer.tab ], 
        StringTokenizer.whiteSpacePattern = "^[ \t]+$", StringTokenizer;
    }(), PdfStringLayouter = function() {
        function PdfStringLayouter() {
            this.isOverloadWithPosition = !1;
        }
        return PdfStringLayouter.prototype.layout = function(arg1, arg2, arg3, arg4, arg5, arg6, arg7) {
            if (arg4 instanceof RectangleF) {
                this.initialize(arg1, arg2, arg3, arg4, arg5), this.isOverloadWithPosition = arg6, 
                this.clientSize = arg7;
                var result = this.doLayout();
                return this.clear(), result;
            }
            this.initialize(arg1, arg2, arg3, arg4), this.isOverloadWithPosition = arg5, this.clientSize = arg6;
            result = this.doLayout();
            return this.clear(), result;
        }, PdfStringLayouter.prototype.initialize = function(text, font, format, rectSize, pageHeight) {
            if ("number" == typeof pageHeight) {
                if (null == text) throw new Error("ArgumentNullException:text");
                if (null == font) throw new Error("ArgumentNullException:font");
                this.text = text, this.font = font, this.format = format, this.size = new SizeF(rectSize.width, rectSize.height), 
                this.rectangle = rectSize, this.pageHeight = pageHeight, this.reader = new StringTokenizer(text);
            } else this.initialize(text, font, format, new RectangleF(new PointF(0, 0), rectSize), 0);
        }, PdfStringLayouter.prototype.clear = function() {
            this.font = null, this.format = null, this.reader.close(), this.reader = null, this.text = null;
        }, PdfStringLayouter.prototype.doLayout = function() {
            for (var result = new PdfStringLayoutResult(), lineResult = new PdfStringLayoutResult(), lines = [], line = this.reader.peekLine(), lineIndent = this.getLineIndent(!0); null != line; ) {
                lineResult = this.layoutLine(line, lineIndent);
                var numSymbolsInserted = 0, returnedValue = this.copyToResult(result, lineResult, lines, numSymbolsInserted);
                returnedValue.success;
                numSymbolsInserted = returnedValue.numInserted, this.reader.readLine(), line = this.reader.peekLine(), 
                lineIndent = this.getLineIndent(!1);
            }
            return this.finalizeResult(result, lines), result;
        }, PdfStringLayouter.prototype.getLineIndent = function(firstLine) {
            var lineIndent = 0;
            return null != this.format && (lineIndent = firstLine ? this.format.firstLineIndent : this.format.paragraphIndent, 
            lineIndent = this.size.width > 0 ? Math.min(this.size.width, lineIndent) : lineIndent), 
            lineIndent;
        }, PdfStringLayouter.prototype.getLineHeight = function() {
            var height = this.font.height;
            return null != this.format && 0 !== this.format.lineSpacing && (height = this.format.lineSpacing + this.font.height), 
            height;
        }, PdfStringLayouter.prototype.getLineWidth = function(line) {
            return this.font.getLineWidth(line, this.format);
        }, PdfStringLayouter.prototype.layoutLine = function(line, lineIndent) {
            var lineResult = new PdfStringLayoutResult();
            lineResult.layoutLineHeight = this.getLineHeight();
            var lines = [], maxWidth = this.size.width, lineWidth = this.getLineWidth(line) + lineIndent, lineType = LineType.FirstParagraphLine, readWord = !0;
            if (maxWidth <= 0 || Math.round(lineWidth) <= Math.round(maxWidth)) this.addToLineResult(lineResult, lines, line, lineWidth, LineType.NewLineBreak | lineType); else {
                var builder = "", curLine = "";
                lineWidth = lineIndent;
                for (var curIndent = lineIndent, reader = new StringTokenizer(line), word = reader.peekWord(), isSingleWord = !1; null != word; ) {
                    curLine += word;
                    var curLineWidth = this.getLineWidth(curLine.toString()) + curIndent;
                    if (curLineWidth > maxWidth) {
                        if (this.getWrapType() == PdfWordWrapType.None) break;
                        if (this.getWrapType() == PdfWordWrapType.Character && readWord) readWord = !1, 
                        curLine += builder.toString(), word = reader.peek().toString(); else {
                            -1 === (ln = builder.toString()).indexOf(" ") ? (isSingleWord = !0, this.addToLineResult(lineResult, lines, curLine, lineWidth, LineType.LayoutBreak | lineType)) : this.addToLineResult(lineResult, lines, ln, lineWidth, LineType.LayoutBreak | lineType), 
                            this.isOverloadWithPosition && (maxWidth = this.clientSize.width), curLine = "", 
                            builder = "", lineWidth = 0, curIndent = 0, curLineWidth = 0, lineType = LineType.None, 
                            isSingleWord && (reader.readWord(), readWord = !1), word = readWord ? word : reader.peekWord(), 
                            isSingleWord = !1, readWord = !0;
                        }
                    } else builder += word, lineWidth = curLineWidth, readWord ? (reader.readWord(), 
                    word = reader.peekWord(), isSingleWord = !1) : (reader.read(), word = reader.peek().toString());
                }
                if (builder.length > 0) {
                    var ln = builder.toString();
                    this.addToLineResult(lineResult, lines, ln, lineWidth, LineType.NewLineBreak | LineType.LastParagraphLine);
                }
                reader.close();
            }
            lineResult.layoutLines = [];
            for (var index = 0; index < lines.length; index++) lineResult.layoutLines.push(lines[index]);
            return lines = [], lineResult;
        }, PdfStringLayouter.prototype.addToLineResult = function(lineResult, lines, line, lineWidth, breakType) {
            var info = new LineInfo();
            info.text = line, info.width = lineWidth, info.lineType = breakType, lines.push(info);
            var size = lineResult.actualSize;
            size.height += this.getLineHeight(), size.width = Math.max(size.width, lineWidth), 
            lineResult.size = size;
        }, PdfStringLayouter.prototype.copyToResult = function(result, lineResult, lines, numInserted) {
            null != this.format && this.format.lineLimit;
            var height = result.actualSize.height, maxHeight = this.size.height;
            this.pageHeight > 0 && maxHeight + this.rectangle.y > this.pageHeight && (maxHeight = this.rectangle.y - this.pageHeight, 
            maxHeight = Math.max(maxHeight, -maxHeight)), numInserted = 0;
            for (var i = 0, len = lineResult.lines.length; i < len; i++) {
                var expHeight = height + lineResult.lineHeight, info = lineResult.lines[i];
                numInserted += info.text.length, info = this.trimLine(info, 0 === lines.length), 
                lines.push(info);
                var size_1 = result.actualSize;
                size_1.width = Math.max(size_1.width, info.width), result.size = size_1, height = expHeight;
            }
            var size = result.actualSize;
            return size.height = height, result.size = size, {
                success: !0,
                numInserted: numInserted
            };
        }, PdfStringLayouter.prototype.finalizeResult = function(result, lines) {
            result.layoutLines = [];
            for (var index = 0; index < lines.length; index++) result.layoutLines.push(lines[index]);
            result.layoutLineHeight = this.getLineHeight(), lines = [];
        }, PdfStringLayouter.prototype.trimLine = function(info, firstLine) {
            var line = info.text, lineWidth = info.width;
            null == this.format || this.format.rightToLeft;
            return (line = line.trim()).length !== info.text.length && (lineWidth = this.getLineWidth(line), 
            lineWidth += this.getLineIndent(firstLine)), info.text = line, info.width = lineWidth, 
            info;
        }, PdfStringLayouter.prototype.getWrapType = function() {
            return null != this.format ? this.format.wordWrap : PdfWordWrapType.Word;
        }, PdfStringLayouter;
    }(), PdfStringLayoutResult = function() {
        function PdfStringLayoutResult() {}
        return Object.defineProperty(PdfStringLayoutResult.prototype, "remainder", {
            get: function() {
                return this.textRemainder;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringLayoutResult.prototype, "actualSize", {
            get: function() {
                return void 0 === this.size && (this.size = new SizeF(0, 0)), this.size;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringLayoutResult.prototype, "lines", {
            get: function() {
                return this.layoutLines;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringLayoutResult.prototype, "lineHeight", {
            get: function() {
                return this.layoutLineHeight;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringLayoutResult.prototype, "empty", {
            get: function() {
                return null == this.layoutLines || 0 === this.layoutLines.length;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStringLayoutResult.prototype, "lineCount", {
            get: function() {
                return this.empty ? 0 : this.layoutLines.length;
            },
            enumerable: !0,
            configurable: !0
        }), PdfStringLayoutResult;
    }(), LineInfo = function() {
        function LineInfo() {}
        return Object.defineProperty(LineInfo.prototype, "lineType", {
            get: function() {
                return this.type;
            },
            set: function(value) {
                this.type = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(LineInfo.prototype, "text", {
            get: function() {
                return this.content;
            },
            set: function(value) {
                this.content = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(LineInfo.prototype, "width", {
            get: function() {
                return this.lineWidth;
            },
            set: function(value) {
                this.lineWidth = value;
            },
            enumerable: !0,
            configurable: !0
        }), LineInfo;
    }();
    !function(LineType) {
        LineType[LineType.None = 0] = "None", LineType[LineType.NewLineBreak = 1] = "NewLineBreak", 
        LineType[LineType.LayoutBreak = 2] = "LayoutBreak", LineType[LineType.FirstParagraphLine = 4] = "FirstParagraphLine", 
        LineType[LineType.LastParagraphLine = 8] = "LastParagraphLine";
    }(LineType || (LineType = {}));
    var ObjectStatus, PdfFont = function() {
        function PdfFont(size, style) {
            this.fontStyle = PdfFontStyle.Regular, "number" == typeof size && void 0 === style ? this.fontSize = size : (this.fontSize = size, 
            this.setStyle(style));
        }
        return Object.defineProperty(PdfFont.prototype, "name", {
            get: function() {
                return this.metrics.name;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "size", {
            get: function() {
                return this.fontSize;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "height", {
            get: function() {
                return this.metrics.getHeight(null);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "style", {
            get: function() {
                return this.fontStyle;
            },
            set: function(value) {
                this.fontStyle = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "bold", {
            get: function() {
                return (this.style & PdfFontStyle.Bold) > 0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "italic", {
            get: function() {
                return (this.style & PdfFontStyle.Italic) > 0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "strikeout", {
            get: function() {
                return (this.style & PdfFontStyle.Strikeout) > 0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "underline", {
            get: function() {
                return (this.style & PdfFontStyle.Underline) > 0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "metrics", {
            get: function() {
                return this.fontMetrics;
            },
            set: function(value) {
                this.fontMetrics = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfFont.prototype, "element", {
            get: function() {
                return this.pdfFontInternals;
            },
            enumerable: !0,
            configurable: !0
        }), PdfFont.prototype.measureString = function(text, arg2, arg3, arg4, arg5) {
            if ("string" == typeof text && void 0 === arg2) return this.measureString(text, null);
            if ("string" == typeof text && (arg2 instanceof PdfStringFormat || null == arg2) && void 0 === arg3 && void 0 === arg4) {
                var temparg2 = arg2;
                return this.measureString(text, temparg2, 0, 0);
            }
            if ("string" == typeof text && (arg2 instanceof PdfStringFormat || null == arg2) && "number" == typeof arg3 && "number" == typeof arg4) {
                temparg2 = arg2;
                return this.measureString(text, 0, temparg2, arg3, arg4);
            }
            if ("string" == typeof text && "number" == typeof arg2 && (arg3 instanceof PdfStringFormat || null == arg3) && "number" == typeof arg4 && "number" == typeof arg5) {
                var layoutArea = new SizeF(arg2, 0), temparg3 = arg3;
                return this.measureString(text, layoutArea, temparg3, arg4, arg5);
            }
            if (null == text) throw Error('ArgumentNullException("text")');
            temparg2 = arg2, temparg3 = arg3;
            var result = new PdfStringLayouter().layout(text, this, temparg3, temparg2, !1, new SizeF(0, 0));
            return arg4 = text.length, arg5 = result.empty ? 0 : result.lines.length, result.actualSize;
        }, PdfFont.prototype.equalsTo = function(obj) {
            return this.equalsToFont(obj);
        }, PdfFont.prototype.getInternals = function() {
            return this.pdfFontInternals;
        }, PdfFont.prototype.setInternals = function(internals) {
            if (null == internals) throw new Error("ArgumentNullException:internals");
            this.pdfFontInternals = internals;
        }, PdfFont.prototype.setStyle = function(style) {
            this.fontStyle = style;
        }, PdfFont.prototype.applyFormatSettings = function(line, format, width) {
            var realWidth = width;
            if (null != format && width > 0 && (0 !== format.characterSpacing && (realWidth += (line.length - 1) * format.characterSpacing), 
            0 !== format.wordSpacing)) {
                var symbols = StringTokenizer.spaces;
                realWidth += StringTokenizer.getCharsCount(line, symbols) * format.wordSpacing;
            }
            return realWidth;
        }, PdfFont.charSizeMultiplier = .001, PdfFont.syncObject = new Object(), PdfFont;
    }(), PdfWriter = function() {
        function PdfWriter(stream) {
            this.streamWriter = stream;
        }
        return Object.defineProperty(PdfWriter.prototype, "document", {
            get: function() {
                return this.pdfDocument;
            },
            set: function(value) {
                this.pdfDocument = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfWriter.prototype, "position", {
            get: function() {
                return this.streamWriter.buffer.size;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfWriter.prototype, "length", {
            get: function() {
                return this.streamWriter.buffer.size;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfWriter.prototype, "stream", {
            get: function() {
                return this.streamWriter;
            },
            enumerable: !0,
            configurable: !0
        }), PdfWriter.prototype.write = function(overload) {
            var tempOverload = overload;
            this.streamWriter.write(tempOverload);
        }, PdfWriter;
    }();
    !function(ObjectStatus) {
        ObjectStatus[ObjectStatus.None = 0] = "None", ObjectStatus[ObjectStatus.Registered = 1] = "Registered";
    }(ObjectStatus || (ObjectStatus = {}));
    var ObjectType, PdfMainObjectCollection = function() {
        function PdfMainObjectCollection() {
            this.objectCollections = [], this.mainObjectCollection = new Dictionary(), this.primitiveObjectCollection = new Dictionary();
        }
        return Object.defineProperty(PdfMainObjectCollection.prototype, "count", {
            get: function() {
                return this.objectCollections.length;
            },
            enumerable: !0,
            configurable: !0
        }), PdfMainObjectCollection.prototype.items = function(index) {
            return this.objectCollections[index];
        }, Object.defineProperty(PdfMainObjectCollection.prototype, "outIsNew", {
            get: function() {
                return this.isNew;
            },
            enumerable: !0,
            configurable: !0
        }), PdfMainObjectCollection.prototype.add = function(element) {
            var objInfo = new ObjectInfo(element);
            this.objectCollections.push(objInfo), this.primitiveObjectCollection.containsKey(element) || this.primitiveObjectCollection.setValue(element, this.objectCollections.length - 1), 
            element.position = this.index = this.objectCollections.length - 1, element.status = ObjectStatus.Registered;
        }, PdfMainObjectCollection.prototype.lookFor = function(obj) {
            var index = -1;
            if (-1 !== obj.position) return obj.position;
            if (this.primitiveObjectCollection.containsKey(obj) && this.count === this.primitiveObjectCollection.size()) index = this.primitiveObjectCollection.getValue(obj); else for (var i = this.count - 1; i >= 0; i--) {
                if (this.objectCollections[i].object === obj) {
                    index = i;
                    break;
                }
            }
            return index;
        }, PdfMainObjectCollection.prototype.getReference = function(index, isNew) {
            this.index = this.lookFor(index);
            this.isNew = !1;
            return {
                reference: this.objectCollections[this.index].reference,
                wasNew: isNew
            };
        }, PdfMainObjectCollection.prototype.trySetReference = function(obj, reference, found) {
            this.index = this.lookFor(obj);
            return this.objectCollections[this.index].setReference(reference), !0;
        }, PdfMainObjectCollection.prototype.destroy = function() {
            for (var _i = 0, _a = this.objectCollections; _i < _a.length; _i++) {
                var obj = _a[_i];
                void 0 !== obj && (obj.pdfObject.position = -1, obj.pdfObject.isSaving = void 0, 
                obj.pdfObject.objectCollectionIndex = void 0, obj.pdfObject.position = void 0);
            }
            this.objectCollections = [], this.mainObjectCollection = new Dictionary(), this.primitiveObjectCollection = new Dictionary();
        }, PdfMainObjectCollection;
    }(), ObjectInfo = function() {
        function ObjectInfo(obj, reference) {
            this.pdfObject = obj, this.pdfReference = reference;
        }
        return Object.defineProperty(ObjectInfo.prototype, "object", {
            get: function() {
                return this.pdfObject;
            },
            set: function(value) {
                this.pdfObject = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(ObjectInfo.prototype, "reference", {
            get: function() {
                return this.pdfReference;
            },
            enumerable: !0,
            configurable: !0
        }), ObjectInfo.prototype.setReference = function(reference) {
            this.pdfReference = reference;
        }, ObjectInfo;
    }(), PdfDocumentBase = function() {
        function PdfDocumentBase(document) {
            this.isStreamCopied = !1, document instanceof PdfDocument && (this.document = document);
        }
        return Object.defineProperty(PdfDocumentBase.prototype, "pdfObjects", {
            get: function() {
                return this.objects;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentBase.prototype, "crossTable", {
            get: function() {
                return this.pdfCrossTable;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentBase.prototype, "currentSavingObj", {
            get: function() {
                return this.currentSavingObject;
            },
            set: function(value) {
                this.currentSavingObject = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentBase.prototype, "catalog", {
            get: function() {
                return this.pdfCatalog;
            },
            set: function(value) {
                this.pdfCatalog = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfDocumentBase.prototype.setMainObjectCollection = function(mainObjectCollection) {
            this.objects = mainObjectCollection;
        }, PdfDocumentBase.prototype.setCrossTable = function(cTable) {
            this.pdfCrossTable = cTable;
        }, PdfDocumentBase.prototype.setCatalog = function(catalog) {
            this.pdfCatalog = catalog;
        }, PdfDocumentBase.prototype.save = function(filename) {
            var _this = this, encoding = new Encoding(!0), SW = new StreamWriter(encoding);
            if (void 0 === filename) {
                var encoding_1 = new Encoding(!0), SW_1 = new StreamWriter(encoding_1);
                return new Promise(function(resolve, reject) {
                    var obj = {};
                    obj.blobData = new Blob([ _this.document.docSave(SW_1, !0) ], {
                        type: "application/pdf"
                    }), resolve(obj);
                });
            }
            this.document.docSave(SW, filename, !0);
        }, PdfDocumentBase.prototype.clone = function() {
            return this.document;
        }, PdfDocumentBase;
    }();
    !function(ObjectType) {
        ObjectType[ObjectType.Free = 0] = "Free", ObjectType[ObjectType.Normal = 1] = "Normal", 
        ObjectType[ObjectType.Packed = 2] = "Packed";
    }(ObjectType || (ObjectType = {}));
    var PdfPageOrientation, __extends$7$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfCatalog = function(_super) {
        function PdfCatalog() {
            var _this = _super.call(this) || this;
            return _this.sections = null, _this.tempDictionaryProperties = new DictionaryProperties(), 
            _this.items.setValue(new DictionaryProperties().type, new PdfName("Catalog")), _this;
        }
        return __extends$7$1(PdfCatalog, _super), Object.defineProperty(PdfCatalog.prototype, "pages", {
            get: function() {
                return this.sections;
            },
            set: function(value) {
                value.element;
                this.sections = value, this.items.setValue(this.tempDictionaryProperties.pages, new PdfReferenceHolder(value));
            },
            enumerable: !0,
            configurable: !0
        }), PdfCatalog;
    }(PdfDictionary), PdfCrossTable = function() {
        function PdfCrossTable() {
            this.objects = new Dictionary(), this.maxGenNumIndex = 0, this.objectCount = 0, 
            this.dictionaryProperties = new DictionaryProperties();
        }
        return Object.defineProperty(PdfCrossTable.prototype, "isMerging", {
            get: function() {
                return this.merging;
            },
            set: function(value) {
                this.merging = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfCrossTable.prototype, "trailer", {
            get: function() {
                return null == this.internalTrailer && (this.internalTrailer = new PdfStream()), 
                this.internalTrailer;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfCrossTable.prototype, "document", {
            get: function() {
                return this.pdfDocument;
            },
            set: function(value) {
                this.pdfDocument = value, this.items = this.pdfDocument.pdfObjects;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfCrossTable.prototype, "pdfObjects", {
            get: function() {
                return this.items;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfCrossTable.prototype, "objectCollection", {
            get: function() {
                return this.pdfDocument.pdfObjects;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfCrossTable.prototype, "count", {
            get: function() {
                return this.objectCount;
            },
            set: function(value) {
                this.objectCount = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfCrossTable.prototype, "nextObjNumber", {
            get: function() {
                return this.count = this.count + 1, this.count;
            },
            enumerable: !0,
            configurable: !0
        }), PdfCrossTable.prototype.save = function(writer, filename) {
            this.saveHead(writer), this.mappedReferences = null, this.objects.clear(), this.markTrailerReferences(), 
            this.saveObjects(writer);
            var saveCount = this.count, xrefPos = writer.position;
            this.registerObject(0, new PdfReference(0, -1), !0);
            writer.write(Operators.xref), writer.write(Operators.newLine), this.saveSections(writer), 
            this.saveTrailer(writer, this.count, 0), this.saveTheEndess(writer, xrefPos), this.count = saveCount;
            for (var i = 0; i < this.objectCollection.count; ++i) {
                this.objectCollection.items(i).object.isSaving = !1;
            }
            if (void 0 === filename) return writer.stream.buffer;
            writer.stream.save(filename);
        }, PdfCrossTable.prototype.saveTheEndess = function(writer, xrefPos) {
            writer.write(Operators.newLine + Operators.startxref + Operators.newLine), writer.write(xrefPos.toString() + Operators.newLine), 
            writer.write(Operators.eof + Operators.newLine);
        }, PdfCrossTable.prototype.saveTrailer = function(writer, count, prevXRef) {
            writer.write(Operators.trailer + Operators.newLine);
            var trailer = this.trailer;
            trailer.items.setValue(this.dictionaryProperties.size, new PdfNumber(this.objectCount + 1)), 
            (trailer = new PdfDictionary(trailer)).setEncrypt(!1), trailer.save(writer);
        }, PdfCrossTable.prototype.saveSections = function(writer) {
            var objectNum = 0, count = 0;
            do {
                count = this.prepareSubsection(objectNum), this.saveSubsection(writer, objectNum, count), 
                objectNum += count;
            } while (0 !== count);
        }, PdfCrossTable.prototype.saveSubsection = function(writer, objectNum, count) {
            if (!(count <= 0 || objectNum >= this.count)) {
                writer.write(objectNum + " " + (count + 1) + Operators.newLine);
                for (var i = objectNum; i <= objectNum + count; ++i) {
                    var obj = this.objects.getValue(i), str = "";
                    str = obj.type === ObjectType.Free ? this.getItem(obj.offset, 65535, !0) : this.getItem(obj.offset, obj.generation, !1), 
                    writer.write(str);
                }
            }
        }, PdfCrossTable.prototype.getItem = function(offset, genNumber, isFree) {
            var returnString = "", addOffsetLength = 10 - offset.toString().length;
            genNumber <= 0 && (genNumber = 0);
            for (var addGenNumberLength = 5 - genNumber.toString().length <= 0 ? 0 : 5 - genNumber.toString().length, index = 0; index < addOffsetLength; index++) returnString += "0";
            returnString = returnString + offset.toString() + " ";
            for (index = 0; index < addGenNumberLength; index++) returnString += "0";
            return returnString = returnString + genNumber.toString() + " ", returnString = returnString + (isFree ? Operators.f : Operators.n) + Operators.newLine;
        }, PdfCrossTable.prototype.prepareSubsection = function(objectNum) {
            for (var i, count = 0, total = this.count, k = 0; k < this.document.pdfObjects.count; k++) this.document.pdfObjects.items(k).reference.toString().split(" ");
            if (objectNum >= total) return count;
            for (i = objectNum; i < total; ++i) break;
            for (objectNum = i; i < total; ++i) ++count;
            return count;
        }, PdfCrossTable.prototype.markTrailerReferences = function() {
            this.trailer.items.keys(), this.trailer.items.values();
        }, PdfCrossTable.prototype.saveHead = function(writer) {
            var version = this.generateFileVersion(writer.document);
            writer.write("%PDF-" + version), writer.write(Operators.newLine);
        }, PdfCrossTable.prototype.generateFileVersion = function(document) {
            return "1." + 4..toString();
        }, PdfCrossTable.prototype.getReference = function(obj, bNew) {
            if (void 0 === bNew) {
                return this.getReference(obj, !1);
            }
            return this.getSubReference(obj, bNew);
        }, PdfCrossTable.prototype.getSubReference = function(obj, bNew) {
            var wasNew, isNew = !1, reference = null;
            if (this.items.count > 0 && obj.objectCollectionIndex > 0 && this.items.count > obj.objectCollectionIndex - 1) {
                var tempObj = this.document.pdfObjects.getReference(obj, wasNew);
                reference = tempObj.reference, wasNew = tempObj.wasNew;
            }
            if (wasNew = null == reference && obj.status !== ObjectStatus.Registered, null == reference) {
                var objnumber = this.nextObjNumber;
                reference = new PdfReference(objnumber, 0);
                if (wasNew) {
                    this.document.pdfObjects.add(obj), this.document.pdfObjects.trySetReference(obj, reference, void 0);
                    var tempIndex = this.document.pdfObjects.count - 1, tempkey = this.document.pdfObjects.objectCollections[tempIndex].reference.objNumber, tempvalue = this.document.pdfObjects.objectCollections[this.document.pdfObjects.count - 1];
                    this.document.pdfObjects.mainObjectCollection.setValue(tempkey, tempvalue), obj.position = -1;
                } else this.document.pdfObjects.trySetReference(obj, reference, void 0);
                obj.objectCollectionIndex = reference.objNumber, obj.status = ObjectStatus.None, 
                isNew = !0;
            }
            return isNew || this.bForceNew, reference;
        }, PdfCrossTable.prototype.saveObjects = function(writer) {
            for (var objectCollection = this.objectCollection, i = 0; i < objectCollection.count; ++i) {
                var obj = objectCollection.items(i).object;
                obj.isSaving = !0, this.saveIndirectObject(obj, writer);
            }
        }, PdfCrossTable.prototype.saveIndirectObject = function(obj, writer) {
            var reference = this.getReference(obj);
            obj instanceof PdfCatalog && this.trailer.items.setValue(this.dictionaryProperties.root, reference), 
            this.pdfDocument.currentSavingObj = reference;
            obj.getArchive(), this.registerObject(writer.position, reference), this.doSaveObject(obj, reference, writer);
        }, PdfCrossTable.prototype.doSaveObject = function(obj, reference, writer) {
            writer.length;
            writer.write(reference.objNumber.toString()), writer.write(Operators.whiteSpace), 
            writer.write(reference.genNumber.toString()), writer.write(Operators.whiteSpace), 
            writer.write(Operators.obj), writer.write(Operators.newLine), obj.save(writer);
            writer.stream;
            writer.write(Operators.endObj), writer.write(Operators.newLine);
        }, PdfCrossTable.prototype.registerObject = function(offset, reference, free) {
            "boolean" == typeof free ? (this.objects.setValue(reference.objNumber, new RegisteredObject(offset, reference, free)), 
            this.maxGenNumIndex = Math.max(this.maxGenNumIndex, reference.genNumber)) : void 0 === free && (this.objects.setValue(reference.objNumber, new RegisteredObject(offset, reference)), 
            this.maxGenNumIndex = Math.max(this.maxGenNumIndex, reference.genNumber));
        }, PdfCrossTable.dereference = function(obj) {
            return null != obj && (obj = obj.object), obj;
        }, PdfCrossTable;
    }(), RegisteredObject = function() {
        function RegisteredObject(offset, reference, free) {
            if (void 0 === free) {
                var tempOffset = offset;
                this.offsetNumber = tempOffset;
                var tempReference = reference;
                this.generation = tempReference.genNumber, this.object = tempReference.objNumber, 
                this.type = ObjectType.Normal;
            } else {
                tempOffset = offset, tempReference = reference;
                this.constructor(tempOffset, tempReference), this.type = ObjectType.Free;
            }
        }
        return Object.defineProperty(RegisteredObject.prototype, "objectNumber", {
            get: function() {
                return this.object;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(RegisteredObject.prototype, "offset", {
            get: function() {
                return this.offsetNumber;
            },
            enumerable: !0,
            configurable: !0
        }), RegisteredObject;
    }(), PdfPageSize = function() {
        function PdfPageSize() {}
        return PdfPageSize.letter = new SizeF(612, 792), PdfPageSize.note = new SizeF(540, 720), 
        PdfPageSize.legal = new SizeF(612, 1008), PdfPageSize.a0 = new SizeF(2380, 3368), 
        PdfPageSize.a1 = new SizeF(1684, 2380), PdfPageSize.a2 = new SizeF(1190, 1684), 
        PdfPageSize.a3 = new SizeF(842, 1190), PdfPageSize.a4 = new SizeF(595, 842), PdfPageSize.a5 = new SizeF(421, 595), 
        PdfPageSize.a6 = new SizeF(297, 421), PdfPageSize.a7 = new SizeF(210, 297), PdfPageSize.a8 = new SizeF(148, 210), 
        PdfPageSize.a9 = new SizeF(105, 148), PdfPageSize.a10 = new SizeF(74, 105), PdfPageSize.b0 = new SizeF(2836, 4008), 
        PdfPageSize.b1 = new SizeF(2004, 2836), PdfPageSize.b2 = new SizeF(1418, 2004), 
        PdfPageSize.b3 = new SizeF(1002, 1418), PdfPageSize.b4 = new SizeF(709, 1002), PdfPageSize.b5 = new SizeF(501, 709), 
        PdfPageSize.archE = new SizeF(2592, 3456), PdfPageSize.archD = new SizeF(1728, 2592), 
        PdfPageSize.archC = new SizeF(1296, 1728), PdfPageSize.archB = new SizeF(864, 1296), 
        PdfPageSize.archA = new SizeF(648, 864), PdfPageSize.flsa = new SizeF(612, 936), 
        PdfPageSize.halfLetter = new SizeF(396, 612), PdfPageSize.letter11x17 = new SizeF(792, 1224), 
        PdfPageSize.ledger = new SizeF(1224, 792), PdfPageSize;
    }();
    !function(PdfPageOrientation) {
        PdfPageOrientation[PdfPageOrientation.Portrait = 0] = "Portrait", PdfPageOrientation[PdfPageOrientation.Landscape = 1] = "Landscape";
    }(PdfPageOrientation || (PdfPageOrientation = {}));
    var PdfPageRotateAngle;
    !function(PdfPageRotateAngle) {
        PdfPageRotateAngle[PdfPageRotateAngle.RotateAngle0 = 0] = "RotateAngle0", PdfPageRotateAngle[PdfPageRotateAngle.RotateAngle90 = 1] = "RotateAngle90", 
        PdfPageRotateAngle[PdfPageRotateAngle.RotateAngle180 = 2] = "RotateAngle180", PdfPageRotateAngle[PdfPageRotateAngle.RotateAngle270 = 3] = "RotateAngle270";
    }(PdfPageRotateAngle || (PdfPageRotateAngle = {}));
    var PdfNumberStyle;
    !function(PdfNumberStyle) {
        PdfNumberStyle[PdfNumberStyle.None = 0] = "None", PdfNumberStyle[PdfNumberStyle.Numeric = 1] = "Numeric", 
        PdfNumberStyle[PdfNumberStyle.LowerLatin = 2] = "LowerLatin", PdfNumberStyle[PdfNumberStyle.LowerRoman = 3] = "LowerRoman", 
        PdfNumberStyle[PdfNumberStyle.UpperLatin = 4] = "UpperLatin", PdfNumberStyle[PdfNumberStyle.UpperRoman = 5] = "UpperRoman";
    }(PdfNumberStyle || (PdfNumberStyle = {}));
    var PdfDockStyle;
    !function(PdfDockStyle) {
        PdfDockStyle[PdfDockStyle.None = 0] = "None", PdfDockStyle[PdfDockStyle.Bottom = 1] = "Bottom", 
        PdfDockStyle[PdfDockStyle.Top = 2] = "Top", PdfDockStyle[PdfDockStyle.Left = 3] = "Left", 
        PdfDockStyle[PdfDockStyle.Right = 4] = "Right", PdfDockStyle[PdfDockStyle.Fill = 5] = "Fill";
    }(PdfDockStyle || (PdfDockStyle = {}));
    var PdfAlignmentStyle;
    !function(PdfAlignmentStyle) {
        PdfAlignmentStyle[PdfAlignmentStyle.None = 0] = "None", PdfAlignmentStyle[PdfAlignmentStyle.TopLeft = 1] = "TopLeft", 
        PdfAlignmentStyle[PdfAlignmentStyle.TopCenter = 2] = "TopCenter", PdfAlignmentStyle[PdfAlignmentStyle.TopRight = 3] = "TopRight", 
        PdfAlignmentStyle[PdfAlignmentStyle.MiddleLeft = 4] = "MiddleLeft", PdfAlignmentStyle[PdfAlignmentStyle.MiddleCenter = 5] = "MiddleCenter", 
        PdfAlignmentStyle[PdfAlignmentStyle.MiddleRight = 6] = "MiddleRight", PdfAlignmentStyle[PdfAlignmentStyle.BottomLeft = 7] = "BottomLeft", 
        PdfAlignmentStyle[PdfAlignmentStyle.BottomCenter = 8] = "BottomCenter", PdfAlignmentStyle[PdfAlignmentStyle.BottomRight = 9] = "BottomRight";
    }(PdfAlignmentStyle || (PdfAlignmentStyle = {}));
    var TemplateType;
    !function(TemplateType) {
        TemplateType[TemplateType.None = 0] = "None", TemplateType[TemplateType.Top = 1] = "Top", 
        TemplateType[TemplateType.Bottom = 2] = "Bottom", TemplateType[TemplateType.Left = 3] = "Left", 
        TemplateType[TemplateType.Right = 4] = "Right";
    }(TemplateType || (TemplateType = {}));
    var ImageFormat, PdfMargins = function() {
        function PdfMargins() {
            this.pdfMargin = 40, this.setMargins(this.pdfMargin);
        }
        return Object.defineProperty(PdfMargins.prototype, "left", {
            get: function() {
                return this.leftMargin;
            },
            set: function(value) {
                this.leftMargin = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfMargins.prototype, "top", {
            get: function() {
                return this.topMargin;
            },
            set: function(value) {
                this.topMargin = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfMargins.prototype, "right", {
            get: function() {
                return this.rightMargin;
            },
            set: function(value) {
                this.rightMargin = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfMargins.prototype, "bottom", {
            get: function() {
                return this.bottomMargin;
            },
            set: function(value) {
                this.bottomMargin = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfMargins.prototype, "all", {
            set: function(value) {
                this.setMargins(value);
            },
            enumerable: !0,
            configurable: !0
        }), PdfMargins.prototype.setMargins = function(margin1, margin2, margin3, margin4) {
            void 0 === margin2 ? this.leftMargin = this.topMargin = this.rightMargin = this.bottomMargin = margin1 : void 0 === margin3 ? (this.leftMargin = this.rightMargin = margin1, 
            this.bottomMargin = this.topMargin = margin2) : (this.leftMargin = margin1, this.topMargin = margin2, 
            this.rightMargin = margin3, this.bottomMargin = margin4);
        }, PdfMargins.prototype.clone = function() {
            return this;
        }, PdfMargins;
    }(), PdfPageSettings = function() {
        function PdfPageSettings(margins) {
            this.pageMargins = new PdfMargins(), this.pageSize = PdfPageSize.a4, this.rotateAngle = PdfPageRotateAngle.RotateAngle0, 
            this.pageOrientation = PdfPageOrientation.Portrait, this.pageOrigin = new PointF(0, 0), 
            this.isRotation = !1, "number" == typeof margins && this.pageMargins.setMargins(margins);
        }
        return Object.defineProperty(PdfPageSettings.prototype, "size", {
            get: function() {
                return this.pageSize;
            },
            set: function(value) {
                this.setSize(value);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageSettings.prototype, "orientation", {
            get: function() {
                return this.pageOrientation;
            },
            set: function(orientation) {
                this.pageOrientation !== orientation && (this.pageOrientation = orientation, this.updateSize(orientation));
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageSettings.prototype, "margins", {
            get: function() {
                return this.pageMargins;
            },
            set: function(value) {
                this.pageMargins = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageSettings.prototype, "width", {
            get: function() {
                return this.pageSize.width;
            },
            set: function(value) {
                this.pageSize.width = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageSettings.prototype, "height", {
            get: function() {
                return this.pageSize.height;
            },
            set: function(value) {
                this.pageSize.height = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageSettings.prototype, "origin", {
            get: function() {
                return this.pageOrigin;
            },
            set: function(value) {
                this.pageOrigin = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageSettings.prototype, "rotate", {
            get: function() {
                return this.rotateAngle;
            },
            set: function(value) {
                this.rotateAngle = value, this.isRotation = !0;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPageSettings.prototype.updateSize = function(orientation) {
            var min = Math.min(this.pageSize.width, this.pageSize.height), max = Math.max(this.pageSize.width, this.pageSize.height);
            switch (orientation) {
              case PdfPageOrientation.Portrait:
                this.pageSize = new SizeF(min, max);
                break;

              case PdfPageOrientation.Landscape:
                this.pageSize = new SizeF(max, min);
            }
        }, PdfPageSettings.prototype.clone = function() {
            return this.pageMargins = this.pageMargins.clone(), this;
        }, PdfPageSettings.prototype.getActualSize = function() {
            var width = this.width - (this.margins.left + this.margins.right), height = this.height - (this.margins.top + this.margins.bottom);
            return new SizeF(width, height);
        }, PdfPageSettings.prototype.setSize = function(size) {
            var min = Math.min(size.width, size.height), max = Math.max(size.width, size.height);
            this.orientation === PdfPageOrientation.Portrait ? this.pageSize = new SizeF(min, max) : this.pageSize = new SizeF(max, min);
        }, PdfPageSettings;
    }(), PdfStreamWriter = function() {
        function PdfStreamWriter(stream) {
            if (null == stream) throw new Error("ArgumentNullException:stream");
            this.stream = stream;
        }
        return PdfStreamWriter.prototype.clear = function() {
            this.stream.clearStream();
        }, PdfStreamWriter.prototype.setGraphicsState = function(dictionaryName) {
            dictionaryName instanceof PdfName ? (this.stream.write(dictionaryName.toString()), 
            this.stream.write(Operators.whiteSpace), this.writeOperator(Operators.setGraphicsState)) : (this.stream.write(Operators.slash), 
            this.stream.write(dictionaryName), this.stream.write(Operators.whiteSpace), this.writeOperator(Operators.setGraphicsState));
        }, PdfStreamWriter.prototype.executeObject = function(name) {
            this.stream.write(name.toString()), this.stream.write(Operators.whiteSpace), this.writeOperator(Operators.paintXObject), 
            this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.closePath = function() {
            this.writeOperator(Operators.closePath);
        }, PdfStreamWriter.prototype.clipPath = function(useEvenOddRule) {
            this.stream.write(Operators.clipPath), useEvenOddRule && this.stream.write(Operators.evenOdd), 
            this.stream.write(Operators.whiteSpace), this.stream.write(Operators.endPath), this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.closeFillStrokePath = function(useEvenOddRule) {
            this.stream.write(Operators.closeFillStrokePath), useEvenOddRule ? (this.stream.write(Operators.evenOdd), 
            this.stream.write(Operators.newLine)) : this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.fillStrokePath = function(useEvenOddRule) {
            this.stream.write(Operators.fillStroke), useEvenOddRule ? (this.stream.write(Operators.evenOdd), 
            this.stream.write(Operators.newLine)) : this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.fillPath = function(useEvenOddRule) {
            this.stream.write(Operators.fill), useEvenOddRule ? (this.stream.write(Operators.evenOdd), 
            this.stream.write(Operators.newLine)) : this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.endPath = function() {
            this.writeOperator(Operators.n);
        }, PdfStreamWriter.prototype.closeFillPath = function(useEvenOddRule) {
            this.writeOperator(Operators.closePath), this.stream.write(Operators.fill), useEvenOddRule ? (this.stream.write(Operators.evenOdd), 
            this.stream.write(Operators.newLine)) : this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.closeStrokePath = function() {
            this.writeOperator(Operators.closeStrokePath);
        }, PdfStreamWriter.prototype.setTextScaling = function(textScaling) {
            this.stream.write(PdfNumber.floatToString(textScaling)), this.stream.write(Operators.whiteSpace), 
            this.writeOperator(Operators.setTextScaling);
        }, PdfStreamWriter.prototype.strokePath = function() {
            this.writeOperator(Operators.stroke);
        }, PdfStreamWriter.prototype.restoreGraphicsState = function() {
            this.writeOperator(Operators.restoreState);
        }, PdfStreamWriter.prototype.saveGraphicsState = function() {
            this.writeOperator(Operators.saveState);
        }, PdfStreamWriter.prototype.startNextLine = function(arg1, arg2) {
            void 0 === arg1 ? this.writeOperator(Operators.goToNextLine) : arg1 instanceof PointF ? (this.writePoint(arg1), 
            this.writeOperator(Operators.setCoords)) : (this.writePoint(arg1, arg2), this.writeOperator(Operators.setCoords));
        }, PdfStreamWriter.prototype.setLeading = function(leading) {
            this.stream.write(PdfNumber.floatToString(leading)), this.stream.write(Operators.whiteSpace), 
            this.writeOperator(Operators.setTextLeading);
        }, PdfStreamWriter.prototype.beginPath = function(x, y) {
            this.writePoint(x, y), this.writeOperator(Operators.beginPath);
        }, PdfStreamWriter.prototype.beginText = function() {
            this.writeOperator(Operators.beginText);
        }, PdfStreamWriter.prototype.endText = function() {
            this.writeOperator(Operators.endText);
        }, PdfStreamWriter.prototype.appendRectangle = function(arg1, arg2, arg3, arg4) {
            arg1 instanceof RectangleF ? this.appendRectangle(arg1.x, arg1.y, arg1.width, arg1.height) : (this.writePoint(arg1, arg2), 
            this.writePoint(arg3, arg4), this.writeOperator(Operators.appendRectangle));
        }, PdfStreamWriter.prototype.appendLineSegment = function(arg1, arg2) {
            arg1 instanceof PointF ? this.appendLineSegment(arg1.x, arg1.y) : (this.writePoint(arg1, arg2), 
            this.writeOperator(Operators.appendLineSegment));
        }, PdfStreamWriter.prototype.setTextRenderingMode = function(renderingMode) {
            this.stream.write(renderingMode.toString()), this.stream.write(Operators.whiteSpace), 
            this.writeOperator(Operators.setRenderingMode);
        }, PdfStreamWriter.prototype.setCharacterSpacing = function(charSpacing) {
            this.stream.write(PdfNumber.floatToString(charSpacing)), this.stream.write(Operators.whiteSpace), 
            this.stream.write(Operators.setCharacterSpace), this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.setWordSpacing = function(wordSpacing) {
            this.stream.write(PdfNumber.floatToString(wordSpacing)), this.stream.write(Operators.whiteSpace), 
            this.writeOperator(Operators.setWordSpace);
        }, PdfStreamWriter.prototype.showNextLineText = function(arg1, arg2) {
            arg1 instanceof PdfString ? (this.checkTextParam(arg1), this.writeText(arg1), this.writeOperator(Operators.setTextOnNewLine)) : (this.checkTextParam(arg1), 
            this.writeText(arg1, arg2), this.writeOperator(Operators.setTextOnNewLine));
        }, PdfStreamWriter.prototype.setColorSpace = function(arg1, arg2) {
            if (arg1 instanceof PdfName && "boolean" == typeof arg2) {
                var temparg1 = arg1, op = (temparg2 = arg2) ? Operators.selectcolorspaceforstroking : Operators.selectcolorspacefornonstroking;
                this.stream.write(temparg1.toString()), this.stream.write(Operators.whiteSpace), 
                this.stream.write(op), this.stream.write(Operators.newLine);
            } else {
                temparg1 = arg1;
                var temparg2 = arg2;
                this.setColorSpace(new PdfName(temparg1), temparg2);
            }
        }, PdfStreamWriter.prototype.modifyCtm = function(matrix) {
            if (null == matrix) throw new Error("ArgumentNullException:matrix");
            this.stream.write(matrix.toString()), this.stream.write(Operators.whiteSpace), this.writeOperator(Operators.modifyCtm);
        }, PdfStreamWriter.prototype.setFont = function(font, name, size) {
            if ("string" == typeof name) this.setFont(font, new PdfName(name), size); else {
                if (null == font) throw new Error("ArgumentNullException:font");
                this.stream.write(name.toString()), this.stream.write(Operators.whiteSpace), this.stream.write(PdfNumber.floatToString(size)), 
                this.stream.write(Operators.whiteSpace), this.writeOperator(Operators.setFont);
            }
        }, PdfStreamWriter.prototype.writeOperator = function(opcode) {
            this.stream.write(opcode), this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.checkTextParam = function(text) {
            if (null == text) throw new Error("ArgumentNullException:text");
            if ("string" == typeof text && "" === text) throw new Error("ArgumentException:The text can not be an empty string, text");
        }, PdfStreamWriter.prototype.writeText = function(arg1, arg2) {
            if (arg1 instanceof PdfString && void 0 === arg2) this.stream.write(arg1.value); else {
                var start = void 0, end = void 0;
                arg2 ? (start = PdfString.hexStringMark[0], end = PdfString.hexStringMark[1]) : (start = PdfString.stringMark[0], 
                end = PdfString.stringMark[1]), this.stream.write(start), this.stream.write(arg1), 
                this.stream.write(end);
            }
        }, PdfStreamWriter.prototype.writePoint = function(arg1, arg2) {
            if (arg1 instanceof PointF && void 0 === arg2) this.writePoint(arg1.x, arg1.y); else {
                var temparg1 = arg1;
                this.stream.write(PdfNumber.floatToString(temparg1)), this.stream.write(Operators.whiteSpace), 
                arg2 = this.updateY(arg2), this.stream.write(PdfNumber.floatToString(arg2)), this.stream.write(Operators.whiteSpace);
            }
        }, PdfStreamWriter.prototype.updateY = function(arg) {
            return -arg;
        }, PdfStreamWriter.prototype.write = function(string) {
            var builder = "";
            builder += string, builder += Operators.newLine, this.writeOperator(builder);
        }, PdfStreamWriter.prototype.writeComment = function(comment) {
            if (!(null != comment && comment.length > 0)) throw new Error("Invalid comment");
            var builder = "";
            builder += Operators.comment, builder += Operators.whiteSpace, builder += comment, 
            this.writeOperator(builder);
        }, PdfStreamWriter.prototype.setColorAndSpace = function(color, colorSpace, forStroking) {
            color.isEmpty || (this.stream.write(color.toString(colorSpace, forStroking)), this.stream.write(Operators.newLine));
        }, PdfStreamWriter.prototype.setLineDashPattern = function(pattern, patternOffset) {
            this.setLineDashPatternHelper(pattern, patternOffset);
        }, PdfStreamWriter.prototype.setLineDashPatternHelper = function(pattern, patternOffset) {
            var tempPattern = "[";
            if (pattern.length > 1) for (var index = 0; index < pattern.length; index++) index === pattern.length - 1 ? tempPattern += pattern[index].toString() : tempPattern += pattern[index].toString() + " ";
            tempPattern += "] ", tempPattern += patternOffset.toString(), tempPattern += " " + Operators.setDashPattern, 
            this.stream.write(tempPattern), this.stream.write(Operators.newLine);
        }, PdfStreamWriter.prototype.setMiterLimit = function(miterLimit) {
            this.stream.write(PdfNumber.floatToString(miterLimit)), this.stream.write(Operators.whiteSpace), 
            this.writeOperator(Operators.setMiterLimit);
        }, PdfStreamWriter.prototype.setLineWidth = function(width) {
            this.stream.write(PdfNumber.floatToString(width)), this.stream.write(Operators.whiteSpace), 
            this.writeOperator(Operators.setLineWidth);
        }, PdfStreamWriter.prototype.setLineCap = function(lineCapStyle) {
            this.stream.write(lineCapStyle.toString()), this.stream.write(Operators.whiteSpace), 
            this.writeOperator(Operators.setLineCapStyle);
        }, PdfStreamWriter.prototype.setLineJoin = function(lineJoinStyle) {
            this.stream.write(lineJoinStyle.toString()), this.stream.write(Operators.whiteSpace), 
            this.writeOperator(Operators.setLineJoinStyle);
        }, Object.defineProperty(PdfStreamWriter.prototype, "position", {
            get: function() {
                return this.stream.position;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStreamWriter.prototype, "length", {
            get: function() {
                var returnValue = 0;
                if (0 !== this.stream.data.length && -1 !== this.stream.data.length) for (var index = 0; index < this.stream.data.length; index++) returnValue += this.stream.data[index].length;
                return returnValue;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfStreamWriter.prototype, "document", {
            get: function() {
                return null;
            },
            enumerable: !0,
            configurable: !0
        }), PdfStreamWriter;
    }(), PdfPen = function() {
        function PdfPen(arg1, arg2) {
            this.pdfColor = new PdfColor(0, 0, 0), this.dashOffsetValue = 0, this.penDashPattern = [ 0 ], 
            this.pdfDashStyle = PdfDashStyle.Solid, this.pdfLineCap = 0, this.pdfLineJoin = 0, 
            this.penWidth = 1, this.internalMiterLimit = 0, this.colorSpace = PdfColorSpace.Rgb, 
            "number" == typeof arg2 ? (this.constructor(arg1), this.width = arg2) : void 0 === arg2 && arg1 instanceof PdfBrush ? this.setBrush(arg1) : void 0 === arg2 && arg1 instanceof PdfColor && (this.color = arg1);
        }
        return Object.defineProperty(PdfPen.prototype, "color", {
            get: function() {
                return this.pdfColor;
            },
            set: function(value) {
                this.pdfColor = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPen.prototype, "dashOffset", {
            get: function() {
                return void 0 === this.dashOffsetValue || null == this.dashOffsetValue ? 0 : this.dashOffsetValue;
            },
            set: function(value) {
                this.dashOffsetValue = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPen.prototype, "dashPattern", {
            get: function() {
                return this.penDashPattern;
            },
            set: function(value) {
                this.penDashPattern = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPen.prototype, "dashStyle", {
            get: function() {
                return this.pdfDashStyle;
            },
            set: function(value) {
                if (this.pdfDashStyle !== value) switch (this.pdfDashStyle = value, this.pdfDashStyle) {
                  case PdfDashStyle.Custom:
                    break;

                  case PdfDashStyle.Dash:
                    this.penDashPattern = [ 3, 1 ];
                    break;

                  case PdfDashStyle.Dot:
                    this.penDashPattern = [ 1, 1 ];
                    break;

                  case PdfDashStyle.DashDot:
                    this.penDashPattern = [ 3, 1, 1, 1 ];
                    break;

                  case PdfDashStyle.DashDotDot:
                    this.penDashPattern = [ 3, 1, 1, 1, 1, 1 ];
                    break;

                  case PdfDashStyle.Solid:
                    break;

                  default:
                    this.pdfDashStyle = PdfDashStyle.Solid, this.penDashPattern = [ 0 ];
                }
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPen.prototype, "lineCap", {
            get: function() {
                return this.pdfLineCap;
            },
            set: function(value) {
                this.pdfLineCap = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPen.prototype, "lineJoin", {
            get: function() {
                return this.pdfLineJoin;
            },
            set: function(value) {
                this.pdfLineJoin = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPen.prototype, "miterLimit", {
            get: function() {
                return this.internalMiterLimit;
            },
            set: function(value) {
                this.internalMiterLimit = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPen.prototype, "width", {
            get: function() {
                return this.penWidth;
            },
            set: function(value) {
                this.penWidth = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPen.prototype.clone = function() {
            return this;
        }, PdfPen.prototype.setBrush = function(brush) {
            var sBrush = brush;
            this.color = sBrush.color, this.pdfBrush = sBrush;
        }, PdfPen.prototype.monitorChanges = function(currentPen, streamWriter, getResources, saveState, currentColorSpace, matrix) {
            saveState = !0, this.dashControl(currentPen, saveState, streamWriter), streamWriter.setLineWidth(this.width), 
            streamWriter.setLineJoin(this.lineJoin), streamWriter.setLineCap(this.lineCap);
            var miterLimit = this.miterLimit;
            miterLimit > 0 && streamWriter.setMiterLimit(miterLimit);
            this.pdfBrush;
            return streamWriter.setColorAndSpace(this.color, currentColorSpace, !0), !0;
        }, PdfPen.prototype.dashControl = function(pen, saveState, streamWriter) {
            saveState = !0;
            var lineWidth = this.width, pattern = this.getPattern();
            return streamWriter.setLineDashPattern(pattern, this.dashOffset * lineWidth), saveState;
        }, PdfPen.prototype.getPattern = function() {
            for (var pattern = this.dashPattern, i = 0; i < pattern.length; ++i) pattern[i] *= this.width;
            return pattern;
        }, PdfPen;
    }(), PdfTransformationMatrix = function() {
        function PdfTransformationMatrix(value) {
            this.radDegFactor = 180 / Math.PI, this.transformationMatrix = new Matrix$1(1, 0, 0, void 0 === value ? 1 : -1, 0, 0);
        }
        return Object.defineProperty(PdfTransformationMatrix.prototype, "matrix", {
            get: function() {
                return this.transformationMatrix;
            },
            set: function(value) {
                this.transformationMatrix = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfTransformationMatrix.prototype.translate = function(offsetX, offsetY) {
            this.transformationMatrix.translate(offsetX, offsetY);
        }, PdfTransformationMatrix.prototype.scale = function(scaleX, scaleY) {
            this.transformationMatrix.elements[0] = scaleX, this.transformationMatrix.elements[3] = scaleY;
        }, PdfTransformationMatrix.prototype.rotate = function(angle) {
            angle = angle * Math.PI / 180, this.transformationMatrix.elements[0] = Math.cos(angle), 
            this.transformationMatrix.elements[1] = Math.sin(angle), this.transformationMatrix.elements[2] = -Math.sin(angle), 
            this.transformationMatrix.elements[3] = Math.cos(angle);
        }, PdfTransformationMatrix.prototype.toString = function() {
            for (var builder = "", i = 0, len = this.transformationMatrix.elements.length; i < len; i++) {
                this.matrix.elements[i];
                builder += PdfNumber.floatToString(this.transformationMatrix.elements[i]), builder += " ";
            }
            return builder;
        }, PdfTransformationMatrix.prototype.multiply = function(matrix) {
            this.transformationMatrix.multiply(matrix.matrix);
        }, PdfTransformationMatrix.degreesToRadians = function(degreesX) {
            return this.degRadFactor * degreesX;
        }, PdfTransformationMatrix.prototype.radiansToDegrees = function(radians) {
            return this.radDegFactor * radians;
        }, PdfTransformationMatrix.prototype.clone = function() {
            return this;
        }, PdfTransformationMatrix.degRadFactor = Math.PI / 180, PdfTransformationMatrix;
    }(), Matrix$1 = function() {
        function Matrix(arg1, arg2, arg3, arg4, arg5, arg6) {
            void 0 === arg1 ? this.metrixElements = [] : "number" == typeof arg1 ? (this.constructor(), 
            this.metrixElements.push(arg1), this.metrixElements.push(arg2), this.metrixElements.push(arg3), 
            this.metrixElements.push(arg4), this.metrixElements.push(arg5), this.metrixElements.push(arg6)) : this.metrixElements = arg1;
        }
        return Object.defineProperty(Matrix.prototype, "elements", {
            get: function() {
                return this.metrixElements;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Matrix.prototype, "offsetX", {
            get: function() {
                return this.metrixElements[4];
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(Matrix.prototype, "offsetY", {
            get: function() {
                return this.metrixElements[5];
            },
            enumerable: !0,
            configurable: !0
        }), Matrix.prototype.translate = function(offsetX, offsetY) {
            this.metrixElements[4] = offsetX, this.metrixElements[5] = offsetY;
        }, Matrix.prototype.transform = function(point) {
            var x = point.x, y = point.y, x2 = x * this.elements[0] + y * this.elements[2] + this.offsetX, y2 = x * this.elements[1] + y * this.elements[3] + this.offsetY;
            return new PointF(x2, y2);
        }, Matrix.prototype.multiply = function(matrix) {
            var tempMatrix = [];
            tempMatrix.push(this.elements[0] * matrix.elements[0] + this.elements[1] * matrix.elements[2]), 
            tempMatrix[1] = this.elements[0] * matrix.elements[1] + this.elements[1] * matrix.elements[3], 
            tempMatrix[2] = this.elements[2] * matrix.elements[0] + this.elements[3] * matrix.elements[2], 
            tempMatrix[3] = this.elements[2] * matrix.elements[1] + this.elements[3] * matrix.elements[3], 
            tempMatrix[4] = this.offsetX * matrix.elements[0] + this.offsetY * matrix.elements[2] + matrix.offsetX, 
            tempMatrix[5] = this.offsetX * matrix.elements[1] + this.offsetY * matrix.elements[3] + matrix.offsetY;
            for (var i = 0; i < tempMatrix.length; i++) this.elements[i] = tempMatrix[i];
        }, Matrix.prototype.dispose = function() {
            this.metrixElements = null;
        }, Matrix.prototype.clone = function() {
            return new Matrix(this.metrixElements);
        }, Matrix;
    }(), ProcedureSets = function() {
        return function() {
            this.pdf = "PDF", this.text = "Text", this.imageB = "ImageB", this.imageC = "ImageC", 
            this.imageI = "ImageI";
        };
    }(), TemporaryDictionary = function() {
        function TemporaryDictionary() {
            this.mKeys = [], this.mValues = [];
        }
        return TemporaryDictionary.prototype.size = function() {
            return this.mKeys.length;
        }, TemporaryDictionary.prototype.add = function(key, value) {
            if (void 0 === key || null === key || void 0 === value || null === value) throw new ReferenceError("Provided key or value is not valid.");
            if (this.mKeys.indexOf(key) < 0) return this.mKeys.push(key), this.mValues.push(value), 
            1;
            throw new RangeError("An item with the same key has already been added.");
        }, TemporaryDictionary.prototype.keys = function() {
            return this.mKeys;
        }, TemporaryDictionary.prototype.values = function() {
            return this.mValues;
        }, TemporaryDictionary.prototype.getValue = function(key) {
            if (void 0 === key || null === key) throw new ReferenceError("Provided key is not valid.");
            var index = this.mKeys.indexOf(key);
            if (index < 0) throw new RangeError("No item with the specified key has been added.");
            return this.mValues[index];
        }, TemporaryDictionary.prototype.setValue = function(key, value) {
            if (void 0 === key || null === key) throw new ReferenceError("Provided key is not valid.");
            var index = this.mKeys.indexOf(key);
            index < 0 ? (this.mKeys.push(key), this.mValues.push(value)) : this.mValues[index] = value;
        }, TemporaryDictionary.prototype.remove = function(key) {
            if (void 0 === key || null === key) throw new ReferenceError("Provided key is not valid.");
            var index = this.mKeys.indexOf(key);
            if (index < 0) throw new RangeError("No item with the specified key has been added.");
            return this.mKeys.splice(index, 1), this.mValues.splice(index, 1), !0;
        }, TemporaryDictionary.prototype.containsKey = function(key) {
            if (void 0 === key || null === key) throw new ReferenceError("Provided key is not valid.");
            return !(this.mKeys.indexOf(key) < 0);
        }, TemporaryDictionary.prototype.clear = function() {
            this.mKeys = [], this.mValues = [];
        }, TemporaryDictionary;
    }(), PdfTransparency = function() {
        function PdfTransparency(stroke, fill, mode) {
            this.dictionary = new PdfDictionary(), this.dictionaryProperties = new DictionaryProperties(), 
            this.dictionary.items.setValue(this.dictionaryProperties.CA, new PdfNumber(stroke)), 
            this.dictionary.items.setValue(this.dictionaryProperties.ca, new PdfNumber(fill)), 
            this.dictionary.items.setValue(this.dictionaryProperties.BM, new PdfName(mode.toString()));
        }
        return Object.defineProperty(PdfTransparency.prototype, "element", {
            get: function() {
                return this.dictionary;
            },
            enumerable: !0,
            configurable: !0
        }), PdfTransparency;
    }(), PdfAutomaticFieldInfoCollection = function() {
        function PdfAutomaticFieldInfoCollection() {
            this.automaticFieldsInformation = [];
        }
        return Object.defineProperty(PdfAutomaticFieldInfoCollection.prototype, "automaticFields", {
            get: function() {
                return this.automaticFieldsInformation;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAutomaticFieldInfoCollection.prototype.add = function(fieldInfo) {
            return this.automaticFields.push(fieldInfo);
        }, PdfAutomaticFieldInfoCollection;
    }(), PdfGraphicsElement = function() {
        function PdfGraphicsElement() {}
        return PdfGraphicsElement.prototype.drawHelper = function(graphics, x, y) {
            var bNeedSave = 0 !== x || 0 !== y, gState = null;
            bNeedSave && (gState = graphics.save(), graphics.translateTransform(x, y)), this.drawInternal(graphics), 
            bNeedSave && graphics.restore(gState);
        }, PdfGraphicsElement;
    }(), __extends$10$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfAutomaticField = function(_super) {
        function PdfAutomaticField() {
            var _this = _super.call(this) || this;
            return _this.internalBounds = new RectangleF(0, 0, 0, 0), _this.internalTemplateSize = new SizeF(0, 0), 
            _this;
        }
        return __extends$10$1(PdfAutomaticField, _super), Object.defineProperty(PdfAutomaticField.prototype, "bounds", {
            get: function() {
                return this.internalBounds;
            },
            set: function(value) {
                this.internalBounds = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticField.prototype, "size", {
            get: function() {
                return new SizeF(this.bounds.width, this.bounds.height);
            },
            set: function(value) {
                this.bounds.width = value.width, this.bounds.height = value.height;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticField.prototype, "location", {
            get: function() {
                return new PointF(this.bounds.x, this.bounds.y);
            },
            set: function(value) {
                this.bounds.x = value.x, this.bounds.y = value.y;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticField.prototype, "font", {
            get: function() {
                return this.internalFont;
            },
            set: function(value) {
                this.internalFont = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticField.prototype, "brush", {
            get: function() {
                return this.internalBrush;
            },
            set: function(value) {
                this.internalBrush = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticField.prototype, "pen", {
            get: function() {
                return this.internalPen;
            },
            set: function(value) {
                this.internalPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticField.prototype, "stringFormat", {
            get: function() {
                return this.internalStringFormat;
            },
            set: function(value) {
                this.internalStringFormat = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAutomaticField.prototype.performDrawHelper = function(graphics, location, scalingX, scalingY) {
            if (0 === this.bounds.height || 0 === this.bounds.width) {
                var text = this.getValue(graphics);
                this.internalTemplateSize = this.getFont().measureString(text, this.size, this.stringFormat);
            }
        }, PdfAutomaticField.prototype.draw = function(arg1, arg2, arg3) {
            if (void 0 === arg2) {
                var location_1 = new PointF(0, 0);
                this.draw(arg1, location_1);
            } else if (arg2 instanceof PointF) this.draw(arg1, arg2.x, arg2.y); else {
                this.drawHelper(arg1, arg2, arg3);
                var info = new PdfAutomaticFieldInfo(this, new PointF(arg2, arg3));
                arg1.automaticFields.add(info);
            }
        }, PdfAutomaticField.prototype.getSize = function() {
            return 0 === this.bounds.height || 0 === this.bounds.width ? this.internalTemplateSize : this.size;
        }, PdfAutomaticField.prototype.drawInternal = function(graphics) {}, PdfAutomaticField.prototype.getBrush = function() {
            return void 0 === this.internalBrush || null == this.internalBrush ? new PdfSolidBrush(new PdfColor(0, 0, 0)) : this.internalBrush;
        }, PdfAutomaticField.prototype.getFont = function() {
            return void 0 === this.internalFont || null == this.internalFont ? PdfDocument.defaultFont : this.internalFont;
        }, PdfAutomaticField.prototype.getPageFromGraphics = function(graphics) {
            if (void 0 !== graphics.page && null !== graphics.page) {
                return graphics.page;
            }
            return graphics.currentPage;
        }, PdfAutomaticField;
    }(PdfGraphicsElement), PdfAutomaticFieldInfo = function() {
        function PdfAutomaticFieldInfo(field, location, scaleX, scaleY) {
            this.pageNumberFieldLocation = new PointF(), this.pageNumberField = null, this.scaleX = 1, 
            this.scaleY = 1, void 0 === location && field instanceof PdfAutomaticFieldInfo ? (this.pageNumberField = field.field, 
            this.pageNumberFieldLocation = field.location, this.scaleX = field.scalingX, this.scaleY = field.scalingY) : void 0 === scaleX && location instanceof PointF && field instanceof PdfAutomaticField ? (this.pageNumberField = field, 
            this.pageNumberFieldLocation = location) : (this.pageNumberField = field, this.pageNumberFieldLocation = location, 
            this.scaleX = scaleX, this.scaleY = scaleY);
        }
        return Object.defineProperty(PdfAutomaticFieldInfo.prototype, "location", {
            get: function() {
                return this.pageNumberFieldLocation;
            },
            set: function(value) {
                this.pageNumberFieldLocation = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticFieldInfo.prototype, "field", {
            get: function() {
                return this.pageNumberField;
            },
            set: function(value) {
                this.pageNumberField = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticFieldInfo.prototype, "scalingX", {
            get: function() {
                return this.scaleX;
            },
            set: function(value) {
                this.scaleX = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAutomaticFieldInfo.prototype, "scalingY", {
            get: function() {
                return this.scaleY;
            },
            set: function(value) {
                this.scaleY = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAutomaticFieldInfo;
    }(), PdfGraphics = function() {
        function PdfGraphics(arg1, arg2, arg3) {
            this.currentColorSpace = PdfColorSpace.Rgb, this.previousTextRenderingMode = TextRenderingMode.Fill, 
            this.previousCharacterSpacing = 0, this.previousWordSpacing = 0, this.previousTextScaling = 100, 
            this.procedureSets = new ProcedureSets(), this.isNormalRender = !0, this.isUseFontSize = !1, 
            this.isItalic = !1, this.isEmfTextScaled = !1, this.isEmf = !1, this.isEmfPlus = !1, 
            this.isBaselineFormat = !0, this.emfScalingFactor = new SizeF(0, 0), this.colorSpaceChanged = !1, 
            this.dictionaryProperties = new DictionaryProperties(), this.isOverloadWithPosition = !1, 
            this.isPointOverload = !1, this.currentColorSpaces = [ "RGB", "CMYK", "GrayScale", "Indexed" ], 
            this.isImageOptimized = !1, this.graphicsState = [], this.istransparencySet = !1, 
            this.internalAutomaticFields = null, this.startCutIndex = -1, arg3 instanceof PdfStreamWriter ? (this.pdfStreamWriter = arg3, 
            this.getResources = arg2, this.canvasSize = arg1, this.initialize()) : this.constructor(arg1, arg2, new PdfStreamWriter(arg3));
        }
        return Object.defineProperty(PdfGraphics.prototype, "stringLayoutResult", {
            get: function() {
                return this.pdfStringLayoutResult;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "size", {
            get: function() {
                return this.canvasSize;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "mediaBoxUpperRightBound", {
            get: function() {
                return void 0 === this.internalMediaBoxUpperRightBound && (this.internalMediaBoxUpperRightBound = 0), 
                this.internalMediaBoxUpperRightBound;
            },
            set: function(value) {
                this.internalMediaBoxUpperRightBound = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "clientSize", {
            get: function() {
                return new SizeF(this.clipBounds.width, this.clipBounds.height);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "colorSpace", {
            get: function() {
                return this.currentColorSpace;
            },
            set: function(value) {
                this.currentColorSpace = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "streamWriter", {
            get: function() {
                return this.pdfStreamWriter;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "matrix", {
            get: function() {
                return null == this.transformationMatrix && (this.transformationMatrix = new PdfTransformationMatrix()), 
                this.transformationMatrix;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "layer", {
            get: function() {
                return this.pageLayer;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "page", {
            get: function() {
                return this.pageLayer.page;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphics.prototype, "automaticFields", {
            get: function() {
                return null != this.internalAutomaticFields && void 0 !== this.internalAutomaticFields || (this.internalAutomaticFields = new PdfAutomaticFieldInfoCollection()), 
                this.internalAutomaticFields;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGraphics.prototype.initialize = function() {
            this.bStateSaved = !1, this.currentPen = null, this.currentBrush = null, this.currentFont = null, 
            this.currentColorSpace = PdfColorSpace.Rgb, this.bCSInitialized = !1, this.transformationMatrix = null, 
            this.previousTextRenderingMode = -1, this.previousCharacterSpacing = -1, this.previousWordSpacing = -1, 
            this.previousTextScaling = -100, this.currentStringFormat = null, this.clipBounds = new RectangleF(new PointF(0, 0), this.size), 
            this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf);
        }, PdfGraphics.prototype.drawPdfTemplate = function(template, location, size) {
            if (void 0 === size) {
                if (null == template) throw Error("ArgumentNullException-template");
                this.drawPdfTemplate(template, location, template.size);
            } else {
                if (null == template) throw Error("ArgumentNullException-template");
                var scaleX = template.width > 0 ? size.width / template.width : 1, scaleY = template.height > 0 ? size.height / template.height : 1, bNeedScale = !(1 === scaleX && 1 === scaleY), state = this.save(), matrix = new PdfTransformationMatrix();
                null != this.pageLayer && this.getTranslateTransform(location.x, location.y + size.height, matrix), 
                bNeedScale && this.getScaleTransform(scaleX, scaleY, matrix), this.pdfStreamWriter.modifyCtm(matrix);
                var name_1 = this.getResources.getResources().getName(template);
                this.pdfStreamWriter.executeObject(name_1), this.restore(state);
                var g = template.graphics;
                if (null != g) for (var index = 0; index < g.automaticFields.automaticFields.length; index++) {
                    var fieldInfo = g.automaticFields.automaticFields[index], newLocation = new PointF(fieldInfo.location.x + location.x, fieldInfo.location.y + location.y), scalingX = 0 == template.size.width ? 0 : size.width / template.size.width, scalingY = 0 == template.size.height ? 0 : size.height / template.size.height;
                    this.automaticFields.add(new PdfAutomaticFieldInfo(fieldInfo.field, newLocation, scalingX, scalingY)), 
                    this.page.dictionary.modify();
                }
                this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB), 
                this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC), 
                this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI), 
                this.getResources.getResources().requireProcedureSet(this.procedureSets.text);
            }
        }, PdfGraphics.prototype.drawString = function(arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9) {
            if ("string" == typeof arg1 && arg2 instanceof PdfFont && (arg3 instanceof PdfPen || null === arg3) && (arg4 instanceof PdfBrush || null === arg4) && "number" == typeof arg5 && "number" == typeof arg6 && (arg7 instanceof PdfStringFormat || null === arg7) && void 0 === arg8) this.isOverloadWithPosition = !0, 
            this.drawString(arg1, arg2, arg3, arg4, arg5, arg6, this.clientSize.width - arg5, 0, arg7); else {
                var temparg3 = arg3, temparg4 = arg4, temparg5 = arg5, temparg6 = arg6, temparg7 = arg7, temparg8 = arg8, temparg9 = arg9, result = new PdfStringLayouter().layout(arg1, arg2, temparg9, new SizeF(temparg7, 0), this.isOverloadWithPosition, this.clientSize);
                if (!result.empty) {
                    var rect = this.checkCorrectLayoutRectangle(result.actualSize, temparg5, temparg6, temparg9);
                    temparg7 <= 0 && (temparg5 = rect.x, temparg7 = rect.width), temparg8 <= 0 && (temparg6 = rect.y, 
                    temparg8 = rect.height), this.drawStringLayoutResult(result, arg2, temparg3, temparg4, new RectangleF(temparg5, temparg6, temparg7, temparg8), temparg9), 
                    this.isEmfTextScaled = !1, this.emfScalingFactor = new SizeF(0, 0);
                }
                this.getResources.getResources().requireProcedureSet(this.procedureSets.text), this.isNormalRender = !0, 
                this.pdfStringLayoutResult = result, this.isUseFontSize = !1;
            }
        }, PdfGraphics.prototype.drawLine = function(arg1, arg2, arg3, arg4, arg5) {
            if (arg2 instanceof PointF) {
                var temparg2 = arg2, temparg3 = arg3;
                this.drawLine(arg1, temparg2.x, temparg2.y, temparg3.x, temparg3.y);
            } else {
                temparg2 = arg2, temparg3 = arg3;
                var temparg4 = arg4, temparg5 = arg5;
                this.stateControl(arg1, null, null);
                var sw = this.streamWriter;
                sw.beginPath(temparg2, temparg3), sw.appendLineSegment(temparg4, temparg5), sw.strokePath(), 
                this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf);
            }
        }, PdfGraphics.prototype.drawRectangle = function(arg1, arg2, arg3, arg4, arg5, arg6) {
            if (arg1 instanceof PdfPen && "number" == typeof arg2) {
                var temparg3 = arg3;
                this.drawRectangle(arg1, null, arg2, temparg3, arg4, arg5);
            } else if (arg1 instanceof PdfBrush && "number" == typeof arg2) {
                temparg3 = arg3;
                this.drawRectangle(null, arg1, arg2, temparg3, arg4, arg5);
            } else {
                temparg3 = arg3;
                var temparg4 = arg4, temparg5 = arg5, temparg6 = arg6;
                arg2 instanceof PdfSolidBrush && arg2.color.isEmpty && (arg2 = null);
                var temparg1 = arg1, temparg2 = arg2;
                this.stateControl(temparg1, temparg2, null), this.streamWriter.appendRectangle(temparg3, temparg4, temparg5, temparg6), 
                this.drawPath(temparg1, temparg2, !1);
            }
        }, PdfGraphics.prototype.drawPath = function(arg1, arg2, arg3, arg4) {
            if ("boolean" == typeof arg3) {
                var temparg3 = arg3;
                this.drawPath(arg1, arg2, PdfFillMode.Winding, temparg3);
            } else {
                var isPen = null != arg1, isBrush = null != arg2, isEvenOdd = (temparg3 = arg3) === PdfFillMode.Alternate;
                isPen && isBrush ? this.streamWriter.fillStrokePath(isEvenOdd) : isPen || isBrush ? isPen ? this.streamWriter.strokePath() : this.streamWriter.fillPath(isEvenOdd) : this.streamWriter.endPath();
            }
        }, PdfGraphics.prototype.drawImage = function(arg1, arg2, arg3, arg4, arg5) {
            if ("number" == typeof arg2 && "number" == typeof arg3 && void 0 === arg4) {
                var size = arg1.physicalDimension;
                this.drawImage(arg1, arg2, arg3, size.width, size.height);
            } else {
                var temparg2 = arg2, temparg3 = arg3, temparg5 = arg5;
                arg1.save();
                var matrix = new PdfTransformationMatrix();
                this.getTranslateTransform(temparg2, temparg3 + temparg5, matrix), this.getScaleTransform(arg4, arg5, matrix), 
                this.pdfStreamWriter.write("q"), this.pdfStreamWriter.modifyCtm(matrix);
                var resources = this.getResources.getResources();
                void 0 !== this.pageLayer && null != this.page && (resources.document = this.page.document);
                var name_2 = resources.getName(arg1);
                void 0 !== this.pageLayer && this.page.setResources(resources), this.pdfStreamWriter.executeObject(name_2), 
                this.pdfStreamWriter.write(Operators.restoreState), this.pdfStreamWriter.write(Operators.newLine);
                var resource = this.getResources.getResources();
                resource.requireProcedureSet(this.procedureSets.imageB), resource.requireProcedureSet(this.procedureSets.imageC), 
                resource.requireProcedureSet(this.procedureSets.imageI), resource.requireProcedureSet(this.procedureSets.text);
            }
        }, PdfGraphics.prototype.getLineBounds = function(lineIndex, result, font, layoutRectangle, format) {
            var bounds;
            if (!result.empty && lineIndex < result.lineCount && lineIndex >= 0) {
                var line = result.lines[lineIndex], y = this.getTextVerticalAlignShift(result.actualSize.height, layoutRectangle.height, format) + layoutRectangle.y + result.lineHeight * lineIndex, lineWidth = line.width, hShift = this.getHorizontalAlignShift(lineWidth, layoutRectangle.width, format), lineIndent = this.getLineIndent(line, format, layoutRectangle, 0 === lineIndex);
                hShift += this.rightToLeft(format) ? 0 : lineIndent;
                var x = layoutRectangle.x + hShift, width = this.shouldJustify(line, layoutRectangle.width, format) ? layoutRectangle.width - lineIndent : lineWidth - lineIndent, height = result.lineHeight;
                bounds = new RectangleF(x, y, width, height);
            } else bounds = new RectangleF(0, 0, 0, 0);
            return bounds;
        }, PdfGraphics.prototype.checkCorrectLayoutRectangle = function(textSize, x, y, format) {
            var layoutedRectangle = new RectangleF(x, y, textSize.width, textSize.width);
            if (null != format) {
                switch (format.alignment) {
                  case PdfTextAlignment.Center:
                    layoutedRectangle.x -= layoutedRectangle.width / 2;
                    break;

                  case PdfTextAlignment.Right:
                    layoutedRectangle.x -= layoutedRectangle.width;
                }
                switch (format.lineAlignment) {
                  case PdfVerticalAlignment.Middle:
                    layoutedRectangle.y -= layoutedRectangle.height / 2;
                    break;

                  case PdfVerticalAlignment.Bottom:
                    layoutedRectangle.y -= layoutedRectangle.height;
                }
            }
            return layoutedRectangle;
        }, PdfGraphics.prototype.setLayer = function(layer) {
            this.pageLayer = layer;
            var page = layer.page;
            null != page && void 0 !== page && (page.beginSave = this.pageSave);
        }, PdfGraphics.prototype.pageSave = function(page) {
            if (null != page.graphics.automaticFields) for (var i = 0; i < page.graphics.automaticFields.automaticFields.length; i++) {
                var fieldInfo = page.graphics.automaticFields.automaticFields[i];
                fieldInfo.field.performDraw(page.graphics, fieldInfo.location, fieldInfo.scalingX, fieldInfo.scalingY);
            }
        }, PdfGraphics.prototype.drawStringLayoutResult = function(result, font, pen, brush, layoutRectangle, format) {
            if (result.empty) throw new Error("ArgumentNullException:result");
            this.applyStringSettings(font, pen, brush, format, layoutRectangle);
            var textScaling = null != format ? format.horizontalScalingFactor : 100;
            textScaling === this.previousTextScaling || this.isEmfTextScaled || (this.pdfStreamWriter.setTextScaling(textScaling), 
            this.previousTextScaling = textScaling);
            var height = null == format || 0 === format.lineSpacing ? font.height : format.lineSpacing + font.height, shift = 0;
            shift = null != format && format.subSuperScript === PdfSubSuperScript.SubScript ? height - (font.height + font.metrics.getDescent(format)) : height - font.metrics.getAscent(format), 
            this.shift = shift, this.pdfStreamWriter.startNextLine(layoutRectangle.x, layoutRectangle.y - shift), 
            this.pdfStreamWriter.setLeading(+height);
            for (var resultHeight = 0, remainingString = "", i = 0; i < result.lines.length; i++) if (resultHeight += result.lineHeight, 
            layoutRectangle.y + resultHeight > this.clientSize.height) {
                this.startCutIndex = i;
                break;
            }
            for (var j = this.startCutIndex; j < result.lines.length && j >= 0; j++) remainingString += result.lines[j].text;
            var bounds = new RectangleF(layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height);
            if (this.drawLayoutResult(result, font, format, layoutRectangle), this.underlineStrikeoutText(pen, brush, result, font, bounds, format), 
            this.isEmfPlus = !1, this.isUseFontSize = !1, -1 !== this.startCutIndex) {
                this.getNextPage().graphics.drawString(remainingString, font, pen, brush, layoutRectangle.x, 0, layoutRectangle.width, 0, format);
            }
        }, PdfGraphics.prototype.getNextPage = function() {
            var section = this.currentPage.section, index = section.indexOf(this.currentPage);
            return index === section.count - 1 ? section.add() : section.getPages()[index + 1];
        }, PdfGraphics.prototype.setClip = function(rectangle, mode) {
            void 0 === mode ? this.setClip(rectangle, PdfFillMode.Winding) : (this.pdfStreamWriter.appendRectangle(rectangle), 
            this.pdfStreamWriter.clipPath(mode === PdfFillMode.Alternate));
        }, PdfGraphics.prototype.applyStringSettings = function(font, pen, brush, format, bounds) {
            var tm = this.getTextRenderingMode(pen, brush, format);
            this.stateControl(pen, brush, font, format), this.pdfStreamWriter.beginText(), tm !== this.previousTextRenderingMode && (this.pdfStreamWriter.setTextRenderingMode(tm), 
            this.previousTextRenderingMode = tm);
            var cs = null != format ? format.characterSpacing : 0;
            cs === this.previousCharacterSpacing || this.isEmfTextScaled || (this.pdfStreamWriter.setCharacterSpacing(cs), 
            this.previousCharacterSpacing = cs);
            var ws = null != format ? format.wordSpacing : 0;
            ws !== this.previousWordSpacing && (this.pdfStreamWriter.setWordSpacing(ws), this.previousWordSpacing = ws);
        }, PdfGraphics.prototype.getTextVerticalAlignShift = function(textHeight, boundsHeight, format) {
            var shift = 0;
            if (boundsHeight >= 0 && null != format && format.lineAlignment !== PdfVerticalAlignment.Top) switch (format.lineAlignment) {
              case PdfVerticalAlignment.Middle:
                shift = (boundsHeight - textHeight) / 2;
                break;

              case PdfVerticalAlignment.Bottom:
                shift = boundsHeight - textHeight;
            }
            return shift;
        }, PdfGraphics.prototype.drawLayoutResult = function(result, font, format, layoutRectangle) {
            var vAlignShift = this.getTextVerticalAlignShift(result.actualSize.height, layoutRectangle.height, format);
            0 !== vAlignShift && this.pdfStreamWriter.startNextLine(0, vAlignShift);
            for (var lines = result.lines, i = 0, len = lines.length; i < len && i !== this.startCutIndex; i++) {
                var lineInfo = lines[i], lineWidth = (lineInfo.text, lineInfo.width), hAlignShift = this.getHorizontalAlignShift(lineWidth, layoutRectangle.width, format), lineIndent = this.getLineIndent(lineInfo, format, layoutRectangle, 0 === i);
                0 === (hAlignShift += this.rightToLeft(format) ? 0 : lineIndent) || this.isEmfTextScaled || this.pdfStreamWriter.startNextLine(hAlignShift, 0), 
                this.drawAsciiLine(lineInfo, layoutRectangle, font, format), 0 === hAlignShift || this.isEmfTextScaled || this.pdfStreamWriter.startNextLine(-hAlignShift, 0), 
                this.isOverloadWithPosition && lines.length > 1 && (this.pdfStreamWriter.startNextLine(-layoutRectangle.x, 0), 
                layoutRectangle.x = 0, layoutRectangle.width = this.clientSize.width, this.isOverloadWithPosition = !1, 
                this.isPointOverload = !0);
            }
            this.getResources.getResources().requireProcedureSet(this.procedureSets.text), 0 !== vAlignShift && this.pdfStreamWriter.startNextLine(0, -(vAlignShift - result.lineHeight)), 
            this.pdfStreamWriter.endText();
        }, PdfGraphics.prototype.drawAsciiLine = function(lineInfo, layoutRectangle, font, format) {
            this.justifyLine(lineInfo, layoutRectangle.width, format);
            var value = "";
            if (-1 !== lineInfo.text.indexOf("(") || -1 !== lineInfo.text.indexOf(")")) for (var i = 0; i < lineInfo.text.length; i++) "(" === lineInfo.text[i] ? value += "\\(" : ")" === lineInfo.text[i] ? value += "\\)" : value += lineInfo.text[i];
            "" === value && (value = lineInfo.text);
            var line = "(" + value + ")";
            this.pdfStreamWriter.showNextLineText(new PdfString(line));
        }, PdfGraphics.prototype.justifyLine = function(lineInfo, boundsWidth, format) {
            var line = lineInfo.text, lineWidth = lineInfo.width, shouldJustify = this.shouldJustify(lineInfo, boundsWidth, format), hasWordSpacing = null != format && 0 !== format.wordSpacing, symbols = StringTokenizer.spaces, whitespacesCount = StringTokenizer.getCharsCount(line, symbols), wordSpace = 0;
            if (shouldJustify) {
                hasWordSpacing && (lineWidth -= whitespacesCount * format.wordSpacing);
                wordSpace = (boundsWidth - lineWidth) / whitespacesCount, this.pdfStreamWriter.setWordSpacing(wordSpace);
            } else hasWordSpacing ? this.pdfStreamWriter.setWordSpacing(format.wordSpacing) : this.pdfStreamWriter.setWordSpacing(0);
            return wordSpace;
        }, PdfGraphics.prototype.reset = function(size) {
            this.canvasSize = size, this.streamWriter.clear(), this.initialize(), this.initializeCoordinates();
        }, PdfGraphics.prototype.shouldJustify = function(lineInfo, boundsWidth, format) {
            var line = lineInfo.text, lineWidth = lineInfo.width, justifyStyle = null != format && format.alignment === PdfTextAlignment.Justify, goodWidth = boundsWidth >= 0 && lineWidth < boundsWidth, symbols = StringTokenizer.spaces, hasSpaces = StringTokenizer.getCharsCount(line, symbols) > 0 && line[0] !== StringTokenizer.whiteSpace, goodLineBreakStyle = (lineInfo.lineType & LineType.LayoutBreak) > 0;
            return justifyStyle && goodWidth && hasSpaces && (goodLineBreakStyle || format.alignment === PdfTextAlignment.Justify);
        }, PdfGraphics.prototype.underlineStrikeoutText = function(pen, brush, result, font, layoutRectangle, format) {
            if (font.underline || font.strikeout) {
                var linePen = this.createUnderlineStikeoutPen(pen, brush, font, format);
                if (null != linePen) {
                    var vShift = this.getTextVerticalAlignShift(result.actualSize.height, layoutRectangle.height, format), underlineYOffset = 0;
                    underlineYOffset = layoutRectangle.y + vShift + font.metrics.getAscent(format) + 1.5 * linePen.width;
                    for (var strikeoutYOffset = layoutRectangle.y + vShift + font.metrics.getHeight(format) / 2 + 1.5 * linePen.width, lines = result.lines, i = 0, len = result.lineCount; i < len; i++) {
                        var lineInfo = lines[i], lineWidth = (lineInfo.text, lineInfo.width), hShift = this.getHorizontalAlignShift(lineWidth, layoutRectangle.width, format), lineIndent = this.getLineIndent(lineInfo, format, layoutRectangle, 0 === i);
                        hShift += this.rightToLeft(format) ? 0 : lineIndent;
                        var x1 = layoutRectangle.x + hShift, x2 = this.shouldJustify(lineInfo, layoutRectangle.width, format) ? x1 + layoutRectangle.width - lineIndent : x1 + lineWidth - lineIndent;
                        if (font.underline) {
                            var y = underlineYOffset;
                            this.drawLine(linePen, x1, y, x2, y), underlineYOffset += result.lineHeight;
                        }
                        if (font.strikeout) {
                            y = strikeoutYOffset;
                            this.drawLine(linePen, x1, y, x2, y), strikeoutYOffset += result.lineHeight;
                        }
                        this.isPointOverload && lines.length > 1 && (layoutRectangle.x = 0, layoutRectangle.width = this.clientSize.width);
                    }
                    this.isPointOverload = !1;
                }
            }
        }, PdfGraphics.prototype.createUnderlineStikeoutPen = function(pen, brush, font, format) {
            var lineWidth = font.metrics.getSize(format) / 20, linePen = null;
            return null != pen ? linePen = new PdfPen(pen.color, lineWidth) : null != brush && (linePen = new PdfPen(brush, lineWidth)), 
            linePen;
        }, PdfGraphics.prototype.getTextRenderingMode = function(pen, brush, format) {
            var tm = TextRenderingMode.None;
            return tm = null != pen && null != brush ? TextRenderingMode.FillStroke : null != pen ? TextRenderingMode.Stroke : TextRenderingMode.Fill, 
            null != format && format.clipPath && (tm |= TextRenderingMode.ClipFlag), tm;
        }, PdfGraphics.prototype.getLineIndent = function(lineInfo, format, layoutBounds, firstLine) {
            var lineIndent = 0, firstParagraphLine = (lineInfo.lineType & LineType.FirstParagraphLine) > 0;
            return null != format && firstParagraphLine && (lineIndent = firstLine ? format.firstLineIndent : format.paragraphIndent, 
            lineIndent = layoutBounds.width > 0 ? Math.min(layoutBounds.width, lineIndent) : lineIndent), 
            lineIndent;
        }, PdfGraphics.prototype.getHorizontalAlignShift = function(lineWidth, boundsWidth, format) {
            var shift = 0;
            if (boundsWidth >= 0 && null != format && format.alignment !== PdfTextAlignment.Left) switch (format.alignment) {
              case PdfTextAlignment.Center:
                shift = (boundsWidth - lineWidth) / 2;
                break;

              case PdfTextAlignment.Right:
                shift = boundsWidth - lineWidth;
            }
            return shift;
        }, PdfGraphics.prototype.rightToLeft = function(format) {
            return null != format && format.rightToLeft;
        }, PdfGraphics.prototype.stateControl = function(pen, brush, font, format) {
            if (void 0 === format) this.stateControl(pen, brush, font, null); else {
                null !== brush ? (void 0 !== this.pageLayer && null != this.pageLayer && !1 === this.colorSpaceChanged && (this.lastDocumentCS = this.pageLayer.page.document.colorSpace, 
                this.lastGraphicsCS = this.pageLayer.page.graphics.colorSpace, this.colorSpace = this.pageLayer.page.document.colorSpace, 
                this.currentColorSpace = this.pageLayer.page.document.colorSpace, this.colorSpaceChanged = !0), 
                this.initCurrentColorSpace(this.currentColorSpace)) : null != pen && (void 0 !== this.pageLayer && null != this.pageLayer && (this.colorSpace = this.pageLayer.page.document.colorSpace, 
                this.currentColorSpace = this.pageLayer.page.document.colorSpace), this.initCurrentColorSpace(this.currentColorSpace)), 
                this.penControl(pen, !1), this.brushControl(brush, !1), this.fontControl(font, format, !1);
            }
        }, PdfGraphics.prototype.initCurrentColorSpace = function(colorspace) {
            this.getResources.getResources();
            this.bCSInitialized || (this.pdfStreamWriter.setColorSpace("Device" + this.currentColorSpaces[this.currentColorSpace], !0), 
            this.pdfStreamWriter.setColorSpace("Device" + this.currentColorSpaces[this.currentColorSpace], !1), 
            this.bCSInitialized = !0);
        }, PdfGraphics.prototype.penControl = function(pen, saveState) {
            null != pen && (this.currentPen = pen, this.colorSpace = PdfColorSpace.Rgb, pen.monitorChanges(this.currentPen, this.pdfStreamWriter, this.getResources, saveState, this.colorSpace, this.matrix.clone()), 
            this.currentPen = pen.clone());
        }, PdfGraphics.prototype.brushControl = function(brush, saveState) {
            null != brush && (this.currentBrush = brush, brush.monitorChanges(this.currentBrush, this.pdfStreamWriter, this.getResources, saveState, this.colorSpace), 
            this.currentBrush = brush, brush = null);
        }, PdfGraphics.prototype.fontControl = function(font, format, saveState) {
            if (null != font) {
                var curSubSuper = null != format ? format.subSuperScript : PdfSubSuperScript.None, prevSubSuper = null != this.currentStringFormat ? this.currentStringFormat.subSuperScript : PdfSubSuperScript.None;
                if (saveState || font !== this.currentFont || curSubSuper !== prevSubSuper) {
                    var resources = this.getResources.getResources();
                    this.currentFont = font, this.currentStringFormat = format;
                    var size = font.metrics.getSize(format);
                    this.isEmfTextScaled = !1;
                    var fontName = resources.getName(font);
                    this.pdfStreamWriter.setFont(font, fontName, size);
                }
            }
        }, PdfGraphics.prototype.setTransparency = function(arg1, arg2, arg3) {
            if (void 0 === arg2) this.istransparencySet = !0, this.setTransparency(arg1, arg1, PdfBlendMode.Normal); else if ("number" == typeof arg2 && void 0 === arg3) this.setTransparency(arg1, arg2, PdfBlendMode.Normal); else {
                null == this.trasparencies && (this.trasparencies = new TemporaryDictionary());
                var transp = null, td = new TransparencyData(arg1, arg2, arg3);
                this.trasparencies.containsKey(td) && (transp = this.trasparencies.getValue(td)), 
                null == transp && (transp = new PdfTransparency(arg1, arg2, arg3), this.trasparencies.setValue(td, transp));
                var name_3 = this.getResources.getResources().getName(transp);
                this.streamWriter.setGraphicsState(name_3);
            }
        }, PdfGraphics.prototype.clipTranslateMargins = function(x, y, left, top, right, bottom) {
            if (x instanceof RectangleF && void 0 === y) this.clipBounds = x, this.pdfStreamWriter.writeComment("Clip margins."), 
            this.pdfStreamWriter.appendRectangle(x), this.pdfStreamWriter.closePath(), this.pdfStreamWriter.clipPath(!1), 
            this.pdfStreamWriter.writeComment("Translate co-ordinate system."), this.translateTransform(x.x, x.y); else if ("number" == typeof x) {
                var clipArea = new RectangleF(left, top, this.size.width - left - right, this.size.height - top - bottom);
                this.clipBounds = clipArea, this.pdfStreamWriter.writeComment("Clip margins."), 
                this.pdfStreamWriter.appendRectangle(clipArea), this.pdfStreamWriter.closePath(), 
                this.pdfStreamWriter.clipPath(!1), this.pdfStreamWriter.writeComment("Translate co-ordinate system."), 
                this.translateTransform(x, y);
            }
        }, PdfGraphics.prototype.updateY = function(y) {
            return -y;
        }, PdfGraphics.prototype.translateTransform = function(offsetX, offsetY) {
            var matrix = new PdfTransformationMatrix();
            this.getTranslateTransform(offsetX, offsetY, matrix), this.pdfStreamWriter.modifyCtm(matrix), 
            this.matrix.multiply(matrix);
        }, PdfGraphics.prototype.getTranslateTransform = function(x, y, input) {
            return input.translate(x, this.updateY(y)), input;
        }, PdfGraphics.prototype.scaleTransform = function(scaleX, scaleY) {
            var matrix = new PdfTransformationMatrix();
            this.getScaleTransform(scaleX, scaleY, matrix), this.pdfStreamWriter.modifyCtm(matrix), 
            this.matrix.multiply(matrix);
        }, PdfGraphics.prototype.getScaleTransform = function(x, y, input) {
            return null == input && (input = new PdfTransformationMatrix()), input.scale(x, y), 
            input;
        }, PdfGraphics.prototype.rotateTransform = function(angle) {
            var matrix = new PdfTransformationMatrix();
            this.getRotateTransform(angle, matrix), this.pdfStreamWriter.modifyCtm(matrix), 
            this.matrix.multiply(matrix);
        }, PdfGraphics.prototype.initializeCoordinates = function() {
            this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."), this.mediaBoxUpperRightBound !== -this.size.height && null == this.cropBox && (this.mediaBoxUpperRightBound === this.size.height || 0 === this.mediaBoxUpperRightBound ? this.translateTransform(0, this.updateY(this.size.height)) : this.translateTransform(0, this.updateY(this.mediaBoxUpperRightBound)));
        }, PdfGraphics.prototype.getRotateTransform = function(angle, input) {
            return null != input && void 0 !== input || (input = new PdfTransformationMatrix()), 
            input.rotate(this.updateY(angle)), input;
        }, PdfGraphics.prototype.save = function() {
            var state = new PdfGraphicsState(this, this.matrix.clone());
            return state.brush = this.currentBrush, state.pen = this.currentPen, state.font = this.currentFont, 
            state.colorSpace = this.currentColorSpace, state.characterSpacing = this.previousCharacterSpacing, 
            state.wordSpacing = this.previousWordSpacing, state.textScaling = this.previousTextScaling, 
            state.textRenderingMode = this.previousTextRenderingMode, this.graphicsState.push(state), 
            this.pdfStreamWriter.saveGraphicsState(), state;
        }, PdfGraphics.prototype.restore = function(state) {
            if (void 0 === state) this.graphicsState.length > 0 && this.doRestoreState(); else if (-1 !== this.graphicsState.indexOf(state)) for (;0 !== this.graphicsState.length; ) {
                if (this.doRestoreState() === state) break;
            }
        }, PdfGraphics.prototype.doRestoreState = function() {
            var state = this.graphicsState.pop();
            return this.transformationMatrix = state.matrix, this.currentBrush = state.brush, 
            this.currentPen = state.pen, this.currentFont = state.font, this.currentColorSpace = state.colorSpace, 
            this.previousCharacterSpacing = state.characterSpacing, this.previousWordSpacing = state.wordSpacing, 
            this.previousTextScaling = state.textScaling, this.previousTextRenderingMode = state.textRenderingMode, 
            this.pdfStreamWriter.restoreGraphicsState(), state;
        }, PdfGraphics.pathTypesValuesMask = 15, PdfGraphics.transparencyObject = !1, PdfGraphics;
    }(), GetResourceEventHandler = function() {
        function GetResourceEventHandler(sender) {
            this.sender = sender;
        }
        return GetResourceEventHandler.prototype.getResources = function() {
            return this.sender.getResources();
        }, GetResourceEventHandler;
    }(), PdfGraphicsState = function() {
        function PdfGraphicsState(graphics, matrix) {
            this.internalTextRenderingMode = TextRenderingMode.Fill, this.internalCharacterSpacing = 0, 
            this.internalWordSpacing = 0, this.internalTextScaling = 100, this.pdfColorSpace = PdfColorSpace.Rgb, 
            void 0 !== graphics && (this.pdfGraphics = graphics, this.transformationMatrix = matrix);
        }
        return Object.defineProperty(PdfGraphicsState.prototype, "graphics", {
            get: function() {
                return this.pdfGraphics;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "matrix", {
            get: function() {
                return this.transformationMatrix;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "characterSpacing", {
            get: function() {
                return this.internalCharacterSpacing;
            },
            set: function(value) {
                this.internalCharacterSpacing = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "wordSpacing", {
            get: function() {
                return this.internalWordSpacing;
            },
            set: function(value) {
                this.internalWordSpacing = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "textScaling", {
            get: function() {
                return this.internalTextScaling;
            },
            set: function(value) {
                this.internalTextScaling = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "pen", {
            get: function() {
                return this.pdfPen;
            },
            set: function(value) {
                this.pdfPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "brush", {
            get: function() {
                return this.pdfBrush;
            },
            set: function(value) {
                this.pdfBrush = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "font", {
            get: function() {
                return this.pdfFont;
            },
            set: function(value) {
                this.pdfFont = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "colorSpace", {
            get: function() {
                return this.pdfColorSpace;
            },
            set: function(value) {
                this.pdfColorSpace = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGraphicsState.prototype, "textRenderingMode", {
            get: function() {
                return this.internalTextRenderingMode;
            },
            set: function(value) {
                this.internalTextRenderingMode = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGraphicsState;
    }(), TransparencyData = function() {
        return function(alphaPen, alphaBrush, blendMode) {
            this.alphaPen = alphaPen, this.alphaBrush = alphaBrush, this.blendMode = blendMode;
        };
    }(), PdfPageLayer = function() {
        function PdfPageLayer(page, streamClipPageTemplates) {
            if (this.pdfColorSpace = PdfColorSpace.Rgb, this.isVisible = !0, this.sublayer = !1, 
            this.contentLength = 0, this.dictionaryProperties = new DictionaryProperties(), 
            void 0 === streamClipPageTemplates) this.pdfPage = page, this.clipPageTemplates = !0, 
            this.content = new PdfStream(); else if (streamClipPageTemplates instanceof PdfStream || null === streamClipPageTemplates) {
                if (null == page) throw new Error("ArgumentNullException:page");
                if (null == streamClipPageTemplates) throw new Error("ArgumentNullException:stream");
                this.pdfPage = page, this.content = streamClipPageTemplates;
            } else this.constructor(page), this.clipPageTemplates = streamClipPageTemplates;
        }
        return Object.defineProperty(PdfPageLayer.prototype, "colorSpace", {
            get: function() {
                return this.pdfColorSpace;
            },
            set: function(value) {
                this.pdfColorSpace = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageLayer.prototype, "page", {
            get: function() {
                return this.pdfPage;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageLayer.prototype, "layerId", {
            get: function() {
                return this.layerid;
            },
            set: function(value) {
                this.layerid = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageLayer.prototype, "name", {
            get: function() {
                return this.layerName;
            },
            set: function(value) {
                this.layerName = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageLayer.prototype, "visible", {
            get: function() {
                return this.isVisible;
            },
            set: function(value) {
                this.isVisible = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageLayer.prototype, "graphics", {
            get: function() {
                return null == this.pdfGraphics && this.initializeGraphics(this.page), this.pdfGraphics;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageLayer.prototype, "layers", {
            get: function() {
                return null == this.layer ? (this.layer = new PdfPageLayerCollection(this.page), 
                this.layer.sublayer = !0, this.layer) : this.layer;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPageLayer.prototype.add = function() {
            var layer = new PdfPageLayer(this.pdfPage);
            return layer.name = "", layer;
        }, PdfPageLayer.prototype.sign = function(number) {
            return 0 === number ? 0 : number > 0 ? 1 : -1;
        }, PdfPageLayer.prototype.initializeGraphics = function(page) {
            var oPage = page, gr = new GetResourceEventHandler(this.page);
            if (this.pdfGraphics = new PdfGraphics(page.size, gr, this.content), this.pdfGraphics.mediaBoxUpperRightBound = 0, 
            null != oPage) {
                var sc = oPage.section.parent;
                null != sc && (this.pdfGraphics.colorSpace = sc.document.colorSpace, this.colorSpace = sc.document.colorSpace);
            }
            var isSame = this.sign(page.origin.y) === this.sign(page.origin.x);
            (page.origin.x >= 0 && page.origin.y >= 0 || !isSame) && this.pdfGraphics.initializeCoordinates();
            var clipRect = oPage.section.getActualBounds(oPage, !0), margins = oPage.section.pageSettings.margins;
            this.clipPageTemplates ? page.origin.x >= 0 && page.origin.y >= 0 && this.pdfGraphics.clipTranslateMargins(clipRect) : this.graphics.clipTranslateMargins(clipRect.x, clipRect.y, margins.left, margins.top, margins.right, margins.bottom), 
            this.pdfGraphics.setLayer(this);
        }, Object.defineProperty(PdfPageLayer.prototype, "element", {
            get: function() {
                return this.content;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPageLayer;
    }(), PdfCollection = function() {
        function PdfCollection() {}
        return Object.defineProperty(PdfCollection.prototype, "count", {
            get: function() {
                return void 0 === this.collection && (this.collection = []), this.collection.length;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfCollection.prototype, "list", {
            get: function() {
                return void 0 === this.collection && (this.collection = []), this.collection;
            },
            enumerable: !0,
            configurable: !0
        }), PdfCollection;
    }(), __extends$9$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfPageLayerCollection = function(_super) {
        function PdfPageLayerCollection(page) {
            var _this = _super.call(this) || this;
            if (_this.parentLayerCount = 0, _this.sublayer = !1, _this.optionalContent = new PdfDictionary(), 
            page instanceof PdfPageBase) {
                _this.page = page;
                var lPage = page;
                _this.parseLayers(lPage);
            }
            return _this;
        }
        return __extends$9$1(PdfPageLayerCollection, _super), PdfPageLayerCollection.prototype.items = function(index, value) {
            if ("number" == typeof index && void 0 === value) {
                return this.list[index];
            }
            if (null == value) throw new Error("ArgumentNullException: layer");
            if (value.page !== this.page) throw new Error("ArgumentException: The layer belongs to another page");
        }, PdfPageLayerCollection.prototype.add = function(firstArgument, secondArgument) {
            if (void 0 === firstArgument) {
                var layer = new PdfPageLayer(this.page);
                return layer.name = "", this.add(layer), layer;
            }
            if (firstArgument instanceof PdfPageLayer) {
                var index = this.list.push(firstArgument);
                return this.addLayer(index, firstArgument), index;
            }
            return 0;
        }, PdfPageLayerCollection.prototype.addLayer = function(index, layer) {
            var reference = new PdfReferenceHolder(layer);
            this.page.contents.add(reference);
        }, PdfPageLayerCollection.prototype.insert = function(index, layer) {
            for (var list = [], length = this.list.length, i = index; i < length; i++) list.push(this.list.pop());
            this.list.push(layer);
            for (i = 0; i < list.length; i++) this.list.push(list[i]);
            this.insertLayer(index, layer);
        }, PdfPageLayerCollection.prototype.insertLayer = function(index, layer) {
            if (null == layer) throw new Error("ArgumentNullException:layer");
            var reference = new PdfReferenceHolder(layer);
            this.page.contents.insert(index, reference);
        }, PdfPageLayerCollection.prototype.parseLayers = function(loadedPage) {
            var contents = this.page.contents;
            this.page.getResources();
            loadedPage.crossTable;
            var saveStream = new PdfStream(), restoreStream = new PdfStream(), saveData = [];
            saveData.push("q"), saveStream.data = saveData, contents.insert(0, new PdfReferenceHolder(saveStream)), 
            (saveData = []).push("Q"), restoreStream.data = saveData, contents.insert(contents.count, new PdfReferenceHolder(restoreStream));
        }, PdfPageLayerCollection.prototype.indexOf = function(layer) {
            if (null == layer) throw new Error("ArgumentNullException: layer");
            return this.list.indexOf(layer);
        }, PdfPageLayerCollection;
    }(PdfCollection), PdfTemplate = function() {
        function PdfTemplate(arg1, arg2) {
            if (this.dictionaryProperties = new DictionaryProperties(), this.writeTransformation = !0, 
            void 0 === arg1) ; else if (arg1 instanceof SizeF && void 0 === arg2) {
                this.content = new PdfStream();
                var tempSize = new SizeF(arg1.width, arg1.height);
                this.setSize(tempSize), this.initialize();
            } else this.content = new PdfStream(), this.setSize(new SizeF(arg1, arg2)), this.initialize();
        }
        return Object.defineProperty(PdfTemplate.prototype, "size", {
            get: function() {
                return this.templateSize;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTemplate.prototype, "width", {
            get: function() {
                return this.size.width;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTemplate.prototype, "height", {
            get: function() {
                return this.size.height;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTemplate.prototype, "graphics", {
            get: function() {
                if (null == this.pdfGraphics || void 0 === this.pdfGraphics) {
                    var gr = new GetResourceEventHandler(this), g = new PdfGraphics(this.size, gr, this.content);
                    this.pdfGraphics = g, this.pdfGraphics.initializeCoordinates();
                }
                return this.pdfGraphics;
            },
            enumerable: !0,
            configurable: !0
        }), PdfTemplate.prototype.getResources = function() {
            return null == this.resources && (this.resources = new PdfResources(), this.content.items.setValue(this.dictionaryProperties.resources, this.resources)), 
            this.resources;
        }, PdfTemplate.prototype.initialize = function() {
            this.addType(), this.addSubType();
        }, PdfTemplate.prototype.addType = function() {
            var value = new PdfName(this.dictionaryProperties.xObject);
            this.content.items.setValue(this.dictionaryProperties.type, value);
        }, PdfTemplate.prototype.addSubType = function() {
            var value = new PdfName(this.dictionaryProperties.form);
            this.content.items.setValue(this.dictionaryProperties.subtype, value);
        }, PdfTemplate.prototype.reset = function(size) {
            void 0 === size ? (null != this.resources && (this.resources = null, this.content.remove(this.dictionaryProperties.resources)), 
            null != this.graphics && this.graphics.reset(this.size)) : (this.setSize(size), 
            this.reset());
        }, PdfTemplate.prototype.setSize = function(size) {
            var rect = new RectangleF(new PointF(0, 0), size), val = PdfArray.fromRectangle(rect);
            this.content.items.setValue(this.dictionaryProperties.bBox, val), this.templateSize = size;
        }, Object.defineProperty(PdfTemplate.prototype, "element", {
            get: function() {
                return this.content;
            },
            enumerable: !0,
            configurable: !0
        }), PdfTemplate;
    }(), ByteArray = function() {
        function ByteArray(length) {
            this.mPosition = 0, this.buffer = new Uint8Array(length), this.dataView = new DataView(this.buffer.buffer);
        }
        return Object.defineProperty(ByteArray.prototype, "position", {
            get: function() {
                return this.mPosition;
            },
            set: function(value) {
                this.mPosition = value;
            },
            enumerable: !0,
            configurable: !0
        }), ByteArray.prototype.read = function(buffer, offset, count) {
            for (var index = offset; index < count; index++) {
                var position = this.position;
                buffer.buffer[index] = this.readByte(position), this.position++;
            }
        }, ByteArray.prototype.getBuffer = function(index) {
            return this.buffer[index];
        }, ByteArray.prototype.writeFromBase64String = function(base64) {
            var arr = this.encodedString(base64);
            this.buffer = arr;
        }, ByteArray.prototype.encodedString = function(input) {
            var chr1, chr2, chr3, enc2, enc3, keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", i = 0, resultIndex = 0, totalLength = 3 * (input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "")).length / 4;
            input.charAt(input.length - 1) === keyStr.charAt(64) && totalLength--;
            for (var output = new Uint8Array(0 | totalLength); i < input.length; ) chr1 = keyStr.indexOf(input.charAt(i++)) << 2 | (enc2 = keyStr.indexOf(input.charAt(i++))) >> 4, 
            chr2 = (15 & enc2) << 4 | (enc3 = keyStr.indexOf(input.charAt(i++))) >> 2, chr3 = (3 & enc3) << 6 | keyStr.indexOf(input.charAt(i++)), 
            output[resultIndex++] = chr1, output[resultIndex++] = chr2, output[resultIndex++] = chr3;
            return output;
        }, ByteArray.prototype.readByte = function(offset) {
            return this.buffer[offset];
        }, Object.defineProperty(ByteArray.prototype, "internalBuffer", {
            get: function() {
                return this.buffer;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(ByteArray.prototype, "count", {
            get: function() {
                return this.buffer.byteLength;
            },
            enumerable: !0,
            configurable: !0
        }), ByteArray;
    }(), PdfBoolean = function() {
        function PdfBoolean(value) {
            this.currentPosition = -1, this.value = value;
        }
        return Object.defineProperty(PdfBoolean.prototype, "status", {
            get: function() {
                return this.objectStatus;
            },
            set: function(value) {
                this.objectStatus = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBoolean.prototype, "isSaving", {
            get: function() {
                return this.saving;
            },
            set: function(value) {
                this.saving = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBoolean.prototype, "objectCollectionIndex", {
            get: function() {
                return this.index;
            },
            set: function(value) {
                this.index = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBoolean.prototype, "position", {
            get: function() {
                return this.currentPosition;
            },
            set: function(value) {
                this.currentPosition = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBoolean.prototype, "clonedObject", {
            get: function() {
                return null;
            },
            enumerable: !0,
            configurable: !0
        }), PdfBoolean.prototype.save = function(writer) {
            writer.write(this.boolToStr(this.value));
        }, PdfBoolean.prototype.clone = function(crossTable) {
            return new PdfBoolean(this.value);
        }, PdfBoolean.prototype.boolToStr = function(value) {
            return value ? "true" : "false";
        }, PdfBoolean;
    }();
    !function(ImageFormat) {
        ImageFormat[ImageFormat.Unknown = 0] = "Unknown", ImageFormat[ImageFormat.Bmp = 1] = "Bmp", 
        ImageFormat[ImageFormat.Emf = 2] = "Emf", ImageFormat[ImageFormat.Gif = 3] = "Gif", 
        ImageFormat[ImageFormat.Jpeg = 4] = "Jpeg", ImageFormat[ImageFormat.Png = 5] = "Png", 
        ImageFormat[ImageFormat.Wmf = 6] = "Wmf", ImageFormat[ImageFormat.Icon = 7] = "Icon";
    }(ImageFormat || (ImageFormat = {}));
    var PdfLayoutType, ImageDecoder = function() {
        function ImageDecoder(stream) {
            this.mFormat = ImageFormat.Unknown, this.mbitsPerComponent = 8, this.dictionaryProperties = new DictionaryProperties(), 
            this.mStream = stream, this.initialize();
        }
        return Object.defineProperty(ImageDecoder.prototype, "height", {
            get: function() {
                return this.mHeight;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(ImageDecoder.prototype, "width", {
            get: function() {
                return this.mWidth;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(ImageDecoder.prototype, "bitsPerComponent", {
            get: function() {
                return this.mbitsPerComponent;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(ImageDecoder.prototype, "size", {
            get: function() {
                return this.mImageData.count;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(ImageDecoder.prototype, "imageData", {
            get: function() {
                return this.mImageData;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(ImageDecoder.prototype, "imageDataAsNumberArray", {
            get: function() {
                return this.mImageData.internalBuffer.buffer;
            },
            enumerable: !0,
            configurable: !0
        }), ImageDecoder.prototype.initialize = function() {
            this.mFormat === ImageFormat.Unknown && this.checkIfJpeg() && (this.mFormat = ImageFormat.Jpeg, 
            this.parseJpegImage()), this.reset(), this.mImageData = new ByteArray(this.mStream.count), 
            this.mStream.read(this.mImageData, 0, this.mImageData.count);
        }, ImageDecoder.prototype.reset = function() {
            this.mStream.position = 0;
        }, ImageDecoder.prototype.parseJpegImage = function() {
            this.reset();
            var imgData = new ByteArray(this.mStream.count);
            this.mStream.read(imgData, 0, imgData.count);
            var i = 4;
            if ("J" === String.fromCharCode(imgData.getBuffer(i + 2)) && "F" === String.fromCharCode(imgData.getBuffer(i + 3)) && "I" === String.fromCharCode(imgData.getBuffer(i + 4)) && "F" === String.fromCharCode(imgData.getBuffer(i + 5)) && 0 === imgData.getBuffer(i + 6)) for (var length_1 = 256 * imgData.getBuffer(i) + imgData.getBuffer(i + 1); i + length_1 < imgData.count; ) {
                if (i += length_1, 192 === imgData.getBuffer(i + 1)) return this.mHeight = 256 * imgData.getBuffer(i + 5) + imgData.getBuffer(i + 6), 
                void (this.mWidth = 256 * imgData.getBuffer(i + 7) + imgData.getBuffer(i + 8));
                i += 2, length_1 = 256 * imgData.getBuffer(i) + imgData.getBuffer(i + 1);
            }
        }, Object.defineProperty(ImageDecoder.prototype, "format", {
            get: function() {
                return this.mFormat;
            },
            enumerable: !0,
            configurable: !0
        }), ImageDecoder.prototype.checkIfJpeg = function() {
            this.reset();
            for (var i = 0; i < ImageDecoder.mJpegHeader.length; i++) {
                if (ImageDecoder.mJpegHeader[i] !== this.mStream.readByte(i)) return !1;
                this.mStream.position++;
            }
            return !0;
        }, ImageDecoder.prototype.getImageDictionary = function() {
            if (this.mFormat === ImageFormat.Jpeg) {
                this.imageData.internalBuffer.length;
                this.imageStream = new PdfStream(), this.imageStream.isImage = !0;
                for (var tempString = "", decodedString = "", i = 0; i < this.imageDataAsNumberArray.byteLength; i++) tempString += String.fromCharCode(null, this.mStream.readByte(i));
                for (i = 0; i < tempString.length; i++) i % 2 != 0 && (decodedString += tempString[i]);
                return this.imageStream.data = [ decodedString ], this.imageStream.compress = !1, 
                this.imageStream.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.xObject)), 
                this.imageStream.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.image)), 
                this.imageStream.items.setValue(this.dictionaryProperties.width, new PdfNumber(this.width)), 
                this.imageStream.items.setValue(this.dictionaryProperties.height, new PdfNumber(this.height)), 
                this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent, new PdfNumber(this.bitsPerComponent)), 
                this.imageStream.items.setValue(this.dictionaryProperties.filter, new PdfName(this.dictionaryProperties.dctdecode)), 
                this.imageStream.items.setValue(this.dictionaryProperties.colorSpace, new PdfName(this.getColorSpace())), 
                this.imageStream.items.setValue(this.dictionaryProperties.decodeParms, this.getDecodeParams()), 
                this.imageStream;
            }
            return this.imageStream;
        }, ImageDecoder.prototype.getColorSpace = function() {
            return this.dictionaryProperties.deviceRgb;
        }, ImageDecoder.prototype.getDecodeParams = function() {
            var decodeParams = new PdfDictionary();
            return decodeParams.items.setValue(this.dictionaryProperties.columns, new PdfNumber(this.width)), 
            decodeParams.items.setValue(this.dictionaryProperties.blackIs1, new PdfBoolean(!0)), 
            decodeParams.items.setValue(this.dictionaryProperties.k, new PdfNumber(-1)), decodeParams.items.setValue(this.dictionaryProperties.predictor, new PdfNumber(15)), 
            decodeParams.items.setValue(this.dictionaryProperties.bitsPerComponent, new PdfNumber(this.bitsPerComponent)), 
            decodeParams;
        }, ImageDecoder.mPngHeader = [ 137, 80, 78, 71, 13, 10, 26, 10 ], ImageDecoder.mJpegHeader = [ 255, 216 ], 
        ImageDecoder.GIF_HEADER = "G,I,F,8", ImageDecoder.BMP_HEADER = "B,M", ImageDecoder;
    }(), PdfUnitConverter = function() {
        function PdfUnitConverter(dpi) {
            this.updateProportionsHelper(dpi);
        }
        return PdfUnitConverter.prototype.convertUnits = function(value, from, to) {
            return this.convertFromPixels(this.convertToPixels(value, from), to);
        }, PdfUnitConverter.prototype.convertToPixels = function(value, from) {
            var index = from;
            return value * this.proportions[index];
        }, PdfUnitConverter.prototype.convertFromPixels = function(value, to) {
            var index = to;
            return value / this.proportions[index];
        }, PdfUnitConverter.prototype.updateProportionsHelper = function(pixelPerInch) {
            this.proportions = [ pixelPerInch / 2.54, pixelPerInch / 6, 1, pixelPerInch / 72, pixelPerInch, pixelPerInch / 300, pixelPerInch / 25.4 ];
        }, PdfUnitConverter.horizontalResolution = 96, PdfUnitConverter.verticalResolution = 96, 
        PdfUnitConverter;
    }(), PdfImage = function() {
        function PdfImage() {}
        return Object.defineProperty(PdfImage.prototype, "width", {
            get: function() {
                return this.imageWidth;
            },
            set: function(value) {
                this.imageWidth = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfImage.prototype, "height", {
            get: function() {
                return this.imageHeight;
            },
            set: function(value) {
                this.imageHeight = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfImage.prototype, "size", {
            set: function(value) {
                this.width = value.width, this.height = value.height;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfImage.prototype, "physicalDimension", {
            get: function() {
                return this.imagePhysicalDimension = this.getPointSize(this.width, this.height, this.horizontalResolution, this.verticalResolution), 
                new SizeF(this.width, this.height);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfImage.prototype, "element", {
            get: function() {
                return this.imageStream;
            },
            enumerable: !0,
            configurable: !0
        }), PdfImage.prototype.getPointSize = function(width, height, horizontalResolution, verticalResolution) {
            if (void 0 === horizontalResolution) {
                var dpiX = PdfUnitConverter.horizontalResolution, dpiY = PdfUnitConverter.verticalResolution;
                return this.getPointSize(width, height, dpiX, dpiY);
            }
            var ucX = new PdfUnitConverter(horizontalResolution), ucY = new PdfUnitConverter(verticalResolution), ptWidth = ucX.convertUnits(width, PdfGraphicsUnit.Pixel, PdfGraphicsUnit.Point), ptHeight = ucY.convertUnits(height, PdfGraphicsUnit.Pixel, PdfGraphicsUnit.Point);
            return new SizeF(ptWidth, ptHeight);
        }, PdfImage;
    }(), __extends$12$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfBitmap = function(_super) {
        function PdfBitmap(encodedString) {
            var _this = _super.call(this) || this;
            return _this.imageStatus = !0, _this.dictionaryProperties = new DictionaryProperties(), 
            _this.loadImage(encodedString), _this;
        }
        return __extends$12$1(PdfBitmap, _super), PdfBitmap.prototype.loadImage = function(encodedString) {
            this.initializeAsync(encodedString);
        }, PdfBitmap.prototype.initializeAsync = function(encodedString) {
            var byteArray = new ByteArray(encodedString.length);
            byteArray.writeFromBase64String(encodedString), this.decoder = new ImageDecoder(byteArray), 
            this.height = this.decoder.height, this.width = this.decoder.width, this.bitsPerComponent = this.decoder.bitsPerComponent;
        }, PdfBitmap.prototype.save = function() {
            this.imageStatus = !0, this.imageStream = this.decoder.getImageDictionary();
        }, PdfBitmap;
    }(PdfImage), __extends$11$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfResources = function(_super) {
        function PdfResources(baseDictionary) {
            var _this = _super.call(this) || this;
            return _this.properties = new PdfDictionary(), baseDictionary instanceof PdfDictionary && (_this = _super.call(this, baseDictionary) || this), 
            _this;
        }
        return __extends$11$1(PdfResources, _super), Object.defineProperty(PdfResources.prototype, "names", {
            get: function() {
                return this.getNames();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfResources.prototype, "document", {
            get: function() {
                return this.pdfDocument;
            },
            set: function(value) {
                this.pdfDocument = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfResources.prototype.getName = function(obj) {
            var primitive = obj.element, name = null;
            if (this.names.containsKey(primitive) && (name = this.names.getValue(primitive)), 
            null == name) {
                var sName = this.generateName();
                name = new PdfName(sName), this.names.setValue(primitive, name), obj instanceof PdfFont ? this.add(obj, name) : obj instanceof PdfTemplate ? this.add(obj, name) : obj instanceof PdfTransparency ? this.add(obj, name) : (obj instanceof PdfImage || obj instanceof PdfBitmap) && this.add(obj, name);
            }
            return name;
        }, PdfResources.prototype.getNames = function() {
            null == this.pdfNames && (this.pdfNames = new TemporaryDictionary());
            var fonts = this.items.getValue(this.dictionaryProperties.font);
            if (null != fonts) {
                PdfCrossTable.dereference(fonts);
            }
            return this.pdfNames;
        }, PdfResources.prototype.requireProcedureSet = function(procedureSetName) {
            if (null == procedureSetName) throw new Error("ArgumentNullException:procedureSetName");
            var procSets = this.items.getValue(this.dictionaryProperties.procset);
            null == procSets && (procSets = new PdfArray(), this.items.setValue(this.dictionaryProperties.procset, procSets));
            var name = new PdfName(procedureSetName);
            procSets.contains(name) || procSets.add(name);
        }, PdfResources.prototype.removeFont = function(name) {
            for (var key = null, keys = this.pdfNames.keys(), index = 0; index < this.pdfNames.size(); index++) if (this.pdfNames.getValue(keys[index]) === new PdfName(name)) {
                key = keys[index];
                break;
            }
            null != key && this.pdfNames.remove(key);
        }, PdfResources.prototype.generateName = function() {
            return Guid.getNewGuidString();
        }, PdfResources.prototype.add = function(arg1, arg2) {
            if (arg1 instanceof PdfFont) {
                var dictionary = null, fonts = this.items.getValue(this.dictionaryProperties.font);
                if (null != fonts) {
                    var reference = fonts;
                    dictionary = fonts, dictionary = fonts;
                } else dictionary = new PdfDictionary(), this.items.setValue(this.dictionaryProperties.font, dictionary);
                dictionary.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));
            } else if (arg1 instanceof PdfTemplate) {
                var xobjects = void 0;
                null == (xobjects = this.items.getValue(this.dictionaryProperties.xObject)) && (xobjects = new PdfDictionary(), 
                this.items.setValue(this.dictionaryProperties.xObject, xobjects)), xobjects.items.setValue(arg2.value, new PdfReferenceHolder(arg1.element));
            } else if (arg1 instanceof PdfBrush) ; else if (arg1 instanceof PdfTransparency) {
                var savable = arg1.element, transDic = null;
                null == (transDic = this.items.getValue(this.dictionaryProperties.extGState)) && (transDic = new PdfDictionary(), 
                this.items.setValue(this.dictionaryProperties.extGState, transDic)), transDic.items.setValue(arg2.value, new PdfReferenceHolder(savable));
            } else {
                xobjects = this.Dictionary.items.getValue(this.dictionaryProperties.xObject);
                var parentXObjects = void 0;
                void 0 !== this.pdfDocument && (parentXObjects = this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject));
                this.Dictionary.items.values();
                var hasSameImageStream = !1, oldReference = void 0;
                if (void 0 === this.pdfDocument || void 0 !== typeof parentXObjects && null != parentXObjects) {
                    if (void 0 !== this.pdfDocument) for (var values_1 = parentXObjects.items.values(), i = 0; i < values_1.length; i++) void 0 !== values_1[i] && void 0 !== values_1[i].element && values_1[i].element.data[0] === arg1.element.data[0] && (oldReference = values_1[i], 
                    hasSameImageStream = !0);
                } else parentXObjects = new PdfDictionary(), this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject, parentXObjects);
                if (null == xobjects && (xobjects = new PdfDictionary(), this.Dictionary.items.setValue(this.dictionaryProperties.xObject, xobjects)), 
                hasSameImageStream && void 0 !== oldReference) xobjects.items.setValue(arg2.value, oldReference); else {
                    reference = new PdfReferenceHolder(arg1.element);
                    xobjects.items.setValue(arg2.value, reference), void 0 !== this.pdfDocument && parentXObjects.items.setValue(arg2.value, reference);
                }
            }
        }, PdfResources;
    }(PdfDictionary), Guid = function() {
        function Guid(stringValue) {
            this.stringValue = stringValue || Guid.getNewGuidString();
        }
        return Object.defineProperty(Guid, "randomNumber", {
            get: function() {
                return Guid.guid = Guid.guid + 1, Guid.guid = Guid.guid > 999999999999 ? 0 : Guid.guid;
            },
            enumerable: !0,
            configurable: !0
        }), Guid.prototype.toString = function() {
            return this.stringValue;
        }, Guid.getNewGuidString = function() {
            var randomString = Guid.randomNumber.toString();
            return randomString = "abc7def4-ghi9-jkl2-m6n3-" + "opqrstuvwxyz".substr(0, 12 - randomString.length) + randomString;
        }, Guid.guid = 0, Guid;
    }(), PdfPageBase = function() {
        function PdfPageBase(dictionary) {
            this.defLayerIndex = -1, this.modified = !1, this.dictionaryProperties = new DictionaryProperties(), 
            this.pageDictionary = dictionary;
        }
        return Object.defineProperty(PdfPageBase.prototype, "section", {
            get: function() {
                return this.pdfSection;
            },
            set: function(value) {
                this.pdfSection = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageBase.prototype, "dictionary", {
            get: function() {
                return this.pageDictionary;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageBase.prototype, "element", {
            get: function() {
                return this.pageDictionary;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageBase.prototype, "defaultLayer", {
            get: function() {
                var layer = this.layers, index = this.defaultLayerIndex;
                return layer.items(index);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageBase.prototype, "defaultLayerIndex", {
            get: function() {
                if (0 === this.layerCollection.count || -1 === this.defLayerIndex) {
                    var layer = this.layerCollection.add();
                    this.defLayerIndex = this.layerCollection.indexOf(layer);
                }
                return this.defLayerIndex;
            },
            set: function(value) {
                if (value < 0 || value > this.layers.count - 1) throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");
                this.defLayerIndex = value, this.modified = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageBase.prototype, "layers", {
            get: function() {
                return null != this.layerCollection && void 0 !== this.layerCollection || (this.layerCollection = new PdfPageLayerCollection(this)), 
                this.layerCollection;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPageBase.prototype.getResources = function() {
            return null == this.resources && (this.resources = new PdfResources(), this.dictionary.items.setValue(this.dictionaryProperties.resources, this.resources)), 
            this.resources;
        }, Object.defineProperty(PdfPageBase.prototype, "contents", {
            get: function() {
                var contents = this.pageDictionary.items.getValue(this.dictionaryProperties.contents);
                return null == contents && (contents = new PdfArray(), this.pageDictionary.items.setValue(this.dictionaryProperties.contents, contents)), 
                contents;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPageBase.prototype.setResources = function(res) {
            this.resources = res, this.dictionary.items.setValue(this.dictionaryProperties.resources, this.resources), 
            this.modified = !0;
        }, PdfPageBase;
    }(), PdfAnnotationCollection = function() {
        function PdfAnnotationCollection(page) {
            this.alreadyExistsAnnotationError = "This annotatation had been already added to page", 
            this.missingAnnotationException = "Annotation is not contained in collection.", 
            this.dictionaryProperties = new DictionaryProperties(), this.internalAnnotations = new PdfArray(), 
            this.lists = [], void 0 !== page && (this.page = page);
        }
        return Object.defineProperty(PdfAnnotationCollection.prototype, "annotations", {
            get: function() {
                return this.internalAnnotations;
            },
            set: function(value) {
                this.internalAnnotations = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAnnotationCollection.prototype.add = function(annotation) {
            this.doAdd(annotation);
        }, PdfAnnotationCollection.prototype.doAdd = function(annotation) {
            if (void 0 === annotation.destination) return annotation.setPage(this.page), this.internalAnnotations.add(new PdfReferenceHolder(annotation)), 
            this.lists.push(annotation);
            var layoutResult = new PdfStringLayouter().layout(annotation.text, annotation.font, annotation.stringFormat, new SizeF(annotation.bounds.width, 0), !1, new SizeF(0, 0)), lastPosition = annotation.bounds.y;
            if (1 === layoutResult.lines.length) {
                var size = annotation.font.measureString(layoutResult.lines[0].text);
                annotation.bounds = new RectangleF(new PointF(annotation.bounds.x, lastPosition), size), 
                annotation.text = layoutResult.lines[0].text, this.page.graphics.drawString(annotation.text, annotation.font, null, annotation.brush, annotation.bounds.x, annotation.bounds.y, annotation.bounds.width, annotation.bounds.height, null), 
                annotation.setPage(this.page), this.setColor(annotation), this.internalAnnotations.add(new PdfReferenceHolder(annotation)), 
                this.lists.push(annotation);
            } else for (var i = 0; i < layoutResult.lines.length; i++) {
                size = annotation.font.measureString(layoutResult.lines[i].text);
                if (0 === i) annotation.bounds = new RectangleF(annotation.bounds.x, lastPosition, size.width, size.height), 
                annotation.text = layoutResult.lines[i].text, this.page.graphics.drawString(annotation.text, annotation.font, null, annotation.brush, annotation.bounds.x, lastPosition, size.width, size.height, null), 
                annotation.setPage(this.page), this.setColor(annotation), this.internalAnnotations.add(new PdfReferenceHolder(annotation)), 
                this.lists.push(annotation), lastPosition += annotation.bounds.height; else {
                    var annot = annotation.clone();
                    annot.bounds = new RectangleF(new PointF(annotation.bounds.x, lastPosition), size), 
                    annot.text = layoutResult.lines[i].text, this.page.graphics.drawString(annot.text, annot.font, null, annot.brush, annot.bounds.x, annot.bounds.y, annot.bounds.width, annot.bounds.height, null), 
                    annot.setPage(this.page), this.setColor(annot), this.internalAnnotations.add(new PdfReferenceHolder(annot)), 
                    this.lists.push(annot), lastPosition += annot.bounds.height;
                }
            }
        }, PdfAnnotationCollection.prototype.setColor = function(annotation) {
            var cs = PdfColorSpace.Rgb, colours = annotation.color.toArray(cs);
            annotation.dictionary.items.setValue(this.dictionaryProperties.c, colours);
        }, Object.defineProperty(PdfAnnotationCollection.prototype, "element", {
            get: function() {
                return this.internalAnnotations;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAnnotationCollection;
    }(), __extends$8$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfPage = function(_super) {
        function PdfPage() {
            var _this = _super.call(this, new PdfDictionary()) || this;
            return _this.annotationCollection = null, _this.beginSave = null, _this.initialize(), 
            _this;
        }
        return __extends$8$1(PdfPage, _super), Object.defineProperty(PdfPage.prototype, "document", {
            get: function() {
                return null !== this.section && null !== this.section.parent ? this.section.parent.document : null;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPage.prototype, "graphics", {
            get: function() {
                var result = this.defaultLayer.graphics;
                return result.currentPage = this, result;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPage.prototype, "crossTable", {
            get: function() {
                if (null === this.section) throw new Error("PdfDocumentException : Page is not created");
                return null === this.section.parent ? this.section.parentDocument.crossTable : this.section.parent.document.crossTable;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPage.prototype, "size", {
            get: function() {
                return this.section.pageSettings.size;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPage.prototype, "origin", {
            get: function() {
                return this.section.pageSettings.origin;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPage.prototype, "annotations", {
            get: function() {
                return null == this.annotationCollection && (this.annotationCollection = new PdfAnnotationCollection(this), 
                this.dictionary.items.setValue(this.dictionaryProperties.annots, this.annotationCollection.element), 
                this.annotationCollection.annotations = this.dictionary.items.getValue(this.dictionaryProperties.annots)), 
                this.annotationCollection;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPage.prototype.initialize = function() {
            this.dictionary.items.setValue(this.dictionaryProperties.type, new PdfName("Page")), 
            this.dictionary.pageBeginDrawTemplate = new SaveTemplateEventHandler(this);
        }, PdfPage.prototype.setSection = function(section) {
            this.section = section, this.dictionary.items.setValue(this.dictionaryProperties.parent, new PdfReferenceHolder(section));
        }, PdfPage.prototype.resetProgress = function() {
            this.isProgressOn = !1;
        }, PdfPage.prototype.getClientSize = function() {
            var returnValue = this.section.getActualBounds(this, !0);
            return new SizeF(returnValue.width, returnValue.height);
        }, PdfPage.prototype.pageBeginSave = function() {
            var doc = this.document;
            void 0 !== typeof doc && null != doc && this.drawPageTemplates(doc), null != this.beginSave && void 0 !== this.beginSave && this.beginSave(this);
        }, PdfPage.prototype.drawPageTemplates = function(document) {
            if (this.section.containsTemplates(document, this, !1)) {
                var backLayer = new PdfPageLayer(this, !1);
                if (this.layers.insert(0, backLayer), this.section.drawTemplates(this, backLayer, document, !1), 
                null !== backLayer.graphics && void 0 !== backLayer.graphics) for (var i = 0; i < backLayer.graphics.automaticFields.automaticFields.length; i++) {
                    var fieldInfo = backLayer.graphics.automaticFields.automaticFields[i];
                    fieldInfo.field.performDraw(backLayer.graphics, fieldInfo.location, fieldInfo.scalingX, fieldInfo.scalingY);
                }
            }
            if (this.section.containsTemplates(document, this, !0)) {
                var frontLayer = new PdfPageLayer(this, !1);
                this.layers.add(frontLayer), this.section.drawTemplates(this, frontLayer, document, !0);
            }
        }, PdfPage;
    }(PdfPageBase), PageAddedEventArgs = function() {
        function PageAddedEventArgs(page) {
            this.pdfPage = void 0 !== page ? page : null;
        }
        return Object.defineProperty(PageAddedEventArgs.prototype, "page", {
            get: function() {
                return this.pdfPage;
            },
            enumerable: !0,
            configurable: !0
        }), PageAddedEventArgs;
    }(), PdfSectionPageCollection = function() {
        function PdfSectionPageCollection(section) {
            if (this.pdfSection = null, null == section) throw Error('ArgumentNullException("section")');
            this.section = section;
        }
        return Object.defineProperty(PdfSectionPageCollection.prototype, "section", {
            get: function() {
                return this.pdfSection;
            },
            set: function(value) {
                this.pdfSection = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfSectionPageCollection.prototype.contains = function(page) {
            return this.section.contains(page);
        }, PdfSectionPageCollection.prototype.remove = function(page) {
            this.section.remove(page);
        }, PdfSectionPageCollection.prototype.add = function() {
            return this.section.add();
        }, PdfSectionPageCollection;
    }(), PdfDocumentTemplate = function() {
        function PdfDocumentTemplate() {}
        return Object.defineProperty(PdfDocumentTemplate.prototype, "left", {
            get: function() {
                return this.leftTemplate;
            },
            set: function(value) {
                this.leftTemplate = this.checkElement(value, TemplateType.Left);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "top", {
            get: function() {
                return this.topTemplate;
            },
            set: function(value) {
                this.topTemplate = this.checkElement(value, TemplateType.Top);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "right", {
            get: function() {
                return this.rightTemplate;
            },
            set: function(value) {
                this.rightTemplate = this.checkElement(value, TemplateType.Right);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "bottom", {
            get: function() {
                return this.bottomTemplate;
            },
            set: function(value) {
                this.bottomTemplate = this.checkElement(value, TemplateType.Bottom);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "EvenLeft", {
            get: function() {
                return this.evenLeft;
            },
            set: function(value) {
                this.evenLeft = this.checkElement(value, TemplateType.Left);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "EvenTop", {
            get: function() {
                return this.evenTop;
            },
            set: function(value) {
                this.evenTop = this.checkElement(value, TemplateType.Top);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "EvenRight", {
            get: function() {
                return this.evenRight;
            },
            set: function(value) {
                this.evenRight = this.checkElement(value, TemplateType.Right);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "EvenBottom", {
            get: function() {
                return this.evenBottom;
            },
            set: function(value) {
                this.evenBottom = this.checkElement(value, TemplateType.Bottom);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "OddLeft", {
            get: function() {
                return this.oddLeft;
            },
            set: function(value) {
                this.oddLeft = this.checkElement(value, TemplateType.Left);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "OddTop", {
            get: function() {
                return this.oddTop;
            },
            set: function(value) {
                this.oddTop = this.checkElement(value, TemplateType.Top);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "OddRight", {
            get: function() {
                return this.oddRight;
            },
            set: function(value) {
                this.oddRight = this.checkElement(value, TemplateType.Right);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentTemplate.prototype, "OddBottom", {
            get: function() {
                return this.oddBottom;
            },
            set: function(value) {
                this.oddBottom = this.checkElement(value, TemplateType.Bottom);
            },
            enumerable: !0,
            configurable: !0
        }), PdfDocumentTemplate.prototype.getLeft = function(page) {
            if (null == page) throw new Error("ArgumentNullException:page");
            return this.isEven(page) ? null != this.EvenLeft ? this.EvenLeft : this.left : null != this.OddLeft ? this.OddLeft : this.left;
        }, PdfDocumentTemplate.prototype.getTop = function(page) {
            if (null == page) throw new Error("ArgumentNullException:page");
            return this.isEven(page) ? null != this.EvenTop ? this.EvenTop : this.top : null != this.OddTop ? this.OddTop : this.top;
        }, PdfDocumentTemplate.prototype.getRight = function(page) {
            if (null == page) throw new Error("ArgumentNullException:page");
            return this.isEven(page) ? null != this.EvenRight ? this.EvenRight : this.right : null != this.OddRight ? this.OddRight : this.right;
        }, PdfDocumentTemplate.prototype.getBottom = function(page) {
            if (null == page) throw new Error("ArgumentNullException:page");
            return this.isEven(page) ? null != this.EvenBottom ? this.EvenBottom : this.bottom : null != this.OddBottom ? this.OddBottom : this.bottom;
        }, PdfDocumentTemplate.prototype.isEven = function(page) {
            var pages = page.section.document.pages;
            return (pages.pageCollectionIndex.containsKey(page) ? pages.pageCollectionIndex.getValue(page) + 1 : pages.indexOf(page) + 1) % 2 == 0;
        }, PdfDocumentTemplate.prototype.checkElement = function(templateElement, type) {
            if (null != templateElement) {
                if (void 0 !== templateElement.type && templateElement.type !== TemplateType.None) throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");
                templateElement.type = type;
            }
            return templateElement;
        }, PdfDocumentTemplate;
    }(), __extends$13$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfSectionTemplate = function(_super) {
        function PdfSectionTemplate() {
            var _this = _super.call(this) || this;
            return _this.leftValue = _this.topValue = _this.rightValue = _this.bottomValue = _this.stampValue = !0, 
            _this;
        }
        return __extends$13$1(PdfSectionTemplate, _super), Object.defineProperty(PdfSectionTemplate.prototype, "applyDocumentLeftTemplate", {
            get: function() {
                return this.leftValue;
            },
            set: function(value) {
                this.leftValue = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSectionTemplate.prototype, "applyDocumentTopTemplate", {
            get: function() {
                return this.topValue;
            },
            set: function(value) {
                this.topValue = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSectionTemplate.prototype, "applyDocumentRightTemplate", {
            get: function() {
                return this.rightValue;
            },
            set: function(value) {
                this.rightValue = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSectionTemplate.prototype, "applyDocumentBottomTemplate", {
            get: function() {
                return this.bottomValue;
            },
            set: function(value) {
                this.bottomValue = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSectionTemplate.prototype, "applyDocumentStamps", {
            get: function() {
                return this.stampValue;
            },
            set: function(value) {
                this.stampValue = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfSectionTemplate;
    }(PdfDocumentTemplate), PdfSection = function() {
        function PdfSection(document, pageSettings) {
            this.pageAdded = new PageAddedEventArgs(), this.pdfPages = [], this.dictionaryProperties = new DictionaryProperties(), 
            void 0 === pageSettings ? this.constructor(document, document.pageSettings) : (this.pdfDocument = document, 
            this.settings = pageSettings.clone(), this.initialSettings = this.settings.clone(), 
            this.initialize());
        }
        return Object.defineProperty(PdfSection.prototype, "parent", {
            get: function() {
                return this.sectionCollection;
            },
            set: function(value) {
                this.sectionCollection = value, this.section.items.setValue(this.dictionaryProperties.parent, new PdfReferenceHolder(value));
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSection.prototype, "parentDocument", {
            get: function() {
                return this.pdfDocument;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSection.prototype, "pageSettings", {
            get: function() {
                return this.settings;
            },
            set: function(value) {
                if (null == value) throw Error("Value can not be null.");
                this.settings = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSection.prototype, "element", {
            get: function() {
                return this.section;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSection.prototype, "count", {
            get: function() {
                return this.pagesReferences.count;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSection.prototype, "template", {
            get: function() {
                return null == this.pageTemplate && (this.pageTemplate = new PdfSectionTemplate()), 
                this.pageTemplate;
            },
            set: function(value) {
                this.pageTemplate = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSection.prototype, "document", {
            get: function() {
                return this.sectionCollection.document;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSection.prototype, "pages", {
            get: function() {
                return null != this.pagesCollection && void 0 !== this.pagesCollection || (this.pagesCollection = new PdfSectionPageCollection(this)), 
                this.pagesCollection;
            },
            enumerable: !0,
            configurable: !0
        }), PdfSection.prototype.getPages = function() {
            return this.pdfPages;
        }, PdfSection.prototype.pointToNativePdf = function(page, point) {
            var bounds = this.getActualBounds(page, !0);
            return point.x += bounds.x, point.y = this.pageSettings.height - point.y, point;
        }, PdfSection.prototype.setPageSettings = function(settings) {
            this.settings = settings, this.state.orientation = settings.orientation, this.state.rotate = settings.rotate, 
            this.state.size = settings.size, this.state.origin = settings.origin;
        }, PdfSection.prototype.initialize = function() {
            this.pagesReferences = new PdfArray(), this.section = new PdfDictionary(), this.state = new PageSettingsState(this.pdfDocument), 
            this.section.sectionBeginSave = new SaveSectionEventHandler(this, this.state), this.pageCount = new PdfNumber(0), 
            this.section.items.setValue(this.dictionaryProperties.count, this.pageCount), this.section.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.pages)), 
            this.section.items.setValue(this.dictionaryProperties.kids, this.pagesReferences);
        }, PdfSection.prototype.containsTemplates = function(document, page, foreground) {
            var documentHeaders = this.getDocumentTemplates(document, page, !0, foreground), documentTemplates = this.getDocumentTemplates(document, page, !1, foreground);
            return documentHeaders.length > 0 || documentTemplates.length > 0;
        }, PdfSection.prototype.getDocumentTemplates = function(document, page, headers, foreground) {
            var templates = [];
            return headers && (this.template.applyDocumentTopTemplate && null != document.template.getTop(page) && (!document.template.getTop(page).foreground && !foreground || document.template.getTop(page).foreground && foreground) && templates.push(document.template.getTop(page)), 
            this.template.applyDocumentBottomTemplate && null != document.template.getBottom(page) && (!document.template.getBottom(page).foreground && !foreground || document.template.getBottom(page).foreground && foreground) && templates.push(document.template.getBottom(page)), 
            this.template.applyDocumentLeftTemplate && null != document.template.getLeft(page) && (!document.template.getLeft(page).foreground && !foreground || document.template.getLeft(page).foreground && foreground) && templates.push(document.template.getLeft(page)), 
            this.template.applyDocumentRightTemplate && null != document.template.getRight(page) && (!document.template.getRight(page).foreground && !foreground || document.template.getRight(page).foreground && foreground) && templates.push(document.template.getRight(page))), 
            templates;
        }, PdfSection.prototype.add = function(page) {
            if (void 0 === page) {
                var page_1 = new PdfPage();
                return this.add(page_1), page_1;
            }
            var r = this.checkPresence(page);
            this.pdfPages.push(page), this.pagesReferences.add(r), page.setSection(this), page.resetProgress(), 
            this.pageAddedMethod(page);
        }, PdfSection.prototype.checkPresence = function(page) {
            for (var rh = new PdfReferenceHolder(page), contains = !1, sc = this.parent, index = 0; index < sc.section.length; index++) {
                var section = sc.section[index];
                contains = contains || section.contains(page);
            }
            return rh;
        }, PdfSection.prototype.contains = function(page) {
            return 0 <= this.indexOf(page);
        }, PdfSection.prototype.indexOf = function(page) {
            for (var index = 0; index < this.pdfPages.length; index++) if (this.pdfPages[index] === page) return this.pdfPages.indexOf(page);
            var r = new PdfReferenceHolder(page);
            return this.pagesReferences.indexOf(r);
        }, PdfSection.prototype.pageAddedMethod = function(page) {
            var args = new PageAddedEventArgs(page);
            this.onPageAdded(args);
            this.parent.document.pages.onPageAdded(args), this.pageCount.intValue = this.count;
        }, PdfSection.prototype.onPageAdded = function(args) {}, PdfSection.prototype.getActualBounds = function(arg1, arg2, arg3) {
            if (arg1 instanceof PdfPage && "boolean" == typeof arg2) {
                var document_1 = this.parent.document;
                return this.getActualBounds(document_1, arg1, arg2);
            }
            arg1 = arg1, arg2 = arg2, arg3 = arg3;
            var bounds = new RectangleF(0, 0, 0, 0);
            bounds.height = arg3 ? this.pageSettings.size.height : this.pageSettings.getActualSize().height, 
            bounds.width = arg3 ? this.pageSettings.size.width : this.pageSettings.getActualSize().width;
            var left = this.getLeftIndentWidth(arg1, arg2, arg3), top_1 = this.getTopIndentHeight(arg1, arg2, arg3), right = this.getRightIndentWidth(arg1, arg2, arg3), bottom = this.getBottomIndentHeight(arg1, arg2, arg3);
            return bounds.x += left, bounds.y += top_1, bounds.width -= left + right, bounds.height -= top_1 + bottom, 
            bounds;
        }, PdfSection.prototype.getLeftIndentWidth = function(document, page, includeMargins) {
            if (null == document) throw new Error("ArgumentNullException:document");
            if (null == page) throw new Error("ArgumentNullException:page");
            var value = includeMargins ? this.pageSettings.margins.left : 0, templateWidth = null != this.template.getLeft(page) ? this.template.getLeft(page).width : 0, docTemplateWidth = null != document.template.getLeft(page) ? document.template.getLeft(page).width : 0;
            return value += this.template.applyDocumentLeftTemplate ? Math.max(templateWidth, docTemplateWidth) : templateWidth;
        }, PdfSection.prototype.getTopIndentHeight = function(document, page, includeMargins) {
            if (null == document) throw new Error("ArgumentNullException:document");
            if (null == page) throw new Error("ArgumentNullException:page");
            var value = includeMargins ? this.pageSettings.margins.top : 0, templateHeight = null != this.template.getTop(page) ? this.template.getTop(page).height : 0, docTemplateHeight = null != document.template.getTop(page) ? document.template.getTop(page).height : 0;
            return value += this.template.applyDocumentTopTemplate ? Math.max(templateHeight, docTemplateHeight) : templateHeight;
        }, PdfSection.prototype.getRightIndentWidth = function(document, page, includeMargins) {
            if (null == document) throw new Error("ArgumentNullException:document");
            if (null == page) throw new Error("ArgumentNullException:page");
            var value = includeMargins ? this.pageSettings.margins.right : 0, templateWidth = null != this.template.getRight(page) ? this.template.getRight(page).width : 0, docTemplateWidth = null != document.template.getRight(page) ? document.template.getRight(page).width : 0;
            return value += this.template.applyDocumentRightTemplate ? Math.max(templateWidth, docTemplateWidth) : templateWidth;
        }, PdfSection.prototype.getBottomIndentHeight = function(document, page, includeMargins) {
            if (null == document) throw new Error("ArgumentNullException:document");
            if (null == page) throw new Error("ArgumentNullException:page");
            var value = includeMargins ? this.pageSettings.margins.bottom : 0, templateHeight = null != this.template.getBottom(page) ? this.template.getBottom(page).height : 0, docTemplateHeight = null != document.template.getBottom(page) ? document.template.getBottom(page).height : 0;
            return value += this.template.applyDocumentBottomTemplate ? Math.max(templateHeight, docTemplateHeight) : templateHeight;
        }, PdfSection.prototype.remove = function(page) {
            if (null == page) throw Error('ArgumentNullException("page")');
            var index = this.pdfPages.indexOf(page);
            this.pagesReferences.removeAt(index);
            for (var temproaryPages = [], j = 0; j < index; j++) temproaryPages.push(this.pdfPages[j]);
            for (j = index + 1; j < this.pdfPages.length; j++) temproaryPages.push(this.pdfPages[j]);
            this.pdfPages = temproaryPages;
        }, PdfSection.prototype.applyPageSettings = function(container, parentSettings, state) {
            var bounds = new RectangleF(state.origin, state.size);
            container.items.setValue(this.dictionaryProperties.mediaBox, PdfArray.fromRectangle(bounds));
            var rotate = 0;
            rotate = PdfSectionCollection.rotateFactor * state.rotate;
            var angle = new PdfNumber(rotate);
            container.items.setValue(this.dictionaryProperties.rotate, angle);
        }, PdfSection.prototype.beginSave = function(state, writer) {
            var doc = writer.document;
            this.applyPageSettings(this.section, doc.pageSettings, state);
        }, PdfSection.prototype.drawTemplates = function(page, layer, document, foreground) {
            var documentHeaders = this.getDocumentTemplates(document, page, !0, foreground), documentTemplates = this.getDocumentTemplates(document, page, !1, foreground);
            this.drawTemplatesHelper(layer, document, documentHeaders), this.drawTemplatesHelper(layer, document, documentTemplates);
        }, PdfSection.prototype.drawTemplatesHelper = function(layer, document, templates) {
            if (null != templates && templates.length > 0) for (var len = templates.length, i = 0; i < len; i++) {
                templates[i].draw(layer, document);
            }
        }, PdfSection;
    }(), PageSettingsState = function() {
        function PageSettingsState(document) {
            this.pageOrientation = document.pageSettings.orientation, this.pageRotate = document.pageSettings.rotate, 
            this.pageSize = document.pageSettings.size, this.pageOrigin = document.pageSettings.origin;
        }
        return Object.defineProperty(PageSettingsState.prototype, "orientation", {
            get: function() {
                return this.pageOrientation;
            },
            set: function(value) {
                this.pageOrientation = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PageSettingsState.prototype, "rotate", {
            get: function() {
                return this.pageRotate;
            },
            set: function(value) {
                this.pageRotate = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PageSettingsState.prototype, "size", {
            get: function() {
                return this.pageSize;
            },
            set: function(value) {
                this.pageSize = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PageSettingsState.prototype, "origin", {
            get: function() {
                return this.pageOrigin;
            },
            set: function(value) {
                this.pageOrigin = value;
            },
            enumerable: !0,
            configurable: !0
        }), PageSettingsState;
    }(), PdfSectionCollection = function() {
        function PdfSectionCollection(document) {
            this.sections = [], this.dictionaryProperties = new DictionaryProperties(), this.pdfDocument = document.clone(), 
            this.initialize();
        }
        return Object.defineProperty(PdfSectionCollection.prototype, "section", {
            get: function() {
                return this.sections;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSectionCollection.prototype, "document", {
            get: function() {
                return this.pdfDocument;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSectionCollection.prototype, "count", {
            get: function() {
                return this.sections.length;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfSectionCollection.prototype, "element", {
            get: function() {
                return this.pages;
            },
            enumerable: !0,
            configurable: !0
        }), PdfSectionCollection.prototype.initialize = function() {
            this.sectionCount = new PdfNumber(0), this.sectionCollection = new PdfArray(), this.pages = new PdfDictionary(), 
            this.pages.beginSave = new SaveSectionCollectionEventHandler(this), this.pages.items.setValue(this.dictionaryProperties.type, new PdfName("Pages")), 
            this.pages.items.setValue(this.dictionaryProperties.kids, this.sectionCollection), 
            this.pages.items.setValue(this.dictionaryProperties.count, this.sectionCount), this.pages.items.setValue(this.dictionaryProperties.resources, new PdfDictionary()), 
            this.setPageSettings(this.pages, this.pdfDocument.pageSettings);
        }, PdfSectionCollection.prototype.pdfSectionCollection = function(index) {
            if (index < 0 || index >= this.count) throw new Error("IndexOutOfRangeException()");
            return this.sections[index];
        }, PdfSectionCollection.prototype.setPageSettings = function(container, pageSettings) {
            var bounds = new RectangleF(new PointF(), pageSettings.size);
            container.items.setValue(this.dictionaryProperties.mediaBox, PdfArray.fromRectangle(bounds));
        }, PdfSectionCollection.prototype.add = function(section) {
            if (void 0 === section) {
                var section_1 = new PdfSection(this.pdfDocument);
                return this.add(section_1), section_1;
            }
            var r = this.checkSection(section);
            return this.sections.push(section), section.parent = this, this.sectionCollection.add(r), 
            this.sections.indexOf(section);
        }, PdfSectionCollection.prototype.checkSection = function(section) {
            var r = new PdfReferenceHolder(section);
            this.sectionCollection.contains(r);
            return r;
        }, PdfSectionCollection.prototype.countPages = function() {
            var count = 0;
            return this.sections.forEach(function(n) {
                return count += n.count;
            }), count;
        }, PdfSectionCollection.prototype.beginSave = function() {
            this.sectionCount.intValue = this.countPages();
        }, PdfSectionCollection.rotateFactor = 90, PdfSectionCollection;
    }(), PdfDocumentPageCollection = function() {
        function PdfDocumentPageCollection(document) {
            this.pdfPageCollectionIndex = new Dictionary(), this.previousPageOrientation = PdfPageOrientation.Portrait, 
            this.document = document;
        }
        return Object.defineProperty(PdfDocumentPageCollection.prototype, "count", {
            get: function() {
                return this.countPages();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocumentPageCollection.prototype, "pageCollectionIndex", {
            get: function() {
                return this.pdfPageCollectionIndex;
            },
            enumerable: !0,
            configurable: !0
        }), PdfDocumentPageCollection.prototype.add = function(page) {
            if (void 0 === page) {
                var page_1 = new PdfPage();
                return this.add(page_1), page_1;
            }
            var section = this.getLastSection();
            section.pageSettings.orientation !== this.previousPageOrientation && ((section = this.document.sections.add()).pageSettings.orientation = this.document.pageSettings.orientation), 
            section.add(page);
        }, PdfDocumentPageCollection.prototype.getLastSection = function() {
            var sc = this.document.sections;
            0 === sc.section.length && sc.add();
            return sc.section[sc.section.length - 1];
        }, PdfDocumentPageCollection.prototype.onPageAdded = function(args) {}, PdfDocumentPageCollection.prototype.countPages = function() {
            for (var sc = this.document.sections, count = 0, index = 0; index < sc.section.length; index++) count += sc.section[index].count;
            return count;
        }, PdfDocumentPageCollection.prototype.getPageByIndex = function(index) {
            return this.getPage(index);
        }, PdfDocumentPageCollection.prototype.getPage = function(index) {
            if (index < 0 || index >= this.count) throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');
            for (var page = null, sectionStartIndex = 0, sectionCount = 0, pageIndex = 0, length = this.document.sections.count, i = 0; i < length; i++) {
                var section = this.document.sections.section[i];
                if (sectionCount = section.count, pageIndex = index - sectionStartIndex, index >= sectionStartIndex && pageIndex < sectionCount) {
                    page = section.getPages()[pageIndex];
                    break;
                }
                sectionStartIndex += sectionCount;
            }
            return page;
        }, PdfDocumentPageCollection.prototype.indexOf = function(page) {
            var index = -1;
            if (null == page) throw new Error("ArgumentNullException: page");
            for (var numPages = 0, i = 0, len = this.document.sections.count; i < len; i++) {
                var section = this.document.sections.pdfSectionCollection(i);
                if ((index = section.indexOf(page)) >= 0) {
                    index += numPages;
                    break;
                }
                index = -1, numPages += section.count;
            }
            return index;
        }, PdfDocumentPageCollection.prototype.remove = function(page) {
            if (null == page) throw Error('ArgumentNullException("page")');
            for (var section = null, i = 0, len_1 = this.document.sections.count; i < len_1; i++) if ((section = this.document.sections.pdfSectionCollection(i)).pages.contains(page)) {
                section.pages.remove(page);
                break;
            }
            return section;
        }, PdfDocumentPageCollection;
    }(), PdfCacheCollection = function() {
        function PdfCacheCollection() {
            this.referenceObjects = [], this.pdfFontCollection = new Dictionary();
        }
        return PdfCacheCollection.prototype.search = function(obj) {
            return this.createNewGroup().push(obj), null;
        }, PdfCacheCollection.prototype.createNewGroup = function() {
            var group = [];
            return this.referenceObjects.push(group), group;
        }, PdfCacheCollection.prototype.destroy = function() {
            this.pdfFontCollection = void 0, this.referenceObjects = void 0;
        }, PdfCacheCollection;
    }(), __extends$6$2 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfDocument = function(_super) {
        function PdfDocument(isMerging) {
            var _this = _super.call(this) || this;
            if (_this.defaultMargin = 40, _this.streamWriter = null, _this = _super.call(this, _this) || this, 
            !0 === isMerging || !1 === isMerging || void 0 !== isMerging) {
                var objects = new PdfMainObjectCollection();
                _this.setMainObjectCollection(objects);
                var crossTable = new PdfCrossTable();
                crossTable.isMerging = isMerging, crossTable.document = _this, _this.setCrossTable(crossTable);
                var catalog = new PdfCatalog();
                _this.setCatalog(catalog), objects.add(catalog), catalog.position = -1, _this.sectionCollection = new PdfSectionCollection(_this), 
                _this.documentPageCollection = new PdfDocumentPageCollection(_this), catalog.pages = _this.sectionCollection;
            } else PdfDocument.cacheCollection = new PdfCacheCollection(), _this.constructor(!1);
            return _this;
        }
        return __extends$6$2(PdfDocument, _super), Object.defineProperty(PdfDocument, "defaultFont", {
            get: function() {
                return null == this.defaultStandardFont && (this.defaultStandardFont = new PdfStandardFont(PdfFontFamily.Helvetica, 8)), 
                this.defaultStandardFont;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocument.prototype, "sections", {
            get: function() {
                return this.sectionCollection;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocument.prototype, "pageSettings", {
            get: function() {
                return null == this.settings && (this.settings = new PdfPageSettings(this.defaultMargin)), 
                this.settings;
            },
            set: function(value) {
                this.settings = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocument.prototype, "pages", {
            get: function() {
                return this.documentPageCollection;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocument, "cache", {
            get: function() {
                return void 0 === PdfDocument.cacheCollection || null == PdfDocument.cacheCollection ? new PdfCacheCollection() : PdfDocument.cacheCollection;
            },
            set: function(value) {
                this.cacheCollection = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocument.prototype, "colorSpace", {
            get: function() {
                return this.pdfColorSpace === PdfColorSpace.Rgb || this.pdfColorSpace === PdfColorSpace.Cmyk || this.pdfColorSpace === PdfColorSpace.GrayScale ? this.pdfColorSpace : PdfColorSpace.Rgb;
            },
            set: function(value) {
                value === PdfColorSpace.Rgb || value === PdfColorSpace.Cmyk || value === PdfColorSpace.GrayScale ? this.pdfColorSpace = value : this.pdfColorSpace = PdfColorSpace.Rgb;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDocument.prototype, "template", {
            get: function() {
                return null == this.pageTemplate && (this.pageTemplate = new PdfDocumentTemplate()), 
                this.pageTemplate;
            },
            set: function(value) {
                this.pageTemplate = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfDocument.prototype.docSave = function(stream, arg2, arg3) {
            if (this.checkPagesPresence(), null === stream) throw new Error("ArgumentNullException : stream");
            this.streamWriter = stream;
            var writer = new PdfWriter(stream);
            if (writer.document = this, "boolean" == typeof arg2 && void 0 === arg3) return this.crossTable.save(writer);
            this.crossTable.save(writer, arg2);
        }, PdfDocument.prototype.checkPagesPresence = function() {
            0 === this.pages.count && this.pages.add();
        }, PdfDocument.prototype.destroy = function() {
            this.catalog = void 0, this.colorSpace = void 0, this.currentSavingObj = void 0, 
            this.documentPageCollection = void 0, this.isStreamCopied = void 0, this.pageSettings = void 0, 
            this.pageTemplate = void 0, this.pdfColorSpace = void 0, this.sectionCollection = void 0, 
            PdfDocument.cache.destroy(), this.crossTable.pdfObjects.destroy(), PdfDocument.cache = void 0, 
            this.streamWriter.destroy();
        }, PdfDocument.defaultStandardFont = null, PdfDocument;
    }(PdfDocumentBase), __extends$14$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfFontMetrics = function() {
        function PdfFontMetrics() {
            this.lineGap = 0;
        }
        return PdfFontMetrics.prototype.getAscent = function(format) {
            return this.ascent * PdfFont.charSizeMultiplier * this.getSize(format);
        }, PdfFontMetrics.prototype.getDescent = function(format) {
            return this.descent * PdfFont.charSizeMultiplier * this.getSize(format);
        }, PdfFontMetrics.prototype.getLineGap = function(format) {
            return this.lineGap * PdfFont.charSizeMultiplier * this.getSize(format);
        }, PdfFontMetrics.prototype.getHeight = function(format) {
            for (var clearTypeFonts = [ "cambria", "candara", "constantia", "corbel", "cariadings" ], clearTypeFontCollection = [], index = 0; index < clearTypeFonts.length; index++) {
                var font = clearTypeFonts[index];
                clearTypeFontCollection.push(font);
            }
            return this.getDescent(format) < 0 ? this.getAscent(format) - this.getDescent(format) + this.getLineGap(format) : this.getAscent(format) + this.getDescent(format) + this.getLineGap(format);
        }, PdfFontMetrics.prototype.getSize = function(format) {
            var size = this.size;
            if (null != format) switch (format.subSuperScript) {
              case PdfSubSuperScript.SubScript:
                size /= this.subScriptSizeFactor;
                break;

              case PdfSubSuperScript.SuperScript:
                size /= this.superscriptSizeFactor;
            }
            return size;
        }, PdfFontMetrics.prototype.clone = function() {
            return this.widthTable = WidthTable.clone(), this;
        }, Object.defineProperty(PdfFontMetrics.prototype, "widthTable", {
            get: function() {
                return this.internalWidthTable;
            },
            set: function(value) {
                this.internalWidthTable = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfFontMetrics;
    }(), WidthTable = function() {
        function WidthTable() {}
        return WidthTable.clone = function() {
            return null;
        }, WidthTable;
    }(), StandardWidthTable = function(_super) {
        function StandardWidthTable(widths) {
            var _this = _super.call(this) || this;
            if (null == widths) throw new Error("ArgumentNullException:widths");
            return _this.widths = widths, _this;
        }
        return __extends$14$1(StandardWidthTable, _super), StandardWidthTable.prototype.items = function(index) {
            if (index < 0 || index >= this.widths.length) throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");
            return this.widths[index];
        }, Object.defineProperty(StandardWidthTable.prototype, "length", {
            get: function() {
                return this.widths.length;
            },
            enumerable: !0,
            configurable: !0
        }), StandardWidthTable.prototype.clone = function() {
            return this.widths = this.widths, this;
        }, StandardWidthTable.prototype.toArray = function() {
            return new PdfArray(this.widths);
        }, StandardWidthTable;
    }(WidthTable), PdfStandardFontMetricsFactory = function() {
        function PdfStandardFontMetricsFactory() {}
        return PdfStandardFontMetricsFactory.getMetrics = function(fontFamily, fontStyle, size) {
            var metrics = null;
            switch (fontFamily) {
              case PdfFontFamily.Helvetica:
                metrics = this.getHelveticaMetrics(fontFamily, fontStyle, size);
                break;

              case PdfFontFamily.Courier:
                metrics = this.getCourierMetrics(fontFamily, fontStyle, size);
                break;

              case PdfFontFamily.TimesRoman:
                metrics = this.getTimesMetrics(fontFamily, fontStyle, size);
                break;

              case PdfFontFamily.Symbol:
                metrics = this.getSymbolMetrics(fontFamily, fontStyle, size);
                break;

              case PdfFontFamily.ZapfDingbats:
                metrics = this.getZapfDingbatsMetrics(fontFamily, fontStyle, size);
                break;

              default:
                metrics = this.getHelveticaMetrics(PdfFontFamily.Helvetica, fontStyle, size);
            }
            return metrics.name = fontFamily.toString(), metrics.subScriptSizeFactor = this.subSuperScriptFactor, 
            metrics.superscriptSizeFactor = this.subSuperScriptFactor, metrics;
        }, PdfStandardFontMetricsFactory.getHelveticaMetrics = function(fontFamily, fontStyle, size) {
            var metrics = new PdfFontMetrics();
            return (fontStyle & PdfFontStyle.Bold) > 0 && (fontStyle & PdfFontStyle.Italic) > 0 ? (metrics.ascent = this.helveticaBoldItalicAscent, 
            metrics.descent = this.helveticaBoldItalicDescent, metrics.postScriptName = this.helveticaBoldItalicName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.arialBoldWidth), 
            metrics.height = metrics.ascent - metrics.descent) : (fontStyle & PdfFontStyle.Bold) > 0 ? (metrics.ascent = this.helveticaBoldAscent, 
            metrics.descent = this.helveticaBoldDescent, metrics.postScriptName = this.helveticaBoldName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.arialBoldWidth), 
            metrics.height = metrics.ascent - metrics.descent) : (fontStyle & PdfFontStyle.Italic) > 0 ? (metrics.ascent = this.helveticaItalicAscent, 
            metrics.descent = this.helveticaItalicDescent, metrics.postScriptName = this.helveticaItalicName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.arialWidth), 
            metrics.height = metrics.ascent - metrics.descent) : (metrics.ascent = this.helveticaAscent, 
            metrics.descent = this.helveticaDescent, metrics.postScriptName = this.helveticaName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.arialWidth), 
            metrics.height = metrics.ascent - metrics.descent), metrics;
        }, PdfStandardFontMetricsFactory.getCourierMetrics = function(fontFamily, fontStyle, size) {
            var metrics = new PdfFontMetrics();
            return (fontStyle & PdfFontStyle.Bold) > 0 && (fontStyle & PdfFontStyle.Italic) > 0 ? (metrics.ascent = this.courierBoldItalicAscent, 
            metrics.descent = this.courierBoldItalicDescent, metrics.postScriptName = this.courierBoldItalicName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.fixedWidth), 
            metrics.height = metrics.ascent - metrics.descent) : (fontStyle & PdfFontStyle.Bold) > 0 ? (metrics.ascent = this.courierBoldAscent, 
            metrics.descent = this.courierBoldDescent, metrics.postScriptName = this.courierBoldName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.fixedWidth), 
            metrics.height = metrics.ascent - metrics.descent) : (fontStyle & PdfFontStyle.Italic) > 0 ? (metrics.ascent = this.courierItalicAscent, 
            metrics.descent = this.courierItalicDescent, metrics.postScriptName = this.courierItalicName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.fixedWidth), 
            metrics.height = metrics.ascent - metrics.descent) : (metrics.ascent = this.courierAscent, 
            metrics.descent = this.courierDescent, metrics.postScriptName = this.courierName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.fixedWidth), 
            metrics.height = metrics.ascent - metrics.descent), metrics;
        }, PdfStandardFontMetricsFactory.getTimesMetrics = function(fontFamily, fontStyle, size) {
            var metrics = new PdfFontMetrics();
            return (fontStyle & PdfFontStyle.Bold) > 0 && (fontStyle & PdfFontStyle.Italic) > 0 ? (metrics.ascent = this.timesBoldItalicAscent, 
            metrics.descent = this.timesBoldItalicDescent, metrics.postScriptName = this.timesBoldItalicName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.timesRomanBoldItalicWidths), 
            metrics.height = metrics.ascent - metrics.descent) : (fontStyle & PdfFontStyle.Bold) > 0 ? (metrics.ascent = this.timesBoldAscent, 
            metrics.descent = this.timesBoldDescent, metrics.postScriptName = this.timesBoldName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.timesRomanBoldWidth), 
            metrics.height = metrics.ascent - metrics.descent) : (fontStyle & PdfFontStyle.Italic) > 0 ? (metrics.ascent = this.timesItalicAscent, 
            metrics.descent = this.timesItalicDescent, metrics.postScriptName = this.timesItalicName, 
            metrics.size = size, metrics.widthTable = new StandardWidthTable(this.timesRomanItalicWidth), 
            metrics.height = metrics.ascent - metrics.descent) : (metrics.ascent = this.timesAscent, 
            metrics.descent = this.timesDescent, metrics.postScriptName = this.timesName, metrics.size = size, 
            metrics.widthTable = new StandardWidthTable(this.timesRomanWidth), metrics.height = metrics.ascent - metrics.descent), 
            metrics;
        }, PdfStandardFontMetricsFactory.getSymbolMetrics = function(fontFamily, fontStyle, size) {
            var metrics = new PdfFontMetrics();
            return metrics.ascent = this.symbolAscent, metrics.descent = this.symbolDescent, 
            metrics.postScriptName = this.symbolName, metrics.size = size, metrics.widthTable = new StandardWidthTable(this.symbolWidth), 
            metrics.height = metrics.ascent - metrics.descent, metrics;
        }, PdfStandardFontMetricsFactory.getZapfDingbatsMetrics = function(fontFamily, fontStyle, size) {
            var metrics = new PdfFontMetrics();
            return metrics.ascent = this.zapfDingbatsAscent, metrics.descent = this.zapfDingbatsDescent, 
            metrics.postScriptName = this.zapfDingbatsName, metrics.size = size, metrics.widthTable = new StandardWidthTable(this.zapfDingbatsWidth), 
            metrics.height = metrics.ascent - metrics.descent, metrics;
        }, PdfStandardFontMetricsFactory.subSuperScriptFactor = 1.52, PdfStandardFontMetricsFactory.helveticaAscent = 931, 
        PdfStandardFontMetricsFactory.helveticaDescent = -225, PdfStandardFontMetricsFactory.helveticaName = "Helvetica", 
        PdfStandardFontMetricsFactory.helveticaBoldAscent = 962, PdfStandardFontMetricsFactory.helveticaBoldDescent = -228, 
        PdfStandardFontMetricsFactory.helveticaBoldName = "Helvetica-Bold", PdfStandardFontMetricsFactory.helveticaItalicAscent = 931, 
        PdfStandardFontMetricsFactory.helveticaItalicDescent = -225, PdfStandardFontMetricsFactory.helveticaItalicName = "Helvetica-Oblique", 
        PdfStandardFontMetricsFactory.helveticaBoldItalicAscent = 962, PdfStandardFontMetricsFactory.helveticaBoldItalicDescent = -228, 
        PdfStandardFontMetricsFactory.helveticaBoldItalicName = "Helvetica-BoldOblique", 
        PdfStandardFontMetricsFactory.courierAscent = 805, PdfStandardFontMetricsFactory.courierDescent = -250, 
        PdfStandardFontMetricsFactory.courierName = "Courier", PdfStandardFontMetricsFactory.courierBoldAscent = 801, 
        PdfStandardFontMetricsFactory.courierBoldDescent = -250, PdfStandardFontMetricsFactory.courierBoldName = "Courier-Bold", 
        PdfStandardFontMetricsFactory.courierItalicAscent = 805, PdfStandardFontMetricsFactory.courierItalicDescent = -250, 
        PdfStandardFontMetricsFactory.courierItalicName = "Courier-Oblique", PdfStandardFontMetricsFactory.courierBoldItalicAscent = 801, 
        PdfStandardFontMetricsFactory.courierBoldItalicDescent = -250, PdfStandardFontMetricsFactory.courierBoldItalicName = "Courier-BoldOblique", 
        PdfStandardFontMetricsFactory.timesAscent = 898, PdfStandardFontMetricsFactory.timesDescent = -218, 
        PdfStandardFontMetricsFactory.timesName = "Times-Roman", PdfStandardFontMetricsFactory.timesBoldAscent = 935, 
        PdfStandardFontMetricsFactory.timesBoldDescent = -218, PdfStandardFontMetricsFactory.timesBoldName = "Times-Bold", 
        PdfStandardFontMetricsFactory.timesItalicAscent = 883, PdfStandardFontMetricsFactory.timesItalicDescent = -217, 
        PdfStandardFontMetricsFactory.timesItalicName = "Times-Italic", PdfStandardFontMetricsFactory.timesBoldItalicAscent = 921, 
        PdfStandardFontMetricsFactory.timesBoldItalicDescent = -218, PdfStandardFontMetricsFactory.timesBoldItalicName = "Times-BoldItalic", 
        PdfStandardFontMetricsFactory.symbolAscent = 1010, PdfStandardFontMetricsFactory.symbolDescent = -293, 
        PdfStandardFontMetricsFactory.symbolName = "Symbol", PdfStandardFontMetricsFactory.zapfDingbatsAscent = 820, 
        PdfStandardFontMetricsFactory.zapfDingbatsDescent = -143, PdfStandardFontMetricsFactory.zapfDingbatsName = "ZapfDingbats", 
        PdfStandardFontMetricsFactory.arialWidth = [ 278, 278, 355, 556, 556, 889, 667, 191, 333, 333, 389, 584, 278, 333, 278, 278, 556, 556, 556, 556, 556, 556, 556, 556, 556, 556, 278, 278, 584, 584, 584, 556, 1015, 667, 667, 722, 722, 667, 611, 778, 722, 278, 500, 667, 556, 833, 722, 778, 667, 778, 722, 667, 611, 722, 667, 944, 667, 667, 611, 278, 278, 278, 469, 556, 333, 556, 556, 500, 556, 556, 278, 556, 556, 222, 222, 500, 222, 833, 556, 556, 556, 556, 333, 500, 278, 556, 500, 722, 500, 500, 500, 334, 260, 334, 584, 0, 556, 0, 222, 556, 333, 1e3, 556, 556, 333, 1e3, 667, 333, 1e3, 0, 611, 0, 0, 222, 222, 333, 333, 350, 556, 1e3, 333, 1e3, 500, 333, 944, 0, 500, 667, 0, 333, 556, 556, 556, 556, 260, 556, 333, 737, 370, 556, 584, 0, 737, 333, 400, 584, 333, 333, 333, 556, 537, 278, 333, 333, 365, 556, 834, 834, 834, 611, 667, 667, 667, 667, 667, 667, 1e3, 722, 667, 667, 667, 667, 278, 278, 278, 278, 722, 722, 778, 778, 778, 778, 778, 584, 778, 722, 722, 722, 722, 667, 667, 611, 556, 556, 556, 556, 556, 556, 889, 500, 556, 556, 556, 556, 278, 278, 278, 278, 556, 556, 556, 556, 556, 556, 556, 584, 611, 556, 556, 556, 556, 500, 556, 500 ], 
        PdfStandardFontMetricsFactory.arialBoldWidth = [ 278, 333, 474, 556, 556, 889, 722, 238, 333, 333, 389, 584, 278, 333, 278, 278, 556, 556, 556, 556, 556, 556, 556, 556, 556, 556, 333, 333, 584, 584, 584, 611, 975, 722, 722, 722, 722, 667, 611, 778, 722, 278, 556, 722, 611, 833, 722, 778, 667, 778, 722, 667, 611, 722, 667, 944, 667, 667, 611, 333, 278, 333, 584, 556, 333, 556, 611, 556, 611, 556, 333, 611, 611, 278, 278, 556, 278, 889, 611, 611, 611, 611, 389, 556, 333, 611, 556, 778, 556, 556, 500, 389, 280, 389, 584, 0, 556, 0, 278, 556, 500, 1e3, 556, 556, 333, 1e3, 667, 333, 1e3, 0, 611, 0, 0, 278, 278, 500, 500, 350, 556, 1e3, 333, 1e3, 556, 333, 944, 0, 500, 667, 0, 333, 556, 556, 556, 556, 280, 556, 333, 737, 370, 556, 584, 0, 737, 333, 400, 584, 333, 333, 333, 611, 556, 278, 333, 333, 365, 556, 834, 834, 834, 611, 722, 722, 722, 722, 722, 722, 1e3, 722, 667, 667, 667, 667, 278, 278, 278, 278, 722, 722, 778, 778, 778, 778, 778, 584, 778, 722, 722, 722, 722, 667, 667, 611, 556, 556, 556, 556, 556, 556, 889, 556, 556, 556, 556, 556, 278, 278, 278, 278, 611, 611, 611, 611, 611, 611, 611, 584, 611, 611, 611, 611, 611, 556, 611, 556 ], 
        PdfStandardFontMetricsFactory.fixedWidth = [ 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600 ], 
        PdfStandardFontMetricsFactory.timesRomanWidth = [ 250, 333, 408, 500, 500, 833, 778, 180, 333, 333, 500, 564, 250, 333, 250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 278, 278, 564, 564, 564, 444, 921, 722, 667, 667, 722, 611, 556, 722, 722, 333, 389, 722, 611, 889, 722, 722, 556, 722, 667, 556, 611, 722, 722, 944, 722, 722, 611, 333, 278, 333, 469, 500, 333, 444, 500, 444, 500, 444, 333, 500, 500, 278, 278, 500, 278, 778, 500, 500, 500, 500, 333, 389, 278, 500, 500, 722, 500, 500, 444, 480, 200, 480, 541, 0, 500, 0, 333, 500, 444, 1e3, 500, 500, 333, 1e3, 556, 333, 889, 0, 611, 0, 0, 333, 333, 444, 444, 350, 500, 1e3, 333, 980, 389, 333, 722, 0, 444, 722, 0, 333, 500, 500, 500, 500, 200, 500, 333, 760, 276, 500, 564, 0, 760, 333, 400, 564, 300, 300, 333, 500, 453, 250, 333, 300, 310, 500, 750, 750, 750, 444, 722, 722, 722, 722, 722, 722, 889, 667, 611, 611, 611, 611, 333, 333, 333, 333, 722, 722, 722, 722, 722, 722, 722, 564, 722, 722, 722, 722, 722, 722, 556, 500, 444, 444, 444, 444, 444, 444, 667, 444, 444, 444, 444, 444, 278, 278, 278, 278, 500, 500, 500, 500, 500, 500, 500, 564, 500, 500, 500, 500, 500, 500, 500, 500 ], 
        PdfStandardFontMetricsFactory.timesRomanBoldWidth = [ 250, 333, 555, 500, 500, 1e3, 833, 278, 333, 333, 500, 570, 250, 333, 250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 333, 333, 570, 570, 570, 500, 930, 722, 667, 722, 722, 667, 611, 778, 778, 389, 500, 778, 667, 944, 722, 778, 611, 778, 722, 556, 667, 722, 722, 1e3, 722, 722, 667, 333, 278, 333, 581, 500, 333, 500, 556, 444, 556, 444, 333, 500, 556, 278, 333, 556, 278, 833, 556, 500, 556, 556, 444, 389, 333, 556, 500, 722, 500, 500, 444, 394, 220, 394, 520, 0, 500, 0, 333, 500, 500, 1e3, 500, 500, 333, 1e3, 556, 333, 1e3, 0, 667, 0, 0, 333, 333, 500, 500, 350, 500, 1e3, 333, 1e3, 389, 333, 722, 0, 444, 722, 0, 333, 500, 500, 500, 500, 220, 500, 333, 747, 300, 500, 570, 0, 747, 333, 400, 570, 300, 300, 333, 556, 540, 250, 333, 300, 330, 500, 750, 750, 750, 500, 722, 722, 722, 722, 722, 722, 1e3, 722, 667, 667, 667, 667, 389, 389, 389, 389, 722, 722, 778, 778, 778, 778, 778, 570, 778, 722, 722, 722, 722, 722, 611, 556, 500, 500, 500, 500, 500, 500, 722, 444, 444, 444, 444, 444, 278, 278, 278, 278, 500, 556, 500, 500, 500, 500, 500, 570, 500, 556, 556, 556, 556, 500, 556, 500 ], 
        PdfStandardFontMetricsFactory.timesRomanItalicWidth = [ 250, 333, 420, 500, 500, 833, 778, 214, 333, 333, 500, 675, 250, 333, 250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 333, 333, 675, 675, 675, 500, 920, 611, 611, 667, 722, 611, 611, 722, 722, 333, 444, 667, 556, 833, 667, 722, 611, 722, 611, 500, 556, 722, 611, 833, 611, 556, 556, 389, 278, 389, 422, 500, 333, 500, 500, 444, 500, 444, 278, 500, 500, 278, 278, 444, 278, 722, 500, 500, 500, 500, 389, 389, 278, 500, 444, 667, 444, 444, 389, 400, 275, 400, 541, 0, 500, 0, 333, 500, 556, 889, 500, 500, 333, 1e3, 500, 333, 944, 0, 556, 0, 0, 333, 333, 556, 556, 350, 500, 889, 333, 980, 389, 333, 667, 0, 389, 556, 0, 389, 500, 500, 500, 500, 275, 500, 333, 760, 276, 500, 675, 0, 760, 333, 400, 675, 300, 300, 333, 500, 523, 250, 333, 300, 310, 500, 750, 750, 750, 500, 611, 611, 611, 611, 611, 611, 889, 667, 611, 611, 611, 611, 333, 333, 333, 333, 722, 667, 722, 722, 722, 722, 722, 675, 722, 722, 722, 722, 722, 556, 611, 500, 500, 500, 500, 500, 500, 500, 667, 444, 444, 444, 444, 444, 278, 278, 278, 278, 500, 500, 500, 500, 500, 500, 500, 675, 500, 500, 500, 500, 500, 444, 500, 444 ], 
        PdfStandardFontMetricsFactory.timesRomanBoldItalicWidths = [ 250, 389, 555, 500, 500, 833, 778, 278, 333, 333, 500, 570, 250, 333, 250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 333, 333, 570, 570, 570, 500, 832, 667, 667, 667, 722, 667, 667, 722, 778, 389, 500, 667, 611, 889, 722, 722, 611, 722, 667, 556, 611, 722, 667, 889, 667, 611, 611, 333, 278, 333, 570, 500, 333, 500, 500, 444, 500, 444, 333, 500, 556, 278, 278, 500, 278, 778, 556, 500, 500, 500, 389, 389, 278, 556, 444, 667, 500, 444, 389, 348, 220, 348, 570, 0, 500, 0, 333, 500, 500, 1e3, 500, 500, 333, 1e3, 556, 333, 944, 0, 611, 0, 0, 333, 333, 500, 500, 350, 500, 1e3, 333, 1e3, 389, 333, 722, 0, 389, 611, 0, 389, 500, 500, 500, 500, 220, 500, 333, 747, 266, 500, 606, 0, 747, 333, 400, 570, 300, 300, 333, 576, 500, 250, 333, 300, 300, 500, 750, 750, 750, 500, 667, 667, 667, 667, 667, 667, 944, 667, 667, 667, 667, 667, 389, 389, 389, 389, 722, 722, 722, 722, 722, 722, 722, 570, 722, 722, 722, 722, 722, 611, 611, 500, 500, 500, 500, 500, 500, 500, 722, 444, 444, 444, 444, 444, 278, 278, 278, 278, 500, 556, 500, 500, 500, 500, 500, 570, 500, 556, 556, 556, 556, 444, 500, 444 ], 
        PdfStandardFontMetricsFactory.symbolWidth = [ 250, 333, 713, 500, 549, 833, 778, 439, 333, 333, 500, 549, 250, 549, 250, 278, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 278, 278, 549, 549, 549, 444, 549, 722, 667, 722, 612, 611, 763, 603, 722, 333, 631, 722, 686, 889, 722, 722, 768, 741, 556, 592, 611, 690, 439, 768, 645, 795, 611, 333, 863, 333, 658, 500, 500, 631, 549, 549, 494, 439, 521, 411, 603, 329, 603, 549, 549, 576, 521, 549, 549, 521, 549, 603, 439, 576, 713, 686, 493, 686, 494, 480, 200, 480, 549, 750, 620, 247, 549, 167, 713, 500, 753, 753, 753, 753, 1042, 987, 603, 987, 603, 400, 549, 411, 549, 549, 713, 494, 460, 549, 549, 549, 549, 1e3, 603, 1e3, 658, 823, 686, 795, 987, 768, 768, 823, 768, 768, 713, 713, 713, 713, 713, 713, 713, 768, 713, 790, 790, 890, 823, 549, 250, 713, 603, 603, 1042, 987, 603, 987, 603, 494, 329, 790, 790, 786, 713, 384, 384, 384, 384, 384, 384, 494, 494, 494, 494, 329, 274, 686, 686, 686, 384, 384, 384, 384, 384, 384, 494, 494, 494, -1 ], 
        PdfStandardFontMetricsFactory.zapfDingbatsWidth = [ 278, 974, 961, 974, 980, 719, 789, 790, 791, 690, 960, 939, 549, 855, 911, 933, 911, 945, 974, 755, 846, 762, 761, 571, 677, 763, 760, 759, 754, 494, 552, 537, 577, 692, 786, 788, 788, 790, 793, 794, 816, 823, 789, 841, 823, 833, 816, 831, 923, 744, 723, 749, 790, 792, 695, 776, 768, 792, 759, 707, 708, 682, 701, 826, 815, 789, 789, 707, 687, 696, 689, 786, 787, 713, 791, 785, 791, 873, 761, 762, 762, 759, 759, 892, 892, 788, 784, 438, 138, 277, 415, 392, 392, 668, 668, 390, 390, 317, 317, 276, 276, 509, 509, 410, 410, 234, 234, 334, 334, 732, 544, 544, 910, 667, 760, 760, 776, 595, 694, 626, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 788, 894, 838, 1016, 458, 748, 924, 748, 918, 927, 928, 928, 834, 873, 828, 924, 924, 917, 930, 931, 463, 883, 836, 836, 867, 867, 696, 696, 874, 874, 760, 946, 771, 865, 771, 888, 967, 888, 831, 873, 927, 970, 918 ], 
        PdfStandardFontMetricsFactory;
    }(), __extends$5$3 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfStandardFont = function(_super) {
        function PdfStandardFont(fontFamilyPrototype, size, style) {
            var _this = _super.call(this, size, style) || this;
            return _this.dictionaryProperties = new DictionaryProperties(), _this.encodings = [ "Unknown", "StandardEncoding", "MacRomanEncoding", "MacExpertEncoding", "WinAnsiEncoding", "PDFDocEncoding", "IdentityH" ], 
            "number" == typeof fontFamilyPrototype && void 0 === style ? _this.constructor(fontFamilyPrototype, size, PdfFontStyle.Regular) : "number" == typeof fontFamilyPrototype && void 0 !== style ? ((_this = _super.call(this, size, style) || this).pdfFontFamily = fontFamilyPrototype, 
            _this.checkStyle(), _this.initializeInternals()) : fontFamilyPrototype instanceof PdfStandardFont && void 0 === style ? _this.constructor(fontFamilyPrototype.fontFamily, size, fontFamilyPrototype.style) : fontFamilyPrototype instanceof PdfStandardFont && void 0 !== style && _this.constructor(fontFamilyPrototype.fontFamily, size, style), 
            _this;
        }
        return __extends$5$3(PdfStandardFont, _super), Object.defineProperty(PdfStandardFont.prototype, "fontFamily", {
            get: function() {
                return this.pdfFontFamily;
            },
            enumerable: !0,
            configurable: !0
        }), PdfStandardFont.prototype.checkStyle = function() {
            if (this.fontFamily === PdfFontFamily.Symbol || this.fontFamily === PdfFontFamily.ZapfDingbats) {
                var style = this.style;
                style &= ~(PdfFontStyle.Bold | PdfFontStyle.Italic), this.setStyle(style);
            }
        }, PdfStandardFont.prototype.getLineWidth = function(line, format) {
            if (null == line) throw new Error("ArgumentNullException:line");
            for (var width = 0, i = (this.name, 0), len = (line = PdfStandardFont.convert(line)).length; i < len; i++) {
                var ch = line[i];
                width += this.getCharWidthInternal(ch, format);
            }
            var size = this.metrics.getSize(format);
            return width *= PdfFont.charSizeMultiplier * size, width = this.applyFormatSettings(line, format, width);
        }, PdfStandardFont.prototype.equalsToFont = function(font) {
            var equal = !1, stFont = font;
            if (null != stFont) {
                var fontFamilyEqual = this.fontFamily === stFont.fontFamily, lineReducer = ~(PdfFontStyle.Underline | PdfFontStyle.Strikeout), styleEqual = (this.style & lineReducer) == (stFont.style & lineReducer);
                equal = fontFamilyEqual && styleEqual;
            }
            return equal;
        }, PdfStandardFont.prototype.initializeInternals = function() {
            PdfDocument.cache.search(this);
            var internals = null, metrics = PdfStandardFontMetricsFactory.getMetrics(this.pdfFontFamily, this.style, this.size);
            this.metrics = metrics, internals = this.createInternals(), this.setInternals(internals);
        }, PdfStandardFont.prototype.createInternals = function() {
            var dictionary = new PdfDictionary();
            if (dictionary.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.font)), 
            dictionary.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.type1)), 
            dictionary.items.setValue(this.dictionaryProperties.baseFont, new PdfName(this.metrics.postScriptName)), 
            this.fontFamily !== PdfFontFamily.Symbol && this.fontFamily !== PdfFontFamily.ZapfDingbats) {
                var encoding = this.encodings[FontEncoding.WinAnsiEncoding];
                dictionary.items.setValue(this.dictionaryProperties.encoding, new PdfName(encoding));
            }
            return dictionary;
        }, PdfStandardFont.prototype.getCharWidthInternal = function(charCode, format) {
            var code = 0;
            code = charCode.charCodeAt(0), "0" !== this.name && "1" !== this.name && "2" !== this.name && "3" !== this.name && "4" !== this.name || (code -= PdfStandardFont.charOffset), 
            code = code >= 0 && 128 !== code ? code : 0;
            return this.metrics.widthTable.items(code);
        }, PdfStandardFont.convert = function(text) {
            return text;
        }, PdfStandardFont.charOffset = 32, PdfStandardFont;
    }(PdfFont), PdfAnnotation = function() {
        function PdfAnnotation(arg1) {
            this.dictionaryProperties = new DictionaryProperties(), this.pdfColor = new PdfColor(255, 255, 255), 
            this.rectangle = new RectangleF(0, 0, 0, 0), this.pdfPage = null, this.textBrush = new PdfSolidBrush(new PdfColor(0, 0, 0)), 
            this.textFont = new PdfStandardFont(PdfFontFamily.TimesRoman, 10), this.format = new PdfStringFormat(PdfTextAlignment.Left), 
            this.content = "", this.pdfDictionary = new PdfDictionary(), this.internalColor = new PdfColor(), 
            this.darkness = 1, void 0 === arg1 ? this.initialize() : (this.initialize(), this.bounds = arg1);
        }
        return Object.defineProperty(PdfAnnotation.prototype, "color", {
            get: function() {
                return this.pdfColor;
            },
            set: function(value) {
                this.pdfColor = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAnnotation.prototype, "innerColor", {
            get: function() {
                return this.internalColor;
            },
            set: function(value) {
                this.internalColor = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAnnotation.prototype, "bounds", {
            get: function() {
                return this.rectangle;
            },
            set: function(value) {
                this.rectangle = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAnnotation.prototype, "page", {
            get: function() {
                return this.pdfPage;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAnnotation.prototype, "font", {
            get: function() {
                return this.textFont;
            },
            set: function(value) {
                this.textFont = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAnnotation.prototype, "stringFormat", {
            get: function() {
                return this.format;
            },
            set: function(value) {
                this.format = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAnnotation.prototype, "brush", {
            get: function() {
                return this.textBrush;
            },
            set: function(value) {
                this.textBrush = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAnnotation.prototype, "text", {
            get: function() {
                return this.content;
            },
            set: function(value) {
                this.content = value, this.dictionary.items.setValue(this.dictionaryProperties.contents, new PdfString(this.content));
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfAnnotation.prototype, "dictionary", {
            get: function() {
                return this.pdfDictionary;
            },
            set: function(value) {
                this.pdfDictionary = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAnnotation.prototype.initialize = function() {
            this.pdfDictionary.annotationBeginSave = new SaveAnnotationEventHandler(this), this.pdfDictionary.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.annot));
        }, PdfAnnotation.prototype.setPage = function(page) {
            this.pdfPage = page, this.pdfDictionary.items.setValue(this.dictionaryProperties.p, new PdfReferenceHolder(this.pdfPage));
        }, PdfAnnotation.prototype.beginSave = function() {
            this.save();
        }, PdfAnnotation.prototype.save = function() {
            var nativeRectangle = new RectangleF(this.rectangle.x, this.rectangle.y, this.rectangle.width, this.rectangle.height), section = this.pdfPage.section, initialHeight = nativeRectangle.height, tempLoacation = section.pointToNativePdf(this.page, new PointF(nativeRectangle.x, nativeRectangle.y));
            nativeRectangle.x = tempLoacation.x, nativeRectangle.width = tempLoacation.x + nativeRectangle.width, 
            nativeRectangle.y = tempLoacation.y - this.page.document.pageSettings.margins.top, 
            nativeRectangle.height = nativeRectangle.y - initialHeight, this.pdfDictionary.items.setValue(this.dictionaryProperties.rect, PdfArray.fromRectangle(nativeRectangle)), 
            this.dictionary.items.setValue(this.dictionaryProperties.ca, new PdfNumber(this.darkness));
        }, Object.defineProperty(PdfAnnotation.prototype, "element", {
            get: function() {
                return this.pdfDictionary;
            },
            enumerable: !0,
            configurable: !0
        }), PdfAnnotation;
    }(), __extends$3$7 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfLinkAnnotation = function(_super) {
        function PdfLinkAnnotation(rectangle) {
            return void 0 === rectangle ? _super.call(this) || this : _super.call(this, rectangle) || this;
        }
        return __extends$3$7(PdfLinkAnnotation, _super), PdfLinkAnnotation.prototype.initialize = function() {
            _super.prototype.initialize.call(this), this.dictionary.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.link));
        }, PdfLinkAnnotation;
    }(PdfAnnotation), __extends$2$9 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfActionLinkAnnotation = function(_super) {
        function PdfActionLinkAnnotation(rectangle) {
            var _this = _super.call(this, rectangle) || this;
            return _this.pdfAction = null, _this;
        }
        return __extends$2$9(PdfActionLinkAnnotation, _super), PdfActionLinkAnnotation.prototype.getSetAction = function(value) {
            if (void 0 === value) return this.pdfAction;
            this.pdfAction = value;
        }, PdfActionLinkAnnotation;
    }(PdfLinkAnnotation), __extends$15$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfDocumentLinkAnnotation = function(_super) {
        function PdfDocumentLinkAnnotation(rectangle, destination) {
            var _this = _super.call(this, rectangle) || this;
            return _this.pdfDestination = null, void 0 !== destination && (_this.destination = destination), 
            _this;
        }
        return __extends$15$1(PdfDocumentLinkAnnotation, _super), Object.defineProperty(PdfDocumentLinkAnnotation.prototype, "destination", {
            get: function() {
                return this.pdfDestination;
            },
            set: function(value) {
                this.pdfDestination = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfDocumentLinkAnnotation.prototype.save = function() {
            _super.prototype.save.call(this), null != this.pdfDestination && this.dictionary.items.setValue(this.dictionaryProperties.dest, this.pdfDestination.element);
        }, PdfDocumentLinkAnnotation.prototype.clone = function() {
            var annot = new PdfDocumentLinkAnnotation(this.bounds, this.destination);
            return annot.color = this.color, annot.brush = this.brush, annot.destination = this.destination, 
            annot.font = this.font, annot;
        }, PdfDocumentLinkAnnotation;
    }(PdfLinkAnnotation);
    !function(PdfLayoutType) {
        PdfLayoutType[PdfLayoutType.Paginate = 0] = "Paginate", PdfLayoutType[PdfLayoutType.OnePage = 1] = "OnePage";
    }(PdfLayoutType || (PdfLayoutType = {}));
    var PdfLayoutBreakType;
    !function(PdfLayoutBreakType) {
        PdfLayoutBreakType[PdfLayoutBreakType.FitPage = 0] = "FitPage", PdfLayoutBreakType[PdfLayoutBreakType.FitElement = 1] = "FitElement", 
        PdfLayoutBreakType[PdfLayoutBreakType.FitColumnsToPage = 2] = "FitColumnsToPage";
    }(PdfLayoutBreakType || (PdfLayoutBreakType = {}));
    var PdfDestinationMode, ElementLayouter = function() {
        function ElementLayouter(element) {
            this.layoutElement = element;
        }
        return Object.defineProperty(ElementLayouter.prototype, "elements", {
            get: function() {
                return this.layoutElement;
            },
            enumerable: !0,
            configurable: !0
        }), ElementLayouter.prototype.getElement = function() {
            return this.layoutElement;
        }, ElementLayouter.prototype.layout = function(param, isBoundsChanged) {
            return "boolean" == typeof isBoundsChanged && !0 === isBoundsChanged ? this.layoutInternal(param, !0) : this.layoutInternal(param);
        }, ElementLayouter.prototype.getNextPage = function(currentPage) {
            return currentPage.section.add();
        }, ElementLayouter;
    }(), PdfLayoutFormat = function() {
        function PdfLayoutFormat(baseFormat) {
            void 0 === baseFormat || (this.break = baseFormat.break, this.layout = baseFormat.layout, 
            this.paginateBounds = baseFormat.paginateBounds, this.boundsSet = baseFormat.usePaginateBounds);
        }
        return Object.defineProperty(PdfLayoutFormat.prototype, "layout", {
            get: function() {
                return void 0 !== this.layoutType && null != this.layoutType || (this.layoutType = PdfLayoutType.Paginate), 
                this.layoutType;
            },
            set: function(value) {
                this.layoutType = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfLayoutFormat.prototype, "break", {
            get: function() {
                return void 0 !== this.breakType && null != this.boundsSet || (this.breakType = PdfLayoutBreakType.FitPage), 
                this.breakType;
            },
            set: function(value) {
                this.breakType = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfLayoutFormat.prototype, "paginateBounds", {
            get: function() {
                return void 0 === this.layoutPaginateBounds && null == this.layoutPaginateBounds && (this.layoutPaginateBounds = new RectangleF(0, 0, 0, 0)), 
                this.layoutPaginateBounds;
            },
            set: function(value) {
                this.layoutPaginateBounds = value, this.boundsSet = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfLayoutFormat.prototype, "usePaginateBounds", {
            get: function() {
                return void 0 !== this.boundsSet && null != this.boundsSet || (this.boundsSet = !1), 
                this.boundsSet;
            },
            enumerable: !0,
            configurable: !0
        }), PdfLayoutFormat;
    }(), PdfLayoutParams = function() {
        function PdfLayoutParams() {}
        return Object.defineProperty(PdfLayoutParams.prototype, "page", {
            get: function() {
                return this.pdfPage;
            },
            set: function(value) {
                this.pdfPage = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfLayoutParams.prototype, "bounds", {
            get: function() {
                return new RectangleF(this.layoutBounds.x, this.layoutBounds.y, this.layoutBounds.width, this.layoutBounds.height);
            },
            set: function(value) {
                this.layoutBounds = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfLayoutParams.prototype, "format", {
            get: function() {
                return this.layoutFormat;
            },
            set: function(value) {
                this.layoutFormat = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfLayoutParams;
    }(), PdfLayoutResult = function() {
        function PdfLayoutResult(page, bounds) {
            this.pdfPage = page, this.layoutBounds = bounds;
        }
        return Object.defineProperty(PdfLayoutResult.prototype, "page", {
            get: function() {
                return this.pdfPage;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfLayoutResult.prototype, "bounds", {
            get: function() {
                return this.layoutBounds;
            },
            enumerable: !0,
            configurable: !0
        }), PdfLayoutResult;
    }(), PdfLayoutElement = function() {
        function PdfLayoutElement() {}
        return PdfLayoutElement.prototype.drawHelper = function(arg2, arg3, arg4, arg5) {
            if (arg3 instanceof PointF && void 0 === arg3.width && void 0 === arg3) return this.drawHelper(arg2, arg3.x, arg3.y);
            if ("number" == typeof arg3 && "number" == typeof arg4 && void 0 === arg5) return this.drawHelper(arg2, arg3, arg4, null);
            if (arg3 instanceof RectangleF && void 0 !== arg3.width && void 0 === arg4) return this.drawHelper(arg2, arg3, null);
            if (arg3 instanceof PointF && void 0 === arg3.width && arg4 instanceof PdfLayoutFormat) return this.drawHelper(arg2, arg3.x, arg3.y, arg4);
            if ("number" == typeof arg3 && "number" == typeof arg4 && (arg5 instanceof PdfLayoutFormat || null == arg5)) {
                var width = arg2.graphics.clientSize.width - arg3, layoutRectangle = new RectangleF(arg3, arg4, width, 0);
                return this.drawHelper(arg2, layoutRectangle, arg5);
            }
            if (arg3 instanceof RectangleF && void 0 !== arg3.width && "boolean" == typeof arg4) return this.bEmbedFonts = arg4, 
            this.drawHelper(arg2, arg3, null);
            var param = new PdfLayoutParams(), temparg3 = arg3, temparg4 = arg4;
            param.page = arg2, param.bounds = temparg3, param.format = null != temparg4 ? temparg4 : new PdfLayoutFormat();
            return this.layout(param);
        }, PdfLayoutElement;
    }(), __extends$18$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), TextLayouter = function(_super) {
        function TextLayouter(element) {
            return _super.call(this, element) || this;
        }
        return __extends$18$1(TextLayouter, _super), Object.defineProperty(TextLayouter.prototype, "element", {
            get: function() {
                return _super.prototype.getElement.call(this);
            },
            enumerable: !0,
            configurable: !0
        }), TextLayouter.prototype.layoutInternal = function(param) {
            this.format = null != this.element.stringFormat && void 0 !== this.element.stringFormat ? this.element.stringFormat : null;
            var currentPage = param.page, currentBounds = param.bounds, text = this.element.value, result = null, pageResult = new TextPageLayoutResult();
            for (pageResult.page = currentPage, pageResult.remainder = text; ;) {
                pageResult = this.layoutOnPage(text, currentPage, currentBounds, param), result = this.getLayoutResult(pageResult);
                break;
            }
            return result;
        }, TextLayouter.prototype.getLayoutResult = function(pageResult) {
            return new PdfTextLayoutResult(pageResult.page, pageResult.bounds, pageResult.remainder, pageResult.lastLineBounds);
        }, TextLayouter.prototype.layoutOnPage = function(text, currentPage, currentBounds, param) {
            var result = new TextPageLayoutResult();
            result.remainder = text, result.page = currentPage, currentBounds = this.checkCorrectBounds(currentPage, currentBounds);
            var stringResult = new PdfStringLayouter().layout(text, this.element.font, this.format, currentBounds, currentPage.getClientSize().height, !1, new SizeF(0, 0)), textFinished = null == stringResult.remainder, graphics = (param.format.break === PdfLayoutBreakType.FitElement || stringResult.empty, 
            currentPage.graphics), brush = this.element.getBrush();
            this.element instanceof PdfTextWebLink && (brush.color = new PdfColor(0, 0, 255)), 
            graphics.drawStringLayoutResult(stringResult, this.element.font, this.element.pen, brush, currentBounds, this.format);
            stringResult.lines[stringResult.lineCount - 1];
            return result.lastLineBounds = graphics.getLineBounds(stringResult.lineCount - 1, stringResult, this.element.font, currentBounds, this.format), 
            result.bounds = this.getTextPageBounds(currentPage, currentBounds, stringResult), 
            result.remainder = stringResult.remainder, result.end = textFinished, result;
        }, TextLayouter.prototype.checkCorrectBounds = function(currentPage, currentBounds) {
            var pageSize = currentPage.graphics.clientSize;
            return currentBounds.height = currentBounds.height > 0 ? currentBounds.height : pageSize.height - currentBounds.y, 
            currentBounds;
        }, TextLayouter.prototype.getTextPageBounds = function(currentPage, currentBounds, stringResult) {
            var textSize = stringResult.actualSize, x = currentBounds.x, y = currentBounds.y, width = currentBounds.width > 0 ? currentBounds.width : textSize.width, height = textSize.height;
            x = currentPage.graphics.checkCorrectLayoutRectangle(textSize, currentBounds.x, currentBounds.y, this.format).x;
            var verticalShift = currentPage.graphics.getTextVerticalAlignShift(textSize.height, currentBounds.height, this.format);
            return new RectangleF(x, y += verticalShift, width, height);
        }, TextLayouter;
    }(ElementLayouter), TextPageLayoutResult = function() {
        return function() {};
    }(), PdfTextLayoutResult = function(_super) {
        function PdfTextLayoutResult(page, bounds, remainder, lastLineBounds) {
            var _this = _super.call(this, page, bounds) || this;
            return _this.remainderText = remainder, _this.lastLineTextBounds = lastLineBounds, 
            _this;
        }
        return __extends$18$1(PdfTextLayoutResult, _super), Object.defineProperty(PdfTextLayoutResult.prototype, "remainder", {
            get: function() {
                return this.remainderText;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTextLayoutResult.prototype, "lastLineBounds", {
            get: function() {
                return this.lastLineTextBounds;
            },
            enumerable: !0,
            configurable: !0
        }), PdfTextLayoutResult;
    }(PdfLayoutResult), __extends$17$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfTextElement = function(_super) {
        function PdfTextElement(arg1, arg2, arg3, arg4, arg5) {
            var _this = _super.call(this) || this;
            return _this.content = "", _this.elementValue = "", _this.hasPointOverload = !1, 
            _this.isPdfTextElement = !1, void 0 === arg1 || ("string" == typeof arg1 && void 0 === arg2 ? ((_this = _super.call(this) || this).content = arg1, 
            _this.elementValue = arg1) : "string" == typeof arg1 && arg2 instanceof PdfFont && void 0 === arg3 ? ((_this = _super.call(this) || this).content = arg1, 
            _this.elementValue = arg1, _this.pdfFont = arg2) : "string" == typeof arg1 && arg2 instanceof PdfFont && arg3 instanceof PdfPen && void 0 === arg4 ? ((_this = _super.call(this) || this).content = arg1, 
            _this.elementValue = arg1, _this.pdfFont = arg2, _this.pdfPen = arg3) : "string" == typeof arg1 && arg2 instanceof PdfFont && arg3 instanceof PdfBrush && void 0 === arg4 ? ((_this = _super.call(this) || this).content = arg1, 
            _this.elementValue = arg1, _this.pdfFont = arg2, _this.pdfBrush = arg3) : ((_this = _super.call(this) || this).content = arg1, 
            _this.elementValue = arg1, _this.pdfFont = arg2, _this.pdfPen = arg3, _this.pdfBrush = arg4, 
            _this.format = arg5)), _this;
        }
        return __extends$17$1(PdfTextElement, _super), Object.defineProperty(PdfTextElement.prototype, "text", {
            get: function() {
                return this.content;
            },
            set: function(value) {
                this.elementValue = value, this.content = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTextElement.prototype, "value", {
            get: function() {
                return this.elementValue;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTextElement.prototype, "pen", {
            get: function() {
                return this.pdfPen;
            },
            set: function(value) {
                this.pdfPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTextElement.prototype, "brush", {
            get: function() {
                return this.pdfBrush;
            },
            set: function(value) {
                this.pdfBrush = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTextElement.prototype, "font", {
            get: function() {
                return this.pdfFont;
            },
            set: function(value) {
                this.pdfFont = value, this.pdfFont instanceof PdfStandardFont && null != this.content ? this.elementValue = PdfStandardFont.convert(this.content) : this.elementValue = this.content;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTextElement.prototype, "stringFormat", {
            get: function() {
                return this.format;
            },
            set: function(value) {
                this.format = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfTextElement.prototype.getBrush = function() {
            return null == this.pdfBrush || void 0 === this.pdfBrush ? new PdfSolidBrush(new PdfColor(0, 0, 0)) : this.pdfBrush;
        }, PdfTextElement.prototype.layout = function(param) {
            return new TextLayouter(this).layout(param);
        }, PdfTextElement.prototype.drawText = function(arg2, arg3, arg4, arg5) {
            if (arg3 instanceof PointF && void 0 === arg3.width && void 0 === arg4) return this.hasPointOverload = !0, 
            this.drawText(arg2, arg3.x, arg3.y);
            if ("number" == typeof arg3 && "number" == typeof arg4 && void 0 === arg5) return this.hasPointOverload = !0, 
            this.drawText(arg2, arg3, arg4, null);
            if (arg3 instanceof RectangleF && void 0 !== arg3.width && void 0 === arg4) return this.drawText(arg2, arg3, null);
            if (arg3 instanceof PointF && void 0 === arg3.width && arg4 instanceof PdfLayoutFormat) return this.hasPointOverload = !0, 
            this.drawText(arg2, arg3.x, arg3.y, arg4);
            if ("number" == typeof arg3 && "number" == typeof arg4 && (arg5 instanceof PdfLayoutFormat || null == arg5)) {
                this.hasPointOverload = !0;
                var width = arg2.graphics.clientSize.width - arg3, layoutRectangle = new RectangleF(arg3, arg4, width, 0);
                return this.drawText(arg2, layoutRectangle, arg5);
            }
            if (arg3 instanceof RectangleF && void 0 !== arg3.width && "boolean" == typeof arg4) return this.drawText(arg2, arg3, null);
            var layout = new PdfStringLayouter();
            if (this.hasPointOverload) {
                var stringLayoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF(arg2.graphics.clientSize.width - arg3.x, 0), !0, arg2.graphics.clientSize), layoutResult = void 0, temparg3 = arg3, temparg4 = arg4;
                if ((param = new PdfLayoutParams()).page = arg2, param.bounds = temparg3, param.format = null != temparg4 ? temparg4 : new PdfLayoutFormat(), 
                stringLayoutResult.lines.length > 1) {
                    if (this.text = stringLayoutResult.layoutLines[0].text, param.bounds.y <= param.page.graphics.clientSize.height) {
                        var previousPosition = new PointF(param.bounds.x, param.bounds.y);
                        layoutResult = this.layout(param);
                        for (var bounds = new RectangleF(0, layoutResult.bounds.y + stringLayoutResult.lineHeight, arg2.graphics.clientSize.width, stringLayoutResult.lineHeight), i = 1; i < stringLayoutResult.lines.length; i++) if (param.page = layoutResult.page, 
                        param.bounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height)), 
                        this.text = stringLayoutResult.layoutLines[i].text, bounds.y + stringLayoutResult.lineHeight > layoutResult.page.graphics.clientSize.height && (param.page = param.page.graphics.getNextPage(), 
                        bounds = previousPosition.y > layoutResult.page.graphics.clientSize.height - layoutResult.bounds.height ? new RectangleF(0, layoutResult.bounds.height, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight) : new RectangleF(0, 0, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight), 
                        param.bounds = bounds), layoutResult = this.layout(param), i !== stringLayoutResult.lines.length - 1) bounds = new RectangleF(0, layoutResult.bounds.y + stringLayoutResult.lineHeight, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight); else {
                            var lineWidth = this.font.measureString(this.text, this.format).width;
                            layoutResult = this.calculateResultBounds(layoutResult, lineWidth, layoutResult.page.graphics.clientSize.width, 0);
                        }
                    }
                    return layoutResult;
                }
                var lineSize = this.font.measureString(this.text, this.format);
                return param.bounds.y <= param.page.graphics.clientSize.height && (layoutResult = this.layout(param), 
                layoutResult = this.calculateResultBounds(layoutResult, lineSize.width, layoutResult.page.graphics.clientSize.width, 0)), 
                layoutResult;
            }
            layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF(arg3.width, 0), !1, arg2.graphics.clientSize);
            var param, result = void 0;
            temparg3 = arg3, temparg4 = arg4;
            if ((param = new PdfLayoutParams()).page = arg2, param.bounds = temparg3, param.format = null != temparg4 ? temparg4 : new PdfLayoutFormat(), 
            layoutResult.lines.length > 1) {
                if (this.text = layoutResult.layoutLines[0].text, param.bounds.y <= param.page.graphics.clientSize.height) {
                    previousPosition = new PointF(param.bounds.x, param.bounds.y);
                    result = this.layout(param);
                    for (bounds = new RectangleF(temparg3.x, result.bounds.y + layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight), 
                    i = 1; i < layoutResult.lines.length; i++) if (param.page = result.page, param.bounds = new RectangleF(bounds.x, bounds.y, bounds.width, bounds.height), 
                    this.text = layoutResult.layoutLines[i].text, bounds.y + layoutResult.lineHeight > result.page.graphics.clientSize.height && (param.page = param.page.graphics.getNextPage(), 
                    bounds = previousPosition.y > result.page.graphics.clientSize.height - result.bounds.height ? new RectangleF(temparg3.x, layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight) : new RectangleF(temparg3.x, 0, temparg3.width, layoutResult.lineHeight), 
                    param.bounds = bounds), result = this.layout(param), i !== layoutResult.lines.length - 1) bounds = new RectangleF(temparg3.x, result.bounds.y + layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight); else {
                        lineWidth = this.font.measureString(this.text, this.format).width;
                        result = this.calculateResultBounds(result, lineWidth, temparg3.width, temparg3.x);
                    }
                }
                return result;
            }
            lineSize = this.font.measureString(this.text, this.format);
            return param.bounds.y <= param.page.graphics.clientSize.height && (result = this.layout(param), 
            result = this.calculateResultBounds(result, lineSize.width, temparg3.width, temparg3.x)), 
            result;
        }, PdfTextElement.prototype.calculateResultBounds = function(result, lineWidth, maximumWidth, startPosition) {
            return null != this.stringFormat && void 0 !== this.stringFormat && this.stringFormat.alignment === PdfTextAlignment.Center ? (result.bounds.x = startPosition + (maximumWidth - lineWidth) / 2, 
            result.bounds.width = lineWidth) : null != this.stringFormat && void 0 !== this.stringFormat && this.stringFormat.alignment === PdfTextAlignment.Right ? (result.bounds.x = startPosition + (maximumWidth - lineWidth), 
            result.bounds.width = lineWidth) : null != this.stringFormat && void 0 !== this.stringFormat && this.stringFormat.alignment === PdfTextAlignment.Justify ? (result.bounds.x = startPosition, 
            result.bounds.width = maximumWidth) : (result.bounds.width = startPosition, result.bounds.width = lineWidth), 
            result;
        }, PdfTextElement;
    }(PdfLayoutElement), __extends$19$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfUriAnnotation = function(_super) {
        function PdfUriAnnotation(rectangle, uri) {
            var _this = _super.call(this, rectangle) || this;
            return void 0 !== uri && (_this.uri = uri), _this;
        }
        return __extends$19$1(PdfUriAnnotation, _super), Object.defineProperty(PdfUriAnnotation.prototype, "uriAction", {
            get: function() {
                return void 0 === this.pdfUriAction && (this.pdfUriAction = new PdfUriAction()), 
                this.pdfUriAction;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfUriAnnotation.prototype, "uri", {
            get: function() {
                return this.uriAction.uri;
            },
            set: function(value) {
                this.uriAction.uri !== value && (this.uriAction.uri = value);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfUriAnnotation.prototype, "action", {
            get: function() {
                return this.getSetAction();
            },
            set: function(value) {
                this.getSetAction(value), this.uriAction.next = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfUriAnnotation.prototype.initialize = function() {
            _super.prototype.initialize.call(this), this.dictionary.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.link));
            this.uriAction.element;
            this.dictionary.items.setValue(this.dictionaryProperties.a, this.uriAction.element);
        }, PdfUriAnnotation;
    }(PdfActionLinkAnnotation), __extends$16$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfTextWebLink = function(_super) {
        function PdfTextWebLink() {
            var _this = _super.call(this) || this;
            _this.uniformResourceLocator = "", _this.uriAnnotation = null, _this.recalculateBounds = !1, 
            _this.defaultBorder = new PdfArray();
            for (var i = 0; i < 3; i++) _this.defaultBorder.add(new PdfNumber(0));
            return _this;
        }
        return __extends$16$1(PdfTextWebLink, _super), Object.defineProperty(PdfTextWebLink.prototype, "url", {
            get: function() {
                return this.uniformResourceLocator;
            },
            set: function(value) {
                if (0 === value.length) throw new Error("ArgumentException : Url - string can not be empty");
                this.uniformResourceLocator = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfTextWebLink.prototype.draw = function(arg1, arg2) {
            if (arg1 instanceof PdfPage) {
                var layout = new PdfStringLayouter(), previousFontStyle = this.font.style;
                if (arg2 instanceof PointF) {
                    this.recalculateBounds = !0, this.font.style = PdfFontStyle.Underline;
                    if (1 === (layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF(arg1.graphics.clientSize.width - arg2.x, 0), !0, arg1.graphics.clientSize)).lines.length) {
                        var textSize = this.font.measureString(this.value), rect = new RectangleF(arg2, textSize);
                        rect = this.calculateBounds(rect, textSize.width, arg1.graphics.clientSize.width, arg2.x), 
                        this.uriAnnotation = new PdfUriAnnotation(rect, this.url), this.uriAnnotation.dictionary.items.setValue("Border", this.defaultBorder), 
                        arg1.annotations.add(this.uriAnnotation);
                        var result = this.drawText(arg1, arg2);
                        return this.font.style = previousFontStyle, result;
                    }
                    result = this.drawMultipleLineWithPoint(layoutResult, arg1, arg2);
                    return this.font.style = previousFontStyle, result;
                }
                var layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF(arg2.width, 0), !1, new SizeF(0, 0));
                if (this.font.style = PdfFontStyle.Underline, 1 === layoutResult.lines.length) {
                    textSize = this.font.measureString(this.value), rect = new RectangleF(new PointF(arg2.x, arg2.y), textSize);
                    rect = this.calculateBounds(rect, textSize.width, arg2.width, arg2.x), this.uriAnnotation = new PdfUriAnnotation(rect, this.url), 
                    this.uriAnnotation.dictionary.items.setValue("Border", this.defaultBorder), arg1.annotations.add(this.uriAnnotation);
                    var returnValue = this.drawText(arg1, arg2);
                    return this.font.style = previousFontStyle, returnValue;
                }
                returnValue = this.drawMultipleLineWithBounds(layoutResult, arg1, arg2);
                return this.font.style = previousFontStyle, returnValue;
            }
            var page = new PdfPage();
            return page = arg1.page, this.draw(page, arg2);
        }, PdfTextWebLink.prototype.drawMultipleLineWithPoint = function(result, page, location) {
            for (var layoutResult, i = 0; i < result.layoutLines.length; i++) {
                var size = this.font.measureString(result.lines[i].text), bounds = new RectangleF(location, size);
                if (0 !== i && (bounds.x = 0), this.text = result.lines[i].text, bounds.y + size.height > page.graphics.clientSize.height) {
                    if (0 === i) break;
                    page = page.graphics.getNextPage(), bounds = new RectangleF(0, 0, page.graphics.clientSize.width, size.height), 
                    location.y = 0;
                }
                bounds = this.calculateBounds(bounds, size.width, page.graphics.clientSize.width, bounds.x), 
                this.uriAnnotation = new PdfUriAnnotation(bounds, this.url), this.uriAnnotation.dictionary.items.setValue("Border", this.defaultBorder), 
                page.annotations.add(this.uriAnnotation), layoutResult = 0 !== i ? this.drawText(page, new PointF(0, bounds.y)) : this.drawText(page, bounds.x, bounds.y), 
                location.y += size.height;
            }
            return layoutResult;
        }, PdfTextWebLink.prototype.drawMultipleLineWithBounds = function(result, page, bounds) {
            for (var layoutResult, i = 0; i < result.layoutLines.length; i++) {
                var size = this.font.measureString(result.lines[i].text), internalBounds = new RectangleF(new PointF(bounds.x, bounds.y), size);
                if (internalBounds = this.calculateBounds(internalBounds, size.width, bounds.width, bounds.x), 
                this.text = result.lines[i].text, bounds.y + size.height > page.graphics.clientSize.height) {
                    if (0 === i) break;
                    page = page.graphics.getNextPage(), bounds = new RectangleF(bounds.x, 0, bounds.width, size.height), 
                    internalBounds.y = 0;
                }
                this.uriAnnotation = new PdfUriAnnotation(internalBounds, this.url), this.uriAnnotation.dictionary.items.setValue("Border", this.defaultBorder), 
                page.annotations.add(this.uriAnnotation), layoutResult = this.drawText(page, bounds), 
                bounds.y += size.height;
            }
            return layoutResult;
        }, PdfTextWebLink.prototype.calculateBounds = function(currentBounds, lineWidth, maximumWidth, startPosition) {
            return null != this.stringFormat && void 0 !== this.stringFormat && this.stringFormat.alignment === PdfTextAlignment.Center ? (currentBounds.x = startPosition + (maximumWidth - lineWidth) / 2, 
            currentBounds.width = lineWidth) : null != this.stringFormat && void 0 !== this.stringFormat && this.stringFormat.alignment === PdfTextAlignment.Right ? (currentBounds.x = startPosition + (maximumWidth - lineWidth), 
            currentBounds.width = lineWidth) : null != this.stringFormat && void 0 !== this.stringFormat && this.stringFormat.alignment === PdfTextAlignment.Justify ? (currentBounds.x = startPosition, 
            currentBounds.width = maximumWidth) : (currentBounds.width = startPosition, currentBounds.width = lineWidth), 
            currentBounds;
        }, PdfTextWebLink;
    }(PdfTextElement), PdfNumbersConvertor = function() {
        function PdfNumbersConvertor() {}
        return PdfNumbersConvertor.convert = function(intArabic, numberStyle) {
            var result = "";
            switch (numberStyle) {
              case PdfNumberStyle.None:
                result = "";
                break;

              case PdfNumberStyle.Numeric:
                result = intArabic.toString();
                break;

              case PdfNumberStyle.LowerLatin:
                result = this.arabicToLetter(intArabic).toLowerCase();
                break;

              case PdfNumberStyle.LowerRoman:
                result = this.arabicToRoman(intArabic).toLowerCase();
                break;

              case PdfNumberStyle.UpperLatin:
                result = this.arabicToLetter(intArabic);
                break;

              case PdfNumberStyle.UpperRoman:
                result = this.arabicToRoman(intArabic);
            }
            return result;
        }, PdfNumbersConvertor.arabicToRoman = function(intArabic) {
            var retval = "";
            return retval += this.generateNumber(intArabic, 1e3, "M"), retval += this.generateNumber(intArabic, 900, "CM"), 
            retval += this.generateNumber(intArabic, 500, "D"), retval += this.generateNumber(intArabic, 400, "CD"), 
            retval += this.generateNumber(intArabic, 100, "C"), retval += this.generateNumber(intArabic, 90, "XC"), 
            retval += this.generateNumber(intArabic, 50, "L"), retval += this.generateNumber(intArabic, 40, "XL"), 
            retval += this.generateNumber(intArabic, 10, "X"), retval += this.generateNumber(intArabic, 9, "IX"), 
            retval += this.generateNumber(intArabic, 5, "V"), retval += this.generateNumber(intArabic, 4, "IV"), 
            (retval += this.generateNumber(intArabic, 1, "I")).toString();
        }, PdfNumbersConvertor.arabicToLetter = function(arabic) {
            for (var stack = this.convertToLetter(arabic), result = ""; stack.length > 0; ) {
                var num = stack.pop();
                result = this.appendChar(result, num);
            }
            return result.toString();
        }, PdfNumbersConvertor.generateNumber = function(value, magnitude, letter) {
            for (var numberstring = ""; value >= magnitude; ) value -= magnitude, numberstring += letter;
            return numberstring.toString();
        }, PdfNumbersConvertor.convertToLetter = function(arabic) {
            if (arabic <= 0) throw Error("ArgumentOutOfRangeException-arabic, Value can not be less 0");
            for (var stack = []; arabic > this.letterLimit; ) {
                var remainder = arabic % this.letterLimit;
                0 === remainder ? (arabic = arabic / this.letterLimit - 1, remainder = this.letterLimit) : arabic /= this.letterLimit, 
                stack.push(remainder);
            }
            return stack.push(arabic), stack;
        }, PdfNumbersConvertor.appendChar = function(builder, value) {
            return builder += String.fromCharCode(PdfNumbersConvertor.acsiiStartIndex + value);
        }, PdfNumbersConvertor.letterLimit = 26, PdfNumbersConvertor.acsiiStartIndex = 64, 
        PdfNumbersConvertor;
    }(), PdfTemplateValuePair = function() {
        function PdfTemplateValuePair(template, value) {
            this.pdfTemplate = null, this.content = "", void 0 === template || (this.template = template, 
            this.value = value);
        }
        return Object.defineProperty(PdfTemplateValuePair.prototype, "template", {
            get: function() {
                return this.pdfTemplate;
            },
            set: function(value) {
                this.pdfTemplate = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfTemplateValuePair.prototype, "value", {
            get: function() {
                return this.content;
            },
            set: function(value) {
                this.content = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfTemplateValuePair;
    }(), __extends$21$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfMultipleValueField = function(_super) {
        function PdfMultipleValueField() {
            var _this = _super.call(this) || this;
            return _this.list = new TemporaryDictionary(), _this;
        }
        return __extends$21$1(PdfMultipleValueField, _super), PdfMultipleValueField.prototype.performDraw = function(graphics, location, scalingX, scalingY) {
            _super.prototype.performDrawHelper.call(this, graphics, location, scalingX, scalingY);
            var value = this.getValue(graphics), template = new PdfTemplate(this.getSize());
            this.list.setValue(graphics, new PdfTemplateValuePair(template, value));
            var size = this.getSize();
            template.graphics.drawString(value, this.getFont(), this.pen, this.getBrush(), 0, 0, size.width, size.height, this.stringFormat);
            var drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);
            graphics.drawPdfTemplate(template, drawLocation, new SizeF(template.width * scalingX, template.height * scalingY));
        }, PdfMultipleValueField;
    }(PdfAutomaticField), __extends$20$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfPageNumberField = function(_super) {
        function PdfPageNumberField(font, arg2) {
            var _this = _super.call(this) || this;
            return _this.internalNumberStyle = PdfNumberStyle.Numeric, void 0 === arg2 ? _this.font = font : arg2 instanceof PdfBrush ? (_this.font = font, 
            _this.brush = arg2) : (_this.font = font, _this.bounds = arg2), _this;
        }
        return __extends$20$1(PdfPageNumberField, _super), Object.defineProperty(PdfPageNumberField.prototype, "numberStyle", {
            get: function() {
                return this.internalNumberStyle;
            },
            set: function(value) {
                this.internalNumberStyle = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPageNumberField.prototype.getValue = function(graphics) {
            var page = this.getPageFromGraphics(graphics);
            return this.internalGetValue(page);
        }, PdfPageNumberField.prototype.internalGetValue = function(page) {
            var pageIndex = page.document.pages.indexOf(page) + 1;
            return PdfNumbersConvertor.convert(pageIndex, this.numberStyle);
        }, PdfPageNumberField;
    }(PdfMultipleValueField), __extends$22$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfCompositeField = function(_super) {
        function PdfCompositeField(font, brush, text) {
            for (var list = [], _i = 3; _i < arguments.length; _i++) list[_i - 3] = arguments[_i];
            var _this = _super.call(this) || this;
            return _this.internalAutomaticFields = null, _this.internalText = "", _this.font = font, 
            _this.brush = brush, _this.text = text, _this.automaticFields = list, _this;
        }
        return __extends$22$1(PdfCompositeField, _super), Object.defineProperty(PdfCompositeField.prototype, "text", {
            get: function() {
                return this.internalText;
            },
            set: function(value) {
                this.internalText = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfCompositeField.prototype, "automaticFields", {
            get: function() {
                return this.internalAutomaticFields;
            },
            set: function(value) {
                this.internalAutomaticFields = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfCompositeField.prototype.getValue = function(graphics) {
            var text = this.text.toString();
            if (void 0 !== this.automaticFields && null != this.automaticFields && this.automaticFields.length > 0) for (var i = 0; i < this.automaticFields.length; i++) {
                var automaticField = this.automaticFields[i];
                text = text.replace("{" + i + "}", automaticField.getValue(graphics));
            }
            return text;
        }, PdfCompositeField;
    }(PdfMultipleValueField), __extends$24$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfSingleValueField = function(_super) {
        function PdfSingleValueField() {
            var _this = _super.call(this) || this;
            return _this.list = new TemporaryDictionary(), _this.painterGraphics = [], _this;
        }
        return __extends$24$1(PdfSingleValueField, _super), PdfSingleValueField.prototype.performDraw = function(graphics, location, scalingX, scalingY) {
            _super.prototype.performDrawHelper.call(this, graphics, location, scalingX, scalingY);
            var document = this.getPageFromGraphics(graphics).document, textValue = this.getValue(graphics);
            if (this.list.containsKey(document)) {
                var pair = this.list.getValue(document), drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);
                graphics.drawPdfTemplate(pair.template, drawLocation, new SizeF(pair.template.width * scalingX, pair.template.height * scalingY)), 
                this.painterGraphics.push(graphics);
            } else {
                var size = this.getSize(), template = new PdfTemplate(size);
                this.list.setValue(document, new PdfTemplateValuePair(template, textValue)), template.graphics.drawString(textValue, this.getFont(), this.pen, this.getBrush(), 0, 0, size.width, size.height, this.stringFormat);
                drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);
                graphics.drawPdfTemplate(template, drawLocation, new SizeF(template.width * scalingX, template.height * scalingY)), 
                this.painterGraphics.push(graphics);
            }
        }, PdfSingleValueField;
    }(PdfAutomaticField), __extends$23$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfPageCountField = function(_super) {
        function PdfPageCountField(font, arg2) {
            var _this = _super.call(this) || this;
            return _this.internalNumberStyle = PdfNumberStyle.Numeric, void 0 === arg2 ? _this.font = font : arg2 instanceof PdfBrush ? (_this.font = font, 
            _this.brush = arg2) : (_this.font = font, _this.bounds = arg2), _this;
        }
        return __extends$23$1(PdfPageCountField, _super), Object.defineProperty(PdfPageCountField.prototype, "numberStyle", {
            get: function() {
                return this.internalNumberStyle;
            },
            set: function(value) {
                this.internalNumberStyle = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPageCountField.prototype.getValue = function(graphics) {
            var count = this.getPageFromGraphics(graphics).section.parent.document.pages.count;
            return PdfNumbersConvertor.convert(count, this.numberStyle);
        }, PdfPageCountField;
    }(PdfSingleValueField);
    !function(PdfDestinationMode) {
        PdfDestinationMode[PdfDestinationMode.Location = 0] = "Location", PdfDestinationMode[PdfDestinationMode.FitToPage = 1] = "FitToPage", 
        PdfDestinationMode[PdfDestinationMode.FitR = 2] = "FitR";
    }(PdfDestinationMode || (PdfDestinationMode = {}));
    var PdfBorderOverlapStyle, PdfDestination = function() {
        function PdfDestination(arg1, arg2) {
            if (this.dictionaryProperties = new DictionaryProperties(), this.destinationMode = PdfDestinationMode.Location, 
            this.zoomFactor = 0, this.destinationLocation = new PointF(0, 0), this.bounds = new RectangleF(), 
            this.array = new PdfArray(), void 0 === arg2) {
                PdfPageRotateAngle.RotateAngle0;
                this.destinationLocation = new PointF(0, this.destinationLocation.y), this.pdfPage = arg1;
            } else arg2 instanceof PointF ? (this.constructor(arg1), this.destinationLocation = arg2) : (this.constructor(arg1), 
            this.bounds = arg2);
        }
        return Object.defineProperty(PdfDestination.prototype, "zoom", {
            get: function() {
                return this.zoomFactor;
            },
            set: function(value) {
                this.zoomFactor = value, this.initializePrimitive();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDestination.prototype, "page", {
            get: function() {
                return this.pdfPage;
            },
            set: function(value) {
                this.pdfPage = value, this.initializePrimitive();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDestination.prototype, "mode", {
            get: function() {
                return this.destinationMode;
            },
            set: function(value) {
                this.destinationMode = value, this.initializePrimitive();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfDestination.prototype, "location", {
            get: function() {
                return this.destinationLocation;
            },
            set: function(value) {
                this.destinationLocation = value, this.initializePrimitive();
            },
            enumerable: !0,
            configurable: !0
        }), PdfDestination.prototype.pointToNativePdf = function(page, point) {
            return page.section.pointToNativePdf(page, point);
        }, PdfDestination.prototype.initializePrimitive = function() {
            switch (this.array.clear(), this.array.add(new PdfReferenceHolder(this.pdfPage)), 
            this.destinationMode) {
              case PdfDestinationMode.Location:
                var simplePage = this.pdfPage, point = new PointF();
                point = this.pointToNativePdf(simplePage, this.destinationLocation), this.array.add(new PdfName(this.dictionaryProperties.xyz)), 
                this.array.add(new PdfNumber(point.x)), this.array.add(new PdfNumber(point.y)), 
                this.array.add(new PdfNumber(this.zoomFactor));
                break;

              case PdfDestinationMode.FitToPage:
                this.array.add(new PdfName(this.dictionaryProperties.fit));
            }
        }, Object.defineProperty(PdfDestination.prototype, "element", {
            get: function() {
                return this.initializePrimitive(), this.array;
            },
            enumerable: !0,
            configurable: !0
        }), PdfDestination;
    }(), PdfPageTemplateElement = function() {
        function PdfPageTemplateElement(arg1, arg2, arg3, arg4, arg5) {
            arg1 instanceof RectangleF && void 0 === arg2 ? this.constructor(arg1.x, arg1.y, arg1.width, arg1.height) : arg1 instanceof RectangleF && arg2 instanceof PdfPage && void 0 === arg3 ? this.constructor(arg1.x, arg1.y, arg1.width, arg1.height, arg2) : arg1 instanceof PointF && arg2 instanceof SizeF && void 0 === arg3 ? this.constructor(arg1.x, arg1.y, arg2.width, arg2.height) : arg1 instanceof PointF && arg2 instanceof SizeF && arg3 instanceof PdfPage && void 0 === arg4 ? this.constructor(arg1.x, arg1.y, arg2.width, arg2.height, arg3) : arg1 instanceof SizeF && void 0 === arg2 ? this.constructor(arg1.width, arg1.height) : "number" == typeof arg1 && "number" == typeof arg2 && void 0 === arg3 ? this.constructor(0, 0, arg1, arg2) : "number" == typeof arg1 && "number" == typeof arg2 && arg3 instanceof PdfPage && void 0 === arg4 ? this.constructor(0, 0, arg1, arg2, arg3) : (this.x = arg1, 
            this.y = arg2, this.pdfTemplate = new PdfTemplate(arg3, arg4));
        }
        return Object.defineProperty(PdfPageTemplateElement.prototype, "dock", {
            get: function() {
                return this.dockStyle;
            },
            set: function(value) {
                this.dockStyle = value, this.resetAlignment();
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "alignment", {
            get: function() {
                return this.alignmentStyle;
            },
            set: function(value) {
                this.setAlignment(value);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "foreground", {
            get: function() {
                return this.isForeground;
            },
            set: function(value) {
                this.isForeground = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "background", {
            get: function() {
                return !this.isForeground;
            },
            set: function(value) {
                this.isForeground = !value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "location", {
            get: function() {
                return this.currentLocation;
            },
            set: function(value) {
                this.type === TemplateType.None && (this.currentLocation = value);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "x", {
            get: function() {
                return void 0 !== this.currentLocation ? this.currentLocation.x : 0;
            },
            set: function(value) {
                this.type === TemplateType.None && (this.currentLocation.x = value);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "y", {
            get: function() {
                return void 0 !== this.currentLocation ? this.currentLocation.y : 0;
            },
            set: function(value) {
                this.type === TemplateType.None && (this.currentLocation.y = value);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "size", {
            get: function() {
                return this.template.size;
            },
            set: function(value) {
                this.type === TemplateType.None && this.template.reset(value);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "width", {
            get: function() {
                return this.template.width;
            },
            set: function(value) {
                if (this.template.width !== value && this.type === TemplateType.None) {
                    var size = this.template.size;
                    size.width = value, this.template.reset(size);
                }
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "height", {
            get: function() {
                return this.template.height;
            },
            set: function(value) {
                if (this.template.height !== value && this.type === TemplateType.None) {
                    var size = this.template.size;
                    size.height = value, this.template.reset(size);
                }
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "graphics", {
            get: function() {
                return this.template.graphics;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "template", {
            get: function() {
                return this.pdfTemplate;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "type", {
            get: function() {
                return this.templateType;
            },
            set: function(value) {
                this.updateDocking(value), this.templateType = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPageTemplateElement.prototype, "bounds", {
            get: function() {
                return new RectangleF(new PointF(this.x, this.y), this.size);
            },
            set: function(value) {
                this.type === TemplateType.None && (this.location = new PointF(value.x, value.y), 
                this.size = new SizeF(value.width, value.height));
            },
            enumerable: !0,
            configurable: !0
        }), PdfPageTemplateElement.prototype.updateDocking = function(type) {
            if (type !== TemplateType.None) {
                switch (type) {
                  case TemplateType.Top:
                    this.dock = PdfDockStyle.Top;
                    break;

                  case TemplateType.Bottom:
                    this.dock = PdfDockStyle.Bottom;
                    break;

                  case TemplateType.Left:
                    this.dock = PdfDockStyle.Left;
                    break;

                  case TemplateType.Right:
                    this.dock = PdfDockStyle.Right;
                }
                this.resetAlignment();
            }
        }, PdfPageTemplateElement.prototype.resetAlignment = function() {
            this.alignment = PdfAlignmentStyle.None;
        }, PdfPageTemplateElement.prototype.setAlignment = function(alignment) {
            if (this.dock === PdfDockStyle.None) this.alignmentStyle = alignment; else {
                var canBeSet = !1;
                switch (this.dock) {
                  case PdfDockStyle.Left:
                    canBeSet = alignment === PdfAlignmentStyle.TopLeft || alignment === PdfAlignmentStyle.MiddleLeft || alignment === PdfAlignmentStyle.BottomLeft || alignment === PdfAlignmentStyle.None;
                    break;

                  case PdfDockStyle.Top:
                    canBeSet = alignment === PdfAlignmentStyle.TopLeft || alignment === PdfAlignmentStyle.TopCenter || alignment === PdfAlignmentStyle.TopRight || alignment === PdfAlignmentStyle.None;
                    break;

                  case PdfDockStyle.Right:
                    canBeSet = alignment === PdfAlignmentStyle.TopRight || alignment === PdfAlignmentStyle.MiddleRight || alignment === PdfAlignmentStyle.BottomRight || alignment === PdfAlignmentStyle.None;
                    break;

                  case PdfDockStyle.Bottom:
                    canBeSet = alignment === PdfAlignmentStyle.BottomLeft || alignment === PdfAlignmentStyle.BottomCenter || alignment === PdfAlignmentStyle.BottomRight || alignment === PdfAlignmentStyle.None;
                    break;

                  case PdfDockStyle.Fill:
                    canBeSet = alignment === PdfAlignmentStyle.MiddleCenter || alignment === PdfAlignmentStyle.None;
                }
                canBeSet && (this.alignmentStyle = alignment);
            }
        }, PdfPageTemplateElement.prototype.draw = function(layer, document) {
            var page = layer.page, bounds = this.calculateBounds(page, document);
            -0 === bounds.x && (bounds.x = 0), layer.graphics.drawPdfTemplate(this.template, new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));
        }, PdfPageTemplateElement.prototype.calculateBounds = function(page, document) {
            var result = this.bounds;
            return this.alignmentStyle !== PdfAlignmentStyle.None ? result = this.getAlignmentBounds(page, document) : this.dockStyle !== PdfDockStyle.None && (result = this.getDockBounds(page, document)), 
            result;
        }, PdfPageTemplateElement.prototype.getAlignmentBounds = function(page, document) {
            this.bounds;
            return this.type === TemplateType.None ? this.getSimpleAlignmentBounds(page, document) : this.getTemplateAlignmentBounds(page, document);
        }, PdfPageTemplateElement.prototype.getSimpleAlignmentBounds = function(page, document) {
            var bounds = this.bounds, actualBounds = page.section.getActualBounds(document, page, !1), x = this.x, y = this.y;
            switch (this.alignmentStyle) {
              case PdfAlignmentStyle.TopLeft:
                x = 0, y = 0;
                break;

              case PdfAlignmentStyle.TopCenter:
                x = (actualBounds.width - this.width) / 2, y = 0;
                break;

              case PdfAlignmentStyle.TopRight:
                x = actualBounds.width - this.width, y = 0;
                break;

              case PdfAlignmentStyle.MiddleLeft:
                x = 0, y = (actualBounds.height - this.height) / 2;
                break;

              case PdfAlignmentStyle.MiddleCenter:
                x = (actualBounds.width - this.width) / 2, y = (actualBounds.height - this.height) / 2;
                break;

              case PdfAlignmentStyle.MiddleRight:
                x = actualBounds.width - this.width, y = (actualBounds.height - this.height) / 2;
                break;

              case PdfAlignmentStyle.BottomLeft:
                x = 0, y = actualBounds.height - this.height;
                break;

              case PdfAlignmentStyle.BottomCenter:
                x = (actualBounds.width - this.width) / 2, y = actualBounds.height - this.height;
                break;

              case PdfAlignmentStyle.BottomRight:
                x = actualBounds.width - this.width, y = actualBounds.height - this.height;
            }
            return bounds.x = x, bounds.y = y, bounds;
        }, PdfPageTemplateElement.prototype.getTemplateAlignmentBounds = function(page, document) {
            var result = this.bounds, section = page.section, actualBounds = section.getActualBounds(document, page, !1), x = this.x, y = this.y;
            switch (this.alignmentStyle) {
              case PdfAlignmentStyle.TopLeft:
                this.type === TemplateType.Left ? (x = -actualBounds.x, y = 0) : this.type === TemplateType.Top && (x = -actualBounds.x, 
                y = -actualBounds.y);
                break;

              case PdfAlignmentStyle.TopCenter:
                x = (actualBounds.width - this.width) / 2, y = -actualBounds.y;
                break;

              case PdfAlignmentStyle.TopRight:
                this.type === TemplateType.Right ? (x = actualBounds.width + section.getRightIndentWidth(document, page, !1) - this.width, 
                y = 0) : this.type === TemplateType.Top && (x = actualBounds.width + section.getRightIndentWidth(document, page, !1) - this.width, 
                y = -actualBounds.y);
                break;

              case PdfAlignmentStyle.MiddleLeft:
                x = -actualBounds.x, y = (actualBounds.height - this.height) / 2;
                break;

              case PdfAlignmentStyle.MiddleCenter:
                x = (actualBounds.width - this.width) / 2, y = (actualBounds.height - this.height) / 2;
                break;

              case PdfAlignmentStyle.MiddleRight:
                x = actualBounds.width + section.getRightIndentWidth(document, page, !1) - this.width, 
                y = (actualBounds.height - this.height) / 2;
                break;

              case PdfAlignmentStyle.BottomLeft:
                this.type === TemplateType.Left ? (x = -actualBounds.x, y = actualBounds.height - this.height) : this.type === TemplateType.Bottom && (x = -actualBounds.x, 
                y = actualBounds.height + section.getBottomIndentHeight(document, page, !1) - this.height);
                break;

              case PdfAlignmentStyle.BottomCenter:
                x = (actualBounds.width - this.width) / 2, y = actualBounds.height + section.getBottomIndentHeight(document, page, !1) - this.height;
                break;

              case PdfAlignmentStyle.BottomRight:
                this.type === TemplateType.Right ? (x = actualBounds.width + section.getRightIndentWidth(document, page, !1) - this.width, 
                y = actualBounds.height - this.height) : this.type === TemplateType.Bottom && (x = actualBounds.width + section.getRightIndentWidth(document, page, !1) - this.width, 
                y = actualBounds.height + section.getBottomIndentHeight(document, page, !1) - this.height);
            }
            return result.x = x, result.y = y, result;
        }, PdfPageTemplateElement.prototype.getDockBounds = function(page, document) {
            this.bounds;
            return this.type === TemplateType.None ? this.getSimpleDockBounds(page, document) : this.getTemplateDockBounds(page, document);
        }, PdfPageTemplateElement.prototype.getSimpleDockBounds = function(page, document) {
            this.bounds;
            var actualBounds = page.section.getActualBounds(document, page, !1), x = this.x, y = this.y, width = this.width, height = this.height;
            switch (this.dockStyle) {
              case PdfDockStyle.Left:
                x = 0, y = 0, width = this.width, height = actualBounds.height;
                break;

              case PdfDockStyle.Top:
                x = 0, y = 0, width = actualBounds.width, height = this.height;
                break;

              case PdfDockStyle.Right:
                x = actualBounds.width - this.width, y = 0, width = this.width, height = actualBounds.height;
                break;

              case PdfDockStyle.Bottom:
                x = 0, y = actualBounds.height - this.height, width = actualBounds.width, height = this.height;
                break;

              case PdfDockStyle.Fill:
                x = 0, x = 0, width = actualBounds.width, height = actualBounds.height;
            }
            return new RectangleF(x, y, width, height);
        }, PdfPageTemplateElement.prototype.getTemplateDockBounds = function(page, document) {
            this.bounds;
            var section = page.section, actualBounds = section.getActualBounds(document, page, !1), actualSize = section.pageSettings.getActualSize(), x = this.x, y = this.y, width = this.width, height = this.height;
            switch (this.dockStyle) {
              case PdfDockStyle.Left:
                x = -actualBounds.x, y = 0, width = this.width, height = actualBounds.height;
                break;

              case PdfDockStyle.Top:
                x = -actualBounds.x, y = -actualBounds.y, width = actualSize.width, height = this.height, 
                actualBounds.height < 0 && (y = -actualBounds.y + actualSize.height);
                break;

              case PdfDockStyle.Right:
                x = actualBounds.width + section.getRightIndentWidth(document, page, !1) - this.width, 
                y = 0, width = this.width, height = actualBounds.height;
                break;

              case PdfDockStyle.Bottom:
                x = -actualBounds.x, y = actualBounds.height + section.getBottomIndentHeight(document, page, !1) - this.height, 
                width = actualSize.width, height = this.height, actualBounds.height < 0 && (y -= actualSize.height);
                break;

              case PdfDockStyle.Fill:
                x = 0, x = 0, width = actualBounds.width, height = actualBounds.height;
            }
            return new RectangleF(x, y, width, height);
        }, PdfPageTemplateElement;
    }(), PdfBorders = function() {
        function PdfBorders() {
            var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));
            defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;
            var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));
            defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;
            var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));
            defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;
            var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));
            defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid, this.leftPen = defaultBorderPenLeft, 
            this.rightPen = defaultBorderPenRight, this.topPen = defaultBorderPenTop, this.bottomPen = defaultBorderPenBottom;
        }
        return Object.defineProperty(PdfBorders.prototype, "left", {
            get: function() {
                return this.leftPen;
            },
            set: function(value) {
                this.leftPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBorders.prototype, "right", {
            get: function() {
                return this.rightPen;
            },
            set: function(value) {
                this.rightPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBorders.prototype, "top", {
            get: function() {
                return this.topPen;
            },
            set: function(value) {
                this.topPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBorders.prototype, "bottom", {
            get: function() {
                return this.bottomPen;
            },
            set: function(value) {
                this.bottomPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBorders.prototype, "all", {
            set: function(value) {
                this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBorders.prototype, "isAll", {
            get: function() {
                return this.leftPen === this.rightPen && this.leftPen === this.topPen && this.leftPen === this.bottomPen;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfBorders, "default", {
            get: function() {
                return new PdfBorders();
            },
            enumerable: !0,
            configurable: !0
        }), PdfBorders;
    }(), PdfPaddings = function() {
        function PdfPaddings(left, right, top, bottom) {
            void 0 === left ? (this.leftPad = this.rightPad = 5.76, this.bottom = this.topPad = .5) : (this.leftPad = left, 
            this.rightPad = right, this.topPad = top, this.bottomPad = bottom);
        }
        return Object.defineProperty(PdfPaddings.prototype, "left", {
            get: function() {
                return this.leftPad;
            },
            set: function(value) {
                this.leftPad = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPaddings.prototype, "right", {
            get: function() {
                return this.rightPad;
            },
            set: function(value) {
                this.rightPad = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPaddings.prototype, "top", {
            get: function() {
                return this.topPad;
            },
            set: function(value) {
                this.topPad = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPaddings.prototype, "bottom", {
            get: function() {
                return this.bottomPad;
            },
            set: function(value) {
                this.bottomPad = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfPaddings.prototype, "all", {
            set: function(value) {
                this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfPaddings;
    }();
    !function(PdfBorderOverlapStyle) {
        PdfBorderOverlapStyle[PdfBorderOverlapStyle.Overlap = 0] = "Overlap", PdfBorderOverlapStyle[PdfBorderOverlapStyle.Inside = 1] = "Inside";
    }(PdfBorderOverlapStyle || (PdfBorderOverlapStyle = {}));
    var PdfHorizontalOverflowType, __extends$25$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfGridStyleBase = function() {
        function PdfGridStyleBase() {}
        return Object.defineProperty(PdfGridStyleBase.prototype, "backgroundBrush", {
            get: function() {
                return this.gridBackgroundBrush;
            },
            set: function(value) {
                this.gridBackgroundBrush = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridStyleBase.prototype, "textBrush", {
            get: function() {
                return this.gridTextBrush;
            },
            set: function(value) {
                this.gridTextBrush = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridStyleBase.prototype, "textPen", {
            get: function() {
                return this.gridTextPen;
            },
            set: function(value) {
                this.gridTextPen = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridStyleBase.prototype, "font", {
            get: function() {
                return this.gridFont;
            },
            set: function(value) {
                this.gridFont = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridStyleBase;
    }(), PdfGridStyle = function(_super) {
        function PdfGridStyle() {
            var _this = _super.call(this) || this;
            return _this.gridBorderOverlapStyle = PdfBorderOverlapStyle.Overlap, _this.bAllowHorizontalOverflow = !1, 
            _this.gridHorizontalOverflowType = PdfHorizontalOverflowType.LastPage, _this;
        }
        return __extends$25$1(PdfGridStyle, _super), Object.defineProperty(PdfGridStyle.prototype, "cellSpacing", {
            get: function() {
                return void 0 === this.gridCellSpacing && (this.gridCellSpacing = 0), this.gridCellSpacing;
            },
            set: function(value) {
                this.gridCellSpacing = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridStyle.prototype, "horizontalOverflowType", {
            get: function() {
                return this.gridHorizontalOverflowType;
            },
            set: function(value) {
                this.gridHorizontalOverflowType = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridStyle.prototype, "allowHorizontalOverflow", {
            get: function() {
                return this.bAllowHorizontalOverflow;
            },
            set: function(value) {
                this.bAllowHorizontalOverflow = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridStyle.prototype, "cellPadding", {
            get: function() {
                return void 0 === this.gridCellPadding && (this.gridCellPadding = new PdfPaddings()), 
                this.gridCellPadding;
            },
            set: function(value) {
                void 0 === this.gridCellPadding ? (this.gridCellPadding = new PdfPaddings(), this.gridCellPadding = value) : this.gridCellPadding = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridStyle.prototype, "borderOverlapStyle", {
            get: function() {
                return this.gridBorderOverlapStyle;
            },
            set: function(value) {
                this.gridBorderOverlapStyle = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridStyle;
    }(PdfGridStyleBase), PdfGridCellStyle = function(_super) {
        function PdfGridCellStyle() {
            var _this = _super.call(this) || this;
            return _this.gridCellBorders = PdfBorders.default, _this;
        }
        return __extends$25$1(PdfGridCellStyle, _super), Object.defineProperty(PdfGridCellStyle.prototype, "stringFormat", {
            get: function() {
                return this.format;
            },
            set: function(value) {
                this.format = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCellStyle.prototype, "borders", {
            get: function() {
                return this.gridCellBorders;
            },
            set: function(value) {
                this.gridCellBorders = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCellStyle.prototype, "cellPadding", {
            get: function() {
                return this.gridCellPadding;
            },
            set: function(value) {
                null != this.gridCellPadding && void 0 !== this.gridCellPadding || (this.gridCellPadding = new PdfPaddings()), 
                this.gridCellPadding = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridCellStyle;
    }(PdfGridStyleBase), PdfGridRowStyle = function() {
        function PdfGridRowStyle() {}
        return Object.defineProperty(PdfGridRowStyle.prototype, "backgroundBrush", {
            get: function() {
                return this.gridRowBackgroundBrush;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridRowStyle.prototype.setBackgroundBrush = function(value) {
            if (this.gridRowBackgroundBrush = value, void 0 !== this.parent) for (var i = 0; i < this.parent.cells.count; i++) this.parent.cells.getCell(i).style.backgroundBrush = value;
        }, Object.defineProperty(PdfGridRowStyle.prototype, "textBrush", {
            get: function() {
                return this.gridRowTextBrush;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridRowStyle.prototype.setTextBrush = function(value) {
            if (this.gridRowTextBrush = value, void 0 !== this.parent) for (var i = 0; i < this.parent.cells.count; i++) this.parent.cells.getCell(i).style.textBrush = value;
        }, Object.defineProperty(PdfGridRowStyle.prototype, "textPen", {
            get: function() {
                return this.gridRowTextPen;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridRowStyle.prototype.setTextPen = function(value) {
            if (this.gridRowTextPen = value, void 0 !== this.parent) for (var i = 0; i < this.parent.cells.count; i++) this.parent.cells.getCell(i).style.textPen = value;
        }, Object.defineProperty(PdfGridRowStyle.prototype, "font", {
            get: function() {
                return this.gridRowFont;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridRowStyle.prototype.setFont = function(value) {
            if (this.gridRowFont = value, void 0 !== this.parent) for (var i = 0; i < this.parent.cells.count; i++) this.parent.cells.getCell(i).style.font = value;
        }, Object.defineProperty(PdfGridRowStyle.prototype, "border", {
            get: function() {
                return void 0 === this.gridRowBorder && this.setBorder(new PdfBorders()), this.gridRowBorder;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridRowStyle.prototype.setBorder = function(value) {
            if (this.gridRowBorder = value, void 0 !== this.parent) for (var i = 0; i < this.parent.cells.count; i++) this.parent.cells.getCell(i).style.borders = value;
        }, PdfGridRowStyle.prototype.setParent = function(parent) {
            this.parent = parent;
        }, PdfGridRowStyle;
    }();
    !function(PdfHorizontalOverflowType) {
        PdfHorizontalOverflowType[PdfHorizontalOverflowType.NextPage = 0] = "NextPage", 
        PdfHorizontalOverflowType[PdfHorizontalOverflowType.LastPage = 1] = "LastPage";
    }(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));
    var PdfGridCell = function() {
        function PdfGridCell(row) {
            this.cellWidth = 0, this.cellHeight = 0, this.finsh = !0, this.rowSpanRemainingHeight = 0, 
            void 0 === row ? (this.gridRowSpan = 1, this.colSpan = 1) : (this.constructor(), 
            this.gridRow = row);
        }
        return Object.defineProperty(PdfGridCell.prototype, "isCellMergeContinue", {
            get: function() {
                return this.internalIsCellMergeContinue;
            },
            set: function(value) {
                this.internalIsCellMergeContinue = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "isRowMergeContinue", {
            get: function() {
                return this.internalIsRowMergeContinue;
            },
            set: function(value) {
                this.internalIsRowMergeContinue = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "isCellMergeStart", {
            get: function() {
                return this.internalIsCellMergeStart;
            },
            set: function(value) {
                this.internalIsCellMergeStart = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "isRowMergeStart", {
            get: function() {
                return this.internalIsRowMergeStart;
            },
            set: function(value) {
                this.internalIsRowMergeStart = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "remainingString", {
            get: function() {
                return this.remaining;
            },
            set: function(value) {
                this.remaining = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "stringFormat", {
            get: function() {
                return null == this.format && (this.format = new PdfStringFormat()), this.format;
            },
            set: function(value) {
                this.format = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "row", {
            get: function() {
                return this.gridRow;
            },
            set: function(value) {
                this.gridRow = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "value", {
            get: function() {
                return this.objectValue;
            },
            set: function(value) {
                this.objectValue = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "rowSpan", {
            get: function() {
                return this.gridRowSpan;
            },
            set: function(value) {
                if (value < 1) throw new Error("ArgumentException : Invalid span specified, must be greater than or equal to 1");
                this.gridRowSpan = value, this.row.rowSpanExists = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "style", {
            get: function() {
                return null == this.cellStyle && (this.cellStyle = new PdfGridCellStyle()), this.cellStyle;
            },
            set: function(value) {
                this.cellStyle = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "height", {
            get: function() {
                return 0 === this.cellHeight && (this.cellHeight = this.measureHeight()), this.cellHeight;
            },
            set: function(value) {
                this.cellHeight = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "columnSpan", {
            get: function() {
                return this.colSpan;
            },
            set: function(value) {
                if (value < 1) throw Error("Invalid span specified, must be greater than or equal to 1");
                this.colSpan = value, this.row.columnSpanExists = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridCell.prototype, "width", {
            get: function() {
                return (0 === this.cellWidth || this.row.grid.isComplete) && (this.cellWidth = this.measureWidth()), 
                this.cellWidth;
            },
            set: function(value) {
                this.cellWidth = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridCell.prototype.measureWidth = function() {
            var width = 0, layouter = new PdfStringLayouter();
            if ("string" == typeof this.objectValue) {
                width += layouter.layout(this.objectValue, this.getTextFont(), this.stringFormat, new SizeF(0, 0), !1, new SizeF(0, 0)).actualSize.width, 
                width += 2 * (this.style.borders.left.width + this.style.borders.right.width);
            } else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) width += this.objectValue.width; else if (this.objectValue instanceof PdfTextWebLink) {
                var webLink = this.objectValue;
                width += layouter.layout(webLink.text, webLink.font, webLink.stringFormat, new SizeF(0, 0), !1, new SizeF(0, 0)).actualSize.width, 
                width += 2 * (this.style.borders.left.width + this.style.borders.right.width);
            }
            return width += this.row.grid.style.cellPadding.left + this.row.grid.style.cellPadding.right, 
            width += this.row.grid.style.cellSpacing;
        }, PdfGridCell.prototype.drawCellBackground = function(graphics, bounds) {
            var backgroundBrush = this.getBackgroundBrush();
            null != backgroundBrush && graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);
        }, PdfGridCell.prototype.adjustContentLayoutArea = function(bounds) {
            var returnBounds = new RectangleF(bounds.x, bounds.y, bounds.width, bounds.height);
            return void 0 === this.style.cellPadding || null == this.style.cellPadding ? (returnBounds.x += this.gridRow.grid.style.cellPadding.left + this.cellStyle.borders.left.width, 
            returnBounds.y += this.gridRow.grid.style.cellPadding.top + this.cellStyle.borders.top.width, 
            returnBounds.width -= this.gridRow.grid.style.cellPadding.right + this.gridRow.grid.style.cellPadding.left, 
            returnBounds.width -= this.cellStyle.borders.left.width + this.cellStyle.borders.right.width, 
            returnBounds.height -= this.gridRow.grid.style.cellPadding.bottom + this.gridRow.grid.style.cellPadding.top, 
            returnBounds.height -= this.cellStyle.borders.top.width + this.cellStyle.borders.bottom.width, 
            1 === this.rowSpan && (returnBounds.width -= this.style.borders.left.width)) : (returnBounds.x += this.style.cellPadding.left + this.cellStyle.borders.left.width, 
            returnBounds.y += this.style.cellPadding.top + this.cellStyle.borders.top.width, 
            returnBounds.width -= this.style.cellPadding.right + this.style.cellPadding.left, 
            returnBounds.width -= this.cellStyle.borders.left.width + this.cellStyle.borders.right.width, 
            returnBounds.height -= this.style.cellPadding.bottom + this.style.cellPadding.top, 
            returnBounds.height -= this.cellStyle.borders.top.width + this.cellStyle.borders.bottom.width, 
            1 === this.rowSpan && (returnBounds.width -= this.style.borders.left.width)), returnBounds;
        }, PdfGridCell.prototype.draw = function(graphics, bounds, cancelSubsequentSpans) {
            var result = null;
            if (this.internalIsCellMergeContinue || this.internalIsRowMergeContinue) {
                if (!this.internalIsCellMergeContinue || !this.row.grid.style.allowHorizontalOverflow) return result;
                if (this.row.rowOverflowIndex > 0 && this.row.cells.indexOf(this) != this.row.rowOverflowIndex + 1 || 0 == this.row.rowOverflowIndex && this.internalIsCellMergeContinue) return result;
            }
            bounds = this.adjustOuterLayoutArea(bounds, graphics);
            var textPen = this.getTextPen(), textBrush = this.getTextBrush();
            void 0 === textPen && void 0 === textBrush && (textBrush = new PdfSolidBrush(new PdfColor(0, 0, 0)));
            var font = this.getTextFont(), strFormat = this.getStringFormat(), innerLayoutArea = this.adjustContentLayoutArea(bounds);
            if (this.drawCellBackground(graphics, bounds), "string" == typeof this.objectValue || "string" == typeof this.remaining) {
                var temp = void 0;
                temp = "" === this.remaining ? this.remaining : this.objectValue, graphics.drawString(temp, font, textPen, textBrush, innerLayoutArea.x, innerLayoutArea.y, innerLayoutArea.width, innerLayoutArea.height, strFormat), 
                result = graphics.stringLayoutResult;
            } else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) {
                var imageBounds = void 0;
                imageBounds = this.objectValue.width <= innerLayoutArea.width ? new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.objectValue.width, innerLayoutArea.height) : innerLayoutArea, 
                graphics.drawImage(this.objectValue, imageBounds.x, imageBounds.y, imageBounds.width, imageBounds.height);
            } else this.objectValue instanceof PdfTextWebLink && this.objectValue.draw(graphics.currentPage, innerLayoutArea);
            return null != this.style.borders && this.drawCellBorders(graphics, bounds), result;
        }, PdfGridCell.prototype.drawCellBorders = function(graphics, bounds) {
            this.row.grid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside && (bounds.x += this.style.borders.left.width, 
            bounds.y += this.style.borders.top.width, bounds.width -= this.style.borders.right.width, 
            bounds.height -= this.style.borders.bottom.width);
            var p1 = new PointF(bounds.x, bounds.y + bounds.height), p2 = new PointF(bounds.x, bounds.y), pen = this.cellStyle.borders.left;
            this.cellStyle.borders.left.dashStyle === PdfDashStyle.Solid && (pen.lineCap = PdfLineCap.Square), 
            graphics.drawLine(pen, p1, p2), p1 = new PointF(bounds.x + bounds.width, bounds.y), 
            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height), pen = this.cellStyle.borders.right, 
            bounds.x + bounds.width > graphics.clientSize.width - pen.width / 2 && (p1 = new PointF(graphics.clientSize.width - pen.width / 2, bounds.y), 
            p2 = new PointF(graphics.clientSize.width - pen.width / 2, bounds.y + bounds.height)), 
            this.cellStyle.borders.right.dashStyle === PdfDashStyle.Solid && (pen.lineCap = PdfLineCap.Square), 
            graphics.drawLine(pen, p1, p2), p1 = new PointF(bounds.x, bounds.y), p2 = new PointF(bounds.x + bounds.width, bounds.y), 
            pen = this.cellStyle.borders.top, this.cellStyle.borders.top.dashStyle === PdfDashStyle.Solid && (pen.lineCap = PdfLineCap.Square), 
            graphics.drawLine(pen, p1, p2), p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height), 
            p2 = new PointF(bounds.x, bounds.y + bounds.height), pen = this.cellStyle.borders.bottom, 
            this.cellStyle.borders.bottom.dashStyle === PdfDashStyle.Solid && (pen.lineCap = PdfLineCap.Square), 
            graphics.drawLine(pen, p1, p2);
        }, PdfGridCell.prototype.adjustOuterLayoutArea = function(bounds, g) {
            var isHeader = !1, cellSpacing = this.row.grid.style.cellSpacing;
            cellSpacing > 0 && (bounds = new RectangleF(bounds.x + cellSpacing, bounds.y + cellSpacing, bounds.width - cellSpacing, bounds.height - cellSpacing));
            var currentColIndex = this.row.cells.indexOf(this);
            if (this.columnSpan > 1) {
                for (var span = this.columnSpan, totalWidth = 0, i = currentColIndex; i < currentColIndex + span; i++) {
                    if (this.row.grid.style.allowHorizontalOverflow) {
                        var compWidth = this.row.grid.size.width < g.clientSize.width ? this.row.grid.size.width : g.clientSize.width;
                        if ((this.row.grid.size.width > g.clientSize.width ? bounds.x + totalWidth + this.row.grid.columns.getColumn(i).width : totalWidth + this.row.grid.columns.getColumn(i).width) > compWidth) break;
                    }
                    totalWidth += this.row.grid.columns.getColumn(i).width;
                }
                totalWidth -= this.row.grid.style.cellSpacing, bounds.width = totalWidth;
            }
            if (this.rowSpan > 1 || this.row.rowSpanExists) {
                span = this.rowSpan;
                var currentRowIndex = this.row.grid.rows.rowCollection.indexOf(this.row);
                -1 == currentRowIndex && -1 != (currentRowIndex = this.row.grid.headers.indexOf(this.row)) && (isHeader = !0);
                var totalHeight = 0;
                for (i = currentRowIndex; i < currentRowIndex + span; i++) {
                    totalHeight += isHeader ? this.row.grid.headers.getHeader(i).height : this.row.grid.rows.getRow(i).height;
                    var row = this.row.grid.rows.getRow(i);
                    this.row.grid.rows.rowCollection.indexOf(row);
                }
                this.row.cells.indexOf(this);
                totalHeight -= this.row.grid.style.cellSpacing, bounds.height = totalHeight, this.row.rowMergeComplete || (bounds.height = totalHeight);
            }
            return bounds;
        }, PdfGridCell.prototype.getTextFont = function() {
            return void 0 !== this.style.font && null != this.style.font ? this.style.font : void 0 !== this.row.style.font && null != this.row.style.font ? this.row.style.font : void 0 !== this.row.grid.style.font && null != this.row.grid.style.font ? this.row.grid.style.font : PdfDocument.defaultFont;
        }, PdfGridCell.prototype.getTextBrush = function() {
            return void 0 !== this.style.textBrush && null != this.style.textBrush ? this.style.textBrush : void 0 !== this.row.style.textBrush && null != this.row.style.textBrush ? this.row.style.textBrush : this.row.grid.style.textBrush;
        }, PdfGridCell.prototype.getTextPen = function() {
            return void 0 !== this.style.textPen && null != this.style.textPen ? this.style.textPen : void 0 !== this.row.style.textPen && null != this.row.style.textPen ? this.row.style.textPen : this.row.grid.style.textPen;
        }, PdfGridCell.prototype.getBackgroundBrush = function() {
            return void 0 !== this.style.backgroundBrush && null != this.style.backgroundBrush ? this.style.backgroundBrush : void 0 !== this.row.style.backgroundBrush && null != this.row.style.backgroundBrush ? this.row.style.backgroundBrush : this.row.grid.style.backgroundBrush;
        }, PdfGridCell.prototype.getStringFormat = function() {
            return void 0 !== this.style.stringFormat && null != this.style.stringFormat ? this.style.stringFormat : this.stringFormat;
        }, PdfGridCell.prototype.measureHeight = function() {
            var width = this.calculateWidth();
            null == this.style.cellPadding || void 0 === this.style.cellPadding ? (width -= this.gridRow.grid.style.cellPadding.right + this.gridRow.grid.style.cellPadding.left, 
            width -= this.style.borders.left.width + this.style.borders.right.width) : (width -= this.style.cellPadding.right + this.style.cellPadding.left, 
            width -= this.style.borders.left.width + this.style.borders.right.width);
            var height = 0, layouter = new PdfStringLayouter();
            if ("string" == typeof this.objectValue || "string" == typeof this.remainingString) {
                var currentValue = this.objectValue;
                height += layouter.layout(currentValue, this.getTextFont(), this.stringFormat, new SizeF(width, 0), !1, new SizeF(0, 0)).actualSize.height;
            } else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) height += this.objectValue.height; else if (this.objectValue instanceof PdfTextWebLink) {
                var webLink = this.objectValue;
                height += layouter.layout(webLink.text, webLink.font, webLink.stringFormat, new SizeF(width, 0), !1, new SizeF(0, 0)).actualSize.height;
            }
            return height += 2 * (this.style.borders.top.width + this.style.borders.bottom.width), 
            null == this.style.cellPadding || void 0 === this.style.cellPadding ? height += this.row.grid.style.cellPadding.top + this.row.grid.style.cellPadding.bottom : height += this.style.cellPadding.top + this.style.cellPadding.bottom, 
            height += this.row.grid.style.cellSpacing;
        }, PdfGridCell.prototype.calculateWidth = function() {
            for (var cellIndex = this.row.cells.indexOf(this), columnSpan = this.columnSpan, width = 0, i = 0; i < columnSpan; i++) width += this.row.grid.columns.getColumn(cellIndex + i).width;
            return width;
        }, PdfGridCell;
    }(), PdfGridCellCollection = function() {
        function PdfGridCellCollection(row) {
            this.cells = [], this.gridRow = row;
        }
        return PdfGridCellCollection.prototype.getCell = function(index) {
            if (index < 0 || index >= this.count) throw new Error("IndexOutOfRangeException");
            return this.cells[index];
        }, Object.defineProperty(PdfGridCellCollection.prototype, "count", {
            get: function() {
                return this.cells.length;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridCellCollection.prototype.add = function(cell) {
            if (void 0 === cell) {
                var tempcell = new PdfGridCell();
                return this.add(tempcell), cell;
            }
            cell.row = this.gridRow, this.cells.push(cell);
        }, PdfGridCellCollection.prototype.indexOf = function(cell) {
            return this.cells.indexOf(cell);
        }, PdfGridCellCollection;
    }(), PdfGridColumn = function() {
        function PdfGridColumn(grid) {
            this.columnWidth = 0, this.grid = grid;
        }
        return Object.defineProperty(PdfGridColumn.prototype, "width", {
            get: function() {
                return this.columnWidth;
            },
            set: function(value) {
                this.isCustomWidth = !0, this.columnWidth = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridColumn.prototype, "format", {
            get: function() {
                return null == this.stringFormat && (this.stringFormat = new PdfStringFormat()), 
                this.stringFormat;
            },
            set: function(value) {
                this.stringFormat = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridColumn;
    }(), PdfGridColumnCollection = function() {
        function PdfGridColumnCollection(grid) {
            this.internalColumns = [], this.columnWidth = 0, this.grid = grid, this.internalColumns = [];
        }
        return PdfGridColumnCollection.prototype.add = function(count) {
            for (var i = 0; i < count; i++) {
                this.internalColumns.push(new PdfGridColumn(this.grid));
                for (var index = 0; index < this.grid.rows.count; index++) {
                    var row = this.grid.rows.getRow(index), cell = new PdfGridCell();
                    cell.value = "", row.cells.add(cell);
                }
            }
        }, Object.defineProperty(PdfGridColumnCollection.prototype, "count", {
            get: function() {
                return this.internalColumns.length;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridColumnCollection.prototype, "width", {
            get: function() {
                return 0 === this.columnWidth && (this.columnWidth = this.measureColumnsWidth()), 
                0 === this.grid.initialWidth || this.columnWidth === this.grid.initialWidth || this.grid.style.allowHorizontalOverflow || (this.columnWidth = this.grid.initialWidth, 
                this.grid.isPageWidth = !0), this.columnWidth;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridColumnCollection.prototype, "columns", {
            get: function() {
                return this.internalColumns;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridColumnCollection.prototype.getColumn = function(index) {
            if (index >= 0 && index <= this.columns.length) return this.columns[index];
            throw Error("can not get the column from the index: " + index);
        }, PdfGridColumnCollection.prototype.measureColumnsWidth = function() {
            for (var totalWidth = 0, i = 0, count = this.internalColumns.length; i < count; i++) totalWidth += this.internalColumns[i].width;
            return totalWidth;
        }, PdfGridColumnCollection.prototype.getDefaultWidths = function(totalWidth) {
            for (var widths = [], subFactor = this.count, i = 0; i < this.count; i++) this.grid.isPageWidth && totalWidth >= 0 && !this.internalColumns[i].isCustomWidth ? this.internalColumns[i].width = 0 : (widths[i] = this.internalColumns[i].width, 
            this.internalColumns[i].width > 0 && this.internalColumns[i].isCustomWidth ? (totalWidth -= this.internalColumns[i].width, 
            subFactor--) : widths[i] = 0);
            for (i = 0; i < this.count; i++) {
                var width = totalWidth / subFactor;
                widths[i] <= 0 && (widths[i] = width);
            }
            return widths;
        }, PdfGridColumnCollection;
    }(), PdfGridRow = function() {
        function PdfGridRow(grid) {
            this.gridRowOverflowIndex = 0, this.isRowHeightSet = !1, this.isRowMergeComplete = !0, 
            this.pdfGrid = grid;
        }
        return Object.defineProperty(PdfGridRow.prototype, "rowSpanExists", {
            get: function() {
                return this.bRowSpanExists;
            },
            set: function(value) {
                this.bRowSpanExists = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "cells", {
            get: function() {
                return null == this.gridCells && (this.gridCells = new PdfGridCellCollection(this)), 
                this.gridCells;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "grid", {
            get: function() {
                return this.pdfGrid;
            },
            set: function(value) {
                this.pdfGrid = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "style", {
            get: function() {
                return void 0 === this.rowStyle && (this.rowStyle = new PdfGridRowStyle(), this.rowStyle.setParent(this)), 
                this.rowStyle;
            },
            set: function(value) {
                this.rowStyle = value;
                for (var i = 0; i < this.cells.count; i++) this.cells.getCell(i).style.borders = value.border, 
                void 0 !== value.font && (this.cells.getCell(i).style.font = value.font), void 0 !== value.backgroundBrush && (this.cells.getCell(i).style.backgroundBrush = value.backgroundBrush), 
                void 0 !== value.textBrush && (this.cells.getCell(i).style.textBrush = value.textBrush), 
                void 0 !== value.textPen && (this.cells.getCell(i).style.textPen = value.textPen);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "rowBreakHeight", {
            get: function() {
                return void 0 === this.gridRowBreakHeight && (this.gridRowBreakHeight = 0), this.gridRowBreakHeight;
            },
            set: function(value) {
                this.gridRowBreakHeight = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "rowOverflowIndex", {
            get: function() {
                return this.gridRowOverflowIndex;
            },
            set: function(value) {
                this.gridRowOverflowIndex = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "height", {
            get: function() {
                return this.isRowHeightSet || (this.rowHeight = this.measureHeight()), this.rowHeight;
            },
            set: function(value) {
                this.rowHeight = value, this.isRowHeightSet = !0;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "columnSpanExists", {
            get: function() {
                return this.bColumnSpanExists;
            },
            set: function(value) {
                this.bColumnSpanExists = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "rowMergeComplete", {
            get: function() {
                return this.isRowMergeComplete;
            },
            set: function(value) {
                this.isRowMergeComplete = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRow.prototype, "rowIndex", {
            get: function() {
                return this.grid.rows.rowCollection.indexOf(this);
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridRow.prototype.measureHeight = function() {
            var rowHeight, rowSpanRemainingHeight = 0, maxHeight = 0;
            rowHeight = this.cells.getCell(0).height;
            for (var i = 0; i < this.cells.count; i++) {
                var cell = this.cells.getCell(i);
                cell.rowSpanRemainingHeight > rowSpanRemainingHeight && (rowSpanRemainingHeight = cell.rowSpanRemainingHeight), 
                this.rowMergeComplete = !1, cell.rowSpan > 1 ? maxHeight < cell.height && (maxHeight = cell.height) : rowHeight = Math.max(rowHeight, cell.height);
            }
            return 0 === rowHeight ? rowHeight = maxHeight : rowSpanRemainingHeight > 0 && (rowHeight += rowSpanRemainingHeight), 
            rowHeight;
        }, PdfGridRow;
    }(), PdfGridRowCollection = function() {
        function PdfGridRowCollection(grid) {
            this.rows = [], this.grid = grid;
        }
        return Object.defineProperty(PdfGridRowCollection.prototype, "count", {
            get: function() {
                return this.rows.length;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridRowCollection.prototype, "rowCollection", {
            get: function() {
                return this.rows;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridRowCollection.prototype.addRow = function(arg) {
            if (void 0 === arg) {
                var temprow = new PdfGridRow(this.grid);
                return this.addRow(temprow), temprow;
            }
            if (arg.style.setBackgroundBrush(this.grid.style.backgroundBrush), arg.style.setFont(this.grid.style.font), 
            arg.style.setTextBrush(this.grid.style.textBrush), arg.style.setTextPen(this.grid.style.textPen), 
            0 === arg.cells.count) for (var i = 0; i < this.grid.columns.count; i++) arg.cells.add(new PdfGridCell());
            this.rows.push(arg);
        }, PdfGridRowCollection.prototype.getRow = function(index) {
            return this.rows[index];
        }, PdfGridRowCollection;
    }(), PdfGridHeaderCollection = function() {
        function PdfGridHeaderCollection(grid) {
            this.rows = [], this.grid = grid, this.rows = [];
        }
        return PdfGridHeaderCollection.prototype.getHeader = function(index) {
            return this.rows[index];
        }, Object.defineProperty(PdfGridHeaderCollection.prototype, "count", {
            get: function() {
                return this.rows.length;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridHeaderCollection.prototype.add = function(arg) {
            if ("number" == typeof arg) {
                for (var row = void 0, i = 0; i < arg; i++) {
                    row = new PdfGridRow(this.grid);
                    for (var j = 0; j < this.grid.columns.count; j++) row.cells.add(new PdfGridCell());
                    this.rows.push(row);
                }
                return this.rows;
            }
            this.rows.push(arg);
        }, PdfGridHeaderCollection.prototype.indexOf = function(row) {
            return this.rows.indexOf(row);
        }, PdfGridHeaderCollection;
    }(), __extends$26$1 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), PdfGridLayoutFormat = function(_super) {
        function PdfGridLayoutFormat(baseFormat) {
            return void 0 === baseFormat ? _super.call(this) || this : _super.call(this, baseFormat) || this;
        }
        return __extends$26$1(PdfGridLayoutFormat, _super), PdfGridLayoutFormat;
    }(PdfLayoutFormat), PdfGrid = function(_super) {
        function PdfGrid() {
            var _this = _super.call(this) || this;
            return _this.gridSize = new SizeF(0, 0), _this.isRearranged = !1, _this.pageBounds = new RectangleF(), 
            _this.listOfNavigatePages = [], _this.flag = !0, _this.columnRanges = [], _this.currentLocation = new PointF(0, 0), 
            _this.breakRow = !0, _this;
        }
        return __extends$26$1(PdfGrid, _super), Object.defineProperty(PdfGrid.prototype, "raiseBeginCellDraw", {
            get: function() {
                return void 0 !== this.beginCellDraw && null !== typeof this.beginCellDraw;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "raiseEndCellDraw", {
            get: function() {
                return void 0 !== this.endCellDraw && null !== typeof this.endCellDraw;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "raiseBeginPageLayout", {
            get: function() {
                return void 0 !== this.beginPageLayout;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "raiseEndPageLayout", {
            get: function() {
                return void 0 !== this.endPageLayout;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "repeatHeader", {
            get: function() {
                return null != this.bRepeatHeader && void 0 !== this.bRepeatHeader || (this.bRepeatHeader = !1), 
                this.bRepeatHeader;
            },
            set: function(value) {
                this.bRepeatHeader = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "allowRowBreakAcrossPages", {
            get: function() {
                return this.breakRow;
            },
            set: function(value) {
                this.breakRow = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "columns", {
            get: function() {
                return null != this.gridColumns && void 0 !== this.gridColumns || (this.gridColumns = new PdfGridColumnCollection(this)), 
                this.gridColumns;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "rows", {
            get: function() {
                return null == this.gridRows && (this.gridRows = new PdfGridRowCollection(this)), 
                this.gridRows;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "headers", {
            get: function() {
                return null != this.gridHeaders && void 0 !== this.gridHeaders || (this.gridHeaders = new PdfGridHeaderCollection(this)), 
                this.gridHeaders;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "initialWidth", {
            get: function() {
                return this.gridInitialWidth;
            },
            set: function(value) {
                this.gridInitialWidth = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "style", {
            get: function() {
                return null == this.gridStyle && (this.gridStyle = new PdfGridStyle()), this.gridStyle;
            },
            set: function(value) {
                null == this.gridStyle && (this.gridStyle = value);
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "isPageWidth", {
            get: function() {
                return this.pageWidth;
            },
            set: function(value) {
                this.pageWidth = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "isChildGrid", {
            get: function() {
                return this.childGrid;
            },
            set: function(value) {
                this.childGrid = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGrid.prototype, "size", {
            get: function() {
                return 0 === this.gridSize.width && 0 === this.gridSize.height ? (this.gridSize = this.measure(), 
                this.gridSize) : this.gridSize;
            },
            set: function(value) {
                this.gridSize = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGrid.prototype.draw = function(arg1, arg2, arg3, arg4) {
            if (arg2 instanceof PointF && void 0 === arg2.width && void 0 === arg3) return this.drawHelper(arg1, arg2.x, arg2.y);
            if ("number" == typeof arg2 && "number" == typeof arg3 && void 0 === arg4) return this.drawHelper(arg1, arg2, arg3, null);
            if (arg2 instanceof RectangleF && void 0 !== arg2.width && void 0 === arg3) return this.drawHelper(arg1, arg2, null);
            if (arg2 instanceof PointF && void 0 === arg2.width && arg3 instanceof PdfLayoutFormat) return this.drawHelper(arg1, arg2.x, arg2.y, arg3);
            if ("number" == typeof arg2 && "number" == typeof arg3 && (arg4 instanceof PdfLayoutFormat || null == arg4)) {
                var width = arg1.graphics.clientSize.width - arg2, layoutRectangle = new RectangleF(arg2, arg3, width, 0);
                return this.drawHelper(arg1, layoutRectangle, arg4);
            }
            return arg2 instanceof RectangleF && void 0 !== arg2.width && "boolean" == typeof arg3 ? this.drawHelper(arg1, arg2, null) : this.drawHelper(arg1, arg2, arg3);
        }, PdfGrid.prototype.measure = function() {
            for (var height = 0, width = this.columns.width, i = 0; i < this.headers.count; i++) {
                height += this.headers.getHeader(i).height;
            }
            for (i = 0; i < this.rows.count; i++) {
                height += this.rows.getRow(i).height;
            }
            return new SizeF(width, height);
        }, PdfGrid.prototype.layout = function(param, isGridLayouter) {
            if (void 0 === isGridLayouter) {
                this.setSpan(), this.layoutFormat = param.format, this.gridLocation = param.bounds;
                return this.layout(param, !0);
            }
            return this.layoutInternal(param);
        }, PdfGrid.prototype.setSpan = function() {
            for (var colSpan, currentCellIndex, rowSpan = 1, currentRowIndex = 0, rowCount = this.headers.count, i = 0; i < rowCount; i++) for (var row = this.headers.getHeader(i), colCount = row.cells.count, j = 0; j < colCount; j++) {
                var cell = row.cells.getCell(j);
                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {
                    if (cell.columnSpan + j > row.cells.count) throw new Error("Invalid span specified at row " + j.toString() + " column " + i.toString());
                    if (cell.rowSpan + i > this.headers.count) throw new Error("Invalid span specified at Header " + j.toString() + " column " + i.toString());
                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {
                        for (colSpan = cell.columnSpan, rowSpan = cell.rowSpan, currentCellIndex = j, currentRowIndex = i, 
                        cell.isCellMergeStart = !0, cell.isRowMergeStart = !0; colSpan > 1; ) currentCellIndex++, 
                        row.cells.getCell(currentCellIndex).isCellMergeContinue = !0, row.cells.getCell(currentCellIndex).isRowMergeContinue = !0, 
                        row.cells.getCell(currentCellIndex).rowSpan = rowSpan, colSpan--;
                        for (currentCellIndex = j, colSpan = cell.columnSpan; rowSpan > 1; ) {
                            for (currentRowIndex++, this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = !0, 
                            this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = !0, 
                            rowSpan--; colSpan > 1; ) currentCellIndex++, this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = !0, 
                            this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = !0, 
                            colSpan--;
                            colSpan = cell.columnSpan, currentCellIndex = j;
                        }
                    } else if (cell.columnSpan > 1 && 1 === cell.rowSpan) for (colSpan = cell.columnSpan, 
                    currentCellIndex = j, cell.isCellMergeStart = !0; colSpan > 1; ) currentCellIndex++, 
                    row.cells.getCell(currentCellIndex).isCellMergeContinue = !0, colSpan--; else if (1 === cell.columnSpan && cell.rowSpan > 1) for (rowSpan = cell.rowSpan, 
                    currentRowIndex = i; rowSpan > 1; ) currentRowIndex++, this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = !0, 
                    rowSpan--;
                }
            }
        }, PdfGrid.prototype.getFormat = function(format) {
            return format;
        }, PdfGrid.prototype.layoutInternal = function(param) {
            this.initialWidth = param.bounds.width;
            this.getFormat(param.format);
            if (this.currentPage = param.page, null === this.currentPage) throw Error("Can not set page as null");
            this.currentPage.getClientSize().height, this.currentPage.getClientSize().width;
            this.currentPageBounds = this.currentPage.getClientSize(), this.currentGraphics = this.currentPage.graphics;
            var index = 0;
            if (index = this.currentGraphics.page.section.indexOf(this.currentGraphics.page), 
            this.listOfNavigatePages.push(index), this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize), 
            0 !== this.rows.count) this.currentBounds.width = param.bounds.width > 0 ? param.bounds.width : this.currentBounds.width - this.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2; else {
                if (0 === this.headers.count) throw Error("Please add row or header into grid");
                this.currentBounds.width = param.bounds.width;
            }
            this.startLocation = new PointF(param.bounds.x, param.bounds.y), param.bounds.height > 0 && !this.isChildGrid && (this.currentBounds.height = param.bounds.height), 
            this.hType = this.style.horizontalOverflowType, this.style.allowHorizontalOverflow ? (this.measureColumnsWidth(), 
            this.determineColumnDrawRanges()) : (this.measureColumnsWidth(this.currentBounds), 
            this.columnRanges.push([ 0, this.columns.count - 1 ]));
            return this.layoutOnPage(param);
        }, PdfGrid.prototype.measureColumnsWidth = function(bounds) {
            if (void 0 !== bounds) for (var widths = this.columns.getDefaultWidths(bounds.width), i = (this.columns.getColumn(0).width, 
            0), count = this.columns.count; i < count; i++) this.columns.getColumn(i).width = widths[i]; else {
                widths = [];
                var cellWidth = 0;
                if (this.headers.count > 0) {
                    var colCount = this.headers.getHeader(0).cells.count, rowCount = this.headers.count;
                    for (i = 0; i < colCount; i++) {
                        cellWidth = 0;
                        for (var j = 0; j < rowCount; j++) {
                            var rowWidth = Math.min(this.initialWidth, this.headers.getHeader(j).cells.getCell(i).width);
                            cellWidth = Math.max(cellWidth, rowWidth);
                        }
                        widths[i] = cellWidth;
                    }
                } else for (colCount = this.rows.getRow(0).cells.count, rowCount = this.rows.count, 
                i = 0; i < colCount; i++) {
                    cellWidth = 0;
                    for (j = 0; j < rowCount; j++) {
                        rowWidth = Math.min(this.initialWidth, this.rows.getRow(j).cells.getCell(i).width);
                        cellWidth = Math.max(cellWidth, rowWidth);
                    }
                    widths[i] = cellWidth;
                }
                cellWidth = 0;
                for (i = 0, colCount = this.columns.count; i < colCount; i++) {
                    for (j = 0, rowCount = this.rows.count; j < rowCount; j++) if (1 == this.rows.getRow(j).cells.getCell(i).columnSpan || null !== this.rows.getRow(j).cells.getCell(i).value || this.rows.getRow(j).cells.getCell(i).rowSpan >= 1) {
                        if (null !== this.rows.getRow(j).cells.getCell(i).value && !this.rows.getRow(j).grid.style.allowHorizontalOverflow) {
                            var value = this.rows.getRow(j).grid.style.cellPadding.right + this.rows.getRow(j).grid.style.cellPadding.left + this.rows.getRow(j).cells.getCell(i).style.borders.left.width / 2 + this.gridLocation.x;
                            this.rows.getRow(j).cells.getCell(i).value.initialWidth = this.initialWidth - value;
                        }
                        rowWidth = 0;
                        var internalWidth = this.rows.getRow(j).cells.getCell(i).width;
                        internalWidth += this.rows.getRow(j).cells.getCell(i).style.borders.left.width, 
                        internalWidth += this.rows.getRow(j).cells.getCell(i).style.borders.right.width;
                        var internalHeight = this.rows.getRow(j).cells.getCell(i).height;
                        internalHeight += this.rows.getRow(j).cells.getCell(i).style.borders.top.width, 
                        internalHeight += this.rows.getRow(j).cells.getCell(i).style.borders.bottom.width;
                        var isCorrectWidth = internalWidth + this.gridLocation.x > this.currentGraphics.clientSize.width, isCorrectHeight = internalHeight + this.gridLocation.y > this.currentGraphics.clientSize.height;
                        if (isCorrectWidth || isCorrectHeight) throw Error("Image size exceeds client size of the page. Can not insert this image");
                        rowWidth = Math.min(this.initialWidth, this.rows.getRow(j).cells.getCell(i).width), 
                        cellWidth = Math.max(widths[i], Math.max(cellWidth, rowWidth)), cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);
                    }
                    widths[i] = cellWidth, cellWidth = 0;
                }
                for (i = 0, count = this.columns.count; i < count; i++) this.columns.getColumn(i).width = widths[i];
            }
        }, PdfGrid.prototype.determineColumnDrawRanges = function() {
            for (var startColumn = 0, endColumn = 0, cellWidths = 0, availableWidth = this.currentGraphics.clientSize.width - this.currentBounds.x, i = 0; i < this.columns.count; i++) if ((cellWidths += this.columns.getColumn(i).width) >= availableWidth) {
                for (var subWidths = 0, j = startColumn; j <= i && !((subWidths += this.columns.getColumn(j).width) > availableWidth); j++) endColumn = j;
                this.columnRanges.push([ startColumn, endColumn ]), cellWidths = (endColumn = startColumn = endColumn + 1) <= i ? this.columns.getColumn(i).width : 0;
            }
            this.columnRanges.push([ startColumn, this.columns.count - 1 ]);
        }, PdfGrid.prototype.layoutOnPage = function(param) {
            this.pageBounds.x = param.bounds.x, this.pageBounds.y = param.bounds.y, this.pageBounds.height = param.bounds.height;
            for (var format = this.getFormat(param.format), result = null, layoutedPages = new TemporaryDictionary(), startPage = param.page, cellBounds = [], index = 0; index < this.columnRanges.length; index++) {
                var range = this.columnRanges[index];
                this.cellStartIndex = range[0], this.cellEndIndex = range[1];
                var returnObject = this.raiseBeforePageLayout(this.currentPage, this.currentBounds, this.currentRowIndex);
                this.currentBounds = returnObject.currentBounds, this.currentRowIndex = returnObject.currentRowIndex;
                for (var i_1 = 0; i_1 < this.headers.count; i_1++) {
                    var row = this.headers.getHeader(i_1);
                    this.currentBounds.y, this.drawRow(row);
                }
                var i = 0, repeatRow = (this.rows.count, void 0);
                cellBounds = [];
                for (var j = 0; j < this.rows.count; j++) {
                    row = this.rows.getRow(j);
                    i++, this.currentRowIndex = i - 1;
                    var originalHeight = this.currentBounds.y;
                    startPage = this.currentPage, PdfGrid.repeatRowIndex = -1;
                    var rowResult = this.drawRow(row);
                    if (cellBounds.push(rowResult.bounds.width), originalHeight === this.currentBounds.y ? (repeatRow = !0, 
                    PdfGrid.repeatRowIndex = this.rows.rowCollection.indexOf(row)) : (repeatRow = !1, 
                    PdfGrid.repeatRowIndex = -1), !rowResult.isFinish && null !== startPage && format.layout !== PdfLayoutType.OnePage && repeatRow) {
                        if (this.startLocation.x = this.currentBounds.x, this.currentPage = this.getNextPage(format), 
                        null !== param.format && !param.format.usePaginateBounds && null !== param.bounds && param.bounds.height > 0 && !this.isChildGrid && (this.currentBounds.height = param.bounds.height), 
                        null !== param.format && !param.format.usePaginateBounds && null !== param.bounds && param.bounds.y > 0 && !this.isChildGrid && (this.currentBounds.y = param.bounds.y), 
                        this.startLocation.y = this.currentBounds.y, format.paginateBounds.x === format.paginateBounds.y && format.paginateBounds.y === format.paginateBounds.height && format.paginateBounds.height === format.paginateBounds.width && 0 === format.paginateBounds.width && (this.currentBounds.x += this.startLocation.x), 
                        this.currentBounds.x === PdfBorders.default.left.width / 2 && (this.currentBounds.y += this.startLocation.x), 
                        this.repeatHeader) for (var i_2 = 0; i_2 < this.headers.count; i_2++) {
                            var header = this.headers.getHeader(i_2);
                            this.drawRow(header);
                        }
                        this.drawRow(row), null === this.currentPage || layoutedPages.containsKey(this.currentPage) || layoutedPages.add(this.currentPage, range);
                    }
                }
                var maximumCellBoundsWidth = 0;
                cellBounds.length > 0 && (maximumCellBoundsWidth = cellBounds[0]);
                if (cellBounds.length > 0) {
                    for (var c = 0; c < i - 1; c++) maximumCellBoundsWidth < cellBounds[c] && (maximumCellBoundsWidth = cellBounds[c]);
                    this.rowLayoutBoundsWidth = maximumCellBoundsWidth;
                } else this.rowLayoutBoundsWidth = 0;
                this.columnRanges.length - 1 !== index && this.columnRanges.length > 1 && format.layout !== PdfLayoutType.OnePage && (this.currentPage = this.getNextPage(format), 
                format.paginateBounds.x === format.paginateBounds.y && format.paginateBounds.y === format.paginateBounds.height && format.paginateBounds.height === format.paginateBounds.width && 0 === format.paginateBounds.width && (this.currentBounds.x += this.startLocation.x, 
                this.currentBounds.y += this.startLocation.y));
            }
            return result = this.getLayoutResult(), this.style.allowHorizontalOverflow && this.style.horizontalOverflowType == PdfHorizontalOverflowType.NextPage && this.reArrangePages(layoutedPages), 
            this.raisePageLayouted(result), result;
        }, PdfGrid.prototype.getNextPage = function(format) {
            var section = this.currentPage.section, nextPage = null, index = section.indexOf(this.currentPage);
            this.flag = !1, nextPage = index === section.count - 1 ? section.add() : section.getPages()[index + 1], 
            this.currentGraphics = nextPage.graphics;
            var pageindex = this.currentGraphics.page.section.indexOf(this.currentGraphics.page);
            return -1 === this.listOfNavigatePages.indexOf(pageindex) && this.listOfNavigatePages.push(pageindex), 
            this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize()), 
            nextPage;
        }, PdfGrid.prototype.getLayoutResult = function() {
            var bounds;
            return bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y - this.startLocation.y)), 
            new PdfGridLayoutResult(this.currentPage, bounds);
        }, PdfGrid.prototype.ReCalculateHeight = function(row, height) {
            return Math.max(height, 0);
        }, PdfGrid.prototype.raiseBeforePageLayout = function(currentPage, currentBounds, currentRow) {
            var cancel = !1;
            if (this.raiseBeginPageLayout) {
                var args = new PdfGridBeginPageLayoutEventArgs(currentBounds, currentPage, currentRow);
                this.beginPageLayout(this, args), cancel = args.cancel, currentBounds = args.bounds, 
                currentRow = args.startRowIndex;
            }
            return {
                returnValue: cancel,
                currentBounds: currentBounds,
                currentRowIndex: currentRow
            };
        }, PdfGrid.prototype.raisePageLayouted = function(result) {
            var args = new PdfGridEndPageLayoutEventArgs(result);
            return this.raiseEndPageLayout && this.endPageLayout(this, args), args;
        }, PdfGrid.prototype.drawRow = function(row, result, height) {
            if (void 0 === result) {
                var result_1 = new RowLayoutResult(), rowHeightWithSpan = 0, size = new SizeF(0, 0), isHeader = !1;
                if (row.rowSpanExists) {
                    var maxSpan = 0, currRowIndex = this.rows.rowCollection.indexOf(row);
                    -1 === currRowIndex && -1 !== (currRowIndex = this.headers.indexOf(row)) && (isHeader = !0);
                    for (var i = 0; i < row.cells.count; i++) {
                        var cell = row.cells.getCell(i);
                        maxSpan = Math.max(maxSpan, cell.rowSpan);
                    }
                    for (i = currRowIndex; i < currRowIndex + maxSpan; i++) rowHeightWithSpan += isHeader ? this.headers.getHeader(i).height : this.rows.getRow(i).height;
                    var rowMaxHeight = rowHeightWithSpan;
                    for (i = 0; i < row.cells.count; i++) rowMaxHeight = rowMaxHeight > row.cells.getCell(i).height ? rowMaxHeight : row.cells.getCell(i).height;
                    var nextRow = this.headers.getHeader(this.headers.indexOf(row) + 1), flag = !0;
                    for (i = 0; i < nextRow.cells.count; i++) if ("" !== nextRow.cells.getCell(i).value && void 0 !== nextRow.cells.getCell(i).value) {
                        flag = !1;
                        break;
                    }
                    rowMaxHeight > rowHeightWithSpan && flag && (row.height += rowMaxHeight - rowHeightWithSpan);
                }
                var calculatedHeight = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;
                return this.currentBounds.y + calculatedHeight > this.currentPageBounds.height || this.currentBounds.y + calculatedHeight > this.currentBounds.height + this.startLocation.y || this.currentBounds.y + rowHeightWithSpan > this.currentPageBounds.height ? result_1.isFinish = !1 : (result_1.isFinish = !0, 
                this.drawRow(row, result_1, calculatedHeight)), result_1;
            }
            var location_2 = new PointF(this.currentBounds.x, this.currentBounds.y);
            result.bounds = new RectangleF(location_2, new SizeF(0, 0)), height = this.ReCalculateHeight(row, height);
            for (i = this.cellStartIndex; i <= this.cellEndIndex; i++) {
                var cancelSpans = i > this.cellEndIndex + 1 && row.cells.getCell(i).columnSpan > 1;
                if (!cancelSpans) for (var j = 1; j < row.cells.getCell(i).columnSpan; j++) row.cells.getCell(i + j).isCellMergeContinue = !0;
                size = new SizeF(this.columns.getColumn(i).width, height);
                !this.CheckIfDefaultFormat(this.columns.getColumn(i).format) && this.CheckIfDefaultFormat(row.cells.getCell(i).stringFormat) && (row.cells.getCell(i).stringFormat = this.columns.getColumn(i).format);
                var cellstyle = row.cells.getCell(i).style, tempValue = "string" == typeof row.cells.getCell(i).value && null !== row.cells.getCell(i).value ? row.cells.getCell(i).value : "";
                row.cells.getCell(i).style = this.RaiseBeforeCellDraw(this.currentGraphics, this.currentRowIndex, i, new RectangleF(location_2, size), tempValue, cellstyle);
                var stringResult = row.cells.getCell(i).draw(this.currentGraphics, new RectangleF(location_2, size), cancelSpans);
                row.grid.style.allowHorizontalOverflow && (row.cells.getCell(i).columnSpan > this.cellEndIndex || i + row.cells.getCell(i).columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1 && (row.rowOverflowIndex = this.cellEndIndex), 
                row.grid.style.allowHorizontalOverflow && row.rowOverflowIndex > 0 && (row.cells.getCell(i).columnSpan > this.cellEndIndex || i + row.cells.getCell(i).columnSpan > this.cellEndIndex + 1) && row.cells.getCell(i).columnSpan - this.cellEndIndex + i - 1 > 0 && (row.cells.getCell(row.rowOverflowIndex + 1).value = null !== stringResult && void 0 !== stringResult.remainder ? stringResult.remainder : "", 
                row.cells.getCell(row.rowOverflowIndex + 1).stringFormat = row.cells.getCell(i).stringFormat, 
                row.cells.getCell(row.rowOverflowIndex + 1).style = row.cells.getCell(i).style, 
                row.cells.getCell(row.rowOverflowIndex + 1).columnSpan = row.cells.getCell(i).columnSpan - this.cellEndIndex + i - 1), 
                tempValue = "string" == typeof row.cells.getCell(i).value && null !== row.cells.getCell(i).value ? row.cells.getCell(i).value : "", 
                this.RaiseAfterCellDraw(this.currentGraphics, this.currentRowIndex, i, new RectangleF(location_2, size), tempValue, row.cells.getCell(i).style), 
                location_2.x += this.columns.getColumn(i).width;
            }
            this.currentBounds.y += height, result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location_2.x, location_2.y));
        }, PdfGrid.prototype.CheckIfDefaultFormat = function(format) {
            var defaultFormat = new PdfStringFormat();
            return format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing && format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent && format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor && format.lineAlignment === defaultFormat.lineAlignment && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing && format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip && format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft && format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing && format.wordWrap === defaultFormat.wordWrap;
        }, PdfGrid.prototype.RaiseBeforeCellDraw = function(graphics, rowIndex, cellIndex, bounds, value, style) {
            var args = null;
            return this.raiseBeginCellDraw && (args = new PdfGridBeginCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style), 
            this.beginCellDraw(this, args), style = args.style), style;
        }, PdfGrid.prototype.RaiseAfterCellDraw = function(graphics, rowIndex, cellIndex, bounds, value, cellstyle) {
            var args = null;
            this.raiseEndCellDraw && (args = new PdfGridEndCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, cellstyle), 
            this.endCellDraw(this, args));
        }, PdfGrid.prototype.reArrangePages = function(layoutedPages) {
            for (var document = this.currentPage.document, pages = [], keys = layoutedPages.keys(), i = (layoutedPages.values(), 
            0); i < keys.length; i++) {
                (page = keys[i]).section = null, pages.push(page), document.pages.remove(page);
            }
            for (i = 0; i < layoutedPages.size(); i++) for (var j = i, count_1 = layoutedPages.size() / this.columnRanges.length; j < layoutedPages.size(); j += count_1) {
                var page = pages[j];
                -1 === document.pages.indexOf(page) && document.pages.add(page);
            }
        }, PdfGrid.repeatRowIndex = -1, PdfGrid;
    }(PdfLayoutElement), GridCellEventArgs = function() {
        function GridCellEventArgs(graphics, rowIndex, cellIndex, bounds, value) {
            this.gridRowIndex = rowIndex, this.gridCellIndex = cellIndex, this.internalValue = value, 
            this.gridBounds = bounds, this.pdfGraphics = graphics;
        }
        return Object.defineProperty(GridCellEventArgs.prototype, "rowIndex", {
            get: function() {
                return this.gridRowIndex;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(GridCellEventArgs.prototype, "cellIndex", {
            get: function() {
                return this.gridCellIndex;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(GridCellEventArgs.prototype, "value", {
            get: function() {
                return this.internalValue;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(GridCellEventArgs.prototype, "bounds", {
            get: function() {
                return this.gridBounds;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(GridCellEventArgs.prototype, "graphics", {
            get: function() {
                return this.pdfGraphics;
            },
            enumerable: !0,
            configurable: !0
        }), GridCellEventArgs;
    }(), PdfGridBeginCellDrawEventArgs = function(_super) {
        function PdfGridBeginCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style) {
            var _this = _super.call(this, graphics, rowIndex, cellIndex, bounds, value) || this;
            return _this.style = style, _this;
        }
        return __extends$26$1(PdfGridBeginCellDrawEventArgs, _super), Object.defineProperty(PdfGridBeginCellDrawEventArgs.prototype, "skip", {
            get: function() {
                return this.bSkip;
            },
            set: function(value) {
                this.bSkip = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(PdfGridBeginCellDrawEventArgs.prototype, "style", {
            get: function() {
                return this.cellStyle;
            },
            set: function(value) {
                this.cellStyle = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridBeginCellDrawEventArgs;
    }(GridCellEventArgs), PdfGridEndCellDrawEventArgs = function(_super) {
        function PdfGridEndCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style) {
            var _this = _super.call(this, graphics, rowIndex, cellIndex, bounds, value) || this;
            return _this.cellStyle = style, _this;
        }
        return __extends$26$1(PdfGridEndCellDrawEventArgs, _super), Object.defineProperty(PdfGridEndCellDrawEventArgs.prototype, "style", {
            get: function() {
                return this.cellStyle;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridEndCellDrawEventArgs;
    }(GridCellEventArgs), PdfCancelEventArgs = function() {
        function PdfCancelEventArgs() {}
        return Object.defineProperty(PdfCancelEventArgs.prototype, "cancel", {
            get: function() {
                return this.isCancel;
            },
            set: function(value) {
                this.isCancel = value;
            },
            enumerable: !0,
            configurable: !0
        }), PdfCancelEventArgs;
    }(), BeginPageLayoutEventArgs = function(_super) {
        function BeginPageLayoutEventArgs(bounds, page) {
            var _this = _super.call(this) || this;
            return _this.bounds = bounds, _this.pdfPage = page, _this;
        }
        return __extends$26$1(BeginPageLayoutEventArgs, _super), Object.defineProperty(BeginPageLayoutEventArgs.prototype, "bounds", {
            get: function() {
                return this.cellBounds;
            },
            set: function(value) {
                this.cellBounds = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(BeginPageLayoutEventArgs.prototype, "page", {
            get: function() {
                return this.pdfPage;
            },
            enumerable: !0,
            configurable: !0
        }), BeginPageLayoutEventArgs;
    }(PdfCancelEventArgs), EndPageLayoutEventArgs = function(_super) {
        function EndPageLayoutEventArgs(result) {
            var _this = _super.call(this) || this;
            return _this.layoutResult = result, _this;
        }
        return __extends$26$1(EndPageLayoutEventArgs, _super), Object.defineProperty(EndPageLayoutEventArgs.prototype, "result", {
            get: function() {
                return this.layoutResult;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(EndPageLayoutEventArgs.prototype, "nextPage", {
            get: function() {
                return this.nextPdfPage;
            },
            set: function(value) {
                this.nextPdfPage = value;
            },
            enumerable: !0,
            configurable: !0
        }), EndPageLayoutEventArgs;
    }(PdfCancelEventArgs), PdfGridBeginPageLayoutEventArgs = function(_super) {
        function PdfGridBeginPageLayoutEventArgs(bounds, page, startRow) {
            var _this = _super.call(this, bounds, page) || this;
            return _this.startRow = startRow, _this;
        }
        return __extends$26$1(PdfGridBeginPageLayoutEventArgs, _super), Object.defineProperty(PdfGridBeginPageLayoutEventArgs.prototype, "startRowIndex", {
            get: function() {
                return this.startRow;
            },
            enumerable: !0,
            configurable: !0
        }), PdfGridBeginPageLayoutEventArgs;
    }(BeginPageLayoutEventArgs), PdfGridEndPageLayoutEventArgs = function(_super) {
        function PdfGridEndPageLayoutEventArgs(result) {
            return _super.call(this, result) || this;
        }
        return __extends$26$1(PdfGridEndPageLayoutEventArgs, _super), PdfGridEndPageLayoutEventArgs;
    }(EndPageLayoutEventArgs), RowLayoutResult = function() {
        function RowLayoutResult() {
            this.layoutedBounds = new RectangleF(0, 0, 0, 0);
        }
        return Object.defineProperty(RowLayoutResult.prototype, "isFinish", {
            get: function() {
                return this.bIsFinished;
            },
            set: function(value) {
                this.bIsFinished = value;
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(RowLayoutResult.prototype, "bounds", {
            get: function() {
                return this.layoutedBounds;
            },
            set: function(value) {
                this.layoutedBounds = value;
            },
            enumerable: !0,
            configurable: !0
        }), RowLayoutResult;
    }(), PdfGridLayoutResult = function(_super) {
        function PdfGridLayoutResult(page, bounds) {
            return _super.call(this, page, bounds) || this;
        }
        return __extends$26$1(PdfGridLayoutResult, _super), PdfGridLayoutResult;
    }(PdfLayoutResult), _pdfexport = Object.freeze({
        PdfAction: PdfAction,
        PdfUriAction: PdfUriAction,
        PdfActionLinkAnnotation: PdfActionLinkAnnotation,
        PdfAnnotation: PdfAnnotation,
        PdfAnnotationCollection: PdfAnnotationCollection,
        PdfDocumentLinkAnnotation: PdfDocumentLinkAnnotation,
        PdfLinkAnnotation: PdfLinkAnnotation,
        PdfTextWebLink: PdfTextWebLink,
        PdfUriAnnotation: PdfUriAnnotation,
        Dictionary: Dictionary,
        defaultToString: defaultToString,
        PdfCatalog: PdfCatalog,
        PdfDocument: PdfDocument,
        PdfDocumentBase: PdfDocumentBase,
        PdfDocumentTemplate: PdfDocumentTemplate,
        PdfPageNumberField: PdfPageNumberField,
        PdfCompositeField: PdfCompositeField,
        PdfPageCountField: PdfPageCountField,
        PointF: PointF,
        SizeF: SizeF,
        RectangleF: RectangleF,
        PdfCacheCollection: PdfCacheCollection,
        PdfCollection: PdfCollection,
        PdfDestination: PdfDestination,
        get PdfDestinationMode() {
            return PdfDestinationMode;
        },
        ProcedureSets: ProcedureSets,
        get PdfHorizontalAlignment() {
            return PdfHorizontalAlignment;
        },
        get PdfVerticalAlignment() {
            return PdfVerticalAlignment;
        },
        get PdfTextAlignment() {
            return PdfTextAlignment;
        },
        get TextRenderingMode() {
            return TextRenderingMode;
        },
        get PdfLineJoin() {
            return PdfLineJoin;
        },
        get PdfLineCap() {
            return PdfLineCap;
        },
        get PdfDashStyle() {
            return PdfDashStyle;
        },
        get PdfFillMode() {
            return PdfFillMode;
        },
        get PdfColorSpace() {
            return PdfColorSpace;
        },
        get PdfBlendMode() {
            return PdfBlendMode;
        },
        get PdfGraphicsUnit() {
            return PdfGraphicsUnit;
        },
        get PdfGridImagePosition() {
            return PdfGridImagePosition;
        },
        PdfColor: PdfColor,
        PdfGraphics: PdfGraphics,
        GetResourceEventHandler: GetResourceEventHandler,
        PdfGraphicsState: PdfGraphicsState,
        PdfMargins: PdfMargins,
        PdfPen: PdfPen,
        PdfResources: PdfResources,
        Guid: Guid,
        PdfTransformationMatrix: PdfTransformationMatrix,
        Matrix: Matrix$1,
        PdfBrush: PdfBrush,
        PdfSolidBrush: PdfSolidBrush,
        PdfTemplate: PdfTemplate,
        PdfLayoutElement: PdfLayoutElement,
        PdfTextElement: PdfTextElement,
        ElementLayouter: ElementLayouter,
        PdfLayoutFormat: PdfLayoutFormat,
        PdfLayoutParams: PdfLayoutParams,
        PdfLayoutResult: PdfLayoutResult,
        TextLayouter: TextLayouter,
        TextPageLayoutResult: TextPageLayoutResult,
        PdfTextLayoutResult: PdfTextLayoutResult,
        get PdfLayoutType() {
            return PdfLayoutType;
        },
        get PdfLayoutBreakType() {
            return PdfLayoutBreakType;
        },
        get PdfFontStyle() {
            return PdfFontStyle;
        },
        get PdfFontFamily() {
            return PdfFontFamily;
        },
        get PdfFontType() {
            return PdfFontType;
        },
        get PdfWordWrapType() {
            return PdfWordWrapType;
        },
        get PdfSubSuperScript() {
            return PdfSubSuperScript;
        },
        get FontEncoding() {
            return FontEncoding;
        },
        PdfFont: PdfFont,
        PdfFontMetrics: PdfFontMetrics,
        WidthTable: WidthTable,
        StandardWidthTable: StandardWidthTable,
        PdfStandardFont: PdfStandardFont,
        PdfStandardFontMetricsFactory: PdfStandardFontMetricsFactory,
        PdfStringFormat: PdfStringFormat,
        PdfStringLayouter: PdfStringLayouter,
        PdfStringLayoutResult: PdfStringLayoutResult,
        LineInfo: LineInfo,
        get LineType() {
            return LineType;
        },
        StringTokenizer: StringTokenizer,
        ByteArray: ByteArray,
        get ImageFormat() {
            return ImageFormat;
        },
        ImageDecoder: ImageDecoder,
        PdfBitmap: PdfBitmap,
        PdfImage: PdfImage,
        PdfTransparency: PdfTransparency,
        get ObjectStatus() {
            return ObjectStatus;
        },
        get ObjectType() {
            return ObjectType;
        },
        PdfCrossTable: PdfCrossTable,
        RegisteredObject: RegisteredObject,
        DictionaryProperties: DictionaryProperties,
        PdfMainObjectCollection: PdfMainObjectCollection,
        ObjectInfo: ObjectInfo,
        Operators: Operators,
        PdfStreamWriter: PdfStreamWriter,
        PdfWriter: PdfWriter,
        get PdfPageOrientation() {
            return PdfPageOrientation;
        },
        get PdfPageRotateAngle() {
            return PdfPageRotateAngle;
        },
        get PdfNumberStyle() {
            return PdfNumberStyle;
        },
        get PdfDockStyle() {
            return PdfDockStyle;
        },
        get PdfAlignmentStyle() {
            return PdfAlignmentStyle;
        },
        get TemplateType() {
            return TemplateType;
        },
        PageAddedEventArgs: PageAddedEventArgs,
        PdfDocumentPageCollection: PdfDocumentPageCollection,
        PdfPage: PdfPage,
        PdfPageBase: PdfPageBase,
        PdfPageLayer: PdfPageLayer,
        PdfPageLayerCollection: PdfPageLayerCollection,
        PdfPageSettings: PdfPageSettings,
        PdfPageSize: PdfPageSize,
        PdfPageTemplateElement: PdfPageTemplateElement,
        PdfSection: PdfSection,
        PageSettingsState: PageSettingsState,
        PdfSectionCollection: PdfSectionCollection,
        PdfSectionPageCollection: PdfSectionPageCollection,
        PdfSectionTemplate: PdfSectionTemplate,
        PdfArray: PdfArray,
        PdfDictionary: PdfDictionary,
        SaveSectionCollectionEventHandler: SaveSectionCollectionEventHandler,
        SaveAnnotationEventHandler: SaveAnnotationEventHandler,
        SaveSectionEventHandler: SaveSectionEventHandler,
        SaveTemplateEventHandler: SaveTemplateEventHandler,
        PdfName: PdfName,
        PdfNumber: PdfNumber,
        PdfReference: PdfReference,
        PdfReferenceHolder: PdfReferenceHolder,
        PdfStream: PdfStream,
        get InternalEnum() {
            return InternalEnum;
        },
        PdfString: PdfString,
        PdfGridStyleBase: PdfGridStyleBase,
        PdfGridStyle: PdfGridStyle,
        PdfGridCellStyle: PdfGridCellStyle,
        PdfGridRowStyle: PdfGridRowStyle,
        get PdfHorizontalOverflowType() {
            return PdfHorizontalOverflowType;
        },
        PdfBorders: PdfBorders,
        PdfPaddings: PdfPaddings,
        get PdfBorderOverlapStyle() {
            return PdfBorderOverlapStyle;
        },
        PdfGridLayoutFormat: PdfGridLayoutFormat,
        PdfGrid: PdfGrid,
        GridCellEventArgs: GridCellEventArgs,
        PdfGridBeginCellDrawEventArgs: PdfGridBeginCellDrawEventArgs,
        PdfGridEndCellDrawEventArgs: PdfGridEndCellDrawEventArgs,
        PdfCancelEventArgs: PdfCancelEventArgs,
        BeginPageLayoutEventArgs: BeginPageLayoutEventArgs,
        EndPageLayoutEventArgs: EndPageLayoutEventArgs,
        PdfGridBeginPageLayoutEventArgs: PdfGridBeginPageLayoutEventArgs,
        PdfGridEndPageLayoutEventArgs: PdfGridEndPageLayoutEventArgs,
        RowLayoutResult: RowLayoutResult,
        PdfGridLayoutResult: PdfGridLayoutResult,
        PdfGridColumn: PdfGridColumn,
        PdfGridColumnCollection: PdfGridColumnCollection,
        PdfGridRow: PdfGridRow,
        PdfGridRowCollection: PdfGridRowCollection,
        PdfGridHeaderCollection: PdfGridHeaderCollection,
        PdfGridCell: PdfGridCell,
        PdfGridCellCollection: PdfGridCellCollection
    }), PdfExport = function() {
        function PdfExport(parent) {
            this.hideColumnInclude = !1, this.currentViewData = !1, this.customDataSource = !1, 
            this.isGrouping = !1, this.parent = parent, this.helper = new ExportHelper(parent);
        }
        return PdfExport.prototype.getModuleName = function() {
            return "PdfExport";
        }, PdfExport.prototype.init = function(parent) {
            this.exportValueFormatter = new ExportValueFormatter(), this.pdfDocument = void 0, 
            this.hideColumnInclude = !1, this.currentViewData = !1, this.parent = parent;
            var gObj = parent;
            this.isGrouping = !1, this.isExporting = !0, gObj.trigger("beforePdfExport");
        }, PdfExport.prototype.Map = function(parent, pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {
            var _this = this;
            if (this.data = new Data(this.parent), this.isBlob = isBlob, !isNullOrUndefined(pdfExportProperties) && !isNullOrUndefined(pdfExportProperties.dataSource) && pdfExportProperties.dataSource instanceof DataManager) {
                return new Promise(function(resolve, reject) {
                    new DataManager({
                        url: pdfExportProperties.dataSource.dataSource.url,
                        adaptor: pdfExportProperties.dataSource.adaptor
                    }).executeQuery(new Query()).then(function(returnType) {
                        _this.init(parent), isNullOrUndefined(pdfDoc) ? _this.pdfDocument = new PdfDocument() : _this.pdfDocument = pdfDoc, 
                        _this.processExport(parent, returnType, pdfExportProperties, isMultipleExport), 
                        _this.isExporting = !1, parent.trigger("pdfExportComplete", _this.isBlob ? {
                            promise: _this.blobPromise
                        } : {}), resolve(_this.pdfDocument);
                    });
                });
            }
            var allPromise = [];
            allPromise.push(this.data.getData({}, ExportHelper.getQuery(parent, this.data))), 
            allPromise.push(this.helper.getColumnData(parent));
            var bool_1 = !0;
            return Promise.all(allPromise).then(function(e) {
                bool_1 && (_this.init(parent), isNullOrUndefined(pdfDoc) ? _this.pdfDocument = new PdfDocument() : _this.pdfDocument = pdfDoc, 
                _this.processExport(parent, e[0], pdfExportProperties, isMultipleExport), _this.isExporting = !1, 
                parent.trigger("pdfExportComplete", _this.isBlob ? {
                    promise: _this.blobPromise
                } : {}), bool_1 = !1);
            });
        }, PdfExport.prototype.processExport = function(gObj, returnType, pdfExportProperties, isMultipleExport) {
            isNullOrUndefined(pdfExportProperties) || (this.gridTheme = pdfExportProperties.theme);
            var columns = gObj.columns, dataSource = returnType.result, section = this.pdfDocument.sections.add(), result = this.processExportProperties(pdfExportProperties, dataSource, section);
            isNullOrUndefined((dataSource = result.dataSource).GroupGuid) || (this.isGrouping = !0);
            var pdfPage = (section = result.section).pages.add(), pdfGrid = new PdfGrid(), headerThemeStyle = this.getHeaderThemeStyle(), border = headerThemeStyle.border, headerFont = headerThemeStyle.font, headerBrush = headerThemeStyle.brush, returnValue = this.helper.getHeaders(columns, this.hideColumnInclude), rows = returnValue.rows, gridColumns = returnValue.columns;
            pdfGrid = this.processGridHeaders(dataSource.childLevels, pdfGrid, rows, gridColumns, border, headerFont, headerBrush), 
            this.setColumnProperties(gridColumns, pdfGrid);
            var captionThemeStyle = this.getSummaryCaptionThemeStyle();
            if (!isNullOrUndefined(dataSource) && dataSource.length > 0) {
                if (this.isGrouping ? this.processGroupedRecords(pdfGrid, dataSource, gridColumns, gObj, border, 0, captionThemeStyle.font, captionThemeStyle.brush, captionThemeStyle.backgroundBrush, returnType) : this.processRecord(border, gridColumns, gObj, dataSource, pdfGrid), 
                !isNullOrUndefined(returnType.aggregates)) {
                    var summaryModel = new SummaryModelGenerator(gObj), sRows = void 0;
                    sRows = this.customDataSource ? summaryModel.generateRows(dataSource, returnType.aggregates) : this.currentViewData ? summaryModel.generateRows(this.parent.getCurrentViewRecords(), returnType.aggregates) : this.isGrouping ? summaryModel.generateRows(dataSource.records, returnType.aggregates) : summaryModel.generateRows(returnType.result, returnType.aggregates), 
                    this.processAggregates(sRows, pdfGrid, border, captionThemeStyle.font, captionThemeStyle.brush, captionThemeStyle.backgroundBrush, !1);
                }
            } else {
                pdfGrid.rows.addRow().style.setBorder(border);
            }
            pdfGrid.draw(pdfPage, 20, 20), isMultipleExport || (this.isBlob ? this.blobPromise = this.pdfDocument.save() : this.pdfDocument.save("Export.pdf"), 
            this.pdfDocument.destroy());
        }, PdfExport.prototype.getSummaryCaptionThemeStyle = function() {
            if (isNullOrUndefined(this.gridTheme) || isNullOrUndefined(this.gridTheme.caption) || null === this.gridTheme.caption) return {
                font: new PdfStandardFont(PdfFontFamily.Helvetica, 9.75),
                brush: new PdfSolidBrush(new PdfColor(0, 0, 0)),
                backgroundBrush: new PdfSolidBrush(new PdfColor(246, 246, 246))
            };
            isNullOrUndefined(this.gridTheme.caption.fontSize) || this.gridTheme.caption.fontSize;
            var pdfColor = new PdfColor();
            if (!isNullOrUndefined(this.gridTheme.caption.fontColor)) {
                var penBrushColor = this.hexToRgb(this.gridTheme.caption.fontColor);
                pdfColor = new PdfColor(penBrushColor.r, penBrushColor.g, penBrushColor.b);
            }
            return {
                font: new PdfStandardFont(PdfFontFamily.Helvetica, 10.5),
                brush: new PdfSolidBrush(new PdfColor(pdfColor)),
                backgroundBrush: new PdfSolidBrush(new PdfColor(246, 246, 246))
            };
        }, PdfExport.prototype.getHeaderThemeStyle = function() {
            var border = new PdfBorders();
            if (isNullOrUndefined(this.gridTheme) || isNullOrUndefined(this.gridTheme.header)) return border.all = new PdfPen(new PdfColor(234, 234, 234)), 
            {
                border: border,
                font: new PdfStandardFont(PdfFontFamily.Helvetica, 10.5),
                brush: new PdfSolidBrush(new PdfColor(102, 102, 102))
            };
            if (!isNullOrUndefined(this.gridTheme.header.borders) && !isNullOrUndefined(this.gridTheme.header.borders.color)) {
                var borderColor = this.hexToRgb(this.gridTheme.header.borders.color);
                border.all = new PdfPen(new PdfColor(borderColor.r, borderColor.g, borderColor.b));
            }
            var fontSize = isNullOrUndefined(this.gridTheme.header.fontSize) ? 10.5 : this.gridTheme.header.fontSize, pdfColor = new PdfColor();
            if (!isNullOrUndefined(this.gridTheme.header.fontColor)) {
                var penBrushColor = this.hexToRgb(this.gridTheme.header.fontColor);
                pdfColor = new PdfColor(penBrushColor.r, penBrushColor.g, penBrushColor.b);
            }
            return {
                border: border,
                font: new PdfStandardFont(PdfFontFamily.Helvetica, fontSize),
                brush: new PdfSolidBrush(pdfColor)
            };
        }, PdfExport.prototype.processGroupedRecords = function(pdfGrid, dataSource, gridColumns, gObj, border, level, font, brush, backgroundBrush, returnType) {
            for (var groupIndex = level, _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {
                var dataSourceItems = dataSource_1[_i], row = pdfGrid.rows.addRow(), col = gObj.getColumnByField(dataSourceItems.field), args = {
                    value: dataSourceItems.key,
                    column: col,
                    style: void 0,
                    isForeignKey: col.isForeignColumn()
                }, value = dataSourceItems.field + ": " + this.exportValueFormatter.formatCellValue(args) + " - " + dataSourceItems.count + (dataSource.count > 1 ? " items" : " item");
                row.cells.getCell(groupIndex).value = value, row.cells.getCell(groupIndex + 1).style.stringFormat = new PdfStringFormat(PdfTextAlignment.Left), 
                row.style.setBorder(border), row.style.setFont(font), row.style.setTextBrush(brush), 
                row.style.setBackgroundBrush(backgroundBrush);
                var sRows = void 0, captionSummaryModel = new CaptionSummaryModelGenerator(gObj);
                if (sRows = isNullOrUndefined(dataSourceItems.items.records) ? captionSummaryModel.generateRows(dataSourceItems.items, returnType.aggregates) : captionSummaryModel.generateRows(dataSourceItems.items.records, returnType.aggregates), 
                isNullOrUndefined(sRows) || 0 !== sRows.length || (row.cells.getCell(groupIndex + 1).columnSpan = pdfGrid.columns.count - (groupIndex + 1)), 
                !isNullOrUndefined(dataSource.childLevels) && dataSource.childLevels > 0) {
                    this.processAggregates(sRows, pdfGrid, border, font, brush, backgroundBrush, !0, row, groupIndex), 
                    this.processGroupedRecords(pdfGrid, dataSourceItems.items, gridColumns, gObj, border, groupIndex + 1, font, brush, backgroundBrush, returnType);
                    sRows = new GroupSummaryModelGenerator(gObj).generateRows(dataSourceItems.items.records, returnType.aggregates), 
                    this.processAggregates(sRows, pdfGrid, border, font, brush, backgroundBrush, !1);
                } else {
                    this.processAggregates(sRows, pdfGrid, border, font, brush, backgroundBrush, !0, row, groupIndex), 
                    this.processRecord(border, gridColumns, gObj, dataSourceItems.items, pdfGrid, groupIndex + 1);
                    sRows = new GroupSummaryModelGenerator(gObj).generateRows(dataSourceItems.items, returnType.aggregates), 
                    this.processAggregates(sRows, pdfGrid, border, font, brush, backgroundBrush, !1);
                }
            }
        }, PdfExport.prototype.processGridHeaders = function(childLevels, pdfGrid, rows, gridColumns, border, headerFont, headerBrush) {
            var columnCount = gridColumns.length;
            if (this.isGrouping && (columnCount += childLevels + 1), pdfGrid.columns.add(columnCount), 
            this.isGrouping) for (var i = 0; i < childLevels + 1; i++) pdfGrid.columns.getColumn(i).width = 20;
            pdfGrid.headers.add(rows.length);
            for (i = 0; i < rows.length; i++) {
                var gridHeader = pdfGrid.headers.getHeader(i);
                gridHeader.style.setBorder(border), gridHeader.style.setFont(headerFont), gridHeader.style.setTextBrush(headerBrush);
                var cellIndex = this.isGrouping ? childLevels + 1 : 0;
                if (0 === rows[i].cells.length) for (var j = 0; j < gridHeader.cells.count; j++) {
                    (cell = gridHeader.cells.getCell(j)).value = "";
                } else {
                    for (j = 0; j < cellIndex; j++) {
                        (cell = gridHeader.cells.getCell(j)).value = "";
                    }
                    for (j = 0; j < rows[i].cells.length; j++) {
                        var cell;
                        if (null !== (cell = gridHeader.cells.getCell(cellIndex)).value) {
                            if (cell.value = rows[i].cells[j].column.headerText, isNullOrUndefined(rows[i].cells[j].column.headerTextAlign) || (cell.style.stringFormat = this.getHorizontalAlignment(rows[i].cells[j].column.headerTextAlign)), 
                            !isNullOrUndefined(rows[i].cells[j].rowSpan)) {
                                cell.rowSpan = rows[i].cells[j].rowSpan, cell.style.stringFormat = this.getVerticalAlignment("Bottom", cell.style.stringFormat, rows[i].cells[j].column.textAlign);
                                for (var k = 1; k < rows[i].cells[j].rowSpan; k++) pdfGrid.headers.getHeader(i + k).cells.getCell(cellIndex).value = null;
                            }
                            isNullOrUndefined(rows[i].cells[j].colSpan) || (cell.columnSpan = rows[i].cells[j].colSpan), 
                            cellIndex += cell.columnSpan;
                        } else cell.value = "", cellIndex += cell.columnSpan, j -= 1;
                    }
                }
            }
            return pdfGrid.columns.count >= 6 && (pdfGrid.style.allowHorizontalOverflow = !0), 
            pdfGrid;
        }, PdfExport.prototype.processExportProperties = function(pdfExportProperties, dataSource, section) {
            if (isNullOrUndefined(pdfExportProperties)) this.currentViewData = !1, this.customDataSource = !1; else {
                if (isNullOrUndefined(pdfExportProperties.theme) || (this.gridTheme = pdfExportProperties.theme), 
                !isNullOrUndefined(pdfExportProperties.pageOrientation) || !isNullOrUndefined(pdfExportProperties.pageSize)) {
                    var pdfPageSettings = new PdfPageSettings();
                    pdfPageSettings.orientation = "Landscape" === pdfExportProperties.pageOrientation ? PdfPageOrientation.Landscape : PdfPageOrientation.Portrait, 
                    pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize), section.setPageSettings(pdfPageSettings);
                }
                var clientSize = this.pdfDocument.pageSettings.size;
                if (!isNullOrUndefined(pdfExportProperties.header)) {
                    var header = pdfExportProperties.header, position = new PointF(0, header.fromTop), size = new SizeF(clientSize.width - 80, .75 * header.height), bounds = new RectangleF(position, size);
                    this.pdfDocument.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), header);
                }
                if (!isNullOrUndefined(pdfExportProperties.footer)) {
                    var footer = pdfExportProperties.footer;
                    position = new PointF(0, clientSize.width - 80 - .75 * footer.fromBottom), size = new SizeF(clientSize.width - 80, .75 * footer.height), 
                    bounds = new RectangleF(position, size);
                    this.pdfDocument.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);
                }
                isNullOrUndefined(pdfExportProperties.includeHiddenColumn) || this.isGrouping || (this.hideColumnInclude = pdfExportProperties.includeHiddenColumn), 
                isNullOrUndefined(pdfExportProperties.dataSource) ? isNullOrUndefined(pdfExportProperties.exportType) ? (this.currentViewData = !1, 
                this.customDataSource = !1) : "CurrentPage" === pdfExportProperties.exportType ? (dataSource = this.parent.getCurrentViewRecords(), 
                this.currentViewData = !0, this.customDataSource = !1) : (this.currentViewData = !1, 
                this.customDataSource = !1) : (pdfExportProperties.dataSource instanceof DataManager || (dataSource = pdfExportProperties.dataSource), 
                this.customDataSource = !0, this.currentViewData = !1);
            }
            return {
                dataSource: dataSource,
                section: section
            };
        }, PdfExport.prototype.drawPageTemplate = function(template, element) {
            for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {
                var content = _a[_i];
                switch (this.processContentValidation(content), content.type) {
                  case "Text":
                    if ("" === content.value || void 0 === content.value || null === content.value || "string" != typeof content.value) throw new Error("please enter the valid input value in text content...");
                    this.drawText(template, content);
                    break;

                  case "PageNumber":
                    this.drawPageNumber(template, content);
                    break;

                  case "Image":
                    if (void 0 === content.src || null === content.src || "" === content.src) throw new Error("please enter the valid base64 string in image content...");
                    this.drawImage(template, content);
                    break;

                  case "Line":
                    this.drawLine(template, content);
                    break;

                  default:
                    throw new Error("Please set valid content type...");
                }
            }
            return template;
        }, PdfExport.prototype.processContentValidation = function(content) {
            if (void 0 === content.type || null === content.type) throw new Error("please set valid content type...");
            if ("Line" === content.type) {
                if (void 0 === content.points || null === content.points) throw new Error("please enter valid points in " + content.type + " content...");
                if (void 0 === content.points.x1 || null === content.points.x1 || "number" != typeof content.points.x1) throw new Error("please enter valid x1 co-ordinate in " + content.type + " points...");
                if (void 0 === content.points.y1 || null === content.points.y1 || "number" != typeof content.points.y1) throw new Error("please enter valid y1 co-ordinate in " + content.type + " points...");
                if (void 0 === content.points.x2 || null === content.points.x2 || "number" != typeof content.points.x2) throw new Error("please enter valid x2 co-ordinate in " + content.type + " points...");
                if (void 0 === content.points.y2 || null === content.points.y2 || "number" != typeof content.points.y2) throw new Error("please enter valid y2 co-ordinate in " + content.type + " points...");
            } else {
                if (void 0 === content.position || null === content.position) throw new Error("please enter valid position in " + content.type + " content...");
                if (void 0 === content.position.x || null === content.position.x || "number" != typeof content.position.x) throw new Error("please enter valid x co-ordinate in " + content.type + " position...");
                if (void 0 === content.position.y || null === content.position.y || "number" != typeof content.position.y) throw new Error("please enter valid y co-ordinate in " + content.type + " position...");
            }
        }, PdfExport.prototype.drawText = function(pageTemplate, content) {
            var font = this.getFont(content), brush = this.getBrushFromContent(content), pen = null;
            if (!isNullOrUndefined(content.style.textPenColor)) {
                var penColor = this.hexToRgb(content.style.textPenColor);
                pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));
            }
            null == brush && null == pen && (brush = new PdfSolidBrush(new PdfColor(0, 0, 0)));
            var value = content.value.toString(), x = .75 * content.position.x, y = .75 * content.position.y, result = this.setContentFormat(content, void 0);
            null === result || isNullOrUndefined(result.format) || isNullOrUndefined(result.size) ? pageTemplate.graphics.drawString(value, font, pen, brush, x, y, void 0) : pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);
        }, PdfExport.prototype.drawPageNumber = function(documentHeader, content) {
            var font = this.getFont(content), brush = null;
            if (isNullOrUndefined(content.style.textBrushColor)) brush = new PdfSolidBrush(new PdfColor(0, 0, 0)); else {
                var brushColor = this.hexToRgb(content.style.textBrushColor);
                brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));
            }
            var pageNumber = new PdfPageNumberField(font, brush);
            pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);
            var compositeField, format;
            if (isNullOrUndefined(content.format)) compositeField = new PdfCompositeField(font, brush, format = "{0}", pageNumber); else if (-1 !== content.format.indexOf("$total") && -1 !== content.format.indexOf("$current")) {
                var pageCount = new PdfPageCountField(font);
                format = content.format.indexOf("$total") > content.format.indexOf("$current") ? (format = content.format.replace("$current", "0")).replace("$total", "1") : (format = content.format.replace("$current", "1")).replace("$total", "0"), 
                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);
            } else if (-1 !== content.format.indexOf("$current") && -1 === content.format.indexOf("$total")) format = content.format.replace("$current", "0"), 
            compositeField = new PdfCompositeField(font, brush, format, pageNumber); else {
                pageCount = new PdfPageCountField(font);
                format = content.format.replace("$total", "0"), compositeField = new PdfCompositeField(font, brush, format, pageCount);
            }
            var x = .75 * content.position.x, y = .75 * content.position.y, result = this.setContentFormat(content, compositeField.stringFormat);
            null === result || isNullOrUndefined(result.format) || isNullOrUndefined(result.size) || (compositeField.stringFormat = result.format, 
            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height)), 
            compositeField.draw(documentHeader.graphics, x, y);
        }, PdfExport.prototype.drawImage = function(documentHeader, content) {
            var x = .75 * content.position.x, y = .75 * content.position.y, width = isNullOrUndefined(content.size) ? void 0 : .75 * content.size.width, height = isNullOrUndefined(content.size) ? void 0 : .75 * content.size.height, image = new PdfBitmap(content.src);
            isNullOrUndefined(width) ? documentHeader.graphics.drawImage(image, x, y) : documentHeader.graphics.drawImage(image, x, y, width, height);
        }, PdfExport.prototype.drawLine = function(documentHeader, content) {
            var x1 = .75 * content.points.x1, y1 = .75 * content.points.y1, x2 = .75 * content.points.x2, y2 = .75 * content.points.y2, pen = this.getPenFromContent(content);
            isNullOrUndefined(content.style) || null === content.style || (isNullOrUndefined(content.style.penSize) || null === content.style.penSize || "number" != typeof content.style.penSize || (pen.width = .75 * content.style.penSize), 
            pen.dashStyle = this.getDashStyle(content.style.dashStyle)), documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);
        }, PdfExport.prototype.processAggregates = function(sRows, pdfGrid, border, font, brush, backgroundBrush, isCaption, captionRow, groupIndex) {
            for (var _i = 0, sRows_1 = sRows; _i < sRows_1.length; _i++) {
                for (var row = sRows_1[_i], leastCaptionSummaryIndex = -1, index = 0, isEmpty = !0, value = [], i = 0; i < pdfGrid.columns.count; i++) {
                    var cell = row.cells[index];
                    if (!this.hideColumnInclude) {
                        for (;void 0 === cell.visible; ) isNullOrUndefined(captionRow) ? value.push("") : isNullOrUndefined(captionRow.cells.getCell(i).value) ? value.push("") : (value.push(""), 
                        value.push(captionRow.cells.getCell(i).value), isEmpty = !1, i += 1), i += 1, index += 1, 
                        cell = row.cells[index];
                        for (;!isNullOrUndefined(cell.visible) && !cell.visible; ) index += 1, cell = row.cells[index];
                    }
                    if (cell.isDataCell) {
                        var templateFn = {};
                        if (isNullOrUndefined(cell.column.footerTemplate) && isNullOrUndefined(cell.column.groupCaptionTemplate) && isNullOrUndefined(cell.column.groupFooterTemplate)) {
                            isNullOrUndefined(result = this.getSummaryWithoutTemplate(row.data[cell.column.field])) || value.push(result);
                        } else {
                            var result;
                            templateFn = (result = this.getTemplateFunction(templateFn, i, leastCaptionSummaryIndex, cell.column)).templateFunction, 
                            leastCaptionSummaryIndex = result.leastCaptionSummaryIndex;
                            var txt = templateFn[getEnumValue(CellType, cell.cellType)](row.data[cell.column.field ? cell.column.field : cell.column.columnName]);
                            value.push(txt[0].wholeText), isEmpty = !1;
                        }
                    } else value.push("");
                    isEmpty && "" !== value[i] && !isNullOrUndefined(value[i]) && null !== value[i] && (isEmpty = !1), 
                    index += 1;
                }
                if (!isEmpty) if (isCaption) for (i = 0; i < pdfGrid.columns.count; i++) captionRow.cells.getCell(i).value = value[i].toString(), 
                i === groupIndex + 1 && -1 !== leastCaptionSummaryIndex ? captionRow.cells.getCell(i).columnSpan = leastCaptionSummaryIndex - (groupIndex + 1) : i === groupIndex + 1 && -1 === leastCaptionSummaryIndex && (captionRow.cells.getCell(i).columnSpan = pdfGrid.columns.count - (groupIndex + 1)); else {
                    var gridRow = pdfGrid.rows.addRow();
                    gridRow.style.setBorder(border), gridRow.style.setFont(font), gridRow.style.setTextBrush(brush), 
                    gridRow.style.setBackgroundBrush(backgroundBrush);
                    for (var i = 0; i < pdfGrid.columns.count; i++) gridRow.cells.getCell(i).value = value[i].toString();
                }
            }
        }, PdfExport.prototype.getTemplateFunction = function(templateFn, index, leastCaptionSummaryIndex, column) {
            return isNullOrUndefined(column.footerTemplate) ? isNullOrUndefined(column.groupCaptionTemplate) ? templateFn[getEnumValue(CellType, CellType.GroupSummary)] = compile$$1(column.groupFooterTemplate) : (-1 === leastCaptionSummaryIndex && (leastCaptionSummaryIndex = index), 
            templateFn[getEnumValue(CellType, CellType.CaptionSummary)] = compile$$1(column.groupCaptionTemplate)) : templateFn[getEnumValue(CellType, CellType.Summary)] = compile$$1(column.footerTemplate), 
            {
                templateFunction: templateFn,
                leastCaptionSummaryIndex: leastCaptionSummaryIndex
            };
        }, PdfExport.prototype.getSummaryWithoutTemplate = function(data) {
            return isNullOrUndefined(data.Sum) ? isNullOrUndefined(data.Average) ? isNullOrUndefined(data.Max) ? isNullOrUndefined(data.Min) ? isNullOrUndefined(data.Count) ? isNullOrUndefined(data.TrueCount) ? isNullOrUndefined(data.FalseCount) ? isNullOrUndefined(data.Custom) ? void 0 : data.Custom : data.FalseCount : data.TrueCount : data.Count : data.Min : data.Max : data.Average : data.Sum;
        }, PdfExport.prototype.setColumnProperties = function(gridColumns, pdfGrid) {
            for (var startIndex = this.isGrouping ? pdfGrid.columns.count - gridColumns.length : 0, i = 0; i < gridColumns.length; i++) isNullOrUndefined(gridColumns[i].textAlign) || (pdfGrid.columns.getColumn(i + startIndex).format = this.getHorizontalAlignment(gridColumns[i].textAlign)), 
            pdfGrid.style.allowHorizontalOverflow && !isNullOrUndefined(gridColumns[i].width) && (pdfGrid.columns.getColumn(i + startIndex).width = "number" == typeof gridColumns[i].width ? .75 * gridColumns[i].width : .75 * this.helper.getConvertedWidth(gridColumns[i].width));
        }, PdfExport.prototype.setRecordThemeStyle = function(row, border) {
            if (isNullOrUndefined(this.gridTheme) || isNullOrUndefined(this.gridTheme.record) || null === this.gridTheme.record) row.style.setTextBrush(new PdfSolidBrush(new PdfColor(0, 0, 0))); else {
                var pdfColor = new PdfColor();
                if (!isNullOrUndefined(this.gridTheme.record.fontColor)) {
                    var penBrushColor = this.hexToRgb(this.gridTheme.record.fontColor);
                    pdfColor = new PdfColor(penBrushColor.r, penBrushColor.g, penBrushColor.b);
                }
                row.style.setTextBrush(new PdfSolidBrush(pdfColor));
            }
            return row.style.setBorder(border), row;
        }, PdfExport.prototype.processRecord = function(border, columns, gObj, dataSource, pdfGrid, groupIndex) {
            for (var startIndex = this.isGrouping ? groupIndex : 0, _i = 0, _a = dataSource; _i < _a.length; _i++) for (var items = _a[_i], gridRow = this.setRecordThemeStyle(pdfGrid.rows.addRow(), border), j = 0; j < columns.length; j++) {
                var value = !isNullOrUndefined(columns[j].field) && getValue(columns[j].field, items) || "", column = columns[j], foreignKeyData$$1 = void 0;
                column.isForeignColumn && column.isForeignColumn() && (foreignKeyData$$1 = this.helper.getFData(value, column), 
                value = getValue(column.foreignKeyValue, foreignKeyData$$1));
                var args = {
                    data: items,
                    value: value,
                    column: column,
                    style: void 0,
                    colSpan: 1
                };
                gObj.trigger("pdfQueryCellInfo", args);
                var cell = gridRow.cells.getCell(j + startIndex);
                if (cell.value = this.exportValueFormatter.formatCellValue(args), isNullOrUndefined(args.style) || this.processCellStyle(cell, args), 
                args.colSpan > 1) {
                    j + startIndex + 1 + args.colSpan > gridRow.cells.count && (args.colSpan = gridRow.cells.count - (j + startIndex + 1)), 
                    cell.columnSpan = args.colSpan;
                    for (var i = 1; i < cell.columnSpan; i++) {
                        gridRow.cells.getCell(j + startIndex + i).value = "";
                    }
                    j += args.colSpan - 1;
                }
            }
        }, PdfExport.prototype.processCellStyle = function(cell, args) {
            if (!isNullOrUndefined(args.style.backgroundColor)) {
                var backColor = this.hexToRgb(args.style.backgroundColor);
                cell.style.backgroundBrush = new PdfSolidBrush(new PdfColor(backColor.r, backColor.g, backColor.b));
            }
            if (isNullOrUndefined(args.style.textAlignment) || (cell.style.stringFormat = this.getHorizontalAlignment(args.style.textAlignment)), 
            isNullOrUndefined(args.style.verticalAlignment) || (cell.style.stringFormat = this.getVerticalAlignment(args.style.verticalAlignment, cell.style.stringFormat)), 
            !isNullOrUndefined(args.style.textBrushColor)) {
                var textBrushColor = this.hexToRgb(args.style.textBrushColor);
                cell.style.textBrush = new PdfSolidBrush(new PdfColor(textBrushColor.r, textBrushColor.g, textBrushColor.b));
            }
            if (!isNullOrUndefined(args.style.textPenColor)) {
                var textPenColor = this.hexToRgb(args.style.textPenColor);
                cell.style.textPen = new PdfPen(new PdfColor(textPenColor.r, textPenColor.g, textPenColor.b));
            }
            if (isNullOrUndefined(args.style.fontFamily) && isNullOrUndefined(args.style.fontSize) && isNullOrUndefined(args.style.bold) && isNullOrUndefined(args.style.italic) && isNullOrUndefined(args.style.underline) && isNullOrUndefined(args.style.strikeout) || (cell.style.font = this.getFont(args)), 
            !isNullOrUndefined(args.style.border)) {
                var border = new PdfBorders(), borderWidth = args.style.border.width, width = isNullOrUndefined(borderWidth) || "number" != typeof borderWidth ? void 0 : .75 * borderWidth, color = new PdfColor(196, 196, 196);
                if (!isNullOrUndefined(args.style.border.color)) {
                    var borderColor = this.hexToRgb(args.style.border.color);
                    color = new PdfColor(borderColor.r, borderColor.g, borderColor.b);
                }
                var pen = new PdfPen(color, width);
                isNullOrUndefined(args.style.border.dashStyle) || (pen.dashStyle = this.getDashStyle(args.style.border.dashStyle)), 
                border.all = pen, cell.style.borders = border;
            }
        }, PdfExport.prototype.getHorizontalAlignment = function(textAlign, format) {
            switch (void 0 === format && (format = new PdfStringFormat()), textAlign) {
              case "Right":
                format.alignment = PdfTextAlignment.Right;
                break;

              case "Center":
                format.alignment = PdfTextAlignment.Center;
                break;

              case "Justify":
                format.alignment = PdfTextAlignment.Justify;
                break;

              case "Left":
                format.alignment = PdfTextAlignment.Left;
            }
            return format;
        }, PdfExport.prototype.getVerticalAlignment = function(verticalAlign, format, textAlign) {
            switch (void 0 === format && (format = new PdfStringFormat(), format = this.getHorizontalAlignment(textAlign, format)), 
            verticalAlign) {
              case "Bottom":
                format.lineAlignment = PdfVerticalAlignment.Bottom;
                break;

              case "Middle":
                format.lineAlignment = PdfVerticalAlignment.Middle;
                break;

              case "Top":
                format.lineAlignment = PdfVerticalAlignment.Top;
            }
            return format;
        }, PdfExport.prototype.getFontFamily = function(fontFamily) {
            switch (fontFamily) {
              case "TimesRoman":
                return 2;

              case "Courier":
                return 1;

              case "Symbol":
                return 3;

              case "ZapfDingbats":
                return 4;

              default:
                return 0;
            }
        }, PdfExport.prototype.getFont = function(content) {
            var fontSize = isNullOrUndefined(content.style.fontSize) ? 9.75 : .75 * content.style.fontSize, fontFamily = isNullOrUndefined(content.style.fontFamily) ? PdfFontFamily.Helvetica : this.getFontFamily(content.style.fontFamily), fontStyle = PdfFontStyle.Regular;
            return !isNullOrUndefined(content.style.bold) && content.style.bold && (fontStyle |= PdfFontStyle.Bold), 
            !isNullOrUndefined(content.style.italic) && content.style.italic && (fontStyle |= PdfFontStyle.Italic), 
            !isNullOrUndefined(content.style.underline) && content.style.underline && (fontStyle |= PdfFontStyle.Underline), 
            !isNullOrUndefined(content.style.strikeout) && content.style.strikeout && (fontStyle |= PdfFontStyle.Strikeout), 
            new PdfStandardFont(fontFamily, fontSize, fontStyle);
        }, PdfExport.prototype.getPageNumberStyle = function(pageNumberType) {
            switch (pageNumberType) {
              case "LowerLatin":
                return 2;

              case "LowerRoman":
                return 3;

              case "UpperLatin":
                return 4;

              case "UpperRoman":
                return 5;

              default:
                return 1;
            }
        }, PdfExport.prototype.setContentFormat = function(content, format) {
            if (!isNullOrUndefined(content.size)) {
                var width = .75 * content.size.width, height = .75 * content.size.height;
                if (format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle), 
                !isNullOrUndefined(content.style.hAlign)) switch (content.style.hAlign) {
                  case "Right":
                    format.alignment = PdfTextAlignment.Right;
                    break;

                  case "Center":
                    format.alignment = PdfTextAlignment.Center;
                    break;

                  case "Justify":
                    format.alignment = PdfTextAlignment.Justify;
                    break;

                  default:
                    format.alignment = PdfTextAlignment.Left;
                }
                return isNullOrUndefined(content.style.vAlign) || (format = this.getVerticalAlignment(content.style.vAlign, format)), 
                {
                    format: format,
                    size: new SizeF(width, height)
                };
            }
            return null;
        }, PdfExport.prototype.getPageSize = function(pageSize) {
            switch (pageSize) {
              case "Letter":
                return new SizeF(612, 792);

              case "Note":
                return new SizeF(540, 720);

              case "Legal":
                return new SizeF(612, 1008);

              case "A0":
                return new SizeF(2380, 3368);

              case "A1":
                return new SizeF(1684, 2380);

              case "A2":
                return new SizeF(1190, 1684);

              case "A3":
                return new SizeF(842, 1190);

              case "A5":
                return new SizeF(421, 595);

              case "A6":
                return new SizeF(297, 421);

              case "A7":
                return new SizeF(210, 297);

              case "A8":
                return new SizeF(148, 210);

              case "A9":
                return new SizeF(105, 148);

              case "B0":
                return new SizeF(2836, 4008);

              case "B1":
                return new SizeF(2004, 2836);

              case "B2":
                return new SizeF(1418, 2004);

              case "B3":
                return new SizeF(1002, 1418);

              case "B4":
                return new SizeF(709, 1002);

              case "B5":
                return new SizeF(501, 709);

              case "Archa":
                return new SizeF(648, 864);

              case "Archb":
                return new SizeF(864, 1296);

              case "Archc":
                return new SizeF(1296, 1728);

              case "Archd":
                return new SizeF(1728, 2592);

              case "Arche":
                return new SizeF(2592, 3456);

              case "Flsa":
                return new SizeF(612, 936);

              case "HalfLetter":
                return new SizeF(396, 612);

              case "Letter11x17":
                return new SizeF(792, 1224);

              case "Ledger":
                return new SizeF(1224, 792);

              default:
                return new SizeF(595, 842);
            }
        }, PdfExport.prototype.getDashStyle = function(dashStyle) {
            switch (dashStyle) {
              case "Dash":
                return 1;

              case "Dot":
                return 2;

              case "DashDot":
                return 3;

              case "DashDotDot":
                return 4;

              default:
                return 0;
            }
        }, PdfExport.prototype.getPenFromContent = function(content) {
            var pen = new PdfPen(new PdfColor(0, 0, 0));
            if (!isNullOrUndefined(content.style) && null !== content.style && !isNullOrUndefined(content.style.penColor)) {
                var penColor = this.hexToRgb(content.style.penColor);
                pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));
            }
            return pen;
        }, PdfExport.prototype.getBrushFromContent = function(content) {
            var brush = null;
            if (!isNullOrUndefined(content.style.textBrushColor)) {
                var brushColor = this.hexToRgb(content.style.textBrushColor);
                brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));
            }
            return brush;
        }, PdfExport.prototype.hexToRgb = function(hex) {
            if (null === hex || "" === hex || 7 !== hex.length) throw new Error("please set valid hex value for color...");
            hex = hex.substring(1);
            var bigint = parseInt(hex, 16);
            return {
                r: bigint >> 16 & 255,
                g: bigint >> 8 & 255,
                b: 255 & bigint
            };
        }, PdfExport.prototype.destroy = function() {}, PdfExport;
    }(), __extends$35 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), CommandColumnRenderer = function(_super) {
        function CommandColumnRenderer(parent, locator) {
            var _this = _super.call(this, parent, locator) || this;
            return _this.buttonElement = createElement("button", {}), _this.unbounDiv = createElement("div", {
                className: "e-unboundcelldiv",
                styles: "display: inline-block"
            }), _this.element = createElement("TD", {
                className: "e-rowcell e-unboundcell",
                attrs: {
                    role: "gridcell",
                    tabindex: "-1"
                }
            }), _this;
        }
        return __extends$35(CommandColumnRenderer, _super), CommandColumnRenderer.prototype.render = function(cell, data, attributes$$1) {
            var node = this.element.cloneNode();
            if (node.appendChild(this.unbounDiv.cloneNode()), node.setAttribute("aria-label", "is Command column column header " + cell.column.headerText), 
            cell.column.commandsTemplate) appendChildren(node.firstElementChild, cell.column.getColumnTemplate()(data)); else for (var _i = 0, _a = cell.commands; _i < _a.length; _i++) {
                var command = _a[_i];
                node = this.renderButton(node, command, attributes$$1.index);
            }
            return this.setAttributes(node, cell, attributes$$1), this.parent.isEdit ? (addClass(node.querySelectorAll(".e-edit-delete"), "e-hide"), 
            removeClass(node.querySelectorAll(".e-save-cancel"), "e-hide")) : (addClass(node.querySelectorAll(".e-save-cancel"), "e-hide"), 
            removeClass(node.querySelectorAll(".e-edit-delete"), "e-hide")), node;
        }, CommandColumnRenderer.prototype.renderButton = function(node, buttonOption, index) {
            var button = this.buttonElement.cloneNode();
            attributes(button, {
                id: this.parent.element.id + (buttonOption.type || "") + "_" + index,
                type: "button",
                title: buttonOption.buttonOption.content || buttonOption.type
            }), button.onclick = buttonOption.buttonOption.click;
            var buttonObj = new Button(buttonOption.buttonOption, button);
            switch (buttonObj.commandType = buttonOption.type, node.firstElementChild.appendChild(buttonObj.element), 
            buttonOption.type) {
              case "Edit":
              case "Delete":
                addClass([ button ], [ "e-edit-delete", "e-" + buttonOption.type.toLowerCase() + "button" ]);
                break;

              case "Cancel":
              case "Save":
                addClass([ button ], [ "e-save-cancel", "e-" + buttonOption.type.toLowerCase() + "button" ]);
            }
            return node;
        }, CommandColumnRenderer;
    }(CellRenderer), CommandColumn = function() {
        function CommandColumn(parent, locator) {
            this.parent = parent, this.locator = locator, this.addEventListener();
        }
        return CommandColumn.prototype.initiateRender = function() {
            this.locator.getService("cellRendererFactory").addCellRenderer(CellType.CommandColumn, new CommandColumnRenderer(this.parent, this.locator));
        }, CommandColumn.prototype.commandClickHandler = function(e) {
            var gObj = this.parent, target = (gObj.element.id, closest(e.target, "button"));
            if (target && gObj.editModule && closest(e.target, ".e-unboundcell")) {
                var buttonObj = target.ej2_instances[0], type = buttonObj.commandType;
                if (!buttonObj.disabled) switch (type) {
                  case "Edit":
                    gObj.editModule.endEdit(), gObj.editModule.startEdit(closest(target, "tr"));
                    break;

                  case "Cancel":
                    gObj.editModule.closeEdit();
                    break;

                  case "Save":
                    gObj.editModule.endEdit();
                    break;

                  case "Delete":
                    gObj.editModule.endEdit(), gObj.clearSelection(), gObj.selectRow(parseInt(closest(target, "tr").getAttribute("aria-rowindex"), 10), !1), 
                    gObj.editModule.deleteRecord();
                }
            }
        }, CommandColumn.prototype.getModuleName = function() {
            return "commandColumn";
        }, CommandColumn.prototype.destroy = function() {
            this.parent.isDestroyed || this.removeEventListener();
        }, CommandColumn.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(click, this.commandClickHandler), this.parent.off(initialEnd, this.initiateRender), 
            this.parent.off(keyPressed, this.keyPressHandler));
        }, CommandColumn.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(click, this.commandClickHandler, this), 
            this.parent.on(initialEnd, this.initiateRender, this), this.parent.on(keyPressed, this.keyPressHandler, this));
        }, CommandColumn.prototype.keyPressHandler = function(e) {
            "enter" === e.action && closest(e.target, ".e-unboundcelldiv") && (this.commandClickHandler(e), 
            e.preventDefault());
        }, CommandColumn;
    }(), menuClass_header = ".e-gridheader", menuClass_content = ".e-gridcontent", menuClass_edit = ".e-inline-edit", menuClass_batchEdit = ".e-editedbatchcell", menuClass_editIcon = "e-edit", menuClass_pager = ".e-gridpager", menuClass_delete = "e-delete", menuClass_save = "e-save", menuClass_cancel = "e-cancel", menuClass_copy = "e-copy", menuClass_pdf = "e-pdfexport", menuClass_group = "e-icon-group", menuClass_ungroup = "e-icon-ungroup", menuClass_csv = "e-csvexport", menuClass_excel = "e-excelexport", menuClass_fPage = "e-icon-first", menuClass_nPage = "e-icon-next", menuClass_lPage = "e-icon-last", menuClass_pPage = "e-icon-prev", menuClass_ascending = "e-icon-ascending", menuClass_descending = "e-icon-descending", menuClass_groupHeader = "e-groupdroparea", menuClass_touchPop = "e-gridpopup", ContextMenu$1 = function() {
        function ContextMenu$$1(parent, serviceLocator) {
            this.defaultItems = {}, this.disableItems = [], this.hiddenItems = [], this.localeText = this.setLocaleKey(), 
            this.parent = parent, this.gridID = parent.element.id, this.serviceLocator = serviceLocator, 
            this.addEventListener();
        }
        return ContextMenu$$1.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(uiUpdate, this.enableAfterRenderMenu, this), 
            this.parent.on(initialLoad, this.render, this));
        }, ContextMenu$$1.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(initialLoad, this.render), this.parent.off(uiUpdate, this.enableAfterRenderMenu), 
            EventHandler.remove(this.element, "keydown", this.keyDownHandler.bind(this)));
        }, ContextMenu$$1.prototype.keyDownHandler = function(e) {
            "Tab" !== e.code && 9 !== e.which || this.contextMenu.close();
        }, ContextMenu$$1.prototype.render = function() {
            this.parent.element.classList.add("e-noselect"), this.l10n = this.serviceLocator.getService("localization"), 
            this.element = createElement("ul", {
                id: this.gridID + "_cmenu"
            }), EventHandler.add(this.element, "keydown", this.keyDownHandler.bind(this)), this.parent.element.appendChild(this.element);
            var target = "#" + this.gridID;
            this.contextMenu = new ContextMenu({
                items: this.getMenuItems(),
                enableRtl: this.parent.enableRtl,
                enablePersistence: this.parent.enablePersistence,
                locale: this.parent.locale,
                target: target,
                select: this.contextMenuItemClick.bind(this),
                beforeOpen: this.contextMenuBeforeOpen.bind(this),
                onOpen: this.contextMenuOpen.bind(this),
                onClose: this.contextMenuOnClose.bind(this),
                cssClass: "e-grid-menu"
            }), this.contextMenu.appendTo(this.element);
        }, ContextMenu$$1.prototype.enableAfterRenderMenu = function(e) {
            e.module === this.getModuleName() && e.enable && (this.contextMenu && (this.contextMenu.destroy(), 
            remove(this.element), this.parent.element.classList.remove("e-noselect")), this.render());
        }, ContextMenu$$1.prototype.getMenuItems = function() {
            for (var menuItems = [], exportItems = [], _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {
                var item = _a[_i];
                "string" == typeof item && -1 !== this.getDefaultItems().indexOf(item) ? -1 !== item.toLocaleLowerCase().indexOf("export") ? exportItems.push(this.buildDefaultItems(item)) : menuItems.push(this.buildDefaultItems(item)) : "string" != typeof item && menuItems.push(item);
            }
            if (exportItems.length > 0) {
                var exportGroup = this.buildDefaultItems("export");
                exportGroup.items = exportItems, menuItems.push(exportGroup);
            }
            return menuItems;
        }, ContextMenu$$1.prototype.getLastPage = function() {
            var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);
            return this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize && (totalpage += 1), 
            totalpage;
        }, ContextMenu$$1.prototype.contextMenuOpen = function() {
            this.isOpen = !0;
        }, ContextMenu$$1.prototype.contextMenuItemClick = function(args) {
            switch (this.getKeyFromId(args.item.id)) {
              case "AutoFitAll":
                this.parent.autoFitColumns([]);
                break;

              case "AutoFit":
                this.parent.autoFitColumns(this.targetColumn.field);
                break;

              case "Group":
                this.parent.groupColumn(this.targetColumn.field);
                break;

              case "Ungroup":
                this.parent.ungroupColumn(this.targetColumn.field);
                break;

              case "Edit":
                "Batch" === this.parent.editSettings.mode ? this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute("aria-colindex"), 10)) && this.parent.editModule.editCell(parseInt(this.row.getAttribute("aria-rowindex"), 10), this.parent.getColumns()[parseInt(this.cell.getAttribute("aria-colindex"), 10)].field) : (this.parent.editModule.endEdit(), 
                this.parent.editModule.startEdit(this.row));
                break;

              case "Delete":
                "Batch" !== this.parent.editSettings.mode && this.parent.editModule.endEdit(), this.parent.editModule.deleteRow(this.row);
                break;

              case "Save":
                this.parent.editModule.endEdit();
                break;

              case "Cancel":
                this.parent.editModule.closeEdit();
                break;

              case "Copy":
                this.parent.copy();
                break;

              case "PdfExport":
                this.parent.pdfExport();
                break;

              case "ExcelExport":
                this.parent.excelExport();
                break;

              case "CsvExport":
                this.parent.csvExport();
                break;

              case "SortAscending":
                this.isOpen = !1, this.parent.sortColumn(this.targetColumn.field, "Ascending");
                break;

              case "SortDescending":
                this.isOpen = !1, this.parent.sortColumn(this.targetColumn.field, "Descending");
                break;

              case "FirstPage":
                this.parent.goToPage(1);
                break;

              case "PrevPage":
                this.parent.goToPage(this.parent.pageSettings.currentPage - 1);
                break;

              case "LastPage":
                this.parent.goToPage(this.getLastPage());
                break;

              case "NextPage":
                this.parent.goToPage(this.parent.pageSettings.currentPage + 1);
            }
            args.column = this.targetColumn, this.parent.trigger("contextMenuClick", args);
        }, ContextMenu$$1.prototype.contextMenuOnClose = function(args) {
            args.items.length > 0 && args.items[0].parentObj instanceof ContextMenu && this.updateItemStatus();
        }, ContextMenu$$1.prototype.getLocaleText = function(item) {
            return this.l10n.getConstant(this.localeText[item]);
        }, ContextMenu$$1.prototype.updateItemStatus = function() {
            this.contextMenu.showItems(this.hiddenItems), this.contextMenu.enableItems(this.disableItems), 
            this.hiddenItems = [], this.disableItems = [], this.isOpen = !1;
        }, ContextMenu$$1.prototype.contextMenuBeforeOpen = function(args) {
            var closestGrid = closest(args.event.target, ".e-grid");
            if (args.event && closestGrid && closestGrid !== this.parent.element) args.cancel = !0; else if (args.event && (closest(args.event.target, "." + menuClass_groupHeader) || closest(args.event.target, "." + menuClass_touchPop) || closest(args.event.target, ".e-summarycell") || closest(args.event.target, ".e-groupcaption") || closest(args.event.target, ".e-filterbarcell"))) args.cancel = !0; else {
                this.targetColumn = this.getColumn(args.event), this.selectRow(args.event, "Multiple" !== this.parent.selectionSettings.type);
                for (var _i = 0, _a = args.items; _i < _a.length; _i++) {
                    var item = _a[_i], key = this.getKeyFromId(item.id), dItem = this.defaultItems[key];
                    if (-1 !== this.getDefaultItems().indexOf(key)) if (this.ensureDisabledStatus(key) && this.disableItems.push(item.text), 
                    args.event && (this.ensureTarget(args.event.target, menuClass_edit) || this.ensureTarget(args.event.target, menuClass_batchEdit))) "Save" !== key && "Cancel" !== key && this.hiddenItems.push(item.text); else {
                        if ("Batch" === this.parent.editSettings.mode && (closest(args.event.target, ".e-gridform") || this.parent.editModule.getBatchChanges().changedRecords.length || this.parent.editModule.getBatchChanges().addedRecords.length || this.parent.editModule.getBatchChanges().deletedRecords.length) && ("Save" === key || "Cancel" === key)) continue;
                        isNullOrUndefined(args.parentItem) && args.event && !this.ensureTarget(args.event.target, dItem.target) && this.hiddenItems.push(item.text);
                    } else item.target && args.event && !this.ensureTarget(args.event.target, item.target) && this.hiddenItems.push(item.text);
                }
                this.contextMenu.enableItems(this.disableItems, !1), this.contextMenu.hideItems(this.hiddenItems), 
                this.eventArgs = args.event, args.column = this.targetColumn, this.parent.trigger("contextMenuOpen", args), 
                this.hiddenItems.length === args.items.length && (this.updateItemStatus(), args.cancel = !0);
            }
        }, ContextMenu$$1.prototype.ensureTarget = function(targetElement, selector) {
            var target = targetElement;
            return (target = !this.ensureFrozenHeader(targetElement) || selector !== menuClass_header && selector !== menuClass_content ? selector === menuClass_content || selector === menuClass_header ? parentsUntil(closest(targetElement, ".e-table"), selector.substr(1, selector.length)) : closest(targetElement, selector) : closest(targetElement, selector === menuClass_header ? "thead" : "tbody")) && parentsUntil(target, "e-grid") === this.parent.element;
        }, ContextMenu$$1.prototype.ensureFrozenHeader = function(targetElement) {
            return !(!this.parent.getFrozenColumns() && !this.parent.frozenRows || !closest(targetElement, menuClass_header));
        }, ContextMenu$$1.prototype.ensureDisabledStatus = function(item) {
            var _this = this, status = !1;
            switch (item) {
              case "AutoFitAll":
              case "AutoFit":
                status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit);
                break;

              case "Group":
                (!this.parent.allowGrouping || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0) && (status = !0);
                break;

              case "Ungroup":
                (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group) || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0) && (status = !0);
                break;

              case "Edit":
              case "Delete":
              case "Save":
              case "Cancel":
                this.parent.editModule && 0 !== this.parent.getDataRows().length || (status = !0);
                break;

              case "Copy":
                0 !== this.parent.getSelectedRowIndexes().length && 0 !== this.parent.getCurrentViewRecords().length || (status = !0);
                break;

              case "export":
                this.parent.allowExcelExport && this.parent.excelExport && (this.parent.ensureModuleInjected(PdfExport) || this.parent.ensureModuleInjected(ExcelExport)) || (status = !0);
                break;

              case "PdfExport":
                this.parent.allowPdfExport && this.parent.ensureModuleInjected(PdfExport) || (status = !0);
                break;

              case "ExcelExport":
              case "CsvExport":
                this.parent.allowExcelExport && this.parent.ensureModuleInjected(ExcelExport) || (status = !0);
                break;

              case "SortAscending":
              case "SortDescending":
                this.parent.allowSorting && this.parent.ensureModuleInjected(Sort) ? this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn && this.parent.sortSettings.columns.forEach(function(element) {
                    element.field === _this.targetColumn.field && element.direction.toLowerCase() === item.toLowerCase().replace("sort", "").toLocaleLowerCase() && (status = !0);
                }) : status = !0;
                break;

              case "FirstPage":
              case "PrevPage":
                (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || 0 === this.parent.getCurrentViewRecords().length || this.parent.ensureModuleInjected(Page) && 1 === this.parent.pageSettings.currentPage) && (status = !0);
                break;

              case "LastPage":
              case "NextPage":
                (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || 0 === this.parent.getCurrentViewRecords().length || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage()) && (status = !0);
            }
            return status;
        }, ContextMenu$$1.prototype.getContextMenu = function() {
            return this.element;
        }, ContextMenu$$1.prototype.destroy = function() {
            this.contextMenu.destroy(), remove(this.element), this.removeEventListener(), this.parent.element.classList.remove("e-noselect");
        }, ContextMenu$$1.prototype.getModuleName = function() {
            return "contextMenu";
        }, ContextMenu$$1.prototype.generateID = function(item) {
            return this.gridID + "_cmenu_" + item;
        }, ContextMenu$$1.prototype.getKeyFromId = function(id) {
            return id.replace(this.gridID + "_cmenu_", "");
        }, ContextMenu$$1.prototype.buildDefaultItems = function(item) {
            var menuItem;
            switch (item) {
              case "AutoFitAll":
              case "AutoFit":
                menuItem = {
                    target: menuClass_header
                };
                break;

              case "Group":
                menuItem = {
                    target: menuClass_header,
                    iconCss: menuClass_group
                };
                break;

              case "Ungroup":
                menuItem = {
                    target: menuClass_header,
                    iconCss: menuClass_ungroup
                };
                break;

              case "Edit":
                menuItem = {
                    target: menuClass_content,
                    iconCss: menuClass_editIcon
                };
                break;

              case "Delete":
                menuItem = {
                    target: menuClass_content,
                    iconCss: menuClass_delete
                };
                break;

              case "Save":
                menuItem = {
                    target: menuClass_edit,
                    iconCss: menuClass_save
                };
                break;

              case "Cancel":
                menuItem = {
                    target: menuClass_edit,
                    iconCss: menuClass_cancel
                };
                break;

              case "Copy":
                menuItem = {
                    target: menuClass_content,
                    iconCss: menuClass_copy
                };
                break;

              case "export":
                menuItem = {
                    target: menuClass_content
                };
                break;

              case "PdfExport":
                menuItem = {
                    target: menuClass_content,
                    iconCss: menuClass_pdf
                };
                break;

              case "ExcelExport":
                menuItem = {
                    target: menuClass_content,
                    iconCss: menuClass_excel
                };
                break;

              case "CsvExport":
                menuItem = {
                    target: menuClass_content,
                    iconCss: menuClass_csv
                };
                break;

              case "SortAscending":
                menuItem = {
                    target: menuClass_header,
                    iconCss: menuClass_ascending
                };
                break;

              case "SortDescending":
                menuItem = {
                    target: menuClass_header,
                    iconCss: menuClass_descending
                };
                break;

              case "FirstPage":
                menuItem = {
                    target: menuClass_pager,
                    iconCss: menuClass_fPage
                };
                break;

              case "PrevPage":
                menuItem = {
                    target: menuClass_pager,
                    iconCss: menuClass_pPage
                };
                break;

              case "LastPage":
                menuItem = {
                    target: menuClass_pager,
                    iconCss: menuClass_lPage
                };
                break;

              case "NextPage":
                menuItem = {
                    target: menuClass_pager,
                    iconCss: menuClass_nPage
                };
            }
            return this.defaultItems[item] = {
                text: this.getLocaleText(item),
                id: this.generateID(item),
                target: menuItem.target,
                iconCss: menuItem.iconCss ? "e-icons " + menuItem.iconCss : ""
            }, this.defaultItems[item];
        }, ContextMenu$$1.prototype.getDefaultItems = function() {
            return [ "AutoFitAll", "AutoFit", "Group", "Ungroup", "Edit", "Delete", "Save", "Cancel", "Copy", "export", "PdfExport", "ExcelExport", "CsvExport", "SortAscending", "SortDescending", "FirstPage", "PrevPage", "LastPage", "NextPage" ];
        }, ContextMenu$$1.prototype.setLocaleKey = function() {
            return {
                AutoFitAll: "autoFitAll",
                AutoFit: "autoFit",
                Copy: "Copy",
                Group: "Group",
                Ungroup: "Ungroup",
                Edit: "EditRecord",
                Delete: "DeleteRecord",
                Save: "Save",
                Cancel: "CancelButton",
                PdfExport: "Pdfexport",
                ExcelExport: "Excelexport",
                CsvExport: "Csvexport",
                export: "Export",
                SortAscending: "SortAscending",
                SortDescending: "SortDescending",
                FirstPage: "FirstPage",
                LastPage: "LastPage",
                PrevPage: "PreviousPage",
                NextPage: "NextPage"
            };
        }, ContextMenu$$1.prototype.getColumn = function(e) {
            var cell = closest(e.target, "th.e-headercell");
            if (cell) {
                cell.classList.add("e-resized");
                var uid = cell.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");
                return this.parent.getColumnByUid(uid);
            }
            return null;
        }, ContextMenu$$1.prototype.selectRow = function(e, isSelectable) {
            this.cell = e.target, this.row = closest(e.target, "tr.e-row") || this.row, this.row && isSelectable && this.parent.selectRow(parseInt(this.row.getAttribute("aria-rowindex"), 10));
        }, ContextMenu$$1;
    }(), FreezeRowModelGenerator = function() {
        function FreezeRowModelGenerator(parent) {
            this.isFrzLoad = 1, this.parent = parent, this.rowModelGenerator = new RowModelGenerator(this.parent);
        }
        return FreezeRowModelGenerator.prototype.generateRows = function(data, notifyArgs) {
            for (var frzCols = this.parent.getFrozenColumns(), row = this.rowModelGenerator.generateRows(data, notifyArgs), i = 0, len = row.length; i < len; i++) this.isFrzLoad % 2 == 0 ? row[i].cells = row[i].cells.slice(frzCols, row[i].cells.length) : row[i].cells = row[i].cells.slice(0, frzCols);
            return this.isFrzLoad++, row;
        }, FreezeRowModelGenerator;
    }(), __extends$36 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), FreezeContentRender = function(_super) {
        function FreezeContentRender(parent, locator) {
            return _super.call(this, parent, locator) || this;
        }
        return __extends$36(FreezeContentRender, _super), FreezeContentRender.prototype.renderPanel = function() {
            _super.prototype.renderPanel.call(this);
            var fDiv = createElement("div", {
                className: "e-frozencontent"
            }), mDiv = createElement("div", {
                className: "e-movablecontent"
            });
            this.getPanel().firstChild.appendChild(fDiv), this.getPanel().firstChild.appendChild(mDiv), 
            this.setFrozenContent(fDiv), this.setMovableContent(mDiv);
        }, FreezeContentRender.prototype.renderEmpty = function(tbody) {
            _super.prototype.renderEmpty.call(this, tbody), this.getMovableContent().querySelector("tbody").innerHTML = "<tr><td></td></tr>", 
            this.getFrozenContent().querySelector(".e-emptyrow").querySelector("td").colSpan = this.parent.getFrozenColumns(), 
            this.getFrozenContent().style.borderRightWidth = "0px", this.parent.frozenRows && (this.parent.getHeaderContent().querySelector(".e-frozenheader").querySelector("tbody").innerHTML = "", 
            this.parent.getHeaderContent().querySelector(".e-movableheader").querySelector("tbody").innerHTML = "");
        }, FreezeContentRender.prototype.setFrozenContent = function(ele) {
            this.frozenContent = ele;
        }, FreezeContentRender.prototype.setMovableContent = function(ele) {
            this.movableContent = ele;
        }, FreezeContentRender.prototype.getFrozenContent = function() {
            return this.frozenContent;
        }, FreezeContentRender.prototype.getMovableContent = function() {
            return this.movableContent;
        }, FreezeContentRender.prototype.getModelGenerator = function() {
            return new FreezeRowModelGenerator(this.parent);
        }, FreezeContentRender.prototype.renderTable = function() {
            _super.prototype.renderTable.call(this), this.getFrozenContent().appendChild(this.getTable());
            var mTbl = this.getTable().cloneNode(!0);
            this.getMovableContent().appendChild(mTbl), remove(this.getMovableContent().querySelector("colgroup"));
            var colGroup = this.parent.getHeaderContent().querySelector(".e-movableheader").querySelector("colgroup").cloneNode(!0);
            mTbl.insertBefore(colGroup, mTbl.querySelector("tbody"));
        }, FreezeContentRender;
    }(ContentRender), FreezeRender = function(_super) {
        function FreezeRender(parent, locator) {
            var _this = _super.call(this, parent, locator) || this;
            return _this.addEventListener(), _this;
        }
        return __extends$36(FreezeRender, _super), FreezeRender.prototype.addEventListener = function() {
            this.parent.on(freezeRender, this.refreshFreeze, this);
        }, FreezeRender.prototype.renderTable = function() {
            _super.prototype.renderTable.call(this), this.rfshMovable(), this.updateColgroup(), 
            this.initializeHeaderDrag(), this.initializeHeaderDrop(), this.parent.notify(headerRefreshed, {
                rows: this.rows,
                args: {
                    isFrozen: !1
                }
            });
        }, FreezeRender.prototype.renderPanel = function() {
            _super.prototype.renderPanel.call(this);
            var fDiv = createElement("div", {
                className: "e-frozenheader"
            }), mDiv = createElement("div", {
                className: "e-movableheader"
            });
            this.getPanel().firstChild.appendChild(fDiv), this.getPanel().firstChild.appendChild(mDiv), 
            this.setFrozenHeader(fDiv), this.setMovableHeader(mDiv);
        }, FreezeRender.prototype.refreshUI = function() {
            var tbody = this.getMovableHeader().querySelector("tbody");
            remove(this.getMovableHeader().querySelector("table")), _super.prototype.refreshUI.call(this), 
            this.rfshMovable(), this.getMovableHeader().querySelector("tbody").innerHTML = tbody.innerHTML, 
            this.updateColgroup(), renderMovable(this.parent.getContentTable().querySelector("colgroup"), this.parent.getFrozenColumns()), 
            this.initializeHeaderDrag(), this.parent.notify(headerRefreshed, {
                rows: this.rows,
                args: {
                    isFrozen: !1
                }
            });
        }, FreezeRender.prototype.rfshMovable = function() {
            this.getFrozenHeader().appendChild(this.getTable()), this.getMovableHeader().appendChild(this.createTable()), 
            this.refreshStackedHdrHgt();
        }, FreezeRender.prototype.refreshFreeze = function(obj) {
            if ("filter" === obj.case) {
                var filterRow = this.getTable().querySelector(".e-filterbar");
                this.parent.allowFiltering && filterRow && this.getMovableHeader().querySelector("thead") && this.getMovableHeader().querySelector("thead").appendChild(renderMovable(filterRow, this.parent.getFrozenColumns()));
            } else if ("textwrap" === obj.case) {
                var fRows = void 0, mRows = void 0, fHdr = this.getFrozenHeader(), mHdr = this.getMovableHeader(), cont = this.parent.getContent(), wrapMode = this.parent.textWrapSettings.wrapMode, hdrClassList = this.parent.getHeaderContent().firstChild.classList;
                ("Header" !== wrapMode || obj.isModeChg) && (fRows = cont.querySelector(".e-frozencontent").querySelectorAll("tr"), 
                mRows = cont.querySelector(".e-movablecontent").querySelectorAll("tr"), this.setWrapHeight(fRows, mRows, obj.isModeChg, !0)), 
                "Content" === wrapMode && this.parent.allowTextWrap ? hdrClassList.add("e-wrap") : hdrClassList.remove("e-wrap"), 
                "Both" === wrapMode || obj.isModeChg ? (fRows = fHdr.querySelectorAll("tr"), mRows = mHdr.querySelectorAll("tr")) : (fRows = fHdr.querySelector("Content" === wrapMode ? "tbody" : "thead").querySelectorAll("tr"), 
                mRows = mHdr.querySelector("Content" === wrapMode ? "tbody" : "thead").querySelectorAll("tr")), 
                this.setWrapHeight(fRows, mRows, obj.isModeChg, !1, this.colDepth > 1), this.refreshStackedHdrHgt();
            }
        }, FreezeRender.prototype.updateResizeHandler = function() {
            [].slice.call(this.parent.getHeaderContent().querySelectorAll(".e-rhandler")).forEach(function(ele) {
                ele.style.height = ele.parentElement.offsetHeight + "px";
            });
        }, FreezeRender.prototype.setWrapHeight = function(fRows, mRows, isModeChg, isContReset, isStackedHdr) {
            for (var fRowHgt, mRowHgt, isWrap = this.parent.allowTextWrap, wrapMode = this.parent.textWrapSettings.wrapMode, tHead = this.parent.getHeaderContent().querySelector("thead"), tBody = this.parent.getHeaderContent().querySelector("tbody"), i = 0, len = fRows.length; i < len; i++) (isModeChg && ("Header" === wrapMode && isContReset || "Content" === wrapMode && tHead.contains(fRows[i]) || "Header" === wrapMode && tBody.contains(fRows[i])) || isStackedHdr) && (fRows[i].style.height = null, 
            mRows[i].style.height = null), fRowHgt = fRows[i].offsetHeight, mRowHgt = mRows[i].offsetHeight, 
            fRows[i].childElementCount && (isWrap && fRowHgt < mRowHgt || !isWrap && fRowHgt > mRowHgt) ? fRows[i].style.height = mRowHgt + "px" : mRows[i].childElementCount && (isWrap && fRowHgt > mRowHgt || !isWrap && fRowHgt < mRowHgt) && (mRows[i].style.height = fRowHgt + "px");
        }, FreezeRender.prototype.refreshStackedHdrHgt = function() {
            for (var fRowSpan, mRowSpan, fTr = this.getFrozenHeader().querySelectorAll(".e-columnheader"), mTr = this.getMovableHeader().querySelectorAll(".e-columnheader"), i = 0, len = fTr.length; i < len; i++) fRowSpan = this.getRowSpan(fTr[i]), 
            mRowSpan = this.getRowSpan(mTr[i]), fRowSpan.min > 1 ? this.updateStackedHdrRowHgt(i, fRowSpan.max, fTr[i], mTr) : mRowSpan.min > 1 && this.updateStackedHdrRowHgt(i, mRowSpan.max, mTr[i], fTr);
            this.parent.allowResizing && this.updateResizeHandler();
        }, FreezeRender.prototype.getRowSpan = function(row) {
            for (var rSpan, minRowSpan, maxRowSpan, i = 0, len = row.childElementCount; i < len; i++) 0 === i && (minRowSpan = row.children[0].rowSpan), 
            rSpan = row.children[i].rowSpan, minRowSpan = Math.min(rSpan, minRowSpan), maxRowSpan = Math.max(rSpan, minRowSpan);
            return {
                min: minRowSpan,
                max: maxRowSpan
            };
        }, FreezeRender.prototype.updateStackedHdrRowHgt = function(idx, maxRowSpan, row, rows) {
            for (var height = 0, i = 0; i < maxRowSpan; i++) height += rows[idx + i].offsetHeight;
            row.style.height = height + "px";
        }, FreezeRender.prototype.setFrozenHeader = function(ele) {
            this.frozenHeader = ele;
        }, FreezeRender.prototype.setMovableHeader = function(ele) {
            this.movableHeader = ele;
        }, FreezeRender.prototype.getFrozenHeader = function() {
            return this.frozenHeader;
        }, FreezeRender.prototype.getMovableHeader = function() {
            return this.movableHeader;
        }, FreezeRender.prototype.updateColgroup = function() {
            var mTable = this.getMovableHeader().querySelector("table");
            remove(this.getMovableHeader().querySelector("colgroup")), mTable.insertBefore(renderMovable(this.getFrozenHeader().querySelector("colgroup"), this.parent.getFrozenColumns()), mTable.querySelector("thead"));
        }, FreezeRender;
    }(HeaderRender), Freeze = function() {
        function Freeze(parent, locator) {
            this.parent = parent, this.locator = locator, this.addEventListener();
        }
        return Freeze.prototype.getModuleName = function() {
            return "freeze";
        }, Freeze.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(initialLoad, this.instantiateRenderer, this), 
            this.parent.on(initialEnd, this.wireEvents, this));
        }, Freeze.prototype.wireEvents = function() {
            this.parent.frozenRows && EventHandler.add(this.parent.getHeaderContent(), "dblclick", this.dblClickHandler, this);
        }, Freeze.prototype.dblClickHandler = function(e) {
            parentsUntil(e.target, "e-grid").id === this.parent.element.id && this.parent.notify("dblclick", e);
        }, Freeze.prototype.instantiateRenderer = function() {
            var renderer = this.locator.getService("rendererFactory");
            this.parent.getFrozenColumns() && (renderer.addRenderer(RenderType.Header, new FreezeRender(this.parent, this.locator)), 
            renderer.addRenderer(RenderType.Content, new FreezeContentRender(this.parent, this.locator)));
        }, Freeze.prototype.removeEventListener = function() {
            this.parent.isDestroyed || this.parent.off(initialLoad, this.instantiateRenderer);
        }, Freeze.prototype.destroy = function() {
            this.removeEventListener();
        }, Freeze;
    }(), ColumnMenu = function() {
        function ColumnMenu(parent, serviceLocator) {
            this.defaultItems = {}, this.localeText = this.setLocaleKey(), this.disableItems = [], 
            this.hiddenItems = [], this.isOpen = !1, this.GROUP = "e-icon-group", this.UNGROUP = "e-icon-ungroup", 
            this.ASCENDING = "e-icon-ascending", this.DESCENDING = "e-icon-descending", this.ROOT = "e-columnmenu", 
            this.FILTER = "e-icon-filter", this.POP = "e-filter-popup", this.WRAP = "e-col-menu", 
            this.CHOOSER = "_chooser_", this.parent = parent, this.gridID = parent.element.id, 
            this.serviceLocator = serviceLocator, this.addEventListener();
        }
        return ColumnMenu.prototype.wireEvents = function() {
            var _this = this;
            this.getColumnMenuHandlers().forEach(function(ele) {
                EventHandler.add(ele, "mousedown", _this.columnMenuHandlerDown, _this);
            });
        }, ColumnMenu.prototype.unwireEvents = function() {
            var _this = this;
            this.getColumnMenuHandlers().forEach(function(ele) {
                EventHandler.remove(ele, "mousedown", _this.columnMenuHandlerDown);
            });
        }, ColumnMenu.prototype.destroy = function() {
            this.columnMenu.destroy(), this.removeEventListener(), this.unwireFilterEvents(), 
            this.unwireEvents(), remove(this.element);
        }, ColumnMenu.prototype.columnMenuHandlerClick = function(e) {
            e.target.classList.contains("e-columnmenu") && (this.isOpen && this.headerCell !== this.getHeaderCell(e) || document.querySelector(".e-grid-menu .e-menu-parent.e-ul") ? (this.columnMenu.close(), 
            this.openColumnMenu(e)) : this.isOpen ? this.columnMenu.close() : this.openColumnMenu(e));
        }, ColumnMenu.prototype.openColumnMenu = function(e) {
            var pos = {
                top: 0,
                left: 0
            };
            this.element.style.cssText = "display:block;visibility:hidden";
            var elePos = this.element.getBoundingClientRect();
            this.element.style.cssText = "display:none;visibility:visible", this.headerCell = this.getHeaderCell(e), 
            Browser.isDevice ? (pos.top = window.innerHeight / 2 - elePos.height / 2, pos.left = window.innerWidth / 2 - elePos.width / 2) : this.parent.enableRtl ? pos = calculatePosition(this.headerCell, "left", "bottom") : (pos = calculatePosition(this.headerCell, "right", "bottom")).left -= elePos.width, 
            this.columnMenu.open(pos.top, pos.left), e.preventDefault();
        }, ColumnMenu.prototype.columnMenuHandlerDown = function(e) {
            this.isOpen = !("none" === this.element.style.display || "" === this.element.style.display);
        }, ColumnMenu.prototype.getColumnMenuHandlers = function() {
            return [].slice.call(this.parent.getHeaderTable().querySelectorAll("." + this.ROOT));
        }, ColumnMenu.prototype.addEventListener = function() {
            this.parent.isDestroyed || (this.parent.on(headerRefreshed, this.wireEvents, this), 
            this.parent.on(uiUpdate, this.enableAfterRenderMenu, this), this.parent.on(initialEnd, this.render, this), 
            this.isFilterItemAdded() && this.parent.on("filterDialogCreated", this.filterPosition, this), 
            this.parent.on(click, this.columnMenuHandlerClick, this));
        }, ColumnMenu.prototype.removeEventListener = function() {
            this.parent.isDestroyed || (this.parent.off(headerRefreshed, this.unwireEvents), 
            this.parent.off(uiUpdate, this.enableAfterRenderMenu), this.parent.off(initialEnd, this.render), 
            this.isFilterItemAdded() && this.parent.off("filterDialogCreated", this.filterPosition), 
            this.parent.off(click, this.columnMenuHandlerClick));
        }, ColumnMenu.prototype.enableAfterRenderMenu = function(e) {
            e.module === this.getModuleName() && e.enable && (this.columnMenu && (this.columnMenu.destroy(), 
            remove(this.element)), this.render());
        }, ColumnMenu.prototype.render = function() {
            this.l10n = this.serviceLocator.getService("localization"), this.element = createElement("ul", {
                id: this.gridID + "_columnmenu",
                className: "e-colmenu"
            }), this.parent.element.appendChild(this.element), this.columnMenu = new ContextMenu({
                cssClass: "e-grid-menu",
                enableRtl: this.parent.enableRtl,
                enablePersistence: this.parent.enablePersistence,
                locale: this.parent.locale,
                items: this.getItems(),
                select: this.columnMenuItemClick.bind(this),
                beforeOpen: this.columnMenuBeforeOpen.bind(this),
                onClose: this.columnMenuOnClose.bind(this),
                beforeItemRender: this.beforeMenuItemRender.bind(this),
                beforeClose: this.columnMenuBeforeClose.bind(this)
            }), this.columnMenu.appendTo(this.element), this.wireFilterEvents();
        }, ColumnMenu.prototype.wireFilterEvents = function() {
            !Browser.isDevice && this.isFilterItemAdded() && EventHandler.add(this.element, "mouseover", this.appendFilter, this);
        }, ColumnMenu.prototype.unwireFilterEvents = function() {
            !Browser.isDevice && this.isFilterItemAdded() && EventHandler.remove(this.element, "mouseover", this.appendFilter);
        }, ColumnMenu.prototype.beforeMenuItemRender = function(args) {
            if (this.isChooserItem(args.item)) {
                var field = this.getKeyFromId(args.item.id, this.CHOOSER), column = this.parent.getColumnByField(field), check = createCheckBox(!1, {
                    label: args.item.text,
                    checked: column.visible
                });
                this.parent.enableRtl && check.classList.add("e-rtl"), args.element.innerHTML = "", 
                args.element.appendChild(check);
            } else args.item.id && "Filter" === this.getKeyFromId(args.item.id) && (args.element.appendChild(createElement("span", {
                className: "e-icons e-caret"
            })), args.element.className += "e-filter-item e-menu-caret-icon");
        }, ColumnMenu.prototype.columnMenuBeforeClose = function(args) {
            var colChooser = args.event ? closest(args.event.target, ".e-menu-item") : null;
            !isNullOrUndefined(args.parentItem) && "ColumnChooser" === this.getKeyFromId(args.parentItem.id) && colChooser && this.isChooserItem(colChooser) ? args.cancel = !0 : args.event && (closest(args.event.target, "." + this.POP) || parentsUntil(args.event.target, "e-popup") || parentsUntil(args.event.target, "e-popup-wrapper")) && (args.cancel = !0);
        }, ColumnMenu.prototype.isChooserItem = function(item) {
            return item.id && item.id.indexOf("_colmenu_") >= 0 && -1 === this.getKeyFromId(item.id, this.CHOOSER).indexOf("_colmenu_");
        }, ColumnMenu.prototype.columnMenuBeforeOpen = function(args) {
            args.column = this.targetColumn = this.getColumn(), this.parent.trigger("columnMenuOpen", args);
            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {
                var item = _a[_i], key = this.getKeyFromId(item.id), dItem = this.defaultItems[key];
                -1 !== this.getDefaultItems().indexOf(key) && (this.ensureDisabledStatus(key) && !dItem.hide ? this.disableItems.push(item.text) : item.hide && this.hiddenItems.push(item.text));
            }
            this.columnMenu.enableItems(this.disableItems, !1), this.columnMenu.hideItems(this.hiddenItems);
        }, ColumnMenu.prototype.ensureDisabledStatus = function(item) {
            var _this = this, status = !1;
            switch (item) {
              case "Group":
                (!this.parent.allowGrouping || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0) && (status = !0);
                break;

              case "AutoFitAll":
              case "AutoFit":
                status = !this.parent.ensureModuleInjected(Resize);
                break;

              case "Ungroup":
                (!this.parent.ensureModuleInjected(Group) || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0) && (status = !0);
                break;

              case "SortDescending":
              case "SortAscending":
                this.parent.allowSorting && this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn ? this.parent.sortSettings.columns.forEach(function(ele) {
                    ele.field === _this.targetColumn.field && ele.direction.toLocaleLowerCase() === item.toLocaleLowerCase().replace("sort", "") && (status = !0);
                }) : this.parent.allowSorting && this.parent.ensureModuleInjected(Sort) || (status = !0);
                break;

              case "Filter":
                status = !(this.parent.allowFiltering && "FilterBar" !== this.parent.filterSettings.type && this.parent.ensureModuleInjected(Filter));
            }
            return status;
        }, ColumnMenu.prototype.columnMenuItemClick = function(args) {
            switch (this.isChooserItem(args.item) ? "ColumnChooser" : this.getKeyFromId(args.item.id)) {
              case "AutoFit":
                this.parent.autoFitColumns(this.targetColumn.field);
                break;

              case "AutoFitAll":
                this.parent.autoFitColumns([]);
                break;

              case "Ungroup":
                this.parent.ungroupColumn(this.targetColumn.field);
                break;

              case "Group":
                this.parent.groupColumn(this.targetColumn.field);
                break;

              case "SortAscending":
                this.parent.sortColumn(this.targetColumn.field, "Ascending");
                break;

              case "SortDescending":
                this.parent.sortColumn(this.targetColumn.field, "Descending");
                break;

              case "ColumnChooser":
                var key = this.getKeyFromId(args.item.id, this.CHOOSER), checkbox = args.element.querySelector(".e-checkbox-wrapper .e-frame");
                checkbox && checkbox.classList.contains("e-check") ? (checkbox.classList.remove("e-check"), 
                this.parent.hideColumns(key, "field")) : checkbox && (this.parent.showColumns(key, "field"), 
                checkbox.classList.add("e-check"));
                break;

              case "Filter":
                this.getFilter(args.element, args.item.id);
            }
            args.column = this.targetColumn, this.parent.trigger("columnMenuClick", args);
        }, ColumnMenu.prototype.columnMenuOnClose = function(args) {
            args.items.length > 0 && args.items[0].parentObj instanceof ContextMenu && (this.columnMenu.enableItems(this.disableItems), 
            this.disableItems = [], this.columnMenu.showItems(this.hiddenItems), this.hiddenItems = [], 
            this.isFilterPopupOpen() && this.getFilter(args.element, args.element.id, !0));
        }, ColumnMenu.prototype.getDefaultItems = function() {
            return [ "AutoFitAll", "AutoFit", "SortAscending", "SortDescending", "Group", "Ungroup", "ColumnChooser", "Filter" ];
        }, ColumnMenu.prototype.getItems = function() {
            for (var items = [], _i = 0, defultItems_1 = this.parent.columnMenuItems ? this.parent.columnMenuItems : this.getDefault(); _i < defultItems_1.length; _i++) {
                var item = defultItems_1[_i];
                if ("string" == typeof item) if ("ColumnChooser" === item) {
                    var col = this.getDefaultItem(item);
                    col.items = this.createChooserItems(), items.push(col);
                } else items.push(this.getDefaultItem(item)); else items.push(item);
            }
            return items;
        }, ColumnMenu.prototype.getDefaultItem = function(item) {
            var menuItem = {};
            switch (item) {
              case "SortAscending":
                menuItem = {
                    iconCss: this.ASCENDING
                };
                break;

              case "SortDescending":
                menuItem = {
                    iconCss: this.DESCENDING
                };
                break;

              case "Group":
                menuItem = {
                    iconCss: this.GROUP
                };
                break;

              case "Ungroup":
                menuItem = {
                    iconCss: this.UNGROUP
                };
                break;

              case "Filter":
                menuItem = {
                    iconCss: this.FILTER
                };
            }
            return this.defaultItems[item] = {
                text: this.getLocaleText(item),
                id: this.generateID(item),
                iconCss: menuItem.iconCss ? "e-icons " + menuItem.iconCss : null
            }, this.defaultItems[item];
        }, ColumnMenu.prototype.getLocaleText = function(item) {
            return this.l10n.getConstant(this.localeText[item]);
        }, ColumnMenu.prototype.generateID = function(item, append$$1) {
            return this.gridID + "_colmenu_" + (append$$1 ? append$$1 + item : item);
        }, ColumnMenu.prototype.getKeyFromId = function(id, append$$1) {
            return id.indexOf("_colmenu_") > 0 && id.replace(this.gridID + "_colmenu_" + (append$$1 || ""), "");
        }, ColumnMenu.prototype.getColumnMenu = function() {
            return this.element;
        }, ColumnMenu.prototype.getModuleName = function() {
            return "columnMenu";
        }, ColumnMenu.prototype.setLocaleKey = function() {
            return {
                AutoFitAll: "autoFitAll",
                AutoFit: "autoFit",
                Group: "Group",
                Ungroup: "Ungroup",
                SortAscending: "SortAscending",
                SortDescending: "SortDescending",
                ColumnChooser: "Columnchooser",
                Filter: "FilterMenu"
            };
        }, ColumnMenu.prototype.getHeaderCell = function(e) {
            return closest(e.target, "th.e-headercell");
        }, ColumnMenu.prototype.getColumn = function() {
            if (this.headerCell) {
                var uid = this.headerCell.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");
                return this.parent.getColumnByUid(uid);
            }
            return null;
        }, ColumnMenu.prototype.createChooserItems = function() {
            for (var items = [], _i = 0, _a = this.parent.getColumns(); _i < _a.length; _i++) {
                var col = _a[_i];
                col.showInColumnChooser && col.field && items.push({
                    id: this.generateID(col.field, this.CHOOSER),
                    text: col.headerText ? col.headerText : col.field
                });
            }
            return items;
        }, ColumnMenu.prototype.appendFilter = function(e) {
            if (this.defaultItems.Filter) {
                var key = this.defaultItems.Filter.id;
                closest(e.target, "#" + key) && !this.isFilterPopupOpen() ? this.getFilter(e.target, key) : !closest(e.target, "#" + key) && this.isFilterPopupOpen() && this.getFilter(e.target, key, !0);
            }
        }, ColumnMenu.prototype.getFilter = function(target, id, isClose) {
            var filterPopup = this.getFilterPop();
            filterPopup ? filterPopup.style.display = !Browser.isDevice && isClose ? "none" : "block" : this.parent.notify("filterOpen", {
                col: this.targetColumn,
                target: target,
                isClose: isClose,
                id: id
            });
        }, ColumnMenu.prototype.setPosition = function(li, ul) {
            var gridPos = this.parent.element.getBoundingClientRect(), liPos = li.getBoundingClientRect(), left = liPos.left - gridPos.left, top = liPos.top - gridPos.top;
            gridPos.height < top ? top = top - ul.offsetHeight + liPos.height : gridPos.height < top + ul.offsetHeight && (top = gridPos.height - ul.offsetHeight), 
            window.innerHeight < ul.offsetHeight + top + gridPos.top && (top = window.innerHeight - ul.offsetHeight - gridPos.top), 
            left += this.parent.enableRtl ? -ul.offsetWidth : liPos.width, gridPos.width <= left + ul.offsetWidth ? left -= liPos.width + ul.offsetWidth : left < 0 && (left += ul.offsetWidth + liPos.width), 
            ul.style.top = top + "px", ul.style.left = left + "px";
        }, ColumnMenu.prototype.filterPosition = function(e) {
            var filterPopup = this.getFilterPop();
            if (filterPopup.classList.add(this.WRAP), !Browser.isDevice) {
                var disp = filterPopup.style.display;
                filterPopup.style.cssText += "display:block;visibility:hidden";
                var li = this.element.querySelector("." + this.FILTER);
                li && (this.setPosition(li.parentElement, filterPopup), filterPopup.style.cssText += "display:" + disp + ";visibility:visible");
            }
        }, ColumnMenu.prototype.getDefault = function() {
            var items = [];
            return this.parent.ensureModuleInjected(Resize) && (items.push("AutoFitAll"), items.push("AutoFit")), 
            this.parent.allowGrouping && this.parent.ensureModuleInjected(Group) && (items.push("Group"), 
            items.push("Ungroup")), this.parent.allowSorting && this.parent.ensureModuleInjected(Sort) && (items.push("SortAscending"), 
            items.push("SortDescending")), items.push("ColumnChooser"), this.parent.allowFiltering && "FilterBar" !== this.parent.filterSettings.type && this.parent.ensureModuleInjected(Filter) && items.push("Filter"), 
            items;
        }, ColumnMenu.prototype.isFilterPopupOpen = function() {
            var filterPopup = this.getFilterPop();
            return filterPopup && "none" !== filterPopup.style.display;
        }, ColumnMenu.prototype.getFilterPop = function() {
            return this.parent.element.querySelector("." + this.POP);
        }, ColumnMenu.prototype.isFilterItemAdded = function() {
            return this.parent.columnMenuItems && this.parent.columnMenuItems.indexOf("Filter") >= 0 || !this.parent.columnMenuItems;
        }, ColumnMenu;
    }(), __extends$37 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), ForeignKey = function(_super) {
        function ForeignKey(parent, serviceLocator) {
            var _this = _super.call(this, parent, serviceLocator) || this;
            return _this.parent = parent, _this.serviceLocator = serviceLocator, _this.initEvent(), 
            _this;
        }
        return __extends$37(ForeignKey, _super), ForeignKey.prototype.initEvent = function() {
            this.parent.isDestroyed || (this.parent.on("initForeignKeyColumn", this.initForeignKeyColumns, this), 
            this.parent.on("getForeignKeyData", this.getForeignKeyData, this), this.parent.on("generateQuery", this.generateQueryFormData, this));
        }, ForeignKey.prototype.initForeignKeyColumns = function(columns) {
            columns.forEach(function(column) {
                column.dataSource = column.dataSource instanceof DataManager ? column.dataSource : isNullOrUndefined(column.dataSource) ? new DataManager() : new DataManager(column.dataSource);
            });
        }, ForeignKey.prototype.getForeignKeyData = function(args) {
            var _this = this, foreignColumns = args.column ? [ args.column ] : this.parent.getForeignKeyColumns(), allPromise = [];
            foreignColumns.forEach(function(col) {
                var promise, query = args.isComplex ? _this.genarateColumnQuery(col) : _this.genarateQuery(col, args.result.result, !1, !0), dataSource = col.dataSource;
                promise = !dataSource.ready || dataSource.dataSource.offline ? dataSource.executeQuery(query) : dataSource.ready.then(function() {
                    return dataSource.executeQuery(query);
                }), allPromise.push(promise);
            }), Promise.all(allPromise).then(function(responses) {
                responses.forEach(function(data, index) {
                    foreignColumns[index].columnData = data.result;
                }), args.promise.resolve(args.result);
            }).catch(function(e) {
                return args.promise && args.promise.reject && args.promise.reject(e), e;
            });
        }, ForeignKey.prototype.generateQueryFormData = function(args) {
            args.predicate.predicate = this.genarateQuery(args.column, args.column.columnData, !0);
        }, ForeignKey.prototype.genarateQuery = function(column, e, fromData, needQuery) {
            var gObj = this.parent, predicates = [], query = new Query();
            if (gObj.allowPaging || gObj.enableVirtualization || fromData) {
                e = new DataManager(gObj.allowGrouping && gObj.groupSettings.columns.length ? e.records : e).executeLocal(new Query().select(column.field));
                DataUtil.distinct(e, column.field, !1).forEach(function(obj) {
                    obj.getDay ? predicates.push(getDatePredicate({
                        field: column.field,
                        operator: "equal",
                        value: obj,
                        matchCase: !1
                    })) : predicates.push(new Predicate$1(column.field, "equal", obj, !1));
                });
            }
            return needQuery ? predicates.length ? query.where(Predicate$1.or(predicates)) : query : predicates.length ? Predicate$1.or(predicates) : {
                predicates: []
            };
        }, ForeignKey.prototype.genarateColumnQuery = function(column) {
            var gObj = this.parent, query = gObj.query.clone(), queryColumn = this.isFiltered(column);
            if (queryColumn.isTrue && (query = this.filterQuery(query, queryColumn.column, !0)), 
            gObj.searchSettings.key.length) {
                var sSettings = gObj.searchSettings;
                query.search(sSettings.key, column.foreignKeyValue, sSettings.operator, sSettings.ignoreCase);
            }
            return query;
        }, ForeignKey.prototype.isFiltered = function(column) {
            var filterColumn = this.parent.filterSettings.columns.filter(function(fColumn) {
                return fColumn.field === column.foreignKeyValue;
            });
            return {
                column: filterColumn,
                isTrue: !!filterColumn.length
            };
        }, ForeignKey.prototype.getModuleName = function() {
            return "foreignKey";
        }, ForeignKey.prototype.destroy = function() {
            _super.prototype.destroy.call(this), this.destroyEvent();
        }, ForeignKey.prototype.destroyEvent = function() {
            this.parent.isDestroyed || (this.parent.off("initForeignKeyColumn", this.initForeignKeyColumns), 
            this.parent.off("getForeignKeyData", this.getForeignKeyData), this.parent.off("generateQuery", this.generateQueryFormData));
        }, ForeignKey;
    }(Data), __extends$38 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$14 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, FOCUSED$1 = "e-focused", HEADER$4 = "e-menu-header", SELECTED$3 = "e-selected", WRAPPER$2 = "e-contextmenu-wrapper", HIDE$1 = "e-menu-hide", MenuItem$1 = function(_super) {
        function MenuItem() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$38(MenuItem, _super), __decorate$14([ Property("") ], MenuItem.prototype, "iconCss", void 0), 
        __decorate$14([ Property("") ], MenuItem.prototype, "id", void 0), __decorate$14([ Property(!1) ], MenuItem.prototype, "separator", void 0), 
        __decorate$14([ Collection([], MenuItem) ], MenuItem.prototype, "items", void 0), 
        __decorate$14([ Property("") ], MenuItem.prototype, "text", void 0), __decorate$14([ Property("") ], MenuItem.prototype, "url", void 0), 
        MenuItem;
    }(ChildProperty), ContextMenu$2 = function(_super) {
        function ContextMenu(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.animation = new Animation({}), _this.navIdx = [], _this.isTapHold = !1, 
            _this;
        }
        return __extends$38(ContextMenu, _super), ContextMenu.prototype.preRender = function() {
            if ("EJS-CONTEXTMENU" === this.element.tagName) {
                this.element.style.display = "none", this.element.classList.remove("e-" + this.getModuleName()), 
                this.element.classList.remove("e-control");
                var ejInst = getValue("ej2_instances", this.element), ul = createElement("ul");
                this.ngElement = this.element, this.element = ul, this.element.classList.add("e-control"), 
                this.element.classList.add("e-" + this.getModuleName()), setValue("ej2_instances", ejInst, this.element), 
                this.element.id || (this.element.id = getUniqueID(this.getModuleName()));
            }
        }, ContextMenu.prototype.render = function() {
            this.initWrapper(), this.renderItems(), this.wireEvents();
        }, ContextMenu.prototype.initWrapper = function() {
            var wrapper = this.getWrapper();
            wrapper || (wrapper = createElement("div", {
                className: WRAPPER$2
            }), document.body.appendChild(wrapper)), this.cssClass && wrapper.classList.add(this.cssClass), 
            this.enableRtl && wrapper.classList.add("e-rtl"), attributes(this.element, {
                role: "menu",
                tabindex: "0"
            }), wrapper.appendChild(this.element), this.element.style.zIndex = this.getZIndex();
        }, ContextMenu.prototype.renderItems = function() {
            this.items.length || (this.items = ListBase.createJsonFromElement(this.element), 
            this.element.innerHTML = "");
            var ul = this.createItems(this.items);
            append(Array.prototype.slice.call(ul.children), this.element), this.element.classList.add("e-menu-parent");
        }, ContextMenu.prototype.wireEvents = function() {
            var wrapper = this.getWrapper();
            if (this.target) {
                for (var target = void 0, targetElems = selectAll(this.target), i = 0, len = targetElems.length; i < len; i++) target = targetElems[i], 
                Browser.isIos ? new Touch(target, {
                    tapHold: this.touchHandler.bind(this)
                }) : EventHandler.add(target, "contextmenu", this.cmenuHandler, this);
                this.targetElement = target;
                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {
                    var parent_1 = _a[_i];
                    EventHandler.add(parent_1, "scroll", this.scrollHandler, this);
                }
            }
            Browser.isDevice || (EventHandler.add(wrapper, "mouseover", this.moverHandler, this), 
            EventHandler.add(document, "mousedown", this.mouseDownHandler, this)), this.delegateClickHandler = this.clickHandler.bind(this), 
            EventHandler.add(document, "click", this.delegateClickHandler, this), new KeyboardEvents(wrapper, {
                keyAction: this.keyBoardHandler.bind(this),
                keyConfigs: {
                    downarrow: "downarrow",
                    uparrow: "uparrow",
                    enter: "enter",
                    leftarrow: "leftarrow",
                    rightarrow: "rightarrow",
                    escape: "escape"
                }
            }), rippleEffect(wrapper, {
                selector: ".e-menu-item"
            });
        }, ContextMenu.prototype.mouseDownHandler = function(e) {
            closest(e.target, "." + WRAPPER$2) !== this.getWrapper() && this.closeMenu(this.navIdx.length, e);
        }, ContextMenu.prototype.keyBoardHandler = function(e) {
            switch (e.preventDefault(), e.action) {
              case "downarrow":
              case "uparrow":
                this.upDownKeyHandler(e);
                break;

              case "rightarrow":
                this.rightEnterKeyHandler(e);
                break;

              case "leftarrow":
                this.leftEscKeyHandler(e);
                break;

              case "enter":
                this.rightEnterKeyHandler(e);
                break;

              case "escape":
                this.leftEscKeyHandler(e);
            }
        }, ContextMenu.prototype.upDownKeyHandler = function(e) {
            var cul = this.getWrapper().children[this.navIdx.length], defaultIdx = "downarrow" === e.action ? 0 : cul.childElementCount - 1, fliIdx = defaultIdx, fli = this.getLIByClass(cul, FOCUSED$1);
            fli && (fliIdx = this.getIdx(cul, fli), fli.classList.remove(FOCUSED$1), "downarrow" === e.action ? fliIdx++ : fliIdx--, 
            fliIdx === ("downarrow" === e.action ? cul.childElementCount : -1) && (fliIdx = defaultIdx));
            var cli = cul.children[fliIdx];
            fliIdx = this.isValidLI(cli, fliIdx, e.action), cul.children[fliIdx].classList.add(FOCUSED$1), 
            cul.children[fliIdx].focus();
        }, ContextMenu.prototype.isValidLI = function(cli, index, action) {
            var cul = this.getWrapper().children[this.navIdx.length];
            return (cli.classList.contains("e-separator") || cli.classList.contains("e-disabled") || cli.classList.contains(HIDE$1)) && ("downarrow" === action || "rightarrow" === action ? index++ : index--), 
            ((cli = cul.children[index]).classList.contains("e-separator") || cli.classList.contains("e-disabled") || cli.classList.contains(HIDE$1)) && (index = this.isValidLI(cli, index, action)), 
            index;
        }, ContextMenu.prototype.rightEnterKeyHandler = function(e) {
            var eventArgs, wrapper = this.getWrapper(), cul = wrapper.children[this.navIdx.length], fli = this.getLIByClass(cul, FOCUSED$1);
            if (fli) {
                var fliIdx = this.getIdx(cul, fli), navIdx = this.navIdx.concat(fliIdx), index = void 0, item = this.getItem(navIdx);
                item.items.length ? (this.navIdx.push(fliIdx), this.openMenu(fli, item, null, null, e), 
                fli.classList.remove(FOCUSED$1), fli.classList.add(SELECTED$3), "enter" === e.action && (eventArgs = {
                    element: fli,
                    item: item
                }, this.trigger("select", eventArgs)), fli.focus(), cul = wrapper.children[this.navIdx.length], 
                index = this.isValidLI(cul.children[0], 0, e.action), cul.children[index].classList.add(FOCUSED$1), 
                cul.children[index].focus()) : "enter" === e.action && (fli.classList.remove(FOCUSED$1), 
                fli.classList.add(SELECTED$3), eventArgs = {
                    element: fli,
                    item: item
                }, this.trigger("select", eventArgs), this.closeMenu(null, e));
            }
        }, ContextMenu.prototype.leftEscKeyHandler = function(e) {
            if (this.navIdx.length) {
                var wrapper = this.getWrapper();
                this.closeMenu(this.navIdx.length, e);
                var cul = wrapper.children[this.navIdx.length], sli = this.getLIByClass(cul, SELECTED$3);
                sli && (sli.setAttribute("aria-expanded", "false"), sli.classList.remove(SELECTED$3), 
                sli.classList.add(FOCUSED$1), sli.focus());
            } else "escape" === e.action && this.closeMenu(null, e);
        }, ContextMenu.prototype.scrollHandler = function(e) {
            this.closeMenu(null, e);
        }, ContextMenu.prototype.touchHandler = function(e) {
            this.isTapHold = !0, this.cmenuHandler(e.originalEvent);
        }, ContextMenu.prototype.cmenuHandler = function(e) {
            e.preventDefault(), this.closeMenu(null, e), this.canOpen(e.target) && (e.changedTouches ? this.openMenu(null, null, e.changedTouches[0].clientY + 1, e.changedTouches[0].clientX + 1, e) : this.openMenu(null, null, e.clientY + 1, e.clientX + 1, e));
        }, ContextMenu.prototype.close = function() {
            this.closeMenu();
        }, ContextMenu.prototype.closeMenu = function(ulIndex, e) {
            if (void 0 === ulIndex && (ulIndex = 0), void 0 === e && (e = null), this.isMenuVisible()) for (var ul = void 0, item = void 0, items = void 0, closeArgs = void 0, beforeCloseArgs = void 0, wrapper = this.getWrapper(), cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) items = (item = this.navIdx.length ? this.getItem(this.navIdx) : null) ? item.items : this.items, 
            beforeCloseArgs = {
                element: ul = wrapper.children[cnt - 1],
                parentItem: item,
                items: items,
                event: e,
                cancel: !1
            }, this.trigger("beforeClose", beforeCloseArgs), beforeCloseArgs.cancel || (this.toggleAnimation(ul, !1), 
            this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex, closeArgs = {
                element: ul,
                parentItem: item,
                items: items
            }, this.trigger("onClose", closeArgs));
        }, ContextMenu.prototype.isMenuVisible = function() {
            return this.navIdx.length > 0 || this.element.classList.contains("e-contextmenu") && isVisible(this.element).valueOf();
        }, ContextMenu.prototype.canOpen = function(target) {
            var canOpen = !0;
            if (this.filter) {
                canOpen = !1;
                for (var filter = this.filter.split(" "), i = 0, len = target.classList.length; i < len; i++) if (filter.indexOf(target.classList[i]) > -1) {
                    canOpen = !0;
                    break;
                }
            }
            return canOpen;
        }, ContextMenu.prototype.open = function(top, left) {
            this.openMenu(null, null, top, left);
        }, ContextMenu.prototype.openMenu = function(li, item, top, left, e) {
            void 0 === top && (top = 0), void 0 === left && (left = 0), void 0 === e && (e = null);
            var ul, wrapper = this.getWrapper();
            if (li) {
                if (ul = this.createItems(item.items), Browser.isDevice) {
                    wrapper.lastChild.style.display = "none";
                    var data = {
                        text: item.text,
                        iconCss: "e-icons e-previous"
                    }, hdata = new MenuItem$1(this.items[0], null, data, !0), hli = this.createItems([ hdata ]).children[0];
                    hli.classList.add(HEADER$4), ul.insertBefore(hli, ul.children[0]);
                }
                ul.style.zIndex = this.element.style.zIndex, wrapper.appendChild(ul);
            } else ul = this.element;
            this.getIndex(li ? li.textContent : null);
            var eventArgs = {
                element: ul,
                items: li ? item.items : this.items,
                parentItem: item,
                event: e,
                cancel: !1
            };
            this.trigger("beforeOpen", eventArgs), eventArgs.cancel ? this.navIdx.pop() : (this.setPosition(li, ul, top, left), 
            this.toggleAnimation(ul));
        }, ContextMenu.prototype.setPosition = function(li, ul, top, left) {
            if (this.toggleVisiblity(ul), ul === this.element) {
                if ((collide = isCollide(ul, null, left, top)).indexOf("right") > -1 && (left -= ul.offsetWidth), 
                collide.indexOf("bottom") > -1) {
                    top = (offset = fit(ul, null, {
                        X: !1,
                        Y: !0
                    }, {
                        top: top,
                        left: left
                    })).top;
                }
                if ((collide = isCollide(ul, null, left, top)).indexOf("left") > -1) {
                    left = (offset = fit(ul, null, {
                        X: !0,
                        Y: !1
                    }, {
                        top: top,
                        left: left
                    })).left;
                }
            } else if (Browser.isDevice) top = Number(this.element.style.top.replace("px", "")), 
            left = Number(this.element.style.left.replace("px", "")); else {
                var offset;
                top = (offset = calculatePosition(li, this.enableRtl ? "left" : "right", "top")).top, 
                left = offset.left;
                var collide, xCollision = (collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top)).indexOf("left") > -1 || collide.indexOf("right") > -1;
                xCollision && (left = (offset = calculatePosition(li, this.enableRtl ? "right" : "left", "top")).left), 
                (this.enableRtl || xCollision) && (left = this.enableRtl && xCollision ? left : left - ul.offsetWidth), 
                collide.indexOf("bottom") > -1 && (top = (offset = fit(ul, null, {
                    X: !1,
                    Y: !0
                }, {
                    top: top,
                    left: left
                })).top);
            }
            this.toggleVisiblity(ul, !1), ul.style.top = top + "px", ul.style.left = left + "px";
        }, ContextMenu.prototype.toggleVisiblity = function(ul, isVisible$$1) {
            void 0 === isVisible$$1 && (isVisible$$1 = !0), ul.style.visibility = isVisible$$1 ? "hidden" : "", 
            ul.style.display = isVisible$$1 ? "block" : "none";
        }, ContextMenu.prototype.createItems = function(items) {
            var _this = this, showIcon = this.hasField(items, "iconCss"), listBaseOptions = {
                showIcon: showIcon,
                moduleName: "menu",
                itemCreating: function(args) {
                    args.curData.htmlAttributes = {
                        role: "menuitem",
                        tabindex: "-1"
                    };
                },
                itemCreated: function(args) {
                    if (args.curData.separator && (args.item.classList.add("e-separator"), args.item.removeAttribute("role")), 
                    !showIcon || args.curData.iconCss || args.curData.separator || args.item.classList.add("e-blankicon"), 
                    args.curData.items && args.curData.items.length) {
                        var span = createElement("span", {
                            className: "e-icons e-caret"
                        });
                        args.item.appendChild(span), args.item.setAttribute("aria-haspopup", "true"), args.item.setAttribute("aria-expanded", "false"), 
                        args.item.removeAttribute("role"), args.item.classList.add("e-menu-caret-icon");
                    }
                    var eventArgs = {
                        item: args.curData,
                        element: args.item
                    };
                    _this.trigger("beforeItemRender", eventArgs);
                }
            }, ul = ListBase.createList(this.toRawObject(items.slice()), listBaseOptions, !0);
            return ul.setAttribute("tabindex", "0"), ul;
        }, ContextMenu.prototype.toRawObject = function(items) {
            for (var item, menuItems = [], i = 0, len = items.length; i < len; i++) item = items[i].properties, 
            menuItems.push(item);
            return menuItems;
        }, ContextMenu.prototype.moverHandler = function(e) {
            var wrapper = this.getWrapper(), trgt = e.target, cli = this.getLI(trgt);
            if (cli && closest(cli, "." + WRAPPER$2)) {
                var fli = select(".e-focused", wrapper);
                fli && fli.classList.remove(FOCUSED$1), cli.classList.add(FOCUSED$1), this.showItemOnClick || this.clickHandler(e);
            }
        }, ContextMenu.prototype.hasField = function(items, field) {
            for (var i = 0, len = items.length; i < len; i++) if (items[i][field]) return !0;
            return !1;
        }, ContextMenu.prototype.getWrapper = function() {
            return closest(this.element, "." + WRAPPER$2);
        }, ContextMenu.prototype.clickHandler = function(e) {
            if (this.isTapHold) this.isTapHold = !1; else {
                var wrapper = this.getWrapper(), trgt = e.target, cli = this.getLI(trgt), cliWrapper = cli ? closest(cli, "." + WRAPPER$2) : null, isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;
                if (isInstLI && "click" === e.type && !cli.classList.contains(HEADER$4)) {
                    this.setLISelected(cli);
                    var navIdx = this.getIndex(cli.textContent), eventArgs = {
                        element: cli,
                        item: item = this.getItem(navIdx)
                    };
                    this.trigger("select", eventArgs);
                }
                if (isInstLI && ("mouseover" === e.type || Browser.isDevice || this.showItemOnClick)) {
                    var ul = void 0;
                    if (cli.classList.contains(HEADER$4)) {
                        ul = wrapper.children[this.navIdx.length - 1], this.toggleAnimation(ul);
                        (sli = this.getLIByClass(ul, SELECTED$3)) && sli.classList.remove(SELECTED$3), detach(cli.parentNode), 
                        this.navIdx.pop();
                    } else if (!cli.classList.contains("e-separator")) {
                        var showSubMenu = !0, cul = cli.parentNode, cliIdx = this.getIdx(cul, cli);
                        if (!Browser.isDevice) {
                            var culIdx = this.getIdx(wrapper, cul);
                            if (this.navIdx[culIdx] === cliIdx && (showSubMenu = !1), culIdx !== this.navIdx.length && ("mouseover" !== e.type || showSubMenu)) {
                                var sli;
                                (sli = this.getLIByClass(cul, SELECTED$3)) && sli.classList.remove(SELECTED$3), 
                                this.closeMenu(culIdx + 1, e);
                            }
                        }
                        if (showSubMenu) {
                            var item, idx = this.navIdx.concat(cliIdx);
                            (item = this.getItem(idx)).items.length ? ("mouseover" === e.type && this.setLISelected(cli), 
                            cli.setAttribute("aria-expanded", "true"), this.navIdx.push(cliIdx), this.openMenu(cli, item, null, null, e)) : "mouseover" !== e.type && this.closeMenu(null, e);
                        }
                    }
                } else "UL" === trgt.tagName && trgt.parentElement === wrapper || cli && cli.querySelector(".e-caret") || this.closeMenu(null, e);
            }
        }, ContextMenu.prototype.setLISelected = function(li) {
            var sli = this.getLIByClass(li.parentElement, SELECTED$3);
            sli && sli.classList.remove(SELECTED$3), li.classList.remove(FOCUSED$1), li.classList.add(SELECTED$3);
        }, ContextMenu.prototype.getLIByClass = function(ul, classname) {
            for (var i = 0, len = ul.children.length; i < len; i++) if (ul.children[i].classList.contains(classname)) return ul.children[i];
            return null;
        }, ContextMenu.prototype.getItem = function(navIdx) {
            var idx = (navIdx = navIdx.slice()).pop();
            return this.getItems(navIdx)[idx];
        }, ContextMenu.prototype.getItems = function(navIdx) {
            for (var items = this.items, i = 0; i < navIdx.length; i++) items = items[navIdx[i]].items;
            return items;
        }, ContextMenu.prototype.getIdx = function(ul, li, skipHdr) {
            void 0 === skipHdr && (skipHdr = !0);
            var idx = Array.prototype.indexOf.call(ul.children, li);
            return skipHdr && ul.children[0].classList.contains(HEADER$4) && idx--, idx;
        }, ContextMenu.prototype.getLI = function(elem) {
            return "LI" === elem.tagName ? elem : closest(elem, "li");
        }, ContextMenu.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var wrapper = this.getWrapper(), _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "cssClass":
                    oldProp.cssClass && wrapper.classList.remove(oldProp.cssClass), newProp.cssClass && wrapper.classList.add(newProp.cssClass);
                    break;

                  case "enableRtl":
                    wrapper.classList.toggle("e-rtl");
                    break;

                  case "filter":
                    this.closeMenu(), this.filter = newProp.filter;
                    break;

                  case "showItemOnClick":
                    this.unWireEvents(), this.showItemOnClick = newProp.showItemOnClick, this.wireEvents();
                    break;

                  case "target":
                    this.unWireEvents(), this.target = newProp.target, this.wireEvents();
                    break;

                  case "items":
                    for (var idx = void 0, navIdx = void 0, item = void 0, keys = Object.keys(newProp.items), i = 0; i < keys.length; i++) (navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]))).length <= this.getWrapper().children.length && (idx = navIdx.pop(), 
                    item = this.getItems(navIdx), this.insertAfter([ item[idx] ], item[idx].text), this.removeItem(item, navIdx, idx)), 
                    navIdx.length = 0;
                }
            }
        }, ContextMenu.prototype.getChangedItemIndex = function(newProp, index, idx) {
            index.push(idx);
            var key = Object.keys(newProp.items[idx]).pop();
            if ("items" === key) {
                var item = newProp.items[idx];
                this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));
            } else "isParentArray" === key && index.length > 1 && index.pop();
            return index;
        }, ContextMenu.prototype.removeItem = function(item, navIdx, idx) {
            item.splice(idx, 1);
            var uls = this.getWrapper().children;
            navIdx.length < uls.length && detach(uls[navIdx.length].children[idx]);
        }, ContextMenu.prototype.unWireEvents = function() {
            var wrapper = this.getWrapper();
            if (this.target) {
                for (var target = void 0, touchModule = void 0, targetElems = selectAll(this.target), i = 0, len = targetElems.length; i < len; i++) target = targetElems[i], 
                Browser.isIos ? (touchModule = getInstance(target, Touch)) && touchModule.destroy() : EventHandler.remove(target, "contextmenu", this.cmenuHandler);
                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {
                    var parent_2 = _a[_i];
                    EventHandler.remove(parent_2, "scroll", this.scrollHandler);
                }
            }
            Browser.isDevice || (EventHandler.remove(wrapper, "mouseover", this.moverHandler), 
            EventHandler.remove(document, "mousedown", this.mouseDownHandler)), EventHandler.remove(document, "click", this.delegateClickHandler);
            var keyboardModule = getInstance(wrapper, KeyboardEvents);
            keyboardModule && keyboardModule.destroy();
        }, ContextMenu.prototype.toggleAnimation = function(ul, isMenuOpen) {
            var _this = this;
            void 0 === isMenuOpen && (isMenuOpen = !0), "None" !== this.animationSettings.effect && isMenuOpen ? this.animation.animate(ul, {
                name: this.animationSettings.effect,
                duration: this.animationSettings.duration,
                timingFunction: this.animationSettings.easing,
                begin: function(options) {
                    options.element.style.display = "block", options.element.style.maxHeight = options.element.getBoundingClientRect().height + "px";
                },
                end: function(options) {
                    _this.end(options.element, isMenuOpen);
                }
            }) : this.end(ul, isMenuOpen);
        }, ContextMenu.prototype.end = function(ul, isMenuOpen) {
            if (isMenuOpen) {
                ul.style.display = "block", ul.style.maxHeight = "";
                var item = this.navIdx.length ? this.getItem(this.navIdx) : null, eventArgs = {
                    element: ul,
                    parentItem: item,
                    items: item ? item.items : this.items
                };
                if (this.trigger("onOpen", eventArgs), ul.querySelector(".e-focused")) ul.querySelector(".e-focused").focus(); else {
                    var ele = void 0;
                    (ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1]) ? ele.querySelector(".e-selected").focus() : this.element.focus();
                }
            } else if (ul === this.element) {
                var fli = this.getLIByClass(this.element, FOCUSED$1);
                fli && fli.classList.remove(FOCUSED$1);
                var sli = this.getLIByClass(this.element, SELECTED$3);
                sli && sli.classList.remove(SELECTED$3), ul.style.display = "none";
            } else detach(ul);
        }, ContextMenu.prototype.getPersistData = function() {
            return "";
        }, ContextMenu.prototype.getModuleName = function() {
            return "contextmenu";
        }, ContextMenu.prototype.getIndex = function(data, items, navIdx, isCallBack) {
            void 0 === items && (items = this.items), void 0 === navIdx && (navIdx = []), void 0 === isCallBack && (isCallBack = !1);
            for (var item, i = 0, len = items.length; i < len; i++) {
                if ((item = items[i]).text === data) {
                    navIdx.push(i);
                    break;
                }
                if (item.items.length) {
                    if (-1 !== (navIdx = this.getIndex(data, item.items, navIdx, !0))[navIdx.length - 1]) {
                        navIdx.unshift(i);
                        break;
                    }
                    i !== len - 1 && navIdx.pop();
                } else i === len - 1 && navIdx.push(-1);
            }
            return isCallBack || -1 !== navIdx[0] ? navIdx : [];
        }, ContextMenu.prototype.enableItems = function(items, enable) {
            void 0 === enable && (enable = !0);
            for (var ul, idx, navIdx, wrapper = this.getWrapper(), i = 0; i < items.length; i++) idx = (navIdx = this.getIndex(items[i])).pop(), 
            (ul = wrapper.children[navIdx.length]) && (enable ? Browser.isDevice && !ul.classList.contains("e-contextmenu") ? ul.children[idx + 1].classList.remove("e-disabled") : ul.children[idx].classList.remove("e-disabled") : Browser.isDevice && !ul.classList.contains("e-contextmenu") ? ul.children[idx + 1].classList.add("e-disabled") : ul.children[idx].classList.add("e-disabled"));
        }, ContextMenu.prototype.showItems = function(items) {
            this.showHideItems(items, !1);
        }, ContextMenu.prototype.hideItems = function(items) {
            this.showHideItems(items, !0);
        }, ContextMenu.prototype.showHideItems = function(items, ishide) {
            for (var ul, idx, navIdx, wrapper = this.getWrapper(), i = 0; i < items.length; i++) idx = (navIdx = this.getIndex(items[i])).pop(), 
            (ul = wrapper.children[navIdx.length]) && (ishide ? Browser.isDevice && !ul.classList.contains("e-contextmenu") ? ul.children[idx + 1].classList.add(HIDE$1) : ul.children[idx].classList.add(HIDE$1) : Browser.isDevice && !ul.classList.contains("e-contextmenu") ? ul.children[idx + 1].classList.remove(HIDE$1) : ul.children[idx].classList.remove(HIDE$1));
        }, ContextMenu.prototype.removeItems = function(items) {
            for (var idx, navIdx, iitems, i = 0; i < items.length; i++) idx = (navIdx = this.getIndex(items[i])).pop(), 
            iitems = this.getItems(navIdx), this.removeItem(iitems, navIdx, idx);
        }, ContextMenu.prototype.insertAfter = function(items, text) {
            this.insertItems(items, text);
        }, ContextMenu.prototype.insertBefore = function(items, text) {
            this.insertItems(items, text, !1);
        }, ContextMenu.prototype.insertItems = function(items, text, isAfter) {
            void 0 === isAfter && (isAfter = !0);
            for (var li, idx, navIdx, iitems, menuitem, i = 0; i < items.length; i++) {
                idx = (navIdx = this.getIndex(text)).pop(), iitems = this.getItems(navIdx), menuitem = new MenuItem$1(iitems[0], null, items[i], !0), 
                iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);
                var uls = this.getWrapper().children;
                navIdx.length < uls.length && (idx = isAfter ? idx + 1 : idx, this.hasField(iitems, "iconCss"), 
                li = this.createItems(iitems).children[idx], uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]));
            }
        }, ContextMenu.prototype.getZIndex = function() {
            for (var index, position, props, zIndex = [ "999" ], i = 0, len = document.body.children.length; i < len; i++) index = (props = document.defaultView.getComputedStyle(document.body.children[i])).getPropertyValue("z-index"), 
            position = props.getPropertyValue("position"), "auto" !== index && "static" !== position && zIndex.push(index);
            return (Math.max.apply(Math, zIndex) + 1).toString();
        }, ContextMenu.prototype.destroy = function() {
            var _this = this, wrapper = this.getWrapper();
            wrapper && (_super.prototype.destroy.call(this), this.unWireEvents(), this.ngElement ? this.ngElement.style.display = "block" : (this.closeMenu(), 
            this.element.innerHTML = "", [ "top", "left", "display", "z-index" ].forEach(function(key) {
                _this.element.style.removeProperty(key);
            }), [ "role", "tabindex", "class", "style" ].forEach(function(key) {
                -1 !== [ "class", "style" ].indexOf(key) && _this.element.getAttribute(key) || _this.element.removeAttribute(key);
            }), wrapper.parentNode.insertBefore(this.element, wrapper)), detach(wrapper));
        }, __decorate$14([ Property("") ], ContextMenu.prototype, "cssClass", void 0), __decorate$14([ Property("") ], ContextMenu.prototype, "filter", void 0), 
        __decorate$14([ Property(!1) ], ContextMenu.prototype, "showItemOnClick", void 0), 
        __decorate$14([ Collection([], MenuItem$1) ], ContextMenu.prototype, "items", void 0), 
        __decorate$14([ Property("") ], ContextMenu.prototype, "target", void 0), __decorate$14([ Property({
            duration: 400,
            easing: "ease",
            effect: "SlideDown"
        }) ], ContextMenu.prototype, "animationSettings", void 0), __decorate$14([ Event() ], ContextMenu.prototype, "beforeItemRender", void 0), 
        __decorate$14([ Event() ], ContextMenu.prototype, "beforeOpen", void 0), __decorate$14([ Event() ], ContextMenu.prototype, "onOpen", void 0), 
        __decorate$14([ Event() ], ContextMenu.prototype, "beforeClose", void 0), __decorate$14([ Event() ], ContextMenu.prototype, "onClose", void 0), 
        __decorate$14([ Event() ], ContextMenu.prototype, "select", void 0), ContextMenu = __decorate$14([ NotifyPropertyChanges ], ContextMenu);
    }(Component), __extends$40 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$16 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, HScroll$1 = function(_super) {
        function HScroll(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$40(HScroll, _super), HScroll.prototype.preRender = function() {
            this.browser = Browser.info.name, this.browserCheck = "mozilla" === this.browser, 
            this.isDevice = Browser.isDevice;
            var element = this.element;
            this.ieCheck = "edge" === this.browser || "msie" === this.browser, this.initialize(), 
            "" === element.id && (element.id = getUniqueID("hscroll"), this.uniqueId = !0), 
            element.style.display = "block", this.enableRtl && element.classList.add("e-rtl");
        }, HScroll.prototype.render = function() {
            this.touchModule = new Touch(this.element, {
                scroll: this.touchHandler.bind(this)
            }), this.isDevice ? this.element.classList.add("e-scroll-device") : (this.createNavIcon(this.element), 
            EventHandler.add(this.scrollEle, "scroll", this.scrollHandler, this));
        }, HScroll.prototype.initialize = function() {
            var scrollEle = createElement("div", {
                className: "e-hscroll-content"
            }), scrollDiv = createElement("div", {
                className: "e-hscroll-bar"
            });
            scrollDiv.setAttribute("tabindex", "-1");
            for (var ele = this.element, _i = 0, innerEle_1 = [].slice.call(ele.children); _i < innerEle_1.length; _i++) {
                var ele_1 = innerEle_1[_i];
                scrollEle.appendChild(ele_1);
            }
            scrollDiv.appendChild(scrollEle), ele.appendChild(scrollDiv), scrollDiv.style.overflowX = "hidden", 
            this.scrollEle = scrollDiv, this.scrollItems = scrollEle;
        }, HScroll.prototype.getPersistData = function() {
            return this.addOnPersist([ "scrollStep" ]);
        }, HScroll.prototype.getModuleName = function() {
            return "hScroll";
        }, HScroll.prototype.destroy = function() {
            var ele = this.element;
            ele.style.display = "", ele.classList.remove("e-hscroll");
            for (var nav = selectAll(".e-" + ele.id + "_nav.e-scroll-nav", ele), _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {
                var elem = _a[_i];
                ele.appendChild(elem);
            }
            this.uniqueId && this.element.removeAttribute("id"), detach(this.scrollEle), nav.length > 0 && (detach(nav[0]), 
            detach(nav[1])), EventHandler.remove(this.scrollEle, "scroll", this.scrollHandler), 
            this.touchModule.destroy(), this.touchModule = null, _super.prototype.destroy.call(this);
        }, HScroll.prototype.createNavIcon = function(element) {
            var id = element.id.concat("_nav"), clsRight = "e-" + element.id.concat("_nav e-scroll-nav e-scroll-right-nav"), nav = createElement("div", {
                id: id.concat("_right"),
                className: clsRight
            });
            nav.setAttribute("aria-disabled", "false");
            var navItem = createElement("div", {
                className: "e-nav-right-arrow e-nav-arrow e-icons"
            }), clsLeft = "e-" + element.id.concat("_nav e-scroll-nav e-scroll-left-nav"), navEle = createElement("div", {
                id: id.concat("_left"),
                className: clsLeft + " e-overlay"
            });
            navEle.setAttribute("aria-disabled", "true");
            var navLeftItem = createElement("div", {
                className: "e-nav-left-arrow e-nav-arrow e-icons"
            });
            navEle.appendChild(navLeftItem), nav.appendChild(navItem), nav.setAttribute("tabindex", "0"), 
            element.appendChild(nav), element.insertBefore(navEle, element.firstChild), this.ieCheck && (nav.classList.add("e-ie-align"), 
            navEle.classList.add("e-ie-align")), this.eventBinding([ nav, navEle ]);
        }, HScroll.prototype.onKeyPress = function(e) {
            var _this = this;
            if ("Enter" === e.key) {
                this.keyTimer = window.setTimeout(function() {
                    _this.keyTimeout = !0, _this.eleScrolling(10, e.target);
                }, 100);
            }
        }, HScroll.prototype.onKeyUp = function(e) {
            "Enter" === e.key && (this.keyTimeout ? this.keyTimeout = !1 : e.target.click(), 
            clearTimeout(this.keyTimer));
        }, HScroll.prototype.eventBinding = function(ele) {
            var _this = this;
            ele.forEach(function(el) {
                new Touch(el, {
                    tapHold: _this.tabHoldHandler.bind(_this),
                    tapHoldThreshold: 500
                }), el.addEventListener("keydown", _this.onKeyPress.bind(_this)), el.addEventListener("keyup", _this.onKeyUp.bind(_this)), 
                el.addEventListener("mouseup", _this.repeatScroll.bind(_this)), el.addEventListener("touchend", _this.repeatScroll.bind(_this)), 
                el.addEventListener("contextmenu", function(e) {
                    e.preventDefault();
                }), EventHandler.add(el, "click", _this.clickEventHandler, _this);
            });
        }, HScroll.prototype.repeatScroll = function() {
            clearInterval(this.timeout);
        }, HScroll.prototype.tabHoldHandler = function(e) {
            var _this = this, trgt = e.originalEvent.target;
            trgt = this.contains(trgt, "e-scroll-nav") ? trgt.firstElementChild : trgt;
            this.timeout = window.setInterval(function() {
                _this.eleScrolling(10, trgt);
            }, 50);
        }, HScroll.prototype.contains = function(ele, className) {
            return ele.classList.contains(className);
        }, HScroll.prototype.eleScrolling = function(scrollDis, trgt) {
            var element = this.scrollEle, rootEle = this.element, classList$$1 = trgt.classList;
            classList$$1.contains("e-scroll-nav") && (classList$$1 = trgt.querySelector(".e-nav-arrow").classList), 
            this.contains(rootEle, "e-rtl") && this.browserCheck && (scrollDis = -scrollDis);
            var scrlLeft = element.scrollLeft;
            !this.contains(rootEle, "e-rtl") || this.browserCheck || this.ieCheck ? classList$$1.contains("e-nav-right-arrow") ? element.scrollLeft = scrlLeft + scrollDis : element.scrollLeft = scrlLeft - scrollDis : classList$$1.contains("e-nav-left-arrow") ? element.scrollLeft = scrlLeft + scrollDis : element.scrollLeft = scrlLeft - scrollDis;
        }, HScroll.prototype.clickEventHandler = function(e) {
            this.eleScrolling(this.scrollStep, e.target);
        }, HScroll.prototype.touchHandler = function(e) {
            var distance, ele = this.scrollEle;
            distance = e.distanceX, this.ieCheck && this.contains(this.element, "e-rtl") && (distance = -distance), 
            "Left" === e.scrollDirection ? ele.scrollLeft = ele.scrollLeft + distance : "Right" === e.scrollDirection && (ele.scrollLeft = ele.scrollLeft - distance);
        }, HScroll.prototype.arrowDisabling = function(addDisable, removeDisable) {
            addDisable.classList.add("e-overlay"), addDisable.setAttribute("aria-disabled", "true"), 
            addDisable.removeAttribute("tabindex"), clearInterval(this.timeout), removeDisable.classList.remove("e-overlay"), 
            removeDisable.setAttribute("aria-disabled", "false"), removeDisable.setAttribute("tabindex", "0"), 
            this.repeatScroll();
        }, HScroll.prototype.scrollHandler = function(e) {
            var target = e.target, width = target.offsetWidth, rootEle = this.element, navLeftEle = this.element.querySelector(".e-scroll-left-nav"), navRightEle = this.element.querySelector(".e-scroll-right-nav"), scrollLeft = target.scrollLeft;
            if (scrollLeft <= 0 && (scrollLeft = -scrollLeft), 0 === scrollLeft) !this.contains(rootEle, "e-rtl") || this.browserCheck || this.ieCheck ? this.arrowDisabling(navLeftEle, navRightEle) : this.arrowDisabling(navRightEle, navLeftEle); else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) !this.contains(rootEle, "e-rtl") || this.browserCheck || this.ieCheck ? this.arrowDisabling(navRightEle, navLeftEle) : this.arrowDisabling(navLeftEle, navRightEle); else {
                var disEle = this.element.querySelector(".e-scroll-nav.e-overlay");
                disEle && (disEle.classList.remove("e-overlay"), disEle.setAttribute("aria-disabled", "false"), 
                disEle.setAttribute("tabindex", "0"));
            }
        }, HScroll.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "scrollStep":
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? this.element.classList.add("e-rtl") : this.element.classList.remove("e-rtl");
                }
            }
        }, __decorate$16([ Property(40) ], HScroll.prototype, "scrollStep", void 0), HScroll = __decorate$16([ NotifyPropertyChanges ], HScroll);
    }(Component), __extends$39 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$15 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, CLS_ITEMS$1$1 = "e-toolbar-items", CLS_ITEM$1$1 = "e-toolbar-item", CLS_POPUP$1 = "e-toolbar-popup", Item$1 = function(_super) {
        function Item() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$39(Item, _super), __decorate$15([ Property("") ], Item.prototype, "id", void 0), 
        __decorate$15([ Property("") ], Item.prototype, "text", void 0), __decorate$15([ Property("auto") ], Item.prototype, "width", void 0), 
        __decorate$15([ Property("") ], Item.prototype, "cssClass", void 0), __decorate$15([ Property(!1) ], Item.prototype, "showAlwaysInPopup", void 0), 
        __decorate$15([ Property("") ], Item.prototype, "prefixIcon", void 0), __decorate$15([ Property("") ], Item.prototype, "suffixIcon", void 0), 
        __decorate$15([ Property("None") ], Item.prototype, "overflow", void 0), __decorate$15([ Property("") ], Item.prototype, "template", void 0), 
        __decorate$15([ Property("Button") ], Item.prototype, "type", void 0), __decorate$15([ Property("Both") ], Item.prototype, "showTextOn", void 0), 
        __decorate$15([ Property(null) ], Item.prototype, "htmlAttributes", void 0), __decorate$15([ Property("") ], Item.prototype, "tooltipText", void 0), 
        __decorate$15([ Property("Left") ], Item.prototype, "align", void 0), Item;
    }(ChildProperty), Toolbar$2 = function(_super) {
        function Toolbar(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.keyConfigs = {
                moveLeft: "leftarrow",
                moveRight: "rightarrow",
                moveUp: "uparrow",
                moveDown: "downarrow",
                popupOpen: "enter",
                popupClose: "escape",
                tab: "tab",
                home: "home",
                end: "end"
            }, _this;
        }
        return __extends$39(Toolbar, _super), Toolbar.prototype.destroy = function() {
            var _this = this, ele = this.element;
            for (_super.prototype.destroy.call(this), this.unwireEvents(); ele.firstChild; ) ele.removeChild(ele.firstChild);
            this.trgtEle && ele.appendChild(this.ctrlTem), this.clearProperty(), this.popObj = null, 
            this.tbarAlign = null, this.remove(this.element, "e-toolpop"), ele.removeAttribute("style"), 
            [ "aria-disabled", "aria-orientation", "aria-haspopup", "role" ].forEach(function(attrb) {
                _this.element.removeAttribute(attrb);
            });
        }, Toolbar.prototype.preRender = function() {
            this.trigger("beforeCreate"), this.scrollModule = null, this.popObj = null, this.tbarItemsCol = this.items, 
            this.popupPriCount = 0, this.enableRtl && this.add(this.element, "e-rtl");
        }, Toolbar.prototype.wireEvents = function() {
            EventHandler.add(this.element, "click", this.clickHandler, this), window.addEventListener("resize", this.resize.bind(this)), 
            this.keyModule = new KeyboardEvents(this.element, {
                keyAction: this.keyActionHandler.bind(this),
                keyConfigs: this.keyConfigs
            }), EventHandler.add(this.element, "keydown", this.docKeyDown, this), this.element.setAttribute("tabIndex", "0");
        }, Toolbar.prototype.docKeyDown = function(e) {
            if ("INPUT" !== e.target.tagName) {
                9 === e.keyCode && !0 === e.target.classList.contains("e-hor-nav") && isVisible(this.popObj.element) && this.popObj.hide({
                    name: "SlideUp",
                    duration: 100
                });
                (40 === e.keyCode || 38 === e.keyCode || 35 === e.keyCode || 36 === e.keyCode) && e.preventDefault();
            }
        }, Toolbar.prototype.unwireEvents = function() {
            EventHandler.remove(this.element, "click", this.clickHandler), this.destroyHScroll(), 
            this.keyModule.destroy(), EventHandler.remove(document, "scroll", this.docEvent), 
            EventHandler.remove(this.element, "keydown", this.docKeyDown), EventHandler.remove(document, "click", this.docEvent);
        }, Toolbar.prototype.clearProperty = function() {
            this.tbarEle = [], this.tbarAlgEle = {
                lefts: [],
                centers: [],
                rights: []
            };
        }, Toolbar.prototype.docEvent = function(e) {
            var popEle = closest(e.target, ".e-popup");
            this.popObj && isVisible(this.popObj.element) && !popEle && this.popObj.hide({
                name: "SlideUp",
                duration: 100
            });
        }, Toolbar.prototype.destroyHScroll = function() {
            this.scrollModule && (this.tbarAlign && this.add(this.scrollModule.element, "e-tbar-pos"), 
            this.scrollModule.destroy(), this.scrollModule = null);
        }, Toolbar.prototype.destroyItems = function() {
            [].slice.call(this.element.querySelectorAll("." + CLS_ITEM$1$1)).forEach(function(el) {
                detach(el);
            });
            var tbarItems = this.element.querySelector("." + CLS_ITEMS$1$1);
            this.tbarAlign && ([].slice.call(tbarItems.children).forEach(function(el) {
                detach(el);
            }), this.tbarAlign = !1, this.remove(tbarItems, "e-tbar-pos")), this.clearProperty();
        }, Toolbar.prototype.destroyMode = function() {
            this.scrollModule && (this.remove(this.scrollModule.element, "e-rtl"), this.destroyHScroll()), 
            this.popObj && this.popupRefresh(this.popObj.element, !0);
        }, Toolbar.prototype.add = function(ele, val) {
            ele.classList.add(val);
        }, Toolbar.prototype.remove = function(ele, val) {
            ele.classList.remove(val);
        }, Toolbar.prototype.elementFocus = function(ele) {
            var fChild = ele.firstElementChild;
            fChild ? (fChild.focus(), this.activeEleSwitch(ele)) : ele.focus();
        }, Toolbar.prototype.clstElement = function(tbrNavChk, trgt) {
            return tbrNavChk && this.popObj && isVisible(this.popObj.element) ? this.popObj.element.querySelector("." + CLS_ITEM$1$1) : this.element === trgt || tbrNavChk ? this.element.querySelector("." + CLS_ITEM$1$1) : closest(trgt, "." + CLS_ITEM$1$1);
        }, Toolbar.prototype.keyHandling = function(clst, e, trgt, navChk, scrollChk) {
            var popObj = this.popObj, rootEle = this.element, popAnimate = {
                name: "SlideUp",
                duration: 100
            };
            switch (e.action) {
              case "moveRight":
                rootEle === trgt ? this.elementFocus(clst) : navChk || this.eleFocus(clst, "next");
                break;

              case "moveLeft":
                navChk || this.eleFocus(clst, "previous");
                break;

              case "home":
              case "end":
                var ele = void 0, nodes = void 0;
                if (clst) {
                    var popupCheck = closest(clst, ".e-popup");
                    popupCheck ? isVisible(this.popObj.element) && (nodes = popupCheck.children, ele = "home" === e.action ? nodes[0] : nodes[nodes.length - 1]) : (nodes = this.element.querySelectorAll(".e-toolbar-items ." + CLS_ITEM$1$1), 
                    ele = "home" === e.action ? nodes[0] : nodes[nodes.length - 1]), ele && this.elementFocus(ele);
                }
                break;

              case "moveUp":
              case "moveDown":
                var value = "moveUp" === e.action ? "previous" : "next";
                if (popObj && closest(trgt, ".e-popup")) {
                    var popEle = popObj.element, popFrstEle = popEle.firstElementChild;
                    if ("previous" === value && popFrstEle === clst || "next" === value && popEle.lastElementChild === clst) return;
                    this.eleFocus(clst, value);
                } else "moveDown" === e.action && popObj && isVisible(popObj.element) && this.elementFocus(clst);
                break;

              case "tab":
                if (!scrollChk && !navChk) {
                    var ele_1 = clst.firstElementChild;
                    rootEle === trgt && (this.activeEle ? this.activeEle.focus() : (this.activeEleRemove(ele_1), 
                    ele_1.focus()), this.element.removeAttribute("tabindex"));
                }
                break;

              case "popupClose":
                popObj && popObj.hide(popAnimate);
                break;

              case "popupOpen":
                if (!navChk) return;
                popObj && !isVisible(popObj.element) ? (popObj.element.style.top = rootEle.offsetHeight + "px", 
                popObj.show({
                    name: "SlideDown",
                    duration: 100
                })) : popObj.hide(popAnimate);
            }
        }, Toolbar.prototype.keyActionHandler = function(e) {
            var trgt = e.target;
            if ("INPUT" !== trgt.tagName) {
                e.preventDefault();
                var clst, tbrNavChk = trgt.classList.contains("e-hor-nav"), tbarScrollChk = trgt.classList.contains("e-scroll-nav");
                ((clst = this.clstElement(tbrNavChk, trgt)) || tbarScrollChk) && this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);
            }
        }, Toolbar.prototype.eleFocus = function(closest$$1, pos) {
            var sib = Object(closest$$1)[pos + "ElementSibling"], contains = function(el) {
                return el.classList.contains("e-separator") || el.classList.contains("e-overlay");
            };
            if (sib) {
                var skipEle = contains(sib);
                if (skipEle && Object(sib)[pos + "ElementSibling"] && (sib = Object(sib)[pos + "ElementSibling"], 
                skipEle = contains(sib))) return void this.eleFocus(sib, pos);
                this.elementFocus(sib);
            } else if (this.tbarAlign) {
                var elem = Object(closest$$1.parentElement)[pos + "ElementSibling"];
                if (isNullOrUndefined(elem) || 0 !== elem.children.length || (elem = Object(elem)[pos + "ElementSibling"]), 
                !isNullOrUndefined(elem) && elem.children.length > 0) if ("next" === pos) {
                    contains(el = elem.querySelector("." + CLS_ITEM$1$1)) ? this.eleFocus(el, pos) : (el.firstElementChild.focus(), 
                    this.activeEleSwitch(el));
                } else {
                    var el;
                    contains(el = elem.lastElementChild) ? this.eleFocus(el, pos) : this.elementFocus(el);
                }
            }
        }, Toolbar.prototype.clickHandler = function(e) {
            var trgt = e.target, clsList = trgt.classList, ele = this.element, isPopupElement = !isNullOrUndefined(closest(trgt, ".e-toolbar-pop")), popupNav = closest(trgt, ".e-hor-nav");
            popupNav || (popupNav = trgt), !ele.children[0].classList.contains("e-hscroll") && clsList.contains("e-hor-nav") && (clsList = trgt.querySelector(".e-icons").classList), 
            (clsList.contains("e-popup-up-icon") || clsList.contains("e-popup-down-icon")) && this.popupClickHandler(ele, popupNav, "e-rtl");
            var itemObj, clst = closest(e.target, "." + CLS_ITEM$1$1);
            if (!isNullOrUndefined(clst) && !clst.classList.contains("e-overlay") || popupNav.classList.contains("e-hor-nav")) {
                clst && (itemObj = this.items[this.tbarEle.indexOf(clst)]);
                var eventArgs = {
                    originalEvent: e,
                    item: itemObj
                };
                this.trigger("clicked", eventArgs), isPopupElement && !eventArgs.cancel && this.popObj.hide({
                    name: "SlideUp",
                    duration: 100
                });
            }
        }, Toolbar.prototype.popupClickHandler = function(ele, popupNav, CLS_RTL) {
            var popObj = this.popObj;
            isVisible(popObj.element) ? (popupNav.classList.remove("e-nav-active"), popObj.hide({
                name: "SlideUp",
                duration: 100
            })) : (ele.classList.contains(CLS_RTL) && (popObj.enableRtl = !0, popObj.position = {
                X: "left",
                Y: "top"
            }), 0 !== popObj.offsetX || ele.classList.contains(CLS_RTL) || (popObj.enableRtl = !1, 
            popObj.position = {
                X: "right",
                Y: "top"
            }), popObj.dataBind(), popObj.element.style.top = this.element.offsetHeight + "px", 
            popupNav.classList.add("e-nav-active"), popObj.show({
                name: "SlideDown",
                duration: 100
            }));
        }, Toolbar.prototype.render = function() {
            this.initialize(), this.renderControl(), this.wireEvents();
        }, Toolbar.prototype.initialize = function() {
            var width = formatUnit(this.width), height = formatUnit(this.height);
            "msie" === Browser.info.name && "auto" === this.height || setStyleAttribute(this.element, {
                height: height
            }), setStyleAttribute(this.element, {
                width: width
            });
            attributes(this.element, {
                role: "toolbar",
                "aria-disabled": "false",
                "aria-haspopup": "false",
                "aria-orientation": "horizontal"
            });
        }, Toolbar.prototype.renderControl = function() {
            this.trgtEle = this.element.children.length > 0 ? this.element.querySelector("div") : null, 
            this.tbarAlgEle = {
                lefts: [],
                centers: [],
                rights: []
            }, this.renderItems(), this.renderOverflowMode(), this.tbarAlign && this.itemPositioning(), 
            this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element) && this.popupRefresh(this.popObj.element, !1);
        }, Toolbar.prototype.initHScroll = function(element, innerItems) {
            !this.scrollModule && this.checkOverflow(element, innerItems[0]) && (this.tbarAlign && this.element.querySelector(".e-toolbar-items .e-toolbar-center").removeAttribute("style"), 
            this.scrollModule = new HScroll$1({
                scrollStep: 50,
                enableRtl: this.enableRtl
            }, innerItems[0]), this.remove(this.scrollModule.element, "e-tbar-pos"), setStyleAttribute(this.element, {
                overflow: "hidden"
            }));
        }, Toolbar.prototype.itemWidthCal = function(items) {
            var width = 0;
            return [].slice.call(selectAll("." + CLS_ITEM$1$1, items)).forEach(function(el) {
                isVisible(el) && (width += el.offsetWidth + parseFloat(window.getComputedStyle(el).marginRight));
            }), width;
        }, Toolbar.prototype.checkOverflow = function(element, innerItem) {
            if (isNullOrUndefined(element) || isNullOrUndefined(innerItem) || !isVisible(element)) return !1;
            var itemWidth, eleWidth = element.offsetWidth;
            itemWidth = this.tbarAlign || this.scrollModule ? this.itemWidthCal(this.scrollModule ? innerItem.querySelector(".e-hscroll-content") : innerItem) : innerItem.offsetWidth;
            var popNav = element.querySelector(".e-hor-nav"), scrollNav = element.querySelector(".e-scroll-nav");
            return itemWidth > eleWidth - (popNav ? popNav.offsetWidth : scrollNav ? 2 * scrollNav.offsetWidth : 0);
        }, Toolbar.prototype.refreshOverflow = function() {
            this.resize();
        }, Toolbar.prototype.renderOverflowMode = function() {
            var ele = this.element, innerItems = ele.querySelector("." + CLS_ITEMS$1$1), priorityCheck = this.popupPriCount > 0;
            if (ele && ele.children.length > 0) switch (this.offsetWid = ele.offsetWidth, this.remove(this.element, "e-toolpop"), 
            this.overflowMode) {
              case "Scrollable":
                this.destroyHScroll(), this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS$1$1));
                break;

              case "Popup":
                this.add(this.element, "e-toolpop"), this.tbarAlign && this.removePositioning(), 
                (this.checkOverflow(ele, innerItems) || priorityCheck) && (this.createPopupEle(ele, [].slice.call(selectAll(".e-toolbar-items ." + CLS_ITEM$1$1, ele))), 
                this.element.querySelector(".e-hor-nav").setAttribute("tabIndex", "0")), this.tbarAlign && (this.add(innerItems, "e-tbar-pos"), 
                this.itemPositioning());
            }
        }, Toolbar.prototype.createPopupEle = function(ele, innerEle) {
            var innerNav = ele.querySelector(".e-hor-nav");
            innerNav || this.createPopupIcon(ele), innerNav = ele.querySelector(".e-hor-nav");
            var eleWidth = ele.offsetWidth - innerNav.offsetWidth;
            this.element.classList.remove("e-rtl"), setStyleAttribute(this.element, {
                direction: "initial"
            }), this.checkPriority(ele, innerEle, eleWidth, !0), this.enableRtl && this.element.classList.add("e-rtl"), 
            this.element.style.removeProperty("direction"), this.createPopup();
        }, Toolbar.prototype.pushingPoppedEle = function(tbarObj, popupPri, ele, eleHeight) {
            var element = tbarObj.element, nodes = selectAll(".e-overflow-show", ele), nodeIndex = 0, nodePri = 0;
            [].slice.call(selectAll("." + CLS_POPUP$1, element.querySelector("." + CLS_ITEMS$1$1))).forEach(function(el, index) {
                nodes = selectAll(".e-overflow-show", ele), el.classList.contains("e-overflow-show") && nodes.length > 0 ? tbarObj.tbResize && nodes.length > index ? (ele.insertBefore(el, nodes[index]), 
                ++nodePri) : (ele.insertBefore(el, ele.children[nodes.length]), ++nodePri) : el.classList.contains("e-overflow-show") ? (ele.insertBefore(el, ele.firstChild), 
                ++nodePri) : tbarObj.tbResize && el.classList.contains("e-overflow-hide") && ele.children.length > 0 && 0 === nodes.length ? (ele.insertBefore(el, ele.firstChild), 
                ++nodePri) : el.classList.contains("e-overflow-hide") ? popupPri.push(el) : tbarObj.tbResize ? (ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]), 
                ++nodeIndex) : ele.appendChild(el), setStyleAttribute(el, {
                    display: "",
                    height: eleHeight + "px"
                });
            }), popupPri.forEach(function(el) {
                ele.appendChild(el);
            });
            for (var tbarEle = selectAll("." + CLS_ITEM$1$1, element.querySelector("." + CLS_ITEMS$1$1)), i = tbarEle.length - 1; i >= 0; i--) {
                var tbarElement = tbarEle[i];
                if (!tbarElement.classList.contains("e-separator")) break;
                setStyleAttribute(tbarElement, {
                    display: "none"
                });
            }
        }, Toolbar.prototype.createPopup = function() {
            var eleHeight, eleItem, element = this.element;
            eleItem = element.querySelector(".e-toolbar-item:not(.e-separator ):not(.e-toolbar-popup )"), 
            eleHeight = "auto" === element.style.height || "" === element.style.height ? null : eleItem.offsetHeight;
            var ele;
            ele = element.querySelector("#" + element.id + "_popup.e-toolbar-pop") ? element.querySelector("#" + element.id + "_popup.e-toolbar-pop") : createElement("div", {
                id: element.id + "_popup",
                className: "e-toolbar-pop"
            }), this.pushingPoppedEle(this, [], ele, eleHeight), this.popupInit(element, ele);
        }, Toolbar.prototype.popupInit = function(element, ele) {
            if (this.popObj) {
                var popupEle = this.popObj.element;
                setStyleAttribute(popupEle, {
                    maxHeight: "",
                    display: "block"
                }), setStyleAttribute(popupEle, {
                    maxHeight: popupEle.offsetHeight + "px",
                    display: ""
                });
            } else {
                element.appendChild(ele), setStyleAttribute(this.element, {
                    overflow: ""
                });
                var popup = new Popup(null, {
                    relateTo: this.element,
                    offsetY: element.offsetHeight,
                    enableRtl: this.enableRtl,
                    open: this.popupOpen.bind(this),
                    close: this.popupClose,
                    position: this.enableRtl ? {
                        X: "left",
                        Y: "top"
                    } : {
                        X: "right",
                        Y: "top"
                    }
                });
                popup.appendTo(ele), EventHandler.add(document, "scroll", this.docEvent.bind(this)), 
                EventHandler.add(document, "click ", this.docEvent.bind(this)), popup.element.style.maxHeight = popup.element.offsetHeight + "px", 
                popup.hide(), this.popObj = popup, this.element.setAttribute("aria-haspopup", "true");
            }
        }, Toolbar.prototype.popupOpen = function(e) {
            var popObj = this.popObj, popupEle = this.popObj.element, toolEle = this.popObj.element.parentElement, popupNav = toolEle.querySelector(".e-hor-nav");
            setStyleAttribute(popObj.element, {
                height: "auto",
                maxHeight: ""
            }), popObj.element.style.maxHeight = popObj.element.offsetHeight + "px";
            var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top, popIcon = popupNav.firstElementChild;
            popupNav.classList.add("e-nav-active"), classList(popIcon, [ "e-popup-up-icon" ], [ "e-popup-down-icon" ]);
            var scrollVal = isNullOrUndefined(window.scrollY) ? 0 : window.scrollY;
            if (window.innerHeight + scrollVal < popupElePos) {
                var overflowHeight = popupEle.offsetHeight - (popupElePos - window.innerHeight - scrollVal + 5);
                popObj.height = overflowHeight + "px";
                for (var i = 0; i <= popupEle.childElementCount; i++) {
                    var ele = popupEle.children[i];
                    if (ele.offsetTop + ele.offsetHeight > overflowHeight) {
                        overflowHeight = ele.offsetTop;
                        break;
                    }
                }
                setStyleAttribute(popObj.element, {
                    maxHeight: overflowHeight + "px"
                });
            }
        }, Toolbar.prototype.popupClose = function(e) {
            var popupNav = this.element.parentElement.querySelector(".e-hor-nav"), popIcon = popupNav.firstElementChild;
            popupNav.classList.remove("e-nav-active"), classList(popIcon, [ "e-popup-down-icon" ], [ "e-popup-up-icon" ]);
        }, Toolbar.prototype.checkPriority = function(ele, inEle, eleWidth, pre) {
            for (var popPriority = this.popupPriCount > 0, eleWid = eleWidth, sepCheck = 0, itemCount = 0, itemPopCount = 0, checkClass = function(ele, val) {
                var rVal = !1;
                return val.forEach(function(cls) {
                    ele.classList.contains(cls) && (rVal = !0);
                }), rVal;
            }, i = inEle.length - 1; i >= 0; i--) {
                var mrgn = parseFloat(window.getComputedStyle(inEle[i]).marginRight);
                mrgn += parseFloat(window.getComputedStyle(inEle[i]).marginLeft);
                var fstEleCheck = inEle[i] === this.tbarEle[0];
                fstEleCheck && (this.tbarEleMrgn = mrgn);
                var eleWid_1 = fstEleCheck ? inEle[i].offsetWidth + mrgn : inEle[i].offsetWidth;
                if (checkClass(inEle[i], [ "e-popup-alone" ]) && popPriority && (inEle[i].classList.add(CLS_POPUP$1), 
                setStyleAttribute(inEle[i], {
                    display: "none",
                    minWidth: eleWid_1 + "px"
                }), itemPopCount++), inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn > eleWidth) {
                    if (inEle[i].classList.contains("e-separator")) {
                        if (sepCheck > 0 && itemCount === itemPopCount) {
                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];
                            checkClass(sepEle, [ "e-separator", "e-ignore" ]) && setStyleAttribute(sepEle, {
                                display: "none"
                            });
                        }
                        sepCheck++, itemCount = 0, itemPopCount = 0;
                    } else itemCount++;
                    inEle[i].classList.contains("e-overflow-show") && pre ? eleWidth -= inEle[i].offsetWidth + mrgn : checkClass(inEle[i], [ "e-separator", "e-ignore" ]) ? eleWidth -= inEle[i].offsetWidth + mrgn : (inEle[i].classList.add(CLS_POPUP$1), 
                    setStyleAttribute(inEle[i], {
                        display: "none",
                        minWidth: eleWid_1 + "px"
                    }), itemPopCount++);
                }
            }
            if (pre) {
                var popedEle = selectAll(".e-toolbar-item:not(.e-toolbar-popup)", this.element);
                this.checkPriority(ele, popedEle, eleWid, !1);
            }
        }, Toolbar.prototype.createPopupIcon = function(element) {
            var nav = createElement("div", {
                id: element.id.concat("_nav"),
                className: "e-" + element.id.concat("_nav e-hor-nav")
            });
            "msie" !== Browser.info.name && "edge" !== Browser.info.name || nav.classList.add("e-ie-align");
            var navItem = createElement("div", {
                className: "e-popup-down-icon e-icons"
            });
            nav.appendChild(navItem), nav.setAttribute("tabindex", "0"), element.appendChild(nav);
        }, Toolbar.prototype.tbarPriRef = function(inEle, indx, sepPri, el, des, elWid, wid, ig) {
            var ignoreCount = ig, priEleCnt = selectAll(".e-toolbar-popup:not(.e-overflow-show)", this.popObj.element).length, checkClass = function(ele, val) {
                return ele.classList.contains(val);
            };
            if (0 === selectAll(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)", inEle).length) {
                var eleSep = inEle.children[indx - (indx - sepPri) - 1], ignoreCheck = !isNullOrUndefined(eleSep) && checkClass(eleSep, "e-ignore");
                if (!isNullOrUndefined(eleSep) && checkClass(eleSep, "e-separator") && !isVisible(eleSep) || ignoreCheck) {
                    eleSep.style.display = "inherit";
                    var eleSepWidth = eleSep.offsetWidth + 2 * parseFloat(window.getComputedStyle(eleSep).marginRight), prevSep = eleSep.previousElementSibling;
                    elWid + eleSepWidth < wid || des ? (inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]), 
                    isNullOrUndefined(prevSep) || (prevSep.style.display = "")) : prevSep.classList.contains("e-separator") && (prevSep.style.display = "none"), 
                    eleSep.style.display = "";
                } else inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]);
            } else inEle.insertBefore(el, inEle.children[indx + ignoreCount - priEleCnt]);
        }, Toolbar.prototype.popupRefresh = function(popupEle, destroy) {
            var ele = this.element, popNav = ele.querySelector(".e-hor-nav"), innerEle = ele.querySelector("." + CLS_ITEMS$1$1);
            if (!isNullOrUndefined(popNav)) {
                innerEle.removeAttribute("style"), popupEle.style.display = "block";
                var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);
                this.popupEleRefresh(width, popupEle, destroy), popupEle.style.display = "", 0 === popupEle.children.length && popNav && this.popObj && (detach(popNav), 
                popNav = null, this.popObj.destroy(), detach(this.popObj.element), this.popObj = null, 
                ele.setAttribute("aria-haspopup", "false"), ele.classList.remove("e-toolpop"));
            }
        }, Toolbar.prototype.ignoreEleFetch = function(index, innerEle) {
            var ignoreEle = [].slice.call(innerEle.querySelectorAll(".e-ignore")), ignoreInx = [], count = 0;
            return ignoreEle.length > 0 ? (ignoreEle.forEach(function(ele) {
                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));
            }), ignoreInx.forEach(function(val) {
                val <= index && count++;
            }), count) : 0;
        }, Toolbar.prototype.checkPopupRefresh = function(root, popEle) {
            popEle.style.display = "block";
            var elWid = this.popupEleWidth(popEle.firstElementChild);
            popEle.firstElementChild.style.removeProperty("Position");
            var tbarWidth = root.offsetWidth - root.querySelector(".e-hor-nav").offsetWidth, tbarItemsWid = root.querySelector("." + CLS_ITEMS$1$1).offsetWidth;
            return popEle.style.removeProperty("display"), tbarWidth > elWid + tbarItemsWid;
        }, Toolbar.prototype.popupEleWidth = function(el) {
            el.style.position = "absolute";
            var elWidth = el.offsetWidth, btnText = el.querySelector(".e-tbar-btn-text");
            if (el.classList.contains("e-tbtn-align") || el.classList.contains("e-popup-text")) {
                var btn = el.children[0];
                !isNullOrUndefined(btnText) && el.classList.contains("e-popup-text") ? btnText.style.display = "none" : !isNullOrUndefined(btnText) && el.classList.contains("e-toolbar-text") && (btnText.style.display = "block"), 
                btn.style.minWidth = "0%", elWidth = el.offsetWidth, btn.style.minWidth = "", isNullOrUndefined(btnText) || (btnText.style.display = "");
            }
            return elWidth;
        }, Toolbar.prototype.popupEleRefresh = function(width, popupEle, destroy) {
            for (var priEleCnt, index, popPriority = this.popupPriCount > 0, eleSplice = this.tbarEle, innerEle = this.element.querySelector("." + CLS_ITEMS$1$1), ignoreCount = 0, _loop_1 = function(el) {
                if (el.classList.contains("e-popup-alone") && popPriority && !destroy) return "continue";
                var elWidth = this_1.popupEleWidth(el);
                if (el === this_1.tbarEle[0] && (elWidth += this_1.tbarEleMrgn), el.style.position = "", 
                !(elWidth < width || destroy)) return "break";
                if (el.style.minWidth = "", el.classList.contains("e-overflow-hide") || el.classList.remove(CLS_POPUP$1), 
                index = this_1.tbarEle.indexOf(el), this_1.tbarAlign) {
                    var pos = this_1.items[index].align;
                    index = this_1.tbarAlgEle[(pos + "s").toLowerCase()].indexOf(el), eleSplice = this_1.tbarAlgEle[(pos + "s").toLowerCase()], 
                    innerEle = this_1.element.querySelector(".e-toolbar-items .e-toolbar-" + pos.toLowerCase());
                }
                var sepBeforePri_1 = 0;
                eleSplice.slice(0, index).forEach(function(el) {
                    (el.classList.contains("e-overflow-show") || el.classList.contains("e-separator")) && (el.classList.contains("e-separator") && (el.style.display = "", 
                    width -= el.offsetWidth), sepBeforePri_1++);
                }), ignoreCount = this_1.ignoreEleFetch(index, innerEle), el.classList.contains("e-overflow-show") ? (this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount), 
                width -= el.offsetWidth) : 0 === index ? (innerEle.insertBefore(el, innerEle.firstChild), 
                width -= el.offsetWidth) : (priEleCnt = selectAll(".e-overflow-show", this_1.popObj.element).length, 
                innerEle.insertBefore(el, innerEle.children[index + ignoreCount - priEleCnt]), width -= el.offsetWidth), 
                el.style.height = "";
            }, this_1 = this, _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {
                if ("break" === _loop_1(_a[_i])) break;
            }
            this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS$1$1)[0]) && !destroy && this.renderOverflowMode();
        }, Toolbar.prototype.removePositioning = function() {
            var item = this.element.querySelector("." + CLS_ITEMS$1$1);
            if (!isNullOrUndefined(item) && item.classList.contains("e-tbar-pos")) {
                this.remove(item, "e-tbar-pos");
                var innerItem = [].slice.call(item.childNodes);
                innerItem[1].removeAttribute("style"), innerItem[2].removeAttribute("style");
            }
        }, Toolbar.prototype.refreshPositioning = function() {
            var item = this.element.querySelector("." + CLS_ITEMS$1$1);
            this.add(item, "e-tbar-pos"), this.itemPositioning();
        }, Toolbar.prototype.itemPositioning = function() {
            var item = this.element.querySelector("." + CLS_ITEMS$1$1);
            if (!isNullOrUndefined(item) && item.classList.contains("e-tbar-pos")) {
                var innerItem, popupNav = this.element.querySelector(".e-hor-nav"), margin = (innerItem = this.scrollModule ? [].slice.call(item.querySelector(".e-hscroll-content").children) : [].slice.call(item.childNodes))[0].offsetWidth + innerItem[2].offsetWidth, tbarWid = this.element.offsetWidth;
                if (popupNav) {
                    tbarWid -= popupNav.offsetWidth;
                    var popWid = popupNav.offsetWidth + "px";
                    innerItem[2].removeAttribute("style"), this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;
                }
                if (!(tbarWid <= margin)) {
                    var value = (tbarWid - margin - innerItem[1].offsetWidth) / 2;
                    innerItem[1].removeAttribute("style");
                    var mrgn = innerItem[0].offsetWidth + value + "px";
                    this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;
                }
            }
        }, Toolbar.prototype.tbarItemAlign = function(item, itemEle, pos) {
            var _this = this;
            if (!item.showAlwaysInPopup || "Show" === item.overflow) {
                var alignDiv = [];
                if (alignDiv.push(createElement("div", {
                    className: "e-toolbar-left"
                })), alignDiv.push(createElement("div", {
                    className: "e-toolbar-center"
                })), alignDiv.push(createElement("div", {
                    className: "e-toolbar-right"
                })), 0 === pos && "Left" !== item.align) alignDiv.forEach(function(ele) {
                    itemEle.appendChild(ele);
                }), this.tbarAlign = !0, this.add(itemEle, "e-tbar-pos"); else if ("Left" !== item.align) {
                    var alignEle = itemEle.childNodes, leftAlign_1 = alignDiv[0];
                    [].slice.call(alignEle).forEach(function(el) {
                        _this.tbarAlgEle.lefts.push(el), leftAlign_1.appendChild(el);
                    }), itemEle.appendChild(leftAlign_1), itemEle.appendChild(alignDiv[1]), itemEle.appendChild(alignDiv[2]), 
                    this.tbarAlign = !0, this.add(itemEle, "e-tbar-pos");
                }
            }
        }, Toolbar.prototype.ctrlTemplate = function() {
            var _this = this;
            this.ctrlTem = this.trgtEle.cloneNode(!0), this.add(this.trgtEle, CLS_ITEMS$1$1), 
            this.tbarEle = [];
            [].slice.call(this.trgtEle.children).forEach(function(ele) {
                "DIV" === ele.tagName && (_this.tbarEle.push(ele), ele.setAttribute("aria-disabled", "false"), 
                _this.add(ele, CLS_ITEM$1$1));
            });
        }, Toolbar.prototype.renderItems = function() {
            var itemEleDom, innerItem, innerPos, ele = this.element, items = this.items;
            if (ele && ele.children.length > 0 && (itemEleDom = ele.querySelector("." + CLS_ITEMS$1$1)), 
            null != this.trgtEle) this.ctrlTemplate(); else if (ele && items.length > 0) {
                itemEleDom || (itemEleDom = createElement("div", {
                    className: CLS_ITEMS$1$1
                }));
                for (var i = 0; i < items.length; i++) innerItem = this.renderSubComponent(items[i]), 
                -1 === this.tbarEle.indexOf(innerItem) && this.tbarEle.push(innerItem), this.tbarAlign || this.tbarItemAlign(items[i], itemEleDom, i), 
                (innerPos = itemEleDom.querySelector(".e-toolbar-" + items[i].align.toLowerCase())) ? (items[i].showAlwaysInPopup && "Show" !== items[i].overflow || this.tbarAlgEle[(items[i].align + "s").toLowerCase()].push(innerItem), 
                innerPos.appendChild(innerItem)) : itemEleDom.appendChild(innerItem);
                ele.appendChild(itemEleDom);
            }
        }, Toolbar.prototype.setAttr = function(attr, element) {
            for (var keyVal, key = Object.keys(attr), i = 0; i < key.length; i++) "class" === (keyVal = key[i]) ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);
        }, Toolbar.prototype.enableItems = function(items, isEnable) {
            var elements = items, len = elements.length;
            isNullOrUndefined(isEnable) && (isEnable = !0);
            var enable = function(isEnable, ele) {
                isEnable ? (ele.classList.remove("e-overlay"), ele.setAttribute("aria-disabled", "false")) : (ele.classList.add("e-overlay"), 
                ele.setAttribute("aria-disabled", "true"));
            };
            if (len && len > 1) {
                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {
                    enable(isEnable, _a[_i]);
                }
                isEnable ? removeClass(elements, "e-overlay") : addClass(elements, "e-overlay");
            } else {
                enable(isEnable, len && 1 === len ? elements[0] : items);
            }
        }, Toolbar.prototype.addItems = function(items, index) {
            var innerItems, innerEle, itemsDiv = this.element.querySelector("." + CLS_ITEMS$1$1), itemAgn = "Left";
            isNullOrUndefined(index) && (index = 0), items.forEach(function(e) {
                isNullOrUndefined(e.align) || "Left" === e.align || "Left" !== itemAgn || (itemAgn = e.align);
            });
            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
                var item = items_1[_i];
                if (isNullOrUndefined(item.type) && (item.type = "Button"), innerItems = selectAll("." + CLS_ITEM$1$1, this.element), 
                item.align = itemAgn, innerEle = this.renderSubComponent(item), this.tbarEle.length >= index && innerItems.length > 0) {
                    this.destroyMode();
                    var algIndex = "L" === item.align[0] ? 0 : "C" === item.align[0] ? 1 : 2, ele = void 0;
                    this.tbarAlign || "Left" === itemAgn ? this.tbarAlign ? ((ele = closest(innerItems[0], "." + CLS_ITEMS$1$1).children[algIndex]).insertBefore(innerEle, ele.children[index]), 
                    this.tbarAlgEle[(item.align + "s").toLowerCase()].splice(index, 0, innerEle), this.refreshPositioning()) : innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]) : (this.tbarItemAlign(item, itemsDiv, 1), 
                    this.tbarAlign = !0, (ele = closest(innerItems[0], "." + CLS_ITEMS$1$1).children[algIndex]).appendChild(innerEle), 
                    this.tbarAlgEle[(item.align + "s").toLowerCase()].push(innerEle), this.refreshPositioning()), 
                    this.items.splice(index, 0, item), this.tbarEle.splice(index, 0, innerEle), index++, 
                    this.offsetWid = itemsDiv.offsetWidth;
                }
            }
            itemsDiv.style.width = "", this.renderOverflowMode();
        }, Toolbar.prototype.removeItems = function(args) {
            var index, elements = args, innerItems = [].slice.call(selectAll("." + CLS_ITEM$1$1, this.element));
            if ("number" == typeof elements) index = parseInt(args.toString(), 10), this.removeItemByIndex(index, innerItems); else if (elements && elements.length > 1) for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {
                var ele = _a[_i];
                index = this.tbarEle.indexOf(ele), this.removeItemByIndex(index, innerItems), innerItems = selectAll("." + CLS_ITEM$1$1, this.element);
            } else {
                ele = elements && elements.length && 1 === elements.length ? elements[0] : args;
                index = innerItems.indexOf(ele), this.removeItemByIndex(index, innerItems);
            }
            this.resize();
        }, Toolbar.prototype.removeItemByIndex = function(index, innerItems) {
            if (this.tbarEle[index] && innerItems[index]) {
                var eleIdx = this.tbarEle.indexOf(innerItems[index]);
                if (this.tbarAlign) {
                    var indexAgn = void 0;
                    indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + "s").toLowerCase()].indexOf(this.tbarEle[eleIdx]), 
                    this.tbarAlgEle[(this.items[eleIdx].align + "s").toLowerCase()].splice(indexAgn, 1);
                }
                detach(innerItems[index]), this.items.splice(eleIdx, 1), this.tbarEle.splice(eleIdx, 1);
            }
        }, Toolbar.prototype.templateRender = function(templateProp, innerEle, item) {
            var isComponent, itemType = item.type, eleObj = templateProp;
            if ("object" == typeof templateProp && (isComponent = "function" == typeof eleObj.appendTo), 
            "string" != typeof templateProp && isComponent) {
                if ("Input" === itemType) {
                    ele = createElement("input");
                    item.id ? ele.id = item.id : ele.id = getUniqueID("tbr-ipt"), innerEle.appendChild(ele), 
                    eleObj.appendTo(ele);
                }
            } else {
                var templateFn = void 0, val = templateProp;
                val = "string" == typeof templateProp ? templateProp.trim() : templateProp;
                try {
                    if (document.querySelectorAll(val).length) {
                        var ele, tempStr = (ele = document.querySelector(val)).outerHTML.trim();
                        templateFn = compile$$1(tempStr), detach(ele), item.template = tempStr;
                    }
                } catch (e) {
                    templateFn = compile$$1(val);
                }
                var tempArray = void 0;
                isNullOrUndefined(templateFn) || (tempArray = templateFn({}, this, "template")), 
                !isNullOrUndefined(tempArray) && tempArray.length > 0 && [].slice.call(tempArray).forEach(function(ele) {
                    isNullOrUndefined(ele.tagName) || (ele.style.display = ""), innerEle.appendChild(ele);
                });
            }
            this.add(innerEle, "e-template"), this.tbarEle.push(innerEle);
        }, Toolbar.prototype.buttonRendering = function(item, innerEle) {
            var dom = createElement("button", {
                className: "e-tbar-btn"
            });
            dom.setAttribute("type", "button");
            var iconCss, iconPos, textStr = item.text;
            item.id ? dom.id = item.id : dom.id = getUniqueID("e-tbr-btn");
            var btnTxt = createElement("div", {
                className: "e-tbar-btn-text"
            });
            return textStr ? (btnTxt.innerHTML = textStr, dom.appendChild(btnTxt), dom.classList.add("e-tbtn-txt")) : this.add(innerEle, "e-tbtn-align"), 
            (item.prefixIcon || item.suffixIcon) && (item.prefixIcon && item.suffixIcon || item.prefixIcon ? (iconCss = item.prefixIcon + " e-icons", 
            iconPos = "Left") : (iconCss = item.suffixIcon + " e-icons", iconPos = "Right")), 
            new Button({
                iconCss: iconCss,
                iconPosition: iconPos
            }, dom), item.width && setStyleAttribute(dom, {
                width: formatUnit(item.width)
            }), dom;
        }, Toolbar.prototype.renderSubComponent = function(item) {
            var innerEle, dom;
            if ((innerEle = createElement("div", {
                className: CLS_ITEM$1$1
            })).setAttribute("aria-disabled", "false"), this.tbarEle || (this.tbarEle = []), 
            item.htmlAttributes && this.setAttr(item.htmlAttributes, innerEle), item.tooltipText && innerEle.setAttribute("title", item.tooltipText), 
            item.cssClass && (innerEle.className = innerEle.className + " " + item.cssClass), 
            item.template) this.templateRender(item.template, innerEle, item); else switch (item.type) {
              case "Button":
                (dom = this.buttonRendering(item, innerEle)).setAttribute("tabindex", "-1"), innerEle.appendChild(dom), 
                innerEle.addEventListener("click", this.itemClick.bind(this));
                break;

              case "Separator":
                this.add(innerEle, "e-separator");
            }
            if (item.showTextOn) {
                var sTxt = item.showTextOn;
                "Toolbar" === sTxt ? (this.add(innerEle, "e-toolbar-text"), this.add(innerEle, "e-tbtn-align")) : "Overflow" === sTxt && this.add(innerEle, "e-popup-text");
            }
            if (item.overflow) {
                var overflow = item.overflow;
                "Show" === overflow ? this.add(innerEle, "e-overflow-show") : "Hide" === overflow && (innerEle.classList.contains("e-separator") || this.add(innerEle, "e-overflow-hide"));
            }
            return "Show" !== item.overflow && item.showAlwaysInPopup && !innerEle.classList.contains("e-separator") && (this.add(innerEle, "e-popup-alone"), 
            this.popupPriCount++), innerEle;
        }, Toolbar.prototype.itemClick = function(e) {
            this.activeEleSwitch(e.currentTarget);
        }, Toolbar.prototype.activeEleSwitch = function(ele) {
            this.activeEleRemove(ele.firstElementChild), this.activeEle.focus();
        }, Toolbar.prototype.activeEleRemove = function(curEle) {
            isNullOrUndefined(this.activeEle) || this.activeEle.setAttribute("tabindex", "-1"), 
            this.activeEle = curEle, isNullOrUndefined(this.trgtEle) && !curEle.parentElement.classList.contains("e-template") ? curEle.removeAttribute("tabindex") : this.activeEle.setAttribute("tabindex", "0");
        }, Toolbar.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, Toolbar.prototype.getModuleName = function() {
            return "toolbar";
        }, Toolbar.prototype.itemsRerender = function(newProp) {
            this.items = this.tbarItemsCol, this.destroyMode(), this.destroyItems(), this.items = newProp, 
            this.tbarItemsCol = this.items, this.renderItems(), this.renderOverflowMode();
        }, Toolbar.prototype.resize = function() {
            var ele = this.element;
            this.tbResize = !0, this.tbarAlign && this.itemPositioning(), this.popObj && this.popObj.hide();
            var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS$1$1)[0]);
            checkOverflow || this.destroyHScroll(), checkOverflow && this.scrollModule && this.offsetWid === ele.offsetWidth || ((this.offsetWid > ele.offsetWidth || checkOverflow) && this.renderOverflowMode(), 
            this.popObj && (this.tbarAlign && this.removePositioning(), this.popupRefresh(this.popObj.element, !1), 
            this.tbarAlign && this.refreshPositioning()), this.offsetWid = ele.offsetWidth, 
            this.tbResize = !1);
        }, Toolbar.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var tEle = this.element, _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "items":
                    if (newProp.items instanceof Array && oldProp.items instanceof Array) this.itemsRerender(newProp.items); else for (var changedProb = Object.keys(newProp.items), i = 0; i < changedProb.length; i++) {
                        var index = parseInt(Object.keys(newProp.items)[i], 10), property = Object.keys(newProp.items[index])[0], newProperty = (Object(oldProp.items[index])[property], 
                        Object(newProp.items[index])[property]);
                        if (this.tbarAlign || "align" === property) {
                            this.refresh();
                            break;
                        }
                        ("showAlwaysInPopup" === property && !newProperty || this.items[index].showAlwaysInPopup && "overflow" === property && 0 !== this.popupPriCount) && --this.popupPriCount, 
                        this.destroyMode();
                        detach([].slice.call(selectAll(".e-toolbar-items ." + CLS_ITEM$1$1, tEle))[index]), 
                        this.tbarEle.splice(index, 1), this.addItems([ this.items[index] ], index), this.items.splice(index, 1), 
                        this.items[index].template && this.tbarEle.splice(this.items.length, 1);
                    }
                    break;

                  case "width":
                    var wid = tEle.offsetWidth;
                    setStyleAttribute(tEle, {
                        width: formatUnit(newProp.width)
                    }), this.renderOverflowMode(), this.popObj && wid < tEle.offsetWidth && this.popupRefresh(this.popObj.element, !1);
                    break;

                  case "height":
                    setStyleAttribute(this.element, {
                        height: formatUnit(newProp.height)
                    });
                    break;

                  case "overflowMode":
                    this.destroyMode(), this.renderOverflowMode(), this.enableRtl && this.add(tEle, "e-rtl"), 
                    this.refreshOverflow();
                    break;

                  case "enableRtl":
                    newProp.enableRtl ? this.add(tEle, "e-rtl") : this.remove(tEle, "e-rtl"), isNullOrUndefined(this.scrollModule) || (newProp.enableRtl ? this.add(this.scrollModule.element, "e-rtl") : this.remove(this.scrollModule.element, "e-rtl")), 
                    isNullOrUndefined(this.popObj) || (newProp.enableRtl ? this.add(this.popObj.element, "e-rtl") : this.remove(this.popObj.element, "e-rtl")), 
                    this.tbarAlign && this.itemPositioning();
                }
            }
        }, Toolbar.prototype.hideItem = function(index, value) {
            if (this.tbarEle[index]) {
                var innerItems = [].slice.call(selectAll("." + CLS_ITEM$1$1, this.element));
                !0 === value ? innerItems[index].classList.add("e-hidden") : innerItems[index].classList.remove("e-hidden"), 
                this.refreshOverflow();
            }
        }, __decorate$15([ Collection([], Item$1) ], Toolbar.prototype, "items", void 0), 
        __decorate$15([ Property("auto") ], Toolbar.prototype, "width", void 0), __decorate$15([ Property("auto") ], Toolbar.prototype, "height", void 0), 
        __decorate$15([ Property("Scrollable") ], Toolbar.prototype, "overflowMode", void 0), 
        __decorate$15([ Property(!1) ], Toolbar.prototype, "enableRtl", void 0), __decorate$15([ Event() ], Toolbar.prototype, "clicked", void 0), 
        __decorate$15([ Event() ], Toolbar.prototype, "created", void 0), __decorate$15([ Event() ], Toolbar.prototype, "destroyed", void 0), 
        __decorate$15([ Event() ], Toolbar.prototype, "beforeCreate", void 0), Toolbar = __decorate$15([ NotifyPropertyChanges ], Toolbar);
    }(Component), __extends$41 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$17 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, ROOT$5 = "e-datepicker", DatePicker$1 = function(_super) {
        function DatePicker(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.previousEleValue = "", _this.isDateIconClicked = !1, _this.keyConfigs = {
                altUpArrow: "alt+uparrow",
                altDownArrow: "alt+downarrow",
                escape: "escape",
                enter: "enter",
                controlUp: "ctrl+38",
                controlDown: "ctrl+40",
                moveDown: "downarrow",
                moveUp: "uparrow",
                moveLeft: "leftarrow",
                moveRight: "rightarrow",
                select: "enter",
                home: "home",
                end: "end",
                pageUp: "pageup",
                pageDown: "pagedown",
                shiftPageUp: "shift+pageup",
                shiftPageDown: "shift+pagedown",
                controlHome: "ctrl+home",
                controlEnd: "ctrl+end",
                tab: "tab"
            }, _this.calendarKeyConfigs = {
                escape: "escape",
                enter: "enter",
                tab: "tab"
            }, _this;
        }
        return __extends$41(DatePicker, _super), DatePicker.prototype.render = function() {
            this.initialize(), this.bindEvents();
        }, DatePicker.prototype.initialize = function() {
            this.createInput(), this.updateInput(), this.previousEleValue = this.inputElement.value;
        }, DatePicker.prototype.createInput = function() {
            var ariaAttrs = {
                "aria-live": "assertive",
                "aria-atomic": "true",
                "aria-haspopup": "true",
                "aria-activedescendant": "null",
                "aria-owns": this.inputElement.id + "_options",
                "aria-expanded": "false",
                role: "combobox",
                autocomplete: "off"
            };
            if ("datepicker" === this.getModuleName()) {
                this.globalize = new Internationalization(this.locale), this.l10n = new L10n("datepicker", {
                    placeholder: null
                }, this.locale), this.setProperties({
                    placeholder: this.placeholder || this.l10n.getConstant("placeholder")
                }, !0);
            }
            this.inputWrapper = Input.createInput({
                element: this.inputElement,
                customTag: this.ngTag,
                floatLabelType: this.floatLabelType,
                properties: {
                    readonly: this.readonly,
                    placeholder: this.placeholder,
                    cssClass: this.cssClass,
                    enabled: this.enabled,
                    enableRtl: this.enableRtl,
                    showClearButton: this.showClearButton
                },
                buttons: [ "e-input-group-icon e-date-icon e-icons" ]
            }), this.setWidth(this.width), "" !== this.inputElement.name ? this.inputElement.setAttribute("name", "" + this.inputElement.getAttribute("name")) : this.inputElement.setAttribute("name", "" + this.inputElement.id), 
            attributes(this.inputElement, ariaAttrs), this.enabled || this.inputElement.setAttribute("aria-disabled", "true"), 
            Input.addAttributes({
                "aria-label": "select"
            }, this.inputWrapper.buttons[0]), addClass([ this.inputWrapper.container ], "e-date-wrapper");
        }, DatePicker.prototype.updateInput = function() {
            if (this.value && !this.isCalendar() && this.disabledDates(), +new Date("" + this.value)) {
                if ("string" == typeof this.value) {
                    this.value = this.checkDateValue(new Date("" + this.value));
                    var dateOptions = void 0;
                    dateOptions = "datetimepicker" === this.getModuleName() ? {
                        format: isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format,
                        type: "dateTime",
                        skeleton: "yMd"
                    } : {
                        format: this.format,
                        type: "dateTime",
                        skeleton: "yMd"
                    };
                    var dateString = this.globalize.formatDate(this.value, dateOptions);
                    this.setProperties({
                        value: this.globalize.parseDate(dateString, dateOptions)
                    }, !0);
                }
            } else this.setProperties({
                value: null
            }, !0);
            if (this.strictMode && _super.prototype.processDate.call(this), !isNullOrUndefined(this.value)) {
                var dateValue = this.value, tempFormat = (dateString = void 0, isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format);
                if (dateString = "datetimepicker" === this.getModuleName() ? this.globalize.formatDate(this.value, {
                    format: tempFormat,
                    type: "dateTime",
                    skeleton: "yMd"
                }) : this.globalize.formatDate(this.value, {
                    format: this.format,
                    type: "dateTime",
                    skeleton: "yMd"
                }), +dateValue <= +this.max && +dateValue >= +this.min) Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton); else {
                    var value = +dateValue >= +this.max || !+this.value || !+this.value || +dateValue <= +this.min;
                    !this.strictMode && value && Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);
                }
            }
            isNullOrUndefined(this.value) && this.strictMode && Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton), 
            this.changedArgs = {
                value: this.value
            }, this.errorClass();
        }, DatePicker.prototype.bindEvents = function() {
            this.enabled ? (EventHandler.add(this.inputWrapper.buttons[0], "mousedown touchstart", this.dateIconHandler, this), 
            EventHandler.add(this.inputElement, "focus", this.inputFocusHandler, this), EventHandler.add(this.inputElement, "blur", this.inputBlurHandler, this), 
            this.bindClearEvent()) : (EventHandler.remove(this.inputWrapper.buttons[0], "mousedown touchstart", this.dateIconHandler), 
            EventHandler.remove(this.inputElement, "focus", this.inputFocusHandler), EventHandler.remove(this.inputElement, "blur", this.inputBlurHandler)), 
            this.keyboardModules = new KeyboardEvents(this.inputElement, {
                eventName: "keydown",
                keyAction: this.inputKeyActionHandle.bind(this),
                keyConfigs: this.keyConfigs
            });
        }, DatePicker.prototype.bindClearEvent = function() {
            this.showClearButton && EventHandler.add(this.inputWrapper.clearButton, "mousedown touchstart", this.resetHandler, this);
        }, DatePicker.prototype.resetHandler = function(e) {
            e.preventDefault(), this.clear(e);
        }, DatePicker.prototype.clear = function(event) {
            this.setProperties({
                value: null
            }, !0), Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton), 
            this.changeEvent(event);
        }, DatePicker.prototype.dateIconHandler = function(e) {
            e.preventDefault(), this.readonly || (this.isCalendar() ? this.hide() : (this.isDateIconClicked = !0, 
            this.show(), Browser.isDevice || ("datetimepicker" === this.getModuleName() && this.inputElement.focus(), 
            this.inputElement.focus(), addClass([ this.inputWrapper.container ], [ "e-input-focus" ])), 
            addClass(this.inputWrapper.buttons, "e-active")));
        }, DatePicker.prototype.CalendarKeyActionHandle = function(e) {
            switch (e.action) {
              case "escape":
                this.isCalendar() ? this.hide() : this.inputWrapper.container.children[this.index].blur();
                break;

              case "enter":
                this.isCalendar() ? +this.value == +this.currentDate || this.isCalendar() || this.inputWrapper.container.children[this.index].focus() : this.show(), 
                "datetimepicker" === this.getModuleName() && this.inputElement.focus();
                break;

              case "tab":
                this.hide();
            }
        }, DatePicker.prototype.inputFocusHandler = function() {
            this.isDateIconClicked = !1, this.trigger("focus");
        }, DatePicker.prototype.inputBlurHandler = function() {
            this.strictModeUpdate(), this.updateInput(), this.changeTrigger(), this.errorClass(), 
            this.isCalendar() && document.activeElement === this.inputElement && this.hide(), 
            this.inputElement.blur(), this.trigger("blur"), this.isCalendar() && (this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {
                eventName: "keydown",
                keyAction: this.CalendarKeyActionHandle.bind(this),
                keyConfigs: this.calendarKeyConfigs
            }));
        }, DatePicker.prototype.documentHandler = function(e) {
            Browser.isDevice || e.preventDefault();
            var target = e.target;
            closest(target, ".e-datepicker.e-popup-wrapper") || closest(target, ".e-input-group") === this.inputWrapper.container || target.classList.contains("e-day") || this.hide();
        }, DatePicker.prototype.inputKeyActionHandle = function(e) {
            switch (e.action) {
              case "altUpArrow":
                this.hide(), this.inputElement.focus();
                break;

              case "altDownArrow":
                this.strictModeUpdate(), this.updateInput(), "datepicker" === this.getModuleName() && this.show();
                break;

              case "escape":
                this.hide();
                break;

              case "enter":
                this.strictModeUpdate(), this.updateInput(), this.changeTrigger(), this.errorClass(), 
                this.isCalendar() || document.activeElement !== this.inputElement || this.hide();
                break;

              case "tab":
                this.strictModeUpdate(), this.updateInput(), this.changeTrigger(), this.errorClass(), 
                this.hide();
                break;

              default:
                this.previousDate = !isNullOrUndefined(this.value) && new Date("" + this.value) || null, 
                this.isCalendar() && _super.prototype.keyActionHandle.call(this, e);
            }
        }, DatePicker.prototype.strictModeUpdate = function() {
            var format;
            if (format = "datetimepicker" === this.getModuleName() ? isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format : isNullOrUndefined(this.format) ? this.format : this.format.replace("dd", "d"), 
            !isNullOrUndefined(format)) {
                format.split("M").length - 1 < 3 && (format = format.replace("MM", "M"));
            }
            var dateOptions;
            dateOptions = "datetimepicker" === this.getModuleName() ? {
                format: isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format,
                type: "dateTime",
                skeleton: "yMd"
            } : {
                format: format,
                type: "dateTime",
                skeleton: "yMd"
            };
            var date = this.globalize.parseDate(this.inputElement.value, dateOptions);
            this.strictMode && date ? (Input.setValue(this.globalize.formatDate(date, dateOptions), this.inputElement, this.floatLabelType, this.showClearButton), 
            this.inputElement.value !== this.previousEleValue && this.setProperties({
                value: date
            }, !0)) : this.strictMode || this.inputElement.value !== this.previousEleValue && this.setProperties({
                value: date
            }, !0), this.strictMode && !date && "" === this.inputElement.value && this.setProperties({
                value: null
            }, !0), isNaN(+this.value) && this.setProperties({
                value: null
            }, !0), isNullOrUndefined(this.value) && (this.currentDate = new Date(new Date().setHours(0, 0, 0, 0)));
        }, DatePicker.prototype.createCalendar = function() {
            var _this = this;
            this.popupWrapper = createElement("div", {
                className: ROOT$5 + " e-popup-wrapper"
            }), isNullOrUndefined(this.cssClass) || this.popupWrapper.classList.add(this.cssClass), 
            document.body.appendChild(this.popupWrapper), Browser.isDevice && (this.modelHeader(), 
            this.modal = createElement("div"), this.modal.className = ROOT$5 + " e-date-modal", 
            document.body.className += " e-date-overflow", this.modal.style.display = "block", 
            document.body.appendChild(this.modal)), this.calendarElement.querySelector("table tbody").className = "", 
            this.popupObj = new Popup(this.popupWrapper, {
                content: this.calendarElement,
                relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,
                position: Browser.isDevice ? {
                    X: "center",
                    Y: "center"
                } : {
                    X: "left",
                    Y: "bottom"
                },
                offsetY: 4,
                targetType: "container",
                enableRtl: this.enableRtl,
                zIndex: this.zIndex,
                collision: Browser.isDevice ? {
                    X: "fit",
                    Y: "fit"
                } : {
                    X: "flip",
                    Y: "flip"
                },
                open: function() {
                    "datetimepicker" !== _this.getModuleName() && (document.activeElement === _this.inputElement || Browser.isDevice || (_this.calendarElement.children[1].firstElementChild.focus(), 
                    _this.calendarKeyboardModules = new KeyboardEvents(_this.calendarElement.children[1].firstElementChild, {
                        eventName: "keydown",
                        keyAction: _this.CalendarKeyActionHandle.bind(_this),
                        keyConfigs: _this.calendarKeyConfigs
                    }), _this.calendarKeyboardModules = new KeyboardEvents(_this.inputWrapper.container.children[_this.index], {
                        eventName: "keydown",
                        keyAction: _this.CalendarKeyActionHandle.bind(_this),
                        keyConfigs: _this.calendarKeyConfigs
                    })));
                },
                close: function() {
                    Browser.isDevice || _this.isDateIconClicked && _this.inputWrapper.container.children[_this.index].focus(), 
                    _this.value && _this.disabledDates(), _this.popupObj.destroy(), detach(_this.popupWrapper), 
                    _this.popupObj = _this.popupWrapper = null, _this.setAriaAttributes();
                }
            }), this.popupObj.element.classList.add(this.cssClass), this.setAriaAttributes();
        }, DatePicker.prototype.modelHeader = function() {
            var modelHeader = createElement("div", {
                className: "e-model-header"
            }), yearHeading = createElement("h5", {
                className: "e-model-year"
            }), h2 = createElement("div"), daySpan = createElement("span", {
                className: "e-model-day"
            }), monthSpan = createElement("span", {
                className: "e-model-month"
            });
            yearHeading.textContent = "" + this.globalize.formatDate(this.value || new Date(), {
                format: "y",
                skeleton: "dateTime"
            }), daySpan.textContent = this.globalize.formatDate(this.value || new Date(), {
                format: "E",
                skeleton: "dateTime"
            }) + ", ", monthSpan.textContent = "" + this.globalize.formatDate(this.value || new Date(), {
                format: "MMM d",
                skeleton: "dateTime"
            }), modelHeader.appendChild(yearHeading), h2.appendChild(daySpan), h2.appendChild(monthSpan), 
            modelHeader.appendChild(h2), this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);
        }, DatePicker.prototype.changeTrigger = function() {
            this.inputElement.value !== this.previousEleValue && (this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()) && (this.changedArgs.value = this.value, 
            this.trigger("change", this.changedArgs), this.previousEleValue = this.inputElement.value, 
            this.previousDate = new Date("" + this.value));
        }, DatePicker.prototype.navigatedEvent = function() {
            this.trigger("navigated", this.navigatedArgs);
        }, DatePicker.prototype.changeEvent = function(e) {
            this.selectCalendar(e), this.changedArgs.event = e, this.trigger("change", this.changedArgs), 
            this.previousDate = this.value;
        }, DatePicker.prototype.selectCalendar = function(e) {
            var date, tempFormat;
            tempFormat = "datetimepicker" === this.getModuleName() && isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format, 
            this.value && (date = "datetimepicker" === this.getModuleName() ? this.globalize.formatDate(this.changedArgs.value, {
                format: tempFormat,
                type: "dateTime",
                skeleton: "yMd"
            }) : this.globalize.formatDate(this.changedArgs.value, {
                format: this.format,
                type: "dateTime",
                skeleton: "yMd"
            })), isNullOrUndefined(date) || Input.setValue(date, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.hide(), this.previousEleValue = this.inputElement.value, this.errorClass();
        }, DatePicker.prototype.isCalendar = function() {
            return !(!this.popupWrapper || !this.popupWrapper.classList.contains("e-popup-wrapper"));
        }, DatePicker.prototype.setWidth = function(width) {
            this.inputWrapper.container.style.width = "number" == typeof width ? formatUnit(this.width) : "string" == typeof width ? this.width : "100%";
        }, DatePicker.prototype.show = function() {
            var outOfRange, prevent = !0;
            isNullOrUndefined(this.value) || +this.value >= +this.min && +this.value <= +this.max ? outOfRange = this.value || null : (outOfRange = new Date("" + this.value), 
            this.setProperties({
                value: null
            }, !0)), this.isCalendar() || (_super.prototype.render.call(this), this.setProperties({
                value: outOfRange || null
            }, !0), this.previousDate = outOfRange, this.createCalendar()), this.preventArgs = {
                preventDefault: function() {
                    prevent = !1;
                }
            };
            var args = {
                popup: this.popupObj
            };
            if (merge(args, this.preventArgs), this.trigger("open", args), prevent) {
                addClass(this.inputWrapper.buttons, "e-active"), document.body.appendChild(this.popupObj.element), 
                this.popupObj.refreshPosition(this.inputElement);
                var openAnimation = {
                    name: "FadeIn",
                    duration: Browser.isDevice ? 0 : 300
                };
                this.popupObj.show(new Animation(openAnimation)), this.setAriaAttributes();
            } else detach(this.popupWrapper), this.popupObj.destroy(), this.popupWrapper = this.popupObj = null;
            EventHandler.add(document, "mousedown touchstart", this.documentHandler, this);
        }, DatePicker.prototype.hide = function() {
            var args = {
                popup: this.popupObj
            };
            this.preventArgs = {
                preventDefault: function() {
                    prevent = !1;
                }
            };
            var prevent = !0;
            removeClass(this.inputWrapper.buttons, "e-active"), removeClass([ document.body ], "e-date-overflow"), 
            merge(args, this.preventArgs), this.trigger("close", args), this.isCalendar() && prevent && (this.popupObj.hide(), 
            this.keyboardModule.destroy(), removeClass(this.inputWrapper.buttons, "e-active")), 
            this.setAriaAttributes(), this.previousEleValue = this.inputElement.value, Browser.isDevice && this.modal && (this.modal.style.display = "none", 
            this.modal.outerHTML = "", this.modal = null), EventHandler.remove(document, "mousedown touchstart", this.documentHandler);
        }, DatePicker.prototype.focusIn = function(triggerEvent) {
            this.inputElement.focus(), addClass([ this.inputWrapper.container ], [ "e-input-focus" ]), 
            this.trigger("focus");
        }, DatePicker.prototype.focusOut = function() {
            this.inputElement.blur(), removeClass([ this.inputWrapper.container ], [ "e-input-focus" ]), 
            this.trigger("blur");
        }, DatePicker.prototype.currentView = function() {
            var currentView;
            return this.calendarElement && (currentView = _super.prototype.currentView.call(this)), 
            currentView;
        }, DatePicker.prototype.navigateTo = function(view, date) {
            this.calendarElement && _super.prototype.navigateTo.call(this, view, date);
        }, DatePicker.prototype.destroy = function() {
            _super.prototype.destroy.call(this), this.keyboardModules.destroy(), this.popupObj && this.popupObj.element.classList.contains("e-popup") && _super.prototype.destroy.call(this);
            var ariaAttrs = {
                "aria-live": "assertive",
                "aria-atomic": "true",
                "aria-haspopup": "true",
                "aria-activedescendant": "null",
                "aria-owns": this.inputElement.id + "_options",
                "aria-expanded": "false",
                role: "combobox",
                autocomplete: "off"
            };
            Input.removeAttributes(ariaAttrs, this.inputElement), this.isCalendar() && (detach(this.popupWrapper), 
            this.popupObj = this.popupWrapper = null, this.keyboardModule.destroy()), EventHandler.remove(this.inputElement, "blur", this.inputBlurHandler), 
            EventHandler.remove(this.inputElement, "focus", this.inputFocusHandler), this.inputWrapper.container.insertAdjacentElement("afterend", this.inputEleCopy), 
            removeClass([ this.inputElement ], [ ROOT$5, "e-rtl", "e-input" ]), removeClass([ this.inputWrapper.container ], "e-date-wrapper"), 
            detach(this.inputWrapper.container);
        }, DatePicker.prototype.preRender = function() {
            this.inputEleCopy = this.element, this.inputElement = this.element, this.index = this.showClearButton ? 2 : 1;
            var ej2Instance = getValue("ej2_instances", this.element);
            if (this.ngTag = null, "EJS-DATEPICKER" === this.element.tagName || "EJS-DATETIMEPICKER" === this.element.tagName) {
                this.ngTag = this.element.tagName;
                for (var inputElement = createElement("input"), index = 0; index < this.element.attributes.length; index++) inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue), 
                inputElement.innerHTML = this.element.innerHTML;
                this.element.parentNode.appendChild(inputElement), this.element.parentNode.removeChild(this.element), 
                this.inputElement = inputElement, setValue("ej2_instances", ej2Instance, this.inputElement);
            }
            this.element.getAttribute("id") ? this.inputElement.id = this.element.getAttribute("id") : "datetimepicker" === this.getModuleName() ? (this.inputElement.id = getUniqueID("ej2-datetimepicker"), 
            attributes(this.element, {
                id: this.inputElement.id
            })) : (this.inputElement.id = getUniqueID("ej2-datepicker"), attributes(this.element, {
                id: this.inputElement.id
            })), this.checkHtmlAttributes(), _super.prototype.preRender.call(this);
        }, DatePicker.prototype.checkHtmlAttributes = function() {
            this.globalize = new Internationalization(this.locale);
            var options;
            options = "datetimepicker" === this.getModuleName() ? {
                format: isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format,
                type: "dateTime",
                skeleton: "yMd"
            } : {
                format: this.format,
                type: "dateTime",
                skeleton: "yMd"
            };
            for (var _i = 0, attributes_1 = [ "value", "min", "max", "disabled", "readonly", "style", "name", "placeholder", "type" ]; _i < attributes_1.length; _i++) {
                var prop = attributes_1[_i];
                if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) switch (prop) {
                  case "disabled":
                    var enabled = "disabled" === this.inputElement.getAttribute(prop) || "" === this.inputElement.getAttribute(prop);
                    this.setProperties({
                        enabled: enabled
                    }, !0), enabled || this.inputElement.setAttribute("aria-disabled", "true");
                    break;

                  case "readonly":
                    var readonly = "readonly" === this.inputElement.getAttribute(prop) || "" === this.inputElement.getAttribute(prop);
                    this.setProperties({
                        readonly: readonly
                    }, !0);
                    break;

                  case "placeholder":
                    if (null === this.placeholder) {
                        this.inputElement.getAttribute(prop);
                        this.setProperties({
                            placeholder: this.inputElement.getAttribute(prop)
                        }, !0);
                    }
                    break;

                  case "style":
                    this.inputElement.setAttribute("style", "" + this.inputElement.getAttribute(prop));
                    break;

                  case "name":
                    this.inputElement.setAttribute("name", "" + this.inputElement.getAttribute(prop));
                    break;

                  case "value":
                    if (!this.value) {
                        var value = this.inputElement.getAttribute(prop);
                        this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !0);
                    }
                    break;

                  case "min":
                    +this.min == +new Date(1900, 0, 1) && this.setProperties(setValue(prop, this.globalize.parseDate(this.inputElement.getAttribute(prop)), {}), !0);
                    break;

                  case "max":
                    +this.max == +new Date(2099, 11, 31) && this.setProperties(setValue(prop, this.globalize.parseDate(this.inputElement.getAttribute(prop)), {}), !0);
                    break;

                  case "type":
                    "text" !== this.inputElement.getAttribute(prop) && this.inputElement.setAttribute("type", "text");
                }
            }
        }, DatePicker.prototype.getModuleName = function() {
            return "datepicker";
        }, DatePicker.prototype.disabledDates = function() {
            var valueCopy = new Date("" + this.value), previousValCopy = this.previousDate;
            _super.prototype.render.call(this), this.previousDate = previousValCopy;
            var dateIdString = '*[id^="/id"]'.replace("/id", "" + (valueCopy && +valueCopy));
            this.strictMode || this.setProperties({
                value: valueCopy
            }, !0), isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0]) || this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains("e-disabled") && (this.strictMode || (this.setProperties({
                value: null
            }, !0), this.currentDate = new Date(new Date().setHours(0, 0, 0, 0))));
            var inputVal;
            inputVal = "datetimepicker" === this.getModuleName() ? this.globalize.formatDate(valueCopy, {
                format: isNullOrUndefined(this.format) ? this.dateTimeFormat : this.format,
                type: "dateTime",
                skeleton: "yMd"
            }) : this.globalize.formatDate(valueCopy, {
                format: this.format,
                type: "dateTime",
                skeleton: "yMd"
            }), Input.setValue(inputVal, this.inputElement, this.floatLabelType, this.showClearButton);
        }, DatePicker.prototype.setAriaAttributes = function() {
            this.isCalendar() ? (Input.addAttributes({
                "aria-expanded": "true"
            }, this.inputElement), attributes(this.inputElement, {
                "aria-activedescendant": "" + this.setActiveDescendant()
            })) : (Input.addAttributes({
                "aria-expanded": "false"
            }, this.inputElement), attributes(this.inputElement, {
                "aria-activedescendant": "null"
            }));
        }, DatePicker.prototype.errorClass = function() {
            !isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max) || !this.strictMode && "" !== this.inputElement.value && isNullOrUndefined(this.value) ? addClass([ this.inputWrapper.container ], "e-error") : removeClass([ this.inputWrapper.container ], "e-error");
        }, DatePicker.prototype.onPropertyChanged = function(newProp, oldProp) {
            for (var options = {
                format: this.format,
                type: "dateTime",
                skeleton: "yMd"
            }, _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "value":
                    "string" == typeof newProp.value && (newProp.value = this.globalize.parseDate(newProp.value, options)), 
                    this.setProperties({
                        value: newProp.value
                    }, !0), this.previousEleValue = this.inputElement.value, isNullOrUndefined(this.value) && (Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton), 
                    this.currentDate = new Date(new Date().setHours(0, 0, 0, 0))), this.updateInput(), 
                    this.changeTrigger();
                    break;

                  case "format":
                    this.updateInput();
                    break;

                  case "placeholder":
                    Input.setPlaceholder(this.placeholder, this.inputElement);
                    break;

                  case "readonly":
                    Input.setReadonly(this.readonly, this.inputElement);
                    break;

                  case "enabled":
                    Input.setEnabled(this.enabled, this.inputElement), this.bindEvents();
                    break;

                  case "locale":
                    this.globalize = new Internationalization(this.locale), this.l10n.setLocale(this.locale), 
                    this.setProperties({
                        placeholder: this.l10n.getConstant("placeholder")
                    }, !0), Input.setPlaceholder(this.placeholder, this.inputElement), this.updateInput();
                    break;

                  case "enableRtl":
                    Input.setEnableRtl(this.enableRtl, [ this.inputWrapper.container ]);
                    break;

                  case "zIndex":
                    this.setProperties({
                        zIndex: newProp.zIndex
                    }, !0);
                    break;

                  case "cssClass":
                    Input.setCssClass(newProp.cssClass, [ this.inputWrapper.container ]), this.popupWrapper && addClass([ this.popupWrapper ], [ newProp.cssClass ]);
                    break;

                  case "strictMode":
                    this.updateInput();
                    break;

                  case "width":
                    this.setWidth(newProp.width);
                    break;

                  default:
                    this.calendarElement && _super.prototype.onPropertyChanged.call(this, newProp, oldProp);
                }
                this.hide();
            }
        }, __decorate$17([ Property(null) ], DatePicker.prototype, "width", void 0), __decorate$17([ Property(null) ], DatePicker.prototype, "cssClass", void 0), 
        __decorate$17([ Property(!1) ], DatePicker.prototype, "strictMode", void 0), __decorate$17([ Property(null) ], DatePicker.prototype, "format", void 0), 
        __decorate$17([ Property(!0) ], DatePicker.prototype, "enabled", void 0), __decorate$17([ Property(!0) ], DatePicker.prototype, "showClearButton", void 0), 
        __decorate$17([ Property(1e3) ], DatePicker.prototype, "zIndex", void 0), __decorate$17([ Property(!1) ], DatePicker.prototype, "readonly", void 0), 
        __decorate$17([ Property(null) ], DatePicker.prototype, "placeholder", void 0), 
        __decorate$17([ Property("Never") ], DatePicker.prototype, "floatLabelType", void 0), 
        __decorate$17([ Event() ], DatePicker.prototype, "open", void 0), __decorate$17([ Event() ], DatePicker.prototype, "close", void 0), 
        __decorate$17([ Event() ], DatePicker.prototype, "blur", void 0), __decorate$17([ Event() ], DatePicker.prototype, "focus", void 0), 
        __decorate$17([ Event() ], DatePicker.prototype, "created", void 0), __decorate$17([ Event() ], DatePicker.prototype, "destroyed", void 0), 
        DatePicker = __decorate$17([ NotifyPropertyChanges ], DatePicker);
    }(Calendar), queryString$1 = "", prevString$1 = "", matches$2 = [], activeClass$1 = "e-active", __extends$44 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$20 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, FieldSettings$2 = function(_super) {
        function FieldSettings() {
            return null !== _super && _super.apply(this, arguments) || this;
        }
        return __extends$44(FieldSettings, _super), __decorate$20([ Property() ], FieldSettings.prototype, "text", void 0), 
        __decorate$20([ Property() ], FieldSettings.prototype, "value", void 0), __decorate$20([ Property() ], FieldSettings.prototype, "iconCss", void 0), 
        __decorate$20([ Property() ], FieldSettings.prototype, "groupBy", void 0), __decorate$20([ Property() ], FieldSettings.prototype, "htmlAttributes", void 0), 
        FieldSettings;
    }(ChildProperty), dropDownBaseClasses$1 = {
        root: "e-dropdownbase",
        rtl: "e-rtl",
        content: "e-content",
        selected: "e-active",
        hover: "e-hover",
        noData: "e-nodata",
        fixedHead: "e-fixed-head",
        focus: "e-item-focus",
        li: cssClass.li,
        group: cssClass.group,
        disabled: cssClass.disabled,
        grouping: "e-dd-group"
    }, DropDownBase$1 = function(_super) {
        function DropDownBase(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$44(DropDownBase, _super), DropDownBase.prototype.getPropObject = function(prop, newProp, oldProp) {
            var newProperty = new Object(), oldProperty = new Object(), propName = new Function("prop", "return prop");
            newProperty[propName(prop)] = newProp[propName(prop)], oldProperty[propName(prop)] = oldProp[propName(prop)];
            var data = new Object();
            return data.newProperty = newProperty, data.oldProperty = oldProperty, data;
        }, DropDownBase.prototype.getValueByText = function(text, ignoreCase) {
            var value = null, dataSource = this.listData, fields = this.fields, type = this.typeOfData(dataSource).typeof;
            if (ignoreCase) if ("string" === type || "number" === type) for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {
                if (!isNullOrUndefined(item = dataSource_1[_i]) && String(item).toLowerCase() === text.toString().toLowerCase()) {
                    value = "string" === type ? String(item) : this.getFormattedValue(String(item));
                    break;
                }
            } else dataSource.filter(function(item) {
                getValue(fields.text, item).toString().toLowerCase() === text.toLowerCase() && (value = getValue(fields.value, item));
            }); else if ("string" === type || "number" === type) for (var _a = 0, dataSource_2 = dataSource; _a < dataSource_2.length; _a++) {
                var item;
                if (!isNullOrUndefined(item = dataSource_2[_a]) && String(item) === text.toString()) {
                    value = "string" === type ? text : this.getFormattedValue(text);
                    break;
                }
            } else dataSource.filter(function(item) {
                getValue(fields.text, item) === text && (value = getValue(fields.value, item));
            });
            return value;
        }, DropDownBase.prototype.l10nUpdate = function(actionFailure) {
            if ("No Records Found" !== this.noRecordsTemplate || "The Request Failed" !== this.actionFailureTemplate) {
                var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;
                this.list.innerHTML = "";
                for (var _i = 0, _a = compile$$1(template)({}); _i < _a.length; _i++) {
                    var item = _a[_i];
                    this.list.appendChild(item);
                }
            } else {
                this.l10n = new L10n("dropdowns", {
                    noRecordsTemplate: "No Records Found",
                    actionFailureTemplate: "The Request Failed"
                }, this.locale), this.list.innerHTML = actionFailure ? this.l10n.getConstant("actionFailureTemplate") : this.l10n.getConstant("noRecordsTemplate");
            }
        }, DropDownBase.prototype.getTextByValue = function(value) {
            var text, dataSource = this.listData, fields = this.fields, type = this.typeOfData(dataSource).typeof;
            if ("string" === type || "number" === type) for (var _i = 0, dataSource_3 = dataSource; _i < dataSource_3.length; _i++) {
                var item = dataSource_3[_i];
                if (!isNullOrUndefined(item) && item.toString() === value.toString()) {
                    text = item.toString();
                    break;
                }
            } else dataSource.filter(function(item) {
                var itemValue = getValue(fields.value, item);
                isNullOrUndefined(itemValue) || itemValue.toString() !== value.toString() || (text = getValue(fields.text, item));
            });
            return text;
        }, DropDownBase.prototype.getFormattedValue = function(value) {
            if (this.listData && this.listData.length) {
                var item = this.typeOfData(this.listData);
                if ("number" == typeof getValue(this.fields.value ? this.fields.value : "value", item.item) || "number" === item.typeof) return parseInt(value, 10);
            }
            return value;
        }, DropDownBase.prototype.setEnableRtl = function() {
            this.list && this.enableRtlElements.push(this.list), this.enableRtl ? addClass(this.enableRtlElements, dropDownBaseClasses$1.rtl) : removeClass(this.enableRtlElements, dropDownBaseClasses$1.rtl);
        }, DropDownBase.prototype.initialize = function() {
            if (this.bindEvent = !0, "UL" === this.element.tagName) {
                var jsonElement = ListBase.createJsonFromElement(this.element);
                this.setProperties({
                    fields: {
                        text: "text",
                        value: "text"
                    }
                }, !0), this.resetList(jsonElement, this.fields);
            } else if ("SELECT" === this.element.tagName) {
                (this.dataSource instanceof Array ? this.dataSource.length > 0 : !isNullOrUndefined(this.dataSource)) || this.renderItemsBySelect();
            } else this.setListData(this.dataSource, this.fields, this.query);
        }, DropDownBase.prototype.getPersistData = function() {
            return this.addOnPersist([]);
        }, DropDownBase.prototype.setEnabled = function() {
            this.enabled ? this.element.setAttribute("aria-disabled", "false") : this.element.setAttribute("aria-disabled", "true");
        }, DropDownBase.prototype.renderItemsBySelect = function() {
            var element = this.element, fields = {
                value: "value",
                text: "text"
            }, jsonElement = [], group = element.querySelectorAll("select>optgroup"), option = element.querySelectorAll("select>option");
            if (this.getJSONfromOption(jsonElement, option, fields), group.length) {
                for (var i = 0; i < group.length; i++) {
                    var item = group[i], optionGroup = {};
                    optionGroup[fields.text] = item.label, optionGroup.isHeader = !0;
                    var child = item.querySelectorAll("option");
                    jsonElement.push(optionGroup), this.getJSONfromOption(jsonElement, child, fields);
                }
                element.querySelectorAll("select>option");
            }
            this.fields.text = fields.text, this.fields.value = fields.value, this.resetList(jsonElement, fields);
        }, DropDownBase.prototype.getJSONfromOption = function(items, options, fields) {
            for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {
                var option = options_1[_i], json = {};
                json[fields.text] = option.innerText, json[fields.value] = option.getAttribute(fields.value) ? option.getAttribute(fields.value) : option.innerText, 
                items.push(json);
            }
        }, DropDownBase.prototype.preRender = function() {
            this.scrollTimer = -1, this.enableRtlElements = [], this.isRequested = !1;
        }, DropDownBase.prototype.setListData = function(dataSource, fields, query) {
            var _this = this;
            fields = fields || this.fields;
            var ulElement;
            if (this.isActive = !0, dataSource instanceof DataManager) {
                var eventArgs = {
                    cancel: !1,
                    data: dataSource,
                    query: query
                };
                if (this.trigger("actionBegin", eventArgs), eventArgs.cancel) return;
                this.showSpinner(), this.isRequested = !0, eventArgs.data.executeQuery(this.getQuery(eventArgs.query)).then(function(e) {
                    if (_this.trigger("actionComplete", e), !e.cancel) {
                        var listItems = e.result;
                        ulElement = _this.renderItems(listItems, fields), _this.onActionComplete(ulElement, listItems, e), 
                        _this.isRequested = !1, _this.hideSpinner(), _this.trigger("dataBound", {
                            items: listItems,
                            e: e
                        });
                    }
                }).catch(function(e) {
                    _this.isRequested = !1, _this.onActionFailure(e), _this.hideSpinner();
                });
            } else {
                this.showSpinner();
                var dataManager = new DataManager(dataSource), listItems = this.getQuery(query).executeLocal(dataManager);
                ulElement = this.renderItems(listItems, fields), this.onActionComplete(ulElement, listItems), 
                this.hideSpinner(), this.trigger("dataBound", {
                    items: listItems
                });
            }
        }, DropDownBase.prototype.showSpinner = function() {}, DropDownBase.prototype.hideSpinner = function() {}, 
        DropDownBase.prototype.onActionFailure = function(e) {
            this.liCollections = [], this.trigger("actionFailure", e), this.l10nUpdate(!0), 
            addClass([ this.list ], dropDownBaseClasses$1.noData);
        }, DropDownBase.prototype.onActionComplete = function(ulElement, list, e) {
            this.listData = list, this.list.innerHTML = "", this.list.appendChild(ulElement), 
            this.liCollections = this.list.querySelectorAll("." + dropDownBaseClasses$1.li), 
            this.ulElement = this.list.querySelector("ul"), this.postRender(this.list, list, this.bindEvent);
        }, DropDownBase.prototype.postRender = function(listElement, list, bindEvent) {
            var focusItem = listElement.querySelector("." + dropDownBaseClasses$1.li), selectedItem = listElement.querySelector("." + dropDownBaseClasses$1.selected);
            focusItem && !selectedItem && addClass([ focusItem ], dropDownBaseClasses$1.focus), 
            list.length <= 0 ? (this.l10nUpdate(), addClass([ listElement ], dropDownBaseClasses$1.noData)) : listElement.classList.remove(dropDownBaseClasses$1.noData), 
            this.groupTemplate && this.renderGroupTemplate(listElement);
        }, DropDownBase.prototype.getQuery = function(query) {
            return query || (this.query ? this.query : new Query());
        }, DropDownBase.prototype.renderGroupTemplate = function(listEle) {
            if (null !== this.fields.groupBy && this.dataSource || this.element.querySelector("." + dropDownBaseClasses$1.group)) {
                var dataSource = this.dataSource, headerItems = listEle.querySelectorAll("." + dropDownBaseClasses$1.group);
                ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems);
            }
        }, DropDownBase.prototype.createListItems = function(dataSource, fields) {
            dataSource && fields.groupBy || this.element.querySelector("optgroup") ? (fields.groupBy && ("None" !== this.sortOrder && (dataSource = this.getSortedDataSource(dataSource)), 
            dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder)), 
            addClass([ this.list ], dropDownBaseClasses$1.grouping)) : dataSource = this.getSortedDataSource(dataSource);
            var options = this.listOption(dataSource, fields);
            return ListBase.createList(dataSource, options, !0);
        }, DropDownBase.prototype.listOption = function(dataSource, fields) {
            var iconCss = !isNullOrUndefined(fields.iconCss);
            return extend({}, null !== fields.text || null !== fields.value ? {
                fields: fields.properties,
                showIcon: iconCss,
                ariaAttributes: {
                    groupItemRole: "presentation"
                }
            } : {
                fields: {
                    value: "text"
                }
            }, fields, !0);
        }, DropDownBase.prototype.setFloatingHeader = function(e) {
            isNullOrUndefined(this.fixedHeaderElement) && (this.fixedHeaderElement = createElement("div", {
                className: dropDownBaseClasses$1.fixedHead
            }), this.list.querySelector("li").classList.contains(dropDownBaseClasses$1.group) || (this.fixedHeaderElement.style.display = "none"), 
            prepend([ this.fixedHeaderElement ], this.list), this.setFixedHeader()), isNullOrUndefined(this.fixedHeaderElement) || "0" !== this.fixedHeaderElement.style.zIndex || this.setFixedHeader(), 
            this.scrollStop(e);
        }, DropDownBase.prototype.scrollStop = function(e) {
            for (var target = e.target, liHeight = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue("height"), 10), topIndex = Math.round(target.scrollTop / liHeight), liCollections = this.ulElement.querySelectorAll("li"), i = topIndex; i > -1; i--) {
                if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses$1.group)) {
                    var currentLi = liCollections[i];
                    this.fixedHeaderElement.innerHTML = currentLi.innerHTML, this.fixedHeaderElement.style.top = e.target.scrollTop + "px", 
                    this.fixedHeaderElement.style.display = "block";
                    break;
                }
                this.fixedHeaderElement.style.display = "none", this.fixedHeaderElement.style.top = "none";
            }
        }, DropDownBase.prototype.renderItems = function(listData, fields) {
            var ulElement;
            if (this.itemTemplate && listData) {
                var dataSource = listData;
                dataSource && fields.groupBy ? ("None" !== this.sortOrder && (dataSource = this.getSortedDataSource(dataSource)), 
                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder)) : dataSource = this.getSortedDataSource(dataSource), 
                ulElement = this.templateListItem(dataSource, fields);
            } else ulElement = this.createListItems(listData, fields);
            return ulElement;
        }, DropDownBase.prototype.templateListItem = function(dataSource, fields) {
            var option = this.listOption(dataSource, fields);
            return ListBase.renderContentTemplate(this.itemTemplate, dataSource, fields.properties, option);
        }, DropDownBase.prototype.typeOfData = function(items) {
            for (var item = {
                typeof: null,
                item: null
            }, i = 0; i < items.length; i++) if (!isNullOrUndefined(items[i])) return item = {
                typeof: typeof items[i],
                item: items[i]
            };
            return item;
        }, DropDownBase.prototype.setFixedHeader = function() {
            this.list.parentElement.style.display = "block";
            var liWidth = this.liCollections[0].offsetWidth;
            this.fixedHeaderElement.style.width = liWidth.toString() + "px", setStyleAttribute(this.fixedHeaderElement, {
                zIndex: 10
            });
            var firstLi = this.ulElement.querySelector("." + dropDownBaseClasses$1.group);
            this.fixedHeaderElement.innerHTML = firstLi.innerHTML;
        }, DropDownBase.prototype.getSortedDataSource = function(dataSource) {
            if (dataSource && "None" !== this.sortOrder) {
                var textField = this.fields.text ? this.fields.text : "text";
                dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));
            }
            return dataSource;
        }, DropDownBase.prototype.getIndexByValue = function(value) {
            for (var index, listItems = this.getItems(), i = 0; i < listItems.length; i++) if (!isNullOrUndefined(value) && listItems[i].getAttribute("data-value") === value.toString()) {
                index = i;
                break;
            }
            return index;
        }, DropDownBase.prototype.dispatchEvent = function(element, type) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent(type, !1, !0), element.dispatchEvent(evt);
        }, DropDownBase.prototype.setFields = function() {
            var fields = this.fields;
            this.fields.value && !this.fields.text ? this.fields.text = this.fields.value : !fields.value && fields.text ? this.fields.value = this.fields.text : this.fields.value || this.fields.text || (this.fields.value = this.fields.text = "text");
        }, DropDownBase.prototype.resetList = function(dataSource, fields, query) {
            this.list && this.setListData(dataSource, fields, query);
        }, DropDownBase.prototype.updateSelection = function() {}, DropDownBase.prototype.renderList = function() {
            this.render();
        }, DropDownBase.prototype.updateDataSource = function(prop) {
            this.resetList(this.dataSource);
        }, DropDownBase.prototype.setUpdateInitial = function(props, newProp) {
            isNullOrUndefined(newProp.fields) || this.setFields();
            for (var j = 0; props.length > j; j++) newProp[props[j]] && this.updateDataSource(props[j]);
        }, DropDownBase.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.setUpdateInitial([ "query", "sortOrder", "dataSource", "itemTemplate" ], newProp);
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                switch (_a[_i]) {
                  case "query":
                  case "sortOrder":
                  case "dataSource":
                  case "itemTemplate":
                    break;

                  case "enableRtl":
                    this.setEnableRtl();
                    break;

                  case "enabled":
                    this.setEnabled();
                    break;

                  case "groupTemplate":
                    if (this.renderGroupTemplate(this.list), this.ulElement && this.fixedHeaderElement) {
                        var firstLi = this.ulElement.querySelector("." + dropDownBaseClasses$1.group);
                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;
                    }
                    break;

                  case "locale":
                    this.list && !isNullOrUndefined(this.liCollections) && 0 === this.liCollections.length && this.l10nUpdate();
                    break;

                  case "zIndex":
                    this.setProperties({
                        zIndex: newProp.zIndex
                    }, !0), this.setZIndex();
                }
            }
        }, DropDownBase.prototype.render = function(isEmptyData) {
            this.list = createElement("div", {
                className: dropDownBaseClasses$1.content,
                attrs: {
                    tabindex: "0"
                }
            }), this.list.classList.add(dropDownBaseClasses$1.root), this.setFields();
            var rippleModel = {
                duration: 300,
                selector: "." + dropDownBaseClasses$1.li
            };
            this.rippleFun = rippleEffect(this.list, rippleModel);
            var group = this.element.querySelector("select>optgroup");
            if (!this.fields.groupBy && isNullOrUndefined(group) || EventHandler.add(this.list, "scroll", this.setFloatingHeader, this), 
            "dropdownbase" === this.getModuleName()) {
                this.element.getAttribute("tabindex") && this.list.setAttribute("tabindex", this.element.getAttribute("tabindex")), 
                removeClass([ this.element ], dropDownBaseClasses$1.root), this.element.style.display = "none";
                var wrapperElement = document.createElement("div");
                this.element.parentElement.insertBefore(wrapperElement, this.element), wrapperElement.appendChild(this.element), 
                wrapperElement.appendChild(this.list);
            }
            this.setEnableRtl(), this.setEnabled(), isEmptyData || this.initialize();
        }, DropDownBase.prototype.getModuleName = function() {
            return "dropdownbase";
        }, DropDownBase.prototype.getItems = function() {
            return this.ulElement.querySelectorAll("." + dropDownBaseClasses$1.li);
        }, DropDownBase.prototype.addItem = function(items, itemIndex) {
            this.list && this.list.textContent !== this.noRecordsTemplate || this.renderList();
            var itemsCount = this.getItems().length, selectedItemValue = this.list.querySelector("." + dropDownBaseClasses$1.selected);
            items = items instanceof Array ? items : [ items ];
            var index;
            index = isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1 ? itemsCount : itemIndex;
            for (var fields = this.fields, liCollections = [], i = 0; i < items.length; i++) {
                var item = items[i], li = createElement("li", {
                    className: dropDownBaseClasses$1.li,
                    id: "option-add-" + i
                });
                li.setAttribute("data-value", getValue(fields.value, item)), li.setAttribute("role", "option"), 
                li.appendChild(document.createTextNode(getValue(fields.text, item))), liCollections.push(li), 
                this.listData.push(item), this.updateActionCompleteData(li, item);
            }
            if (0 === itemsCount && isNullOrUndefined(this.list.querySelector("ul"))) this.list.innerHTML = "", 
            this.list.appendChild(this.ulElement), append(liCollections, this.ulElement); else for (i = 0; i < items.length; i++) {
                this.liCollections[index] ? this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]) : this.ulElement.appendChild(liCollections[i]);
                var tempLi = [].slice.call(this.liCollections);
                tempLi.splice(index, 0, liCollections[i]), this.liCollections = tempLi, index += 1;
            }
            (selectedItemValue || 0 === itemIndex) && this.updateSelection();
        }, DropDownBase.prototype.validationAttribute = function(target, hidden) {
            var name = target.getAttribute("name") ? target.getAttribute("name") : target.getAttribute("id");
            hidden.setAttribute("name", name), target.removeAttribute("name");
            for (var attributes$$1 = [ "required", "aria-required", "form" ], i = 0; i < attributes$$1.length; i++) if (target.getAttribute(attributes$$1[i])) {
                var attr = target.getAttribute(attributes$$1[i]);
                hidden.setAttribute(attributes$$1[i], attr), target.removeAttribute(attributes$$1[i]);
            }
        }, DropDownBase.prototype.setZIndex = function() {}, DropDownBase.prototype.updateActionCompleteData = function(li, item) {}, 
        DropDownBase.prototype.getDataByValue = function(value) {
            var type = this.typeOfData(this.listData).typeof;
            if ("string" === type || "number" === type) for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {
                if (!isNullOrUndefined(item = _a[_i]) && item === value) return item;
            } else for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {
                var item;
                if (!isNullOrUndefined(item = _c[_b]) && getValue(this.fields.value ? this.fields.value : "value", item) === value) return item;
            }
            return null;
        }, DropDownBase.prototype.destroy = function() {
            document.body.contains(this.list) && (EventHandler.remove(this.list, "scroll", this.setFloatingHeader), 
            isNullOrUndefined(this.rippleFun) || this.rippleFun(), detach(this.list)), _super.prototype.destroy.call(this);
        }, __decorate$20([ Complex({
            text: null,
            value: null,
            iconCss: null,
            groupBy: null
        }, FieldSettings$2) ], DropDownBase.prototype, "fields", void 0), __decorate$20([ Property(!1) ], DropDownBase.prototype, "enableRtl", void 0), 
        __decorate$20([ Property(!1) ], DropDownBase.prototype, "enablePersistence", void 0), 
        __decorate$20([ Property(null) ], DropDownBase.prototype, "itemTemplate", void 0), 
        __decorate$20([ Property(null) ], DropDownBase.prototype, "groupTemplate", void 0), 
        __decorate$20([ Property("No Records Found") ], DropDownBase.prototype, "noRecordsTemplate", void 0), 
        __decorate$20([ Property("The Request Failed") ], DropDownBase.prototype, "actionFailureTemplate", void 0), 
        __decorate$20([ Property("None") ], DropDownBase.prototype, "sortOrder", void 0), 
        __decorate$20([ Property(!0) ], DropDownBase.prototype, "enabled", void 0), __decorate$20([ Property([]) ], DropDownBase.prototype, "dataSource", void 0), 
        __decorate$20([ Property(null) ], DropDownBase.prototype, "query", void 0), __decorate$20([ Property(1e3) ], DropDownBase.prototype, "zIndex", void 0), 
        __decorate$20([ Property(!1) ], DropDownBase.prototype, "ignoreAccent", void 0), 
        __decorate$20([ Event() ], DropDownBase.prototype, "actionBegin", void 0), __decorate$20([ Event() ], DropDownBase.prototype, "actionComplete", void 0), 
        __decorate$20([ Event() ], DropDownBase.prototype, "actionFailure", void 0), __decorate$20([ Event() ], DropDownBase.prototype, "select", void 0), 
        __decorate$20([ Event() ], DropDownBase.prototype, "dataBound", void 0), __decorate$20([ Event() ], DropDownBase.prototype, "created", void 0), 
        __decorate$20([ Event() ], DropDownBase.prototype, "destroyed", void 0), DropDownBase = __decorate$20([ NotifyPropertyChanges ], DropDownBase);
    }(Component), __extends$43 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$19 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }, dropDownListClasses$1 = {
        root: "e-dropdownlist",
        hover: dropDownBaseClasses$1.hover,
        selected: dropDownBaseClasses$1.selected,
        rtl: dropDownBaseClasses$1.rtl,
        li: dropDownBaseClasses$1.li,
        disable: dropDownBaseClasses$1.disabled,
        base: dropDownBaseClasses$1.root,
        focus: dropDownBaseClasses$1.focus,
        input: "e-input-group",
        inputFocus: "e-input-focus",
        icon: "e-input-group-icon e-ddl-icon",
        iconAnimation: "e-icon-anim",
        value: "e-input-value",
        device: "e-ddl-device",
        backIcon: "e-input-group-icon e-back-icon e-icons",
        filterBarClearIcon: "e-input-group-icon e-clear-icon e-icons",
        filterInput: "e-input-filter",
        filterParent: "e-filter-parent",
        mobileFilter: "e-ddl-device-filter",
        footer: "e-ddl-footer",
        header: "e-ddl-header",
        clearIcon: "e-clear-icon",
        clearIconHide: "e-clear-icon-hide",
        popupFullScreen: "e-popup-full-page",
        disableIcon: "e-ddl-disable-icon",
        hiddenElement: "e-ddl-hidden"
    }, inputObject$1$1 = {
        container: null,
        buttons: []
    }, DropDownList$1 = function(_super) {
        function DropDownList(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$43(DropDownList, _super), DropDownList.prototype.preRender = function() {
            this.element.style.opacity = "0", this.initializeData(), _super.prototype.preRender.call(this), 
            this.activeIndex = this.index, this.queryString = "";
        }, DropDownList.prototype.initializeData = function() {
            this.isPopupOpen = !1, this.isDocumentClick = !1, this.isInteracted = !1, this.isFilterFocus = !1, 
            this.beforePopupOpen = !1, this.initial = !0, this.initRemoteRender = !1, this.isNotSearchList = !1, 
            this.isTyped = !1, this.isSelected = !1, this.preventFocus = !1, this.preventAutoFill = !1, 
            this.isValidKey = !1, this.typedString = "", this.isEscapeKey = !1, this.isPreventBlur = !1, 
            this.isTabKey = !1, this.actionCompleteData = {
                isUpdated: !1
            }, this.prevSelectPoints = {}, this.isSelectCustom = !1, this.isDropDownClick = !1, 
            this.preventAltUp = !1, this.isCustomFilter = !1, this.keyConfigure = {
                tab: "tab",
                enter: "13",
                escape: "27",
                end: "35",
                home: "36",
                down: "40",
                up: "38",
                pageUp: "33",
                pageDown: "34",
                open: "alt+40",
                close: "shift+tab",
                hide: "alt+38",
                space: "32"
            };
        }, DropDownList.prototype.setZIndex = function() {
            this.popupObj && this.popupObj.setProperties({
                zIndex: this.zIndex
            });
        }, DropDownList.prototype.renderList = function(isEmptyData) {
            _super.prototype.render.call(this, isEmptyData), this.wireListEvents();
        }, DropDownList.prototype.floatLabelChange = function() {
            if ("dropdownlist" === this.getModuleName() && "Auto" === this.floatLabelType) {
                var floatElement = this.inputWrapper.container.querySelector(".e-float-text");
                "" !== this.inputElement.value || this.isInteracted ? classList(floatElement, [ "e-label-top" ], [ "e-label-bottom" ]) : classList(floatElement, [ "e-label-bottom" ], [ "e-label-top" ]);
            }
        }, DropDownList.prototype.resetHandler = function(e) {
            e.preventDefault(), this.clear(e);
        }, DropDownList.prototype.resetFocusElement = function() {
            if (this.removeHover(), this.removeSelection(), this.removeFocus(), this.list.scrollTop = 0, 
            "autocomplete" !== this.getModuleName()) {
                var li = this.ulElement.querySelector("." + dropDownListClasses$1.li);
                li && li.classList.add(dropDownListClasses$1.focus);
            }
        }, DropDownList.prototype.clear = function(e, property) {
            this.resetSelection();
            var dataItem = this.getItemData();
            this.previousValue !== dataItem.value && !isNullOrUndefined(this.selectedLI) && !isNullOrUndefined(this.activeIndex) && this.activeIndex >= 0 && this.onChangeEvent(e);
        }, DropDownList.prototype.resetSelection = function() {
            this.list && (this.allowFiltering && "autocomplete" !== this.getModuleName() && this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0), this.actionCompleteData.list), 
            this.resetFocusElement()), this.hiddenElement.innerHTML = "", this.inputElement.value = "", 
            this.value = null, this.text = null, this.index = null, this.activeIndex = null, 
            this.item = null, this.itemData = null, this.queryString = "", this.valueTempElement && (detach(this.valueTempElement), 
            this.inputElement.style.display = "block", this.valueTempElement = null), this.setSelection(null, null), 
            this.isSelectCustom = !1, this.updateIconState();
        }, DropDownList.prototype.setHTMLAttributes = function() {
            if (Object.keys(this.htmlAttributes).length) for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {
                var htmlAttr = _a[_i];
                if ("class" === htmlAttr) this.inputWrapper.container.classList.add(this.htmlAttributes[htmlAttr]); else if ("disabled" === htmlAttr && "disabled" === this.htmlAttributes[htmlAttr]) this.enabled = !1, 
                this.setEnable(); else if ("readonly" === htmlAttr && "readonly" === this.htmlAttributes[htmlAttr]) this.readonly = !0, 
                this.dataBind(); else if ("style" === htmlAttr) this.inputWrapper.container.setAttribute("style", this.htmlAttributes[htmlAttr]); else {
                    [ "name", "required" ].indexOf(htmlAttr) > -1 ? this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]) : [ "title", "id", "placeholder" ].indexOf(htmlAttr) > -1 ? "placeholder" === htmlAttr ? Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputElement) : this.element.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]) : this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);
                }
            }
        }, DropDownList.prototype.getAriaAttributes = function() {
            return {
                "aria-disabled": "false",
                "aria-owns": this.element.id + "_options",
                role: "listbox",
                "aria-haspopup": "true",
                "aria-expanded": "false",
                "aria-activedescendant": "null",
                "aria-labelledby": this.hiddenElement.id
            };
        }, DropDownList.prototype.setEnableRtl = function() {
            Input.setEnableRtl(this.enableRtl, [ this.inputElement.parentElement ]), this.popupObj && (this.popupObj.enableRtl = this.enableRtl, 
            this.popupObj.dataBind());
        }, DropDownList.prototype.setEnable = function() {
            Input.setEnabled(this.enabled, this.inputElement), this.enabled ? (removeClass([ this.inputWrapper.container ], dropDownListClasses$1.disable), 
            this.inputElement.setAttribute("aria-disabled", "false"), this.targetElement().setAttribute("tabindex", this.tabIndex)) : (this.hidePopup(), 
            addClass([ this.inputWrapper.container ], dropDownListClasses$1.disable), this.inputElement.setAttribute("aria-disabled", "true"), 
            this.targetElement().tabIndex = -1);
        }, DropDownList.prototype.getPersistData = function() {
            return this.addOnPersist([ "value" ]);
        }, DropDownList.prototype.preventTabIndex = function(element) {
            "dropdownlist" === this.getModuleName() && (element.tabIndex = -1);
        }, DropDownList.prototype.targetElement = function() {
            return this.inputWrapper.container;
        }, DropDownList.prototype.getNgDirective = function() {
            return "EJS-DROPDOWNLIST";
        }, DropDownList.prototype.getElementByText = function(text) {
            return this.getElementByValue(this.getValueByText(text));
        }, DropDownList.prototype.getElementByValue = function(value) {
            for (var item, _i = 0, listItems_1 = this.getItems(); _i < listItems_1.length; _i++) {
                var liItem = listItems_1[_i];
                if (this.getFormattedValue(liItem.getAttribute("data-value")) === value) {
                    item = liItem;
                    break;
                }
            }
            return item;
        }, DropDownList.prototype.initValue = function() {
            this.renderList(), this.dataSource instanceof DataManager ? this.initRemoteRender = !0 : this.updateValues();
        }, DropDownList.prototype.updateValues = function() {
            if (isNullOrUndefined(this.value)) if (this.text && isNullOrUndefined(this.value)) {
                var element = this.getElementByText(this.text);
                if (isNullOrUndefined(element)) return void this.setProperties({
                    text: null
                });
                this.setSelection(element, null);
            } else this.setSelection(this.liCollections[this.activeIndex], null); else this.setSelection(this.getElementByValue(this.value), null);
            this.setHiddenValue(), Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);
        }, DropDownList.prototype.onBlur = function(e) {
            var target = e.relatedTarget, currentTarget = e.target, isPreventBlur = this.isPreventBlur;
            this.isPreventBlur = !1, !isPreventBlur || this.isDocumentClick || !this.isPopupOpen || isNullOrUndefined(currentTarget) && (this.isFilterLayout() || !isNullOrUndefined(target)) ? this.isDocumentClick || !isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) && this.popupObj.element.classList.contains(dropDownListClasses$1.mobileFilter) ? this.beforePopupOpen || (this.isDocumentClick = !1) : ("dropdownlist" === this.getModuleName() && !this.isFilterFocus && target !== this.inputElement && (document.activeElement !== target || document.activeElement === target && currentTarget.classList.contains(dropDownListClasses$1.inputFocus)) || isNullOrUndefined(target) && "dropdownlist" === this.getModuleName() && this.allowFiltering && currentTarget !== this.inputWrapper.container || "dropdownlist" !== this.getModuleName() && !this.inputWrapper.container.contains(target) || this.isTabKey) && (this.isDocumentClick = !!this.isPopupOpen, 
            this.focusOutAction(), this.isTabKey = !1) : "dropdownlist" === this.getModuleName() && this.allowFiltering && this.isPopupOpen ? this.filterInput.focus() : this.targetElement().focus();
        }, DropDownList.prototype.focusOutAction = function() {
            this.isInteracted = !1, this.focusOut(), this.onFocusOut();
        }, DropDownList.prototype.onFocusOut = function() {
            this.isSelected && (this.isSelectCustom = !1, this.onChangeEvent(null)), this.floatLabelChange(), 
            this.dispatchEvent(this.hiddenElement, "change"), this.inputWrapper.clearButton && addClass([ this.inputWrapper.clearButton ], dropDownListClasses$1.clearIconHide), 
            this.trigger("blur");
        }, DropDownList.prototype.onFocus = function() {
            this.isInteracted || (this.isInteracted = !0, this.trigger("focus")), this.updateIconState();
        }, DropDownList.prototype.wireEvent = function() {
            EventHandler.add(this.inputWrapper.container, "mousedown", this.dropDownClick, this), 
            EventHandler.add(this.inputWrapper.container, "focus", this.focusIn, this), EventHandler.add(this.inputWrapper.container, "keypress", this.onSearch, this), 
            this.bindCommonEvent();
        }, DropDownList.prototype.bindCommonEvent = function() {
            EventHandler.add(this.targetElement(), "blur", this.onBlur, this), Browser.isDevice || (this.keyboardModule = new KeyboardEvents(this.targetElement(), {
                keyAction: this.keyActionHandler.bind(this),
                keyConfigs: this.keyConfigure,
                eventName: "keydown"
            })), this.bindClearEvent();
        }, DropDownList.prototype.bindClearEvent = function() {
            this.showClearButton && EventHandler.add(this.inputWrapper.clearButton, "mousedown", this.resetHandler, this);
        }, DropDownList.prototype.unBindCommonEvent = function() {
            EventHandler.remove(this.targetElement(), "blur", this.onBlur), Browser.isDevice || this.keyboardModule.destroy(), 
            this.showClearButton && EventHandler.remove(this.inputWrapper.clearButton, "mousedown", this.resetHandler);
        }, DropDownList.prototype.updateIconState = function() {
            this.showClearButton && ("" !== this.inputElement.value ? removeClass([ this.inputWrapper.clearButton ], dropDownListClasses$1.clearIconHide) : addClass([ this.inputWrapper.clearButton ], dropDownListClasses$1.clearIconHide));
        }, DropDownList.prototype.wireListEvents = function() {
            EventHandler.add(this.list, "click", this.onMouseClick, this), EventHandler.add(this.list, "mouseover", this.onMouseOver, this), 
            EventHandler.add(this.list, "mouseout", this.onMouseLeave, this);
        }, DropDownList.prototype.onSearch = function(e) {
            32 !== e.charCode && 13 !== e.charCode && (void 0 === this.list && this.renderList(), 
            this.searchKeyEvent = e, this.isRequested || isNullOrUndefined(this.list.querySelector("li")) || this.incrementalSearch(e));
        }, DropDownList.prototype.onMouseClick = function(e) {
            var target = e.target, li = (target.classList, closest(target, "." + dropDownBaseClasses$1.li));
            if (this.isValidLI(li)) if (this.setSelection(li, e), Browser.isDevice && this.isFilterLayout()) history.back(); else {
                this.closePopup(100);
            }
        }, DropDownList.prototype.onMouseOver = function(e) {
            var currentLi = closest(e.target, "." + dropDownBaseClasses$1.li);
            this.setHover(currentLi);
        }, DropDownList.prototype.setHover = function(li) {
            this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses$1.hover) && (this.removeHover(), 
            addClass([ li ], dropDownBaseClasses$1.hover));
        }, DropDownList.prototype.onMouseLeave = function(e) {
            this.removeHover();
        }, DropDownList.prototype.removeHover = function() {
            var hoveredItem = this.list.querySelectorAll("." + dropDownBaseClasses$1.hover);
            hoveredItem && hoveredItem.length && removeClass(hoveredItem, dropDownBaseClasses$1.hover);
        }, DropDownList.prototype.isValidLI = function(li) {
            return li && li.hasAttribute("role") && "option" === li.getAttribute("role");
        }, DropDownList.prototype.incrementalSearch = function(e) {
            if (this.liCollections.length > 0) {
                var li = function(keyCode, items, selectedIndex, ignoreCase) {
                    queryString$1 += String.fromCharCode(keyCode), setTimeout(function() {
                        queryString$1 = "";
                    }, 1e3);
                    var index;
                    if (queryString$1 = ignoreCase ? queryString$1.toLowerCase() : queryString$1, prevString$1 === queryString$1) {
                        for (var i = 0; i < matches$2.length; i++) if (matches$2[i].classList.contains(activeClass$1)) {
                            index = i;
                            break;
                        }
                        return index += 1, matches$2[index];
                    }
                    var listItems = items, strLength = queryString$1.length, item = void 0;
                    i = selectedIndex = selectedIndex ? selectedIndex + 1 : 0, matches$2 = [];
                    do {
                        i === listItems.length && (i = -1), item = listItems[index = -1 === i ? 0 : i], 
                        (ignoreCase ? item.innerText.toLowerCase() : item.innerText).substr(0, strLength) === queryString$1 && matches$2.push(listItems[index]), 
                        i++;
                    } while (i !== selectedIndex);
                    return prevString$1 = queryString$1, matches$2[0];
                }(e.charCode, this.liCollections, this.activeIndex, !0);
                isNullOrUndefined(li) || (this.setSelection(li, e), this.setScrollPosition());
            }
        }, DropDownList.prototype.hideSpinner = function() {
            isNullOrUndefined(this.spinnerElement) || (hideSpinner(this.spinnerElement), removeClass([ this.spinnerElement ], dropDownListClasses$1.disableIcon), 
            this.spinnerElement.innerHTML = "", this.spinnerElement = null);
        }, DropDownList.prototype.showSpinner = function() {
            isNullOrUndefined(this.spinnerElement) && (this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] || !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0], 
            addClass([ this.spinnerElement ], dropDownListClasses$1.disableIcon), createSpinner({
                target: this.spinnerElement,
                width: Browser.isDevice ? "16px" : "14px"
            }), showSpinner(this.spinnerElement));
        }, DropDownList.prototype.keyActionHandler = function(e) {
            var preventAction = "pageUp" === e.action || "pageDown" === e.action, preventHomeEnd = "dropdownlist" !== this.getModuleName() && ("home" === e.action || "end" === e.action);
            this.isEscapeKey = "escape" === e.action, this.isTabKey = !this.isPopupOpen && "tab" === e.action;
            var isNavigation = "down" === e.action || "up" === e.action || "pageUp" === e.action || "pageDown" === e.action || "home" === e.action || "end" === e.action;
            if ((!(this.isEditTextBox() || preventAction || preventHomeEnd) || this.isPopupOpen) && !this.readonly) {
                var isTabAction = "tab" === e.action || "close" === e.action;
                if (void 0 !== this.list || this.isRequested || isTabAction || "escape" === e.action || (this.searchKeyEvent = e, 
                this.renderList()), isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && isNavigation && 0 === this.liCollections.length || this.isRequested) return;
                switch ((isTabAction && this.isPopupOpen || "escape" === e.action) && e.preventDefault(), 
                this.isSelected = "escape" !== e.action && this.isSelected, this.isTyped = !isNavigation && "escape" !== e.action && this.isTyped, 
                e.action) {
                  case "down":
                  case "up":
                    var focusEle = this.list.querySelector("." + dropDownListClasses$1.focus);
                    if (this.isSelectFocusItem(focusEle)) this.setSelection(focusEle, e); else {
                        var nextItem = void 0, index = "down" === e.action ? this.activeIndex + 1 : this.activeIndex - 1, startIndex = 0;
                        "autocomplete" === this.getModuleName() && (startIndex = "down" === e.action && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1, 
                        index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index), 
                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index], 
                        this.setSelection(nextItem, e);
                    }
                    e.preventDefault();
                    break;

                  case "pageUp":
                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e), e.preventDefault();
                    break;

                  case "pageDown":
                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e), e.preventDefault();
                    break;

                  case "home":
                    if ("dropdownlist" === this.getModuleName()) {
                        if (e.preventDefault(), 0 === this.activeIndex) return;
                        this.setSelection(this.liCollections[0], e);
                    }
                    break;

                  case "end":
                    if ("dropdownlist" === this.getModuleName()) {
                        e.preventDefault();
                        var lastLi = this.getItems().length - 1;
                        if (this.activeIndex === lastLi) return;
                        this.setSelection(this.liCollections[lastLi], e);
                    }
                    break;

                  case "space":
                    "dropdownlist" === this.getModuleName() && (this.beforePopupOpen || this.showPopup());
                    break;

                  case "open":
                    this.showPopup();
                    break;

                  case "hide":
                    this.preventAltUp = this.isPopupOpen, this.hidePopup(), this.focusDropDown(e);
                    break;

                  case "enter":
                    this.selectCurrentItem(e);
                    break;

                  case "escape":
                  case "tab":
                  case "close":
                    this.isPopupOpen && (this.hidePopup(), this.focusDropDown(e));
                }
            }
        }, DropDownList.prototype.selectCurrentItem = function(e) {
            if (this.isPopupOpen) {
                var li = this.list.querySelector("." + dropDownListClasses$1.focus);
                li && (this.setSelection(li, e), this.isTyped = !1), this.isSelected && (this.isSelectCustom = !1, 
                this.onChangeEvent(e)), this.hidePopup(), this.focusDropDown(e);
            } else this.showPopup();
        }, DropDownList.prototype.isSelectFocusItem = function(element) {
            return !isNullOrUndefined(element);
        }, DropDownList.prototype.getPageCount = function() {
            var liHeight = this.list.classList.contains(dropDownBaseClasses$1.noData) ? null : getComputedStyle(this.getItems()[0], null).getPropertyValue("height");
            return Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));
        }, DropDownList.prototype.pageUpSelection = function(steps, event) {
            var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];
            this.setSelection(previousItem, event);
        }, DropDownList.prototype.pageDownSelection = function(steps, event) {
            var list = this.getItems(), previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];
            this.setSelection(previousItem, event);
        }, DropDownList.prototype.unWireEvent = function() {
            EventHandler.remove(this.inputWrapper.container, "mousedown", this.dropDownClick), 
            EventHandler.remove(this.inputWrapper.container, "keypress", this.onSearch), EventHandler.remove(this.inputWrapper.container, "focus", this.focusIn), 
            this.unBindCommonEvent();
        }, DropDownList.prototype.unWireListEvents = function() {
            EventHandler.remove(this.list, "click", this.onMouseClick), EventHandler.remove(this.list, "mouseover", this.onMouseOver), 
            EventHandler.remove(this.list, "mouseout", this.onMouseLeave);
        }, DropDownList.prototype.onDocumentClick = function(e) {
            var target = e.target;
            if (!isNullOrUndefined(this.popupObj) && closest(target, "#" + this.popupObj.element.id) || this.inputWrapper.container.contains(e.target)) target === this.inputElement || this.allowFiltering && target === this.filterInput || "combobox" === this.getModuleName() && !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0] || (this.isPreventBlur = (Browser.isIE || "edge" === Browser.info.name) && (document.activeElement === this.targetElement() || document.activeElement === this.filterInput), 
            e.preventDefault()); else if (this.inputWrapper.container.classList.contains(dropDownListClasses$1.inputFocus) || this.isPopupOpen) {
                this.isDocumentClick = !0;
                var isActive = this.isRequested;
                this.isInteracted = !1, this.hidePopup(), isActive || (this.onFocusOut(), this.inputWrapper.container.classList.remove(dropDownListClasses$1.inputFocus));
            }
        }, DropDownList.prototype.activeStateChange = function() {
            this.isDocumentClick && (this.hidePopup(), this.onFocusOut(), this.inputWrapper.container.classList.remove(dropDownListClasses$1.inputFocus));
        }, DropDownList.prototype.focusDropDown = function(e) {
            !this.initial && this.isFilterLayout() && this.focusIn();
        }, DropDownList.prototype.dropDownClick = function(e) {
            if (3 !== e.which && 2 !== e.button && !this.targetElement().classList.contains(dropDownListClasses$1.disable) && this.inputWrapper.clearButton !== e.target) {
                var target = e.target;
                target === this.inputElement || this.allowFiltering && target === this.filterInput || "combobox" === this.getModuleName() || e.preventDefault(), 
                this.readonly || (this.isPopupOpen ? (this.hidePopup(), this.isFilterLayout() && this.focusDropDown(e)) : (this.focusIn(), 
                this.floatLabelChange(), this.queryString = "" === this.inputElement.value.trim() ? null : this.inputElement.value, 
                this.isDropDownClick = !0, this.showPopup()));
            }
        }, DropDownList.prototype.updateSelectedItem = function(li, e, preventSelect) {
            this.removeSelection(), li.classList.add(dropDownBaseClasses$1.selected), this.removeHover();
            var value = this.getFormattedValue(li.getAttribute("data-value"));
            if (this.item = li, this.itemData = this.getDataByValue(value), !this.initial && !preventSelect) {
                this.isSelected = !0;
                var eventArgs = {
                    e: e,
                    item: this.item,
                    itemData: this.itemData,
                    isInteracted: !!e,
                    cancel: !1
                };
                if (this.trigger("select", eventArgs), eventArgs.cancel) return !0;
            }
            var focusedItem = this.list.querySelector("." + dropDownBaseClasses$1.focus);
            return focusedItem && removeClass([ focusedItem ], dropDownBaseClasses$1.focus), 
            li.setAttribute("aria-selected", "true"), this.activeIndex = this.getIndexByValue(value), 
            !1;
        }, DropDownList.prototype.activeItem = function(li) {
            this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses$1.selected) && (this.removeSelection(), 
            li.classList.add(dropDownBaseClasses$1.selected), this.removeHover(), li.setAttribute("aria-selected", "true"));
        }, DropDownList.prototype.setValue = function(e) {
            var dataItem = this.getItemData();
            return null === dataItem.value ? Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton) : Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.previousValue === dataItem.value ? (this.isSelected = !1, !0) : (this.isSelected = !this.initial, 
            this.isSelectCustom = !1, "dropdownlist" === this.getModuleName() && this.updateIconState(), 
            !1);
        }, DropDownList.prototype.setSelection = function(li, e) {
            if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses$1.selected)) {
                if (this.updateSelectedItem(li, e, !1)) return;
            }
            this.list && this.removeHover(), this.selectedLI = li, this.setValue(e) || (this.valueTemplate && null !== this.itemData ? this.setValueTemplate() : this.inputElement.previousSibling === this.valueTempElement && (detach(this.valueTempElement), 
            this.inputElement.style.display = "block"), this.isPopupOpen && (attributes(this.targetElement(), {
                "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null
            }), this.isFilterLayout() && attributes(this.filterInput, {
                "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null
            })), (!this.isPopupOpen && !isNullOrUndefined(li) || this.isPopupOpen && !isNullOrUndefined(e) && ("keydown" !== e.type || "keydown" === e.type && "enter" === e.action)) && (this.isSelectCustom = !1, 
            this.onChangeEvent(e)), !this.isPopupOpen || isNullOrUndefined(this.selectedLI) || null === this.itemData || e && "click" === e.type || this.setScrollPosition(e));
        }, DropDownList.prototype.setValueTemplate = function() {
            this.valueTempElement || (this.valueTempElement = createElement("span", {
                className: dropDownListClasses$1.value
            }), this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement), 
            this.inputElement.style.display = "none"), this.valueTempElement.innerHTML = "";
            for (var _i = 0, _a = compile$$1(this.valueTemplate)(this.itemData); _i < _a.length; _i++) {
                var item = _a[_i];
                this.valueTempElement.appendChild(item);
            }
        }, DropDownList.prototype.removeSelection = function() {
            var selectedItems = this.list.querySelectorAll("." + dropDownBaseClasses$1.selected);
            selectedItems.length && (removeClass(selectedItems, dropDownBaseClasses$1.selected), 
            selectedItems[0].removeAttribute("aria-selected"));
        }, DropDownList.prototype.getItemData = function() {
            var dataValue, dataText, fields = this.fields, dataItem = {};
            isNullOrUndefined(dataItem = this.itemData) || (dataValue = getValue(fields.value, dataItem), 
            dataText = getValue(fields.text, dataItem));
            return {
                value: isNullOrUndefined(dataItem) || isUndefined(dataValue) ? dataItem : dataValue,
                text: isNullOrUndefined(dataItem) || isUndefined(dataValue) ? dataItem : dataText
            };
        }, DropDownList.prototype.onChangeEvent = function(eve) {
            var dataItem = this.getItemData(), index = this.isSelectCustom ? null : this.activeIndex;
            this.setProperties({
                value: dataItem.value,
                index: index,
                text: dataItem.text
            }, !0), this.detachChangeEvent(eve);
        }, DropDownList.prototype.detachChangeEvent = function(eve) {
            if (this.isSelected = !1, this.previousValue = this.value, this.activeIndex = this.index, 
            this.typedString = isNullOrUndefined(this.text) ? "" : this.text, !this.initial) {
                this.setHiddenValue();
                var eventArgs = {
                    e: eve,
                    item: this.item,
                    itemData: this.itemData,
                    isInteracted: !!eve,
                    value: this.value
                };
                this.trigger("change", eventArgs);
            }
        }, DropDownList.prototype.setHiddenValue = function() {
            isNullOrUndefined(this.value) ? this.hiddenElement.innerHTML = "" : this.hiddenElement.innerHTML = "<option selected value =" + this.value + ">" + this.text + "</option>";
        }, DropDownList.prototype.onFilterUp = function(e) {
            if (this.isValidKey = 40 === e.keyCode || 38 === e.keyCode || this.isValidKey, this.isValidKey) switch (this.isValidKey = !1, 
            e.keyCode) {
              case 38:
              case 40:
                "autocomplete" !== this.getModuleName() || this.isPopupOpen || this.preventAltUp || this.isRequested ? this.preventAutoFill = !1 : (this.preventAutoFill = !0, 
                this.searchLists(e)), this.preventAltUp = !1, e.preventDefault();
                break;

              case 46:
              case 8:
                this.typedString = this.filterInput.value, !this.isPopupOpen && "" !== this.typedString || this.isPopupOpen && this.queryString.length > 0 ? (this.preventAutoFill = !0, 
                this.searchLists(e)) : "" === this.typedString && (this.resetFocusElement(), this.activeIndex = null, 
                "autocomplete" === this.getModuleName() && this.hidePopup()), e.preventDefault();
                break;

              default:
                this.typedString = this.filterInput.value, this.preventAutoFill = !1, this.searchLists(e);
            }
        }, DropDownList.prototype.onFilterDown = function(e) {
            switch (e.keyCode) {
              case 13:
                break;

              case 40:
              case 38:
                this.queryString = this.filterInput.value, e.preventDefault();
                break;

              case 9:
                this.isPopupOpen && e.preventDefault();
                break;

              default:
                this.prevSelectPoints = this.getSelectionPoints(), this.queryString = this.filterInput.value;
            }
        }, DropDownList.prototype.removeFillSelection = function() {
            if (this.isInteracted) {
                var selection = this.getSelectionPoints();
                this.inputElement.setSelectionRange(selection.end, selection.end);
            }
        }, DropDownList.prototype.getSelectionPoints = function() {
            var input = this.inputElement;
            return {
                start: Math.abs(input.selectionStart),
                end: Math.abs(input.selectionEnd)
            };
        }, DropDownList.prototype.searchLists = function(e) {
            var _this = this;
            if (this.isTyped = !0, this.activeIndex = null, this.filterInput.parentElement.querySelector("." + dropDownListClasses$1.clearIcon)) {
                this.filterInput.parentElement.querySelector("." + dropDownListClasses$1.clearIcon).style.visibility = "" === this.filterInput.value ? "hidden" : "visible";
            }
            if (this.isFiltering()) {
                var eventArgs_1 = {
                    preventDefaultAction: !1,
                    text: this.filterInput.value,
                    updateData: function(dataSource, query, fields) {
                        eventArgs_1.cancel || (_this.isCustomFilter = !0, _this.filteringAction(dataSource, query, fields));
                    },
                    baseEventArgs: e,
                    cancel: !1
                };
                if (this.trigger("filtering", eventArgs_1), eventArgs_1.cancel) return;
                if (!this.isCustomFilter && !eventArgs_1.preventDefaultAction) {
                    var filterQuery = this.query ? this.query.clone() : new Query(), dataType = this.typeOfData(this.dataSource).typeof;
                    if ((this.dataSource instanceof DataManager || "string" !== dataType) && "number" !== dataType) {
                        var fields = this.fields;
                        filterQuery.where(isNullOrUndefined(fields.text) ? "" : fields.text, "startswith", this.filterInput.value, !0, this.ignoreAccent);
                    } else filterQuery.where("", "startswith", this.filterInput.value, !0, this.ignoreAccent);
                    this.filteringAction(this.dataSource, filterQuery, this.fields);
                }
            }
        }, DropDownList.prototype.filteringAction = function(dataSource, query, fields) {
            isNullOrUndefined(this.filterInput) || (this.beforePopupOpen = !0, "" === this.filterInput.value.trim() ? (this.actionCompleteData.isUpdated = !1, 
            this.isTyped = !1, this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list), 
            this.isTyped = !0, isNullOrUndefined(this.itemData) || "dropdownlist" !== this.getModuleName() || (this.focusIndexItem(), 
            this.setScrollPosition()), this.isNotSearchList = !0) : (this.isNotSearchList = !1, 
            this.resetList(dataSource, fields, query)));
        }, DropDownList.prototype.setSearchBox = function(popupElement) {
            if (this.isFiltering()) {
                var parentElement = createElement("span", {
                    className: dropDownListClasses$1.filterParent
                });
                this.filterInput = createElement("input", {
                    attrs: {
                        type: "text"
                    },
                    className: dropDownListClasses$1.filterInput
                }), this.element.parentNode.insertBefore(this.filterInput, this.element);
                var backIcon = !1;
                return Browser.isDevice && (backIcon = !0), this.filterInputObj = Input.createInput({
                    element: this.filterInput,
                    buttons: backIcon ? [ dropDownListClasses$1.backIcon, dropDownListClasses$1.filterBarClearIcon ] : [ dropDownListClasses$1.filterBarClearIcon ],
                    properties: {
                        placeholder: this.filterBarPlaceholder
                    }
                }), append([ this.filterInputObj.container ], parentElement), prepend([ parentElement ], popupElement), 
                attributes(this.filterInput, {
                    "aria-disabled": "false",
                    "aria-owns": this.element.id + "_options",
                    role: "listbox",
                    "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null,
                    autocomplete: "off",
                    autocorrect: "off",
                    autocapitalize: "off",
                    spellcheck: "false"
                }), this.clearIconElement = this.filterInput.parentElement.querySelector("." + dropDownListClasses$1.clearIcon), 
                !Browser.isDevice && this.clearIconElement && (EventHandler.add(this.clearIconElement, "click", this.clearText, this), 
                this.clearIconElement.style.visibility = "hidden"), Browser.isDevice || (this.searchKeyModule = new KeyboardEvents(this.filterInput, {
                    keyAction: this.keyActionHandler.bind(this),
                    keyConfigs: this.keyConfigure,
                    eventName: "keydown"
                })), EventHandler.add(this.filterInput, "input", this.onInput, this), EventHandler.add(this.filterInput, "keyup", this.onFilterUp, this), 
                EventHandler.add(this.filterInput, "keydown", this.onFilterDown, this), EventHandler.add(this.filterInput, "blur", this.onBlur, this), 
                this.filterInputObj;
            }
            return inputObject$1$1;
        }, DropDownList.prototype.onInput = function() {
            this.isValidKey = !0;
        }, DropDownList.prototype.onActionFailure = function(e) {
            _super.prototype.onActionFailure.call(this, e), this.beforePopupOpen && this.renderPopup();
        }, DropDownList.prototype.onActionComplete = function(ulElement, list, e, isUpdated) {
            if (this.isNotSearchList) this.isNotSearchList = !1; else if (this.isActive) {
                var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(!0) : null;
                _super.prototype.onActionComplete.call(this, ulElement, list, e), this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && "keydown" === this.searchKeyEvent.type && (this.isRequested = !1, 
                this.keyActionHandler(this.searchKeyEvent), this.searchKeyEvent = null), this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && (this.incrementalSearch(this.searchKeyEvent), 
                this.searchKeyEvent = null), this.list.scrollTop = 0, isNullOrUndefined(ulElement) || attributes(ulElement, {
                    id: this.element.id + "_options",
                    role: "listbox",
                    "aria-hidden": "false"
                }), this.initRemoteRender && (this.initial = !0, this.activeIndex = this.index, 
                this.updateValues(), this.initRemoteRender = !1, this.initial = !1), "autocomplete" !== this.getModuleName() && this.isFiltering() && !this.isTyped && (this.actionCompleteData.isUpdated || (this.actionCompleteData = {
                    ulElement: ulElement.cloneNode(!0),
                    list: list,
                    isUpdated: !0
                }), this.addNewItem(list, selectedItem), isNullOrUndefined(this.itemData) || this.focusIndexItem()), 
                this.beforePopupOpen && this.renderPopup();
            }
        }, DropDownList.prototype.addNewItem = function(listData, newElement) {
            var _this = this;
            if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {
                var value_1 = this.getItemData().value;
                listData.some(function(data) {
                    return ("string" == typeof data || "number" == typeof data) && data === value_1 || getValue(_this.fields.value, data) === value_1;
                }) || this.addItem(this.itemData);
            }
        }, DropDownList.prototype.updateActionCompleteData = function(li, item) {
            "autocomplete" !== this.getModuleName() && this.actionCompleteData.ulElement && (this.actionCompleteData.ulElement.appendChild(li.cloneNode(!0)), 
            this.actionCompleteData.list.push(item));
        }, DropDownList.prototype.focusIndexItem = function() {
            var value = this.getItemData().value;
            this.activeIndex = this.getIndexByValue(value);
            var element = this.list.querySelector('[data-value="' + value + '"]');
            this.selectedLI = element, this.activeItem(element), this.removeFocus();
        }, DropDownList.prototype.updateSelection = function() {
            var selectedItem = this.list.querySelector("." + dropDownBaseClasses$1.selected);
            selectedItem ? (this.setProperties({
                index: this.getIndexByValue(selectedItem.getAttribute("data-value"))
            }), this.activeIndex = this.index) : (this.removeFocus(), this.list.querySelector("." + dropDownBaseClasses$1.li).classList.add(dropDownListClasses$1.focus));
        }, DropDownList.prototype.removeFocus = function() {
            var highlightedItem = this.list.querySelectorAll("." + dropDownListClasses$1.focus);
            highlightedItem && highlightedItem.length && removeClass(highlightedItem, dropDownListClasses$1.focus);
        }, DropDownList.prototype.renderPopup = function() {
            if (this.popupObj && document.body.contains(this.popupObj.element)) this.refreshPopup(); else {
                var popupEle = createElement("div", {
                    id: this.element.id + "_popup",
                    className: "e-ddl e-popup"
                }), searchBox = this.setSearchBox(popupEle);
                if (this.listHeight = formatUnit(this.popupHeight), this.headerTemplate && this.setHeaderTemplate(popupEle), 
                append([ this.list ], popupEle), this.footerTemplate && this.setFooterTemplate(popupEle), 
                document.body.appendChild(popupEle), popupEle.style.visibility = "hidden", "auto" !== this.popupHeight) {
                    if (this.searchBoxHeight = 0, isNullOrUndefined(searchBox.container) || (this.searchBoxHeight = searchBox.container.parentElement.getBoundingClientRect().height, 
                    this.listHeight = (parseInt(this.listHeight, 10) - this.searchBoxHeight).toString() + "px"), 
                    this.headerTemplate) {
                        var height = Math.round(this.header.getBoundingClientRect().height);
                        this.listHeight = (parseInt(this.listHeight, 10) - (height + this.searchBoxHeight)).toString() + "px";
                    }
                    if (this.footerTemplate) {
                        height = Math.round(this.footer.getBoundingClientRect().height);
                        this.listHeight = (parseInt(this.listHeight, 10) - (height + this.searchBoxHeight)).toString() + "px";
                    }
                    this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + "px", 
                    popupEle.style.maxHeight = formatUnit(this.popupHeight);
                } else popupEle.style.height = "auto";
                var left, offsetValue = 0;
                if (!isNullOrUndefined(this.selectedLI) && !isNullOrUndefined(this.activeIndex) && this.activeIndex >= 0 ? this.setScrollPosition() : this.list.scrollTop = 0, 
                Browser.isDevice && !this.allowFiltering && ("dropdownlist" === this.getModuleName() || this.isDropDownClick && "combobox" === this.getModuleName())) {
                    offsetValue = this.getOffsetValue(popupEle);
                    var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];
                    left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10));
                }
                this.getFocusElement(), this.createPopup(popupEle, offsetValue, left), this.checkCollision(popupEle), 
                Browser.isDevice && (this.popupObj.element.classList.add(dropDownListClasses$1.device), 
                ("dropdownlist" === this.getModuleName() || "combobox" === this.getModuleName() && !this.allowFiltering && this.isDropDownClick) && (this.popupObj.collision = {
                    X: "fit",
                    Y: "fit"
                }), this.isFilterLayout() && (this.popupObj.element.classList.add(dropDownListClasses$1.mobileFilter), 
                this.popupObj.position = {
                    X: 0,
                    Y: 0
                }, this.popupObj.dataBind(), attributes(this.popupObj.element, {
                    style: "left:0px;right:0px;top:0px;bottom:0px;"
                }), addClass([ document.body, this.popupObj.element ], dropDownListClasses$1.popupFullScreen), 
                this.setSearchBoxPosition(), this.backIconElement = searchBox.container.querySelector(".e-back-icon"), 
                this.clearIconElement = searchBox.container.querySelector("." + dropDownListClasses$1.clearIcon), 
                EventHandler.add(this.backIconElement, "click", this.clickOnBackIcon, this), EventHandler.add(this.clearIconElement, "click", this.clearText, this))), 
                popupEle.style.visibility = "visible", addClass([ popupEle ], "e-popup-close");
                for (var _i = 0, scrollParentElements_1 = this.popupObj.getScrollableParent(this.inputWrapper.container); _i < scrollParentElements_1.length; _i++) {
                    var element = scrollParentElements_1[_i];
                    EventHandler.add(element, "scroll", this.scrollHandler, this);
                }
                Browser.isDevice && this.isFilterLayout() && EventHandler.add(this.list, "scroll", this.listScroll, this), 
                attributes(this.targetElement(), {
                    "aria-expanded": "true"
                });
                addClass([ this.isFiltering() ? this.filterInput.parentElement : this.inputWrapper.container ], [ dropDownListClasses$1.inputFocus ]);
                this.beforePopupOpen = !0;
                var eventArgs = {
                    popup: this.popupObj,
                    cancel: !1
                };
                this.trigger("open", eventArgs), eventArgs.cancel || (addClass([ this.inputWrapper.container ], [ dropDownListClasses$1.iconAnimation ]), 
                this.popupObj.show(new Animation({
                    name: "FadeIn",
                    duration: 100
                })));
            }
        }, DropDownList.prototype.checkCollision = function(popupEle) {
            if (!Browser.isDevice || Browser.isDevice && "dropdownlist" !== this.getModuleName() && !this.isDropDownClick) {
                isCollide(popupEle).length > 0 && (popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + "px");
            }
        }, DropDownList.prototype.getOffsetValue = function(popupEle) {
            var popupStyles = getComputedStyle(popupEle), borderTop = parseInt(popupStyles.borderTop, 10), borderBottom = parseInt(popupStyles.borderBottom, 10);
            return this.setPopupPosition(borderTop + borderBottom);
        }, DropDownList.prototype.createPopup = function(element, offsetValue, left) {
            var _this = this;
            this.popupObj = new Popup(element, {
                width: this.setWidth(),
                targetType: "relative",
                relateTo: this.inputWrapper.container,
                collision: {
                    X: "flip",
                    Y: "flip"
                },
                offsetY: offsetValue,
                enableRtl: this.enableRtl,
                offsetX: left,
                position: {
                    X: "left",
                    Y: "bottom"
                },
                zIndex: this.zIndex,
                close: function() {
                    _this.isDocumentClick || _this.focusDropDown(), _this.isDocumentClick = !1, _this.destroyPopup();
                },
                open: function() {
                    EventHandler.add(document, "mousedown", _this.onDocumentClick, _this), _this.isPopupOpen = !0, 
                    _this.isFilterLayout() && (removeClass([ _this.inputWrapper.container ], [ dropDownListClasses$1.inputFocus ]), 
                    _this.isFilterFocus = !0, _this.filterInput.focus(), _this.inputWrapper.clearButton && addClass([ _this.inputWrapper.clearButton ], dropDownListClasses$1.clearIconHide)), 
                    _this.activeStateChange();
                }
            });
        }, DropDownList.prototype.isEmptyList = function() {
            return !isNullOrUndefined(this.liCollections) && 0 === this.liCollections.length;
        }, DropDownList.prototype.getFocusElement = function() {}, DropDownList.prototype.isFilterLayout = function() {
            return "dropdownlist" === this.getModuleName() && this.allowFiltering;
        }, DropDownList.prototype.scrollHandler = function() {
            Browser.isDevice && ("dropdownlist" === this.getModuleName() && !this.isFilterLayout() || "combobox" === this.getModuleName() && !this.allowFiltering && this.isDropDownClick) && this.hidePopup(), 
            this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) && (this.fixedHeaderElement.style.zIndex = "0", 
            this.fixedHeaderElement.style.display = "none");
        }, DropDownList.prototype.setSearchBoxPosition = function() {
            var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;
            this.popupObj.element.style.maxHeight = "100%", this.popupObj.element.style.width = "100%", 
            this.list.style.maxHeight = window.innerHeight - searchBoxHeight + "px", this.list.style.height = window.innerHeight - searchBoxHeight + "px";
            var clearElement = this.filterInput.parentElement.querySelector("." + dropDownListClasses$1.clearIcon);
            detach(this.filterInput), clearElement.parentElement.insertBefore(this.filterInput, clearElement);
        }, DropDownList.prototype.setPopupPosition = function(border) {
            var offsetValue, popupOffset = border, selectedLI = this.list.querySelector("." + dropDownListClasses$1.focus) || this.selectedLI, firstItem = this.isEmptyList() ? this.list : this.liCollections[0], lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1], liHeight = firstItem.getBoundingClientRect().height, listHeight = this.list.offsetHeight / 2, height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;
            if (lastItem.offsetTop - listHeight < height && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {
                var count = this.list.offsetHeight / liHeight, paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);
                offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom, 
                this.list.scrollTop = selectedLI.offsetTop;
            } else height > listHeight ? (offsetValue = listHeight - liHeight / 2, this.list.scrollTop = height - listHeight + liHeight / 2) : offsetValue = height;
            return -(offsetValue = offsetValue + liHeight + popupOffset - (liHeight - this.inputWrapper.container.offsetHeight) / 2);
        }, DropDownList.prototype.setWidth = function() {
            var width = formatUnit(this.popupWidth);
            if (width.indexOf("%") > -1) {
                width = (this.inputWrapper.container.offsetWidth * parseFloat(width) / 100).toString() + "px";
            }
            if (Browser.isDevice && !this.allowFiltering && ("dropdownlist" === this.getModuleName() || this.isDropDownClick && "combobox" === this.getModuleName())) {
                var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];
                width = parseInt(width, 10) + 2 * (parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) + "px";
            }
            return width;
        }, DropDownList.prototype.scrollBottom = function(isInitial) {
            var currentOffset = this.list.offsetHeight, nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop, nextOffset = this.list.scrollTop + nextBottom - currentOffset;
            nextOffset = isInitial ? nextOffset + 2 * parseInt(getComputedStyle(this.list).paddingTop, 10) : nextOffset;
            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;
            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? boxRange - this.fixedHeaderElement.offsetHeight : boxRange, 
            0 === this.activeIndex ? this.list.scrollTop = 0 : (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) && (this.list.scrollTop = nextOffset);
        }, DropDownList.prototype.scrollTop = function() {
            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;
            this.selectedLI.offsetTop, this.selectedLI.offsetHeight, this.list.scrollTop;
            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;
            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;
            0 === this.activeIndex ? this.list.scrollTop = 0 : nextOffset < 0 ? this.list.scrollTop = this.list.scrollTop + nextOffset : boxRange > 0 && this.list.offsetHeight > boxRange || (this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement.offsetHeight : 0));
        }, DropDownList.prototype.isEditTextBox = function() {
            return !1;
        }, DropDownList.prototype.isFiltering = function() {
            return this.allowFiltering;
        }, DropDownList.prototype.isPopupButton = function() {
            return !0;
        }, DropDownList.prototype.setScrollPosition = function(e) {
            if (isNullOrUndefined(e)) this.scrollBottom(!0); else switch (e.action) {
              case "pageDown":
              case "down":
              case "end":
                this.scrollBottom();
                break;

              default:
                this.scrollTop();
            }
        }, DropDownList.prototype.clearText = function() {
            this.filterInput.value = "", this.searchLists(null);
        }, DropDownList.prototype.listScroll = function() {
            this.filterInput.blur();
        }, DropDownList.prototype.closePopup = function(delay) {
            if (this.isTyped = !1, this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen) {
                EventHandler.remove(document, "mousedown", this.onDocumentClick), this.isActive = !1, 
                this.filterInputObj = null, this.isDropDownClick = !1, this.preventAutoFill = !1;
                for (var _i = 0, scrollableParentElements_1 = this.popupObj.getScrollableParent(this.inputWrapper.container); _i < scrollableParentElements_1.length; _i++) {
                    var element = scrollableParentElements_1[_i];
                    EventHandler.remove(element, "scroll", this.scrollHandler);
                }
                Browser.isDevice && this.isFilterLayout() && (removeClass([ document.body, this.popupObj.element ], dropDownListClasses$1.popupFullScreen), 
                EventHandler.remove(this.list, "scroll", this.listScroll)), this.isFilterLayout() && (Browser.isDevice || (this.searchKeyModule.destroy(), 
                this.clearIconElement && EventHandler.remove(this.clearIconElement, "click", this.clearText)), 
                this.backIconElement && (EventHandler.remove(this.backIconElement, "click", this.clickOnBackIcon), 
                EventHandler.remove(this.clearIconElement, "click", this.clearText)), EventHandler.remove(this.filterInput, "input", this.onInput), 
                EventHandler.remove(this.filterInput, "keyup", this.onFilterUp), EventHandler.remove(this.filterInput, "keydown", this.onFilterDown), 
                EventHandler.remove(this.filterInput, "blur", this.onBlur), this.filterInput = null), 
                attributes(this.targetElement(), {
                    "aria-expanded": "false",
                    "aria-activedescendant": null
                }), this.inputWrapper.container.classList.remove(dropDownListClasses$1.iconAnimation), 
                this.isFiltering() && (this.actionCompleteData.isUpdated = !1), this.beforePopupOpen = !1;
                var eventArgs = {
                    popup: this.popupObj,
                    cancel: !1
                };
                if (this.trigger("close", eventArgs), !eventArgs.cancel) {
                    var animModel = {
                        name: "FadeOut",
                        duration: 100,
                        delay: delay || 0
                    };
                    "autocomplete" === this.getModuleName() && this.rippleFun(), this.isPopupOpen ? this.popupObj.hide(new Animation(animModel)) : this.destroyPopup();
                }
            }
        }, DropDownList.prototype.destroyPopup = function() {
            this.isPopupOpen = !1, this.isFilterFocus = !1, this.popupObj.destroy(), detach(this.popupObj.element);
        }, DropDownList.prototype.clickOnBackIcon = function() {
            this.hidePopup(), this.focusIn();
        }, DropDownList.prototype.render = function() {
            "INPUT" === this.element.tagName ? this.inputElement = this.element : (this.inputElement = createElement("input"), 
            this.element.tagName !== this.getNgDirective() && (this.element.style.display = "none"), 
            this.element.parentElement.insertBefore(this.inputElement, this.element), this.preventTabIndex(this.inputElement)), 
            this.inputWrapper = Input.createInput({
                element: this.inputElement,
                buttons: this.isPopupButton() ? [ dropDownListClasses$1.icon ] : null,
                floatLabelType: this.floatLabelType,
                properties: {
                    readonly: "dropdownlist" === this.getModuleName() || this.readonly,
                    placeholder: this.placeholder,
                    cssClass: this.cssClass,
                    enabled: this.enabled,
                    enableRtl: this.enableRtl,
                    showClearButton: this.showClearButton
                }
            }), this.element.tagName === this.getNgDirective() ? this.element.appendChild(this.inputWrapper.container) : this.inputElement.parentElement.insertBefore(this.element, this.inputElement);
            var name = this.element.getAttribute("name") ? this.element.getAttribute("name") : this.element.getAttribute("id");
            this.hiddenElement = createElement("select", {
                attrs: {
                    name: name,
                    "aria-hidden": "true",
                    tabindex: "-1",
                    class: dropDownListClasses$1.hiddenElement
                }
            }), prepend([ this.hiddenElement ], this.inputWrapper.container), this.element.removeAttribute("name"), 
            this.setFields(), this.inputWrapper.container.style.width = formatUnit(this.width), 
            this.inputWrapper.container.classList.add("e-ddl"), this.wireEvent(), this.tabIndex = this.element.hasAttribute("tabindex") ? this.element.getAttribute("tabindex") : "0", 
            this.element.removeAttribute("tabindex");
            var id = this.element.getAttribute("id") ? this.element.getAttribute("id") : getUniqueID("ej2_dropdownlist");
            if (this.element.id = id, this.hiddenElement.id = id + "_hidden", this.targetElement().setAttribute("tabindex", this.tabIndex), 
            attributes(this.targetElement(), this.getAriaAttributes()), this.setHTMLAttributes(), 
            null !== this.value || null !== this.activeIndex || null !== this.text) this.initValue(); else if ("SELECT" === this.element.tagName && this.element.options[0]) {
                var selectElement = this.element;
                this.value = selectElement.options[selectElement.selectedIndex].value, this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent, 
                this.initValue();
            }
            this.preventTabIndex(this.element), this.enabled || (this.targetElement().tabIndex = -1), 
            this.initial = !1, this.element.style.opacity = "";
        }, DropDownList.prototype.setFooterTemplate = function(popupEle) {
            this.footer ? this.footer.innerHTML = "" : (this.footer = document.createElement("div"), 
            addClass([ this.footer ], dropDownListClasses$1.footer));
            for (var _i = 0, _a = compile$$1(this.footerTemplate)({}); _i < _a.length; _i++) {
                var item = _a[_i];
                this.footer.appendChild(item);
            }
            append([ this.footer ], popupEle);
        }, DropDownList.prototype.setHeaderTemplate = function(popupEle) {
            this.header ? this.header.innerHTML = "" : (this.header = document.createElement("div"), 
            addClass([ this.header ], dropDownListClasses$1.header));
            for (var _i = 0, _a = compile$$1(this.headerTemplate)({}); _i < _a.length; _i++) {
                var item = _a[_i];
                this.header.appendChild(item);
            }
            var contentEle = popupEle.querySelector("div.e-content");
            popupEle.insertBefore(this.header, contentEle);
        }, DropDownList.prototype.setOldText = function(text) {
            this.text = text;
        }, DropDownList.prototype.setOldValue = function(value) {
            this.value = value;
        }, DropDownList.prototype.refreshPopup = function() {
            isNullOrUndefined(this.popupObj) || !document.body.contains(this.popupObj.element) || (!this.allowFiltering || Browser.isDevice && this.isFilterLayout()) && "autocomplete" !== this.getModuleName() || this.popupObj.refreshPosition(this.inputWrapper.container);
        }, DropDownList.prototype.updateDataSource = function(prop) {
            this.clear(null, prop), this.resetList(this.dataSource);
        }, DropDownList.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.setUpdateInitial([ "query", "dataSource" ], newProp);
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "query":
                  case "dataSource":
                    break;

                  case "htmlAttributes":
                    this.setHTMLAttributes();
                    break;

                  case "width":
                    setStyleAttribute(this.inputWrapper.container, {
                        width: formatUnit(newProp.width)
                    });
                    break;

                  case "placeholder":
                    Input.setPlaceholder(newProp.placeholder, this.inputElement);
                    break;

                  case "filterBarPlaceholder":
                    Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);
                    break;

                  case "readonly":
                    Input.setReadonly(newProp.readonly, this.inputElement);
                    break;

                  case "cssClass":
                    Input.setCssClass(newProp.cssClass, [ this.inputWrapper.container ]), this.popupObj && this.popupObj.element.classList.add(newProp.cssClass);
                    break;

                  case "enableRtl":
                    this.setEnableRtl();
                    break;

                  case "enabled":
                    this.setEnable();
                    break;

                  case "text":
                    if (null === newProp.text) return void this.clear();
                    if (this.list || (this.dataSource instanceof DataManager && (this.initRemoteRender = !0), 
                    this.renderList()), !this.initRemoteRender) {
                        var li = this.getElementByText(newProp.text);
                        this.isValidLI(li) ? this.setSelection(li, null) : this.setOldText(oldProp.text);
                    }
                    break;

                  case "value":
                    if (null === newProp.value) return void this.clear();
                    if (this.list || (this.dataSource instanceof DataManager && (this.initRemoteRender = !0), 
                    this.renderList()), !this.initRemoteRender) {
                        var item = this.getElementByValue(newProp.value);
                        this.isValidLI(item) ? this.setSelection(item, null) : this.setOldValue(oldProp.value);
                    }
                    break;

                  case "index":
                    if (null === newProp.index) return void this.clear();
                    if (this.list || (this.dataSource instanceof DataManager && (this.initRemoteRender = !0), 
                    this.renderList()), !this.initRemoteRender) {
                        var element = this.liCollections[newProp.index];
                        this.isValidLI(element) ? this.setSelection(element, null) : this.index = oldProp.index;
                    }
                    break;

                  case "footerTemplate":
                    this.popupObj && this.setFooterTemplate(this.popupObj.element);
                    break;

                  case "headerTemplate":
                    this.popupObj && this.setHeaderTemplate(this.popupObj.element);
                    break;

                  case "valueTemplate":
                    isNullOrUndefined(this.itemData) || null == this.valueTemplate || this.setValueTemplate();
                    break;

                  case "floatLabelType":
                    Input.removeFloating(this.inputWrapper), Input.addFloating(this.inputElement, newProp.floatLabelType, this.placeholder);
                    break;

                  default:
                    var ddlProps = void 0;
                    ddlProps = this.getPropObject(prop, newProp, oldProp), _super.prototype.onPropertyChanged.call(this, ddlProps.newProperty, ddlProps.oldProperty);
                }
            }
        }, DropDownList.prototype.getModuleName = function() {
            return "dropdownlist";
        }, DropDownList.prototype.showPopup = function() {
            if (this.beforePopupOpen) this.refreshPopup(); else {
                if (this.beforePopupOpen = !0, this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0] ? (this.isActive = !0, 
                this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, !0)) : (isNullOrUndefined(this.list) || !isUndefined(this.list) && this.list.classList.contains(dropDownBaseClasses$1.noData)) && this.renderList(), 
                Browser.isDevice && this.isFilterLayout()) {
                    var proxy_1 = this;
                    window.onpopstate = function() {
                        proxy_1.hidePopup();
                    }, history.pushState({}, "");
                }
                isNullOrUndefined(this.list.children[0]) && !this.list.classList.contains(dropDownBaseClasses$1.noData) || this.renderPopup(), 
                attributes(this.targetElement(), {
                    "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null
                });
            }
        }, DropDownList.prototype.hidePopup = function() {
            this.isEscapeKey && "dropdownlist" === this.getModuleName() && (Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.isEscapeKey = !1, isNullOrUndefined(this.index) ? this.resetSelection() : (this.selectedLI = this.liCollections[this.index], 
            this.updateSelectedItem(this.selectedLI, null, !0), this.valueTemplate && null !== this.itemData && this.setValueTemplate())), 
            this.closePopup();
            var dataItem = this.getItemData();
            "" !== this.inputElement.value.trim() || this.isInteracted || !this.isSelectCustom && (isNullOrUndefined(this.selectedLI) || this.inputElement.value === dataItem.text) || (this.isSelectCustom = !1, 
            this.clear());
        }, DropDownList.prototype.focusIn = function() {
            if (!this.targetElement().classList.contains(dropDownListClasses$1.disable)) {
                var isFocused = !1;
                this.preventFocus && Browser.isDevice && (this.inputWrapper.container.tabIndex = 1, 
                this.inputWrapper.container.focus(), this.preventFocus = !1, isFocused = !0), isFocused || this.targetElement().focus(), 
                addClass([ this.inputWrapper.container ], [ dropDownListClasses$1.inputFocus ]), 
                this.onFocus();
            }
        }, DropDownList.prototype.focusOut = function() {
            this.isTyped = !0, this.hidePopup(), this.targetElement().blur(), removeClass([ this.inputWrapper.container ], [ dropDownListClasses$1.inputFocus ]);
        }, DropDownList.prototype.destroy = function() {
            var _this = this;
            if (this.isActive = !1, this.hidePopup(), this.unWireEvent(), this.list && this.unWireListEvents(), 
            !this.element || this.element.classList.contains("e-" + this.getModuleName())) {
                [ "readonly", "aria-disabled", "aria-placeholder", "placeholder", "aria-owns", "aria-labelledby", "aria-haspopup", "aria-expanded", "aria-activedescendant", "autocomplete", "aria-readonly", "autocorrect", "autocapitalize", "spellcheck", "aria-autocomplete" ].forEach(function(value) {
                    _this.inputElement.removeAttribute(value);
                }), this.inputElement.setAttribute("tabindex", this.tabIndex), this.inputElement.classList.remove("e-input"), 
                Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton), 
                this.element.style.display = "block", this.inputWrapper.container.parentElement.tagName === this.getNgDirective() ? detach(this.inputWrapper.container) : (this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container), 
                detach(this.inputWrapper.container)), _super.prototype.destroy.call(this);
            }
        }, __decorate$19([ Property(null) ], DropDownList.prototype, "cssClass", void 0), 
        __decorate$19([ Property("100%") ], DropDownList.prototype, "width", void 0), __decorate$19([ Property("300px") ], DropDownList.prototype, "popupHeight", void 0), 
        __decorate$19([ Property("100%") ], DropDownList.prototype, "popupWidth", void 0), 
        __decorate$19([ Property(null) ], DropDownList.prototype, "placeholder", void 0), 
        __decorate$19([ Property(null) ], DropDownList.prototype, "filterBarPlaceholder", void 0), 
        __decorate$19([ Property({}) ], DropDownList.prototype, "htmlAttributes", void 0), 
        __decorate$19([ Property(null) ], DropDownList.prototype, "query", void 0), __decorate$19([ Property(null) ], DropDownList.prototype, "valueTemplate", void 0), 
        __decorate$19([ Property(null) ], DropDownList.prototype, "headerTemplate", void 0), 
        __decorate$19([ Property(null) ], DropDownList.prototype, "footerTemplate", void 0), 
        __decorate$19([ Property(!1) ], DropDownList.prototype, "allowFiltering", void 0), 
        __decorate$19([ Property(!1) ], DropDownList.prototype, "readonly", void 0), __decorate$19([ Property(null) ], DropDownList.prototype, "text", void 0), 
        __decorate$19([ Property(null) ], DropDownList.prototype, "value", void 0), __decorate$19([ Property(null) ], DropDownList.prototype, "index", void 0), 
        __decorate$19([ Property("Never") ], DropDownList.prototype, "floatLabelType", void 0), 
        __decorate$19([ Property(!1) ], DropDownList.prototype, "showClearButton", void 0), 
        __decorate$19([ Event() ], DropDownList.prototype, "filtering", void 0), __decorate$19([ Event() ], DropDownList.prototype, "change", void 0), 
        __decorate$19([ Event() ], DropDownList.prototype, "open", void 0), __decorate$19([ Event() ], DropDownList.prototype, "close", void 0), 
        __decorate$19([ Event() ], DropDownList.prototype, "blur", void 0), __decorate$19([ Event() ], DropDownList.prototype, "focus", void 0), 
        DropDownList = __decorate$19([ NotifyPropertyChanges ], DropDownList);
    }(DropDownBase$1), __extends$45 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$21 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    dropDownListClasses$1.root = "e-combobox";
    var inputObject$2 = {
        container: null,
        buttons: []
    }, ComboBox$1 = function(_super) {
        function ComboBox(options, element) {
            return _super.call(this, options, element) || this;
        }
        return __extends$45(ComboBox, _super), ComboBox.prototype.preRender = function() {
            _super.prototype.preRender.call(this);
        }, ComboBox.prototype.wireEvent = function() {
            "combobox" === this.getModuleName() && (EventHandler.add(this.inputWrapper.buttons[0], "mousedown", this.preventBlur, this), 
            EventHandler.add(this.inputWrapper.container, "blur", this.onBlur, this)), isNullOrUndefined(this.inputWrapper.buttons[0]) || EventHandler.add(this.inputWrapper.buttons[0], "mousedown", this.dropDownClick, this), 
            EventHandler.add(this.inputElement, "focus", this.targetFocus, this), this.readonly || (EventHandler.add(this.inputElement, "input", this.onInput, this), 
            EventHandler.add(this.inputElement, "keyup", this.onFilterUp, this), EventHandler.add(this.inputElement, "keydown", this.onFilterDown, this)), 
            this.bindCommonEvent();
        }, ComboBox.prototype.preventBlur = function(e) {
            (this.allowFiltering || document.activeElement === this.inputElement || document.activeElement.classList.contains(dropDownListClasses$1.input) || !Browser.isDevice) && Browser.isDevice || e.preventDefault();
        }, ComboBox.prototype.targetElement = function() {
            return this.inputElement;
        }, ComboBox.prototype.setOldText = function(text) {
            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.customValue(), this.removeSelection();
        }, ComboBox.prototype.setOldValue = function(value) {
            this.allowCustom ? this.valueMuteChange(this.value) : this.valueMuteChange(null), 
            this.removeSelection(), this.setHiddenValue();
        }, ComboBox.prototype.valueMuteChange = function(value) {
            var inputValue = isNullOrUndefined(value) ? null : value.toString();
            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.setProperties({
                value: value,
                text: value,
                index: null
            }, !0), this.activeIndex = this.index;
            var fields = this.fields, dataItem = {};
            dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString(), dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString(), 
            this.itemData = dataItem, this.item = null, this.previousValue !== this.value && this.detachChangeEvent(null);
        }, ComboBox.prototype.updateValues = function() {
            if (isNullOrUndefined(this.value)) if (this.text && isNullOrUndefined(this.value)) {
                (li = this.getElementByText(this.text)) ? this.setSelection(li, null) : (Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton), 
                this.customValue());
            } else this.setSelection(this.liCollections[this.activeIndex], null); else {
                var li;
                (li = this.getElementByValue(this.value)) ? this.setSelection(li, null) : this.allowCustom ? this.valueMuteChange(this.value) : this.valueMuteChange(null);
            }
            this.setHiddenValue(), Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);
        }, ComboBox.prototype.getAriaAttributes = function() {
            return {
                "aria-owns": this.element.id + "_options",
                role: "combobox",
                "aria-autocomplete": "both",
                "aria-labelledby": this.hiddenElement.id,
                "aria-hasPopup": "true",
                "aria-expanded": "false",
                "aria-readonly": this.readonly.toString(),
                autocomplete: "off",
                autocorrect: "off",
                autocapitalize: "off",
                spellcheck: "false"
            };
        }, ComboBox.prototype.searchLists = function(e) {
            this.isTyped = !0, this.isFiltering() ? (_super.prototype.searchLists.call(this, e), 
            "" === this.filterInput.value.trim() && this.setHoverList(this.ulElement.querySelector("." + dropDownListClasses$1.li))) : (this.ulElement && "" === this.inputElement.value && this.preventAutoFill && this.setHoverList(this.ulElement.querySelector("." + dropDownListClasses$1.li)), 
            this.incrementalSearch(e));
        }, ComboBox.prototype.getNgDirective = function() {
            return "EJS-COMBOBOX";
        }, ComboBox.prototype.setSearchBox = function() {
            return this.filterInput = this.inputElement, this.isFiltering() ? this.inputWrapper : inputObject$2;
        }, ComboBox.prototype.onActionComplete = function(ulElement, list, e, isUpdated) {
            _super.prototype.onActionComplete.call(this, ulElement, list, e), this.isSelectCustom && this.removeSelection(), 
            !this.preventAutoFill && "combobox" === this.getModuleName() && this.isTyped && this.inlineSearch();
        }, ComboBox.prototype.getFocusElement = function() {
            var dataItem = this.isSelectCustom ? {
                text: ""
            } : this.getItemData(), selected = this.list.querySelector("." + dropDownListClasses$1.selected);
            if (dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) return selected;
            if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {
                var activeElement = Search$2(this.inputElement.value, this.liCollections, "StartsWith", !0).item;
                if (isNullOrUndefined(activeElement)) this.isSelectCustom && "" !== this.inputElement.value.trim() && (this.removeFocus(), 
                this.list.scrollTop = 0); else {
                    var count = this.getIndexByValue(activeElement.getAttribute("data-value")) - 1, height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue("height"), 10);
                    if (!isNaN(height) && "autocomplete" !== this.getModuleName()) {
                        this.removeFocus();
                        var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;
                        this.list.scrollTop = count * height + fixedHead, addClass([ activeElement ], dropDownListClasses$1.focus);
                    }
                }
                return activeElement;
            }
            return null;
        }, ComboBox.prototype.setValue = function(e) {
            return e && "keydown" === e.type && "enter" === e.action && this.removeFillSelection(), 
            this.autofill && "combobox" === this.getModuleName() && e && "keydown" === e.type && "enter" !== e.action ? (this.preventAutoFill = !1, 
            this.inlineSearch(e), !1) : _super.prototype.setValue.call(this, e);
        }, ComboBox.prototype.showSpinner = function() {
            isNullOrUndefined(this.spinnerElement) && (this.spinnerElement = this.inputWrapper.buttons[0] || this.inputWrapper.clearButton, 
            addClass([ this.spinnerElement ], dropDownListClasses$1.disableIcon), createSpinner({
                target: this.spinnerElement,
                width: Browser.isDevice ? "16px" : "14px"
            }), showSpinner(this.spinnerElement));
        }, ComboBox.prototype.hideSpinner = function() {
            isNullOrUndefined(this.spinnerElement) || (hideSpinner(this.spinnerElement), this.spinnerElement.innerHTML = "", 
            removeClass([ this.spinnerElement ], dropDownListClasses$1.disableIcon), this.spinnerElement = null);
        }, ComboBox.prototype.setAutoFill = function(activeElement, isHover) {
            if (isHover || this.setHoverList(activeElement), this.autofill && !this.preventAutoFill) {
                var currentValue = this.getTextByValue(activeElement.getAttribute("data-value")).toString(), currentFillValue = this.getFormattedValue(activeElement.getAttribute("data-value"));
                "combobox" === this.getModuleName() && (this.isSelected || this.previousValue === currentFillValue ? this.updateSelectedItem(activeElement, null, !0) : (this.updateSelectedItem(activeElement, null), 
                this.isSelected = !0, this.previousValue = this.getFormattedValue(activeElement.getAttribute("data-value")))), 
                this.isAndroidAutoFill(currentValue) || this.setAutoFillSelection(currentValue);
            }
        }, ComboBox.prototype.isAndroidAutoFill = function(value) {
            if (Browser.isAndroid) {
                var currentPoints = this.getSelectionPoints(), prevEnd = this.prevSelectPoints.end, curEnd = currentPoints.end, prevStart = this.prevSelectPoints.start, curStart = currentPoints.start;
                return 0 !== prevEnd && (prevEnd === value.length && prevStart === value.length || prevStart > curStart && prevEnd > curEnd || prevEnd === curEnd && prevStart === curStart);
            }
            return !1;
        }, ComboBox.prototype.isSelectFocusItem = function(element) {
            return !isNullOrUndefined(element);
        }, ComboBox.prototype.inlineSearch = function(e) {
            var isKeyNavigate = e && ("down" === e.action || "up" === e.action || "home" === e.action || "end" === e.action || "pageUp" === e.action || "pageDown" === e.action), activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();
            if (isNullOrUndefined(activeElement)) if ("" === this.inputElement.value) {
                this.activeIndex = null, this.list.scrollTop = 0;
                var focusItem = this.list.querySelector("." + dropDownListClasses$1.li);
                this.setHoverList(focusItem);
            } else this.activeIndex = null, this.removeSelection(), this.removeFocus(); else {
                if (!isKeyNavigate) {
                    var value = this.getFormattedValue(activeElement.getAttribute("data-value"));
                    this.activeIndex = this.getIndexByValue(value), this.activeIndex = isNullOrUndefined(this.activeIndex) ? null : this.activeIndex;
                }
                this.preventAutoFill = "" !== this.inputElement.value && this.preventAutoFill, this.setAutoFill(activeElement, isKeyNavigate);
            }
        }, ComboBox.prototype.incrementalSearch = function(e) {
            this.showPopup(), isNullOrUndefined(this.listData) || (this.inlineSearch(e), e.preventDefault());
        }, ComboBox.prototype.setAutoFillSelection = function(currentValue) {
            var selection = this.getSelectionPoints(), value = this.inputElement.value.substr(0, selection.start);
            if (value && value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase()) {
                var inputValue = value + currentValue.substr(value.length, currentValue.length);
                Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton), 
                this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);
            } else Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton), 
            this.inputElement.setSelectionRange(0, this.inputElement.value.length);
        }, ComboBox.prototype.getValueByText = function(text) {
            return _super.prototype.getValueByText.call(this, text, !0);
        }, ComboBox.prototype.unWireEvent = function() {
            "combobox" === this.getModuleName() && (EventHandler.remove(this.inputWrapper.buttons[0], "mousedown", this.preventBlur), 
            EventHandler.remove(this.inputWrapper.container, "blur", this.onBlur)), isNullOrUndefined(this.inputWrapper.buttons[0]) || EventHandler.remove(this.inputWrapper.buttons[0], "mousedown", this.dropDownClick), 
            EventHandler.remove(this.inputElement, "focus", this.targetFocus), this.readonly || (EventHandler.remove(this.inputElement, "input", this.onInput), 
            EventHandler.remove(this.inputElement, "keyup", this.onFilterUp), EventHandler.remove(this.inputElement, "keydown", this.onFilterDown)), 
            this.unBindCommonEvent();
        }, ComboBox.prototype.setSelection = function(li, e) {
            _super.prototype.setSelection.call(this, li, e), isNullOrUndefined(li) || this.autofill || this.isDropDownClick || this.removeFocus();
        }, ComboBox.prototype.selectCurrentItem = function(e) {
            var li;
            this.isPopupOpen && ((li = this.list.querySelector("." + dropDownListClasses$1.focus)) && (this.setSelection(li, e), 
            this.isTyped = !1), this.isSelected && (this.isSelectCustom = !1, this.onChangeEvent(e))), 
            "enter" === e.action && "" === this.inputElement.value.trim() ? this.clear(e) : this.isTyped && !this.isSelected && isNullOrUndefined(li) && this.customValue(), 
            this.hidePopup();
        }, ComboBox.prototype.setHoverList = function(li) {
            this.removeSelection(), this.isValidLI(li) && !li.classList.contains(dropDownListClasses$1.selected) && (this.removeFocus(), 
            li.classList.add(dropDownListClasses$1.focus));
        }, ComboBox.prototype.targetFocus = function(e) {
            Browser.isDevice && !this.allowFiltering && (this.preventFocus = !1), this.onFocus();
        }, ComboBox.prototype.dropDownClick = function(e) {
            e.preventDefault(), Browser.isDevice && !this.allowFiltering && (this.preventFocus = !0), 
            _super.prototype.dropDownClick.call(this, e);
        }, ComboBox.prototype.customValue = function() {
            var value = this.getValueByText(this.inputElement.value);
            if (this.allowCustom || "" === this.inputElement.value) if ("" !== this.inputElement.value.trim()) {
                var previousValue = this.value;
                if (isNullOrUndefined(value)) {
                    var value_1 = "" === this.inputElement.value ? null : this.inputElement.value, fields = this.fields, eventArgs = void 0;
                    eventArgs = {
                        text: value_1,
                        item: {}
                    }, this.initial || this.trigger("customValueSpecifier", eventArgs);
                    var item = eventArgs.item, dataItem = {};
                    item && getValue(fields.text, item) && getValue(fields.value, item) ? dataItem = item : (setValue(fields.text, value_1, dataItem), 
                    setValue(fields.value, value_1, dataItem)), this.itemData = dataItem;
                    var changeData = {
                        text: getValue(fields.text, this.itemData),
                        value: getValue(fields.value, this.itemData),
                        index: null
                    };
                    this.setProperties(changeData, !0), this.setSelection(null, null), this.isSelectCustom = !0;
                } else this.isSelectCustom = !1, this.setProperties({
                    value: value
                });
                previousValue !== this.value && this.onChangeEvent(null);
            } else this.allowCustom && (this.isSelectCustom = !0); else this.setProperties({
                value: value
            }), isNullOrUndefined(this.value) && Input.setValue("", this.inputElement, this.floatLabelType, this.showClearButton);
        }, ComboBox.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.setUpdateInitial([ "query", "dataSource" ], newProp);
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "readonly":
                    Input.setReadonly(this.readonly, this.inputElement), this.readonly ? (EventHandler.remove(this.inputElement, "keyup", this.onFilterUp), 
                    EventHandler.remove(this.inputElement, "keydown", this.onFilterDown)) : (EventHandler.add(this.inputElement, "keyup", this.onFilterUp, this), 
                    EventHandler.add(this.inputElement, "keydown", this.onFilterDown, this));
                    break;

                  case "allowFiltering":
                    this.setSearchBox();
                    break;

                  case "allowCustom":
                    break;

                  default:
                    var comboProps = void 0;
                    comboProps = this.getPropObject(prop, newProp, oldProp), _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);
                }
            }
        }, ComboBox.prototype.render = function() {
            _super.prototype.render.call(this), this.setSearchBox(), this.isFiltering() && "combobox" === this.getModuleName() && isNullOrUndefined(this.list) && _super.prototype.renderList.call(this);
        }, ComboBox.prototype.getModuleName = function() {
            return "combobox";
        }, ComboBox.prototype.hidePopup = function() {
            if (!isNullOrUndefined(this.listData)) {
                var isEscape = this.isEscapeKey;
                this.isEscapeKey && (Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton), 
                this.isEscapeKey = !1), this.autofill && this.removeFillSelection();
                var dataItem = this.isSelectCustom ? {
                    text: ""
                } : this.getItemData(), selected = this.list.querySelector("." + dropDownListClasses$1.selected);
                if (dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) return this.isSelected && (this.onChangeEvent(null), 
                this.isSelectCustom = !1), void _super.prototype.hidePopup.call(this);
                if ("combobox" === this.getModuleName() && "" !== this.inputElement.value.trim()) {
                    var searchItem = Search$2(this.inputElement.value, this.liCollections, "Equal", !0);
                    this.selectedLI = searchItem.item, isNullOrUndefined(searchItem.index) && (searchItem.index = Search$2(this.inputElement.value, this.liCollections, "StartsWith", !0).index), 
                    this.activeIndex = searchItem.index, isNullOrUndefined(this.selectedLI) ? isEscape && (this.isSelectCustom = !0, 
                    this.removeSelection()) : this.updateSelectedItem(this.selectedLI, null, !0);
                }
                this.isEscapeKey || !this.isTyped || this.isInteracted || this.customValue();
            }
            _super.prototype.hidePopup.call(this);
        }, ComboBox.prototype.focusIn = function() {
            Browser.isDevice && !this.allowFiltering && (this.preventFocus = !0), _super.prototype.focusIn.call(this);
        }, __decorate$21([ Property(!1) ], ComboBox.prototype, "autofill", void 0), __decorate$21([ Property(!0) ], ComboBox.prototype, "allowCustom", void 0), 
        __decorate$21([ Property({}) ], ComboBox.prototype, "htmlAttributes", void 0), __decorate$21([ Property(!1) ], ComboBox.prototype, "allowFiltering", void 0), 
        __decorate$21([ Property(null) ], ComboBox.prototype, "query", void 0), __decorate$21([ Property(null) ], ComboBox.prototype, "index", void 0), 
        __decorate$21([ Property(!0) ], ComboBox.prototype, "showClearButton", void 0), 
        __decorate$21([ Event() ], ComboBox.prototype, "customValueSpecifier", void 0), 
        __decorate$21([ Event() ], ComboBox.prototype, "filtering", void 0), __decorate$21([ Property(null) ], ComboBox.prototype, "valueTemplate", void 0), 
        __decorate$21([ Property("Never") ], ComboBox.prototype, "floatLabelType", void 0), 
        __decorate$21([ Property(null) ], ComboBox.prototype, "filterBarPlaceholder", void 0), 
        ComboBox = __decorate$21([ NotifyPropertyChanges ], ComboBox);
    }(DropDownList$1), __extends$42 = function() {
        var extendStatics = Object.setPrototypeOf || {
            __proto__: []
        } instanceof Array && function(d, b) {
            d.__proto__ = b;
        } || function(d, b) {
            for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return function(d, b) {
            function __() {
                this.constructor = d;
            }
            extendStatics(d, b), d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, 
            new __());
        };
    }(), __decorate$18 = function(decorators, target, key, desc) {
        var d, c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    dropDownListClasses$1.root = "e-autocomplete", dropDownListClasses$1.icon = "e-input-group-icon e-ddl-icon e-search-icon";
    var AutoComplete$1 = function(_super) {
        function AutoComplete(options, element) {
            var _this = _super.call(this, options, element) || this;
            return _this.isFiltered = !1, _this;
        }
        return __extends$42(AutoComplete, _super), AutoComplete.prototype.preRender = function() {
            _super.prototype.preRender.call(this);
        }, AutoComplete.prototype.getNgDirective = function() {
            return "EJS-AUTOCOMPLETE";
        }, AutoComplete.prototype.getQuery = function(query) {
            var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query(), filterType = "" !== this.queryString || isNullOrUndefined(this.value) ? this.filterType : "equal", queryString = "" !== this.queryString || isNullOrUndefined(this.value) ? this.queryString : this.value;
            if (this.isFiltered) return filterQuery;
            if (null !== this.queryString) {
                var dataType = this.typeOfData(this.dataSource).typeof;
                if ((this.dataSource instanceof DataManager || "string" !== dataType) && "number" !== dataType) {
                    var mapping = isNullOrUndefined(this.fields.value) ? "" : this.fields.value;
                    filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);
                } else filterQuery.where("", filterType, queryString, this.ignoreCase, this.ignoreAccent);
            }
            return isNullOrUndefined(this.suggestionCount) || filterQuery.take(this.suggestionCount), 
            filterQuery;
        }, AutoComplete.prototype.searchLists = function(e) {
            var _this = this;
            this.isTyped = !0, this.isSelectCustom = !1, isNullOrUndefined(this.list) && _super.prototype.renderList.call(this, !0);
            var isDownUpKey = 40 === e.keyCode || 38 === e.keyCode;
            if (this.queryString = this.filterInput.value, isDownUpKey) return this.queryString = "" === this.queryString ? null : this.queryString, 
            this.beforePopupOpen = !0, void this.resetList(this.dataSource, this.fields);
            this.isSelected = !1, this.activeIndex = null;
            var eventArgs = {
                preventDefaultAction: !1,
                text: this.filterInput.value,
                updateData: function(dataSource, query, fields) {
                    eventArgs.cancel || (_this.isFiltered = !0, _this.filterAction(dataSource, query, fields));
                },
                cancel: !1
            };
            this.trigger("filtering", eventArgs), eventArgs.cancel || this.isFiltered || eventArgs.preventDefaultAction || this.filterAction(this.dataSource, null, this.fields);
        }, AutoComplete.prototype.filterAction = function(dataSource, query, fields) {
            this.beforePopupOpen = !0, "" !== this.queryString && (this.queryString.length >= this.minLength || this.isFiltered) ? this.resetList(dataSource, fields, query) : this.hidePopup();
        }, AutoComplete.prototype.clear = function(e, property) {
            (isNullOrUndefined(property) || "dataSource" !== property) && _super.prototype.clear.call(this, e), 
            this.beforePopupOpen && this.hidePopup();
        }, AutoComplete.prototype.onActionComplete = function(ulElement, list, e, isUpdated) {
            this.fixedHeaderElement = null, _super.prototype.onActionComplete.call(this, ulElement, list, e);
            var item = this.list.querySelector("." + dropDownListClasses$1.li);
            isNullOrUndefined(item) || removeClass([ item ], dropDownListClasses$1.focus), this.postBackAction();
        }, AutoComplete.prototype.postBackAction = function() {
            if (null !== this.queryString && "" !== this.queryString && this.highlight && highlightSearch$1(this.list, this.queryString, this.ignoreCase, this.filterType), 
            this.autofill && !isNullOrUndefined(this.liCollections[0])) {
                var items = [ this.liCollections[0] ];
                isNullOrUndefined(Search$2(this.inputElement.value, items, "StartsWith", this.ignoreCase).item) || _super.prototype.setAutoFill.call(this, this.liCollections[0], !0);
            }
        }, AutoComplete.prototype.setSelection = function(li, e) {
            if (this.isValidLI(li)) if (!isNullOrUndefined(e) && "keydown" === e.type && "enter" !== e.action && this.isValidLI(li)) {
                var value = this.getFormattedValue(li.getAttribute("data-value"));
                this.activeIndex = this.getIndexByValue(value), this.setHoverList(li), this.selectedLI = li, 
                this.setScrollPosition(e), this.autofill && (this.preventAutoFill = !1, _super.prototype.setAutoFill.call(this, li)), 
                attributes(this.inputElement, {
                    "aria-activedescendant": this.selectedLI ? this.selectedLI.id : null
                });
            } else _super.prototype.setSelection.call(this, li, e);
        }, AutoComplete.prototype.showSpinner = function() {
            isNullOrUndefined(this.spinnerElement) && (this.spinnerElement = this.inputWrapper.buttons[0] || this.inputWrapper.clearButton || Input.appendSpan("e-input-group-icon e-atc-spinner-icon", this.inputWrapper.container), 
            addClass([ this.spinnerElement ], dropDownListClasses$1.disableIcon), createSpinner({
                target: this.spinnerElement,
                width: Browser.isDevice ? "16px" : "14px"
            }), showSpinner(this.spinnerElement));
        }, AutoComplete.prototype.hideSpinner = function() {
            isNullOrUndefined(this.spinnerElement) || (hideSpinner(this.spinnerElement), removeClass([ this.spinnerElement ], dropDownListClasses$1.disableIcon), 
            this.spinnerElement.classList.contains("e-atc-spinner-icon") ? detach(this.spinnerElement) : this.spinnerElement.innerHTML = "", 
            this.spinnerElement = null);
        }, AutoComplete.prototype.isFiltering = function() {
            return !0;
        }, AutoComplete.prototype.renderPopup = function() {
            this.list.scrollTop = 0, _super.prototype.renderPopup.call(this), this.highlight && highlightSearch$1(this.list, this.queryString, this.ignoreCase, this.filterType);
        }, AutoComplete.prototype.isEditTextBox = function() {
            return "" !== this.inputElement.value.trim();
        }, AutoComplete.prototype.isPopupButton = function() {
            return this.showPopupButton;
        }, AutoComplete.prototype.isSelectFocusItem = function(element) {
            return !1;
        }, AutoComplete.prototype.showPopup = function() {
            this.beforePopupOpen ? this.refreshPopup() : (this.beforePopupOpen = !0, this.preventAutoFill = !0, 
            isNullOrUndefined(this.list) ? this.renderList() : this.resetList(this.dataSource, this.fields));
        }, AutoComplete.prototype.hidePopup = function() {
            _super.prototype.hidePopup.call(this), this.activeIndex = -1;
        }, AutoComplete.prototype.onPropertyChanged = function(newProp, oldProp) {
            this.setUpdateInitial([ "query", "dataSource" ], newProp);
            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {
                var prop = _a[_i];
                switch (prop) {
                  case "showPopupButton":
                    if (this.showPopupButton) {
                        var button = Input.appendSpan(dropDownListClasses$1.icon, this.inputWrapper.container);
                        this.inputWrapper.buttons[0] = button, EventHandler.add(this.inputWrapper.buttons[0], "click", this.dropDownClick, this);
                    } else detach(this.inputWrapper.buttons[0]), this.inputWrapper.buttons[0] = null;
                    break;

                  default:
                    var atcProps = void 0;
                    atcProps = this.getPropObject(prop, newProp, oldProp), _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);
                }
            }
        }, AutoComplete.prototype.getModuleName = function() {
            return "autocomplete";
        }, AutoComplete.prototype.render = function() {
            _super.prototype.render.call(this);
        }, __decorate$18([ Complex({
            value: null,
            iconCss: null,
            groupBy: null
        }, FieldSettings$2) ], AutoComplete.prototype, "fields", void 0), __decorate$18([ Property(!0) ], AutoComplete.prototype, "ignoreCase", void 0), 
        __decorate$18([ Property(!1) ], AutoComplete.prototype, "showPopupButton", void 0), 
        __decorate$18([ Property(!1) ], AutoComplete.prototype, "highlight", void 0), __decorate$18([ Property(20) ], AutoComplete.prototype, "suggestionCount", void 0), 
        __decorate$18([ Property({}) ], AutoComplete.prototype, "htmlAttributes", void 0), 
        __decorate$18([ Property(null) ], AutoComplete.prototype, "query", void 0), __decorate$18([ Property(1) ], AutoComplete.prototype, "minLength", void 0), 
        __decorate$18([ Property("Contains") ], AutoComplete.prototype, "filterType", void 0), 
        __decorate$18([ Event() ], AutoComplete.prototype, "filtering", void 0), __decorate$18([ Property(null) ], AutoComplete.prototype, "index", void 0), 
        __decorate$18([ Property("Never") ], AutoComplete.prototype, "floatLabelType", void 0), 
        __decorate$18([ Property(null) ], AutoComplete.prototype, "valueTemplate", void 0), 
        __decorate$18([ Property(null) ], AutoComplete.prototype, "filterBarPlaceholder", void 0), 
        __decorate$18([ Property(!1) ], AutoComplete.prototype, "allowFiltering", void 0), 
        __decorate$18([ Property(null) ], AutoComplete.prototype, "text", void 0), AutoComplete = __decorate$18([ NotifyPropertyChanges ], AutoComplete);
    }(ComboBox$1), calendars = {};
    calendars.Calendar = Calendar, exports.buttons = {}, exports.buttons.Button = Button$1, 
    Grid.Inject(Filter, Page, Selection, Sort, Group, Reorder, RowDD, DetailRow, Toolbar$1, Aggregate, Search, VirtualScroll, Edit, Resize, ExcelExport, PdfExport, CommandColumn, ContextMenu$1, Freeze, ColumnMenu, ColumnChooser, ForeignKey);
    var grids = {};
    grids.Grid = Grid;
    var navigations = {};
    navigations.ContextMenu = ContextMenu$2, navigations.Toolbar = Toolbar$2, calendars.DatePicker = DatePicker$1;
    var dropdowns = {};
    dropdowns.AutoComplete = AutoComplete$1, dropdowns.DropDownList = DropDownList$1;
    var base = _base, data = _data, inputs = _inputs, popups = _popups;
    exports.buttons = _buttons;
    var excelexport = _excelexport, pdfexport = _pdfexport, fileutils = _fileutils, compression = _compression;
    return exports.calendars = calendars, exports.base = base, exports.grids = grids, 
    exports.data = data, exports.inputs = inputs, exports.navigations = navigations, 
    exports.dropdowns = dropdowns, exports.popups = popups, exports.excelexport = excelexport, 
    exports.pdfexport = pdfexport, exports.fileutils = fileutils, exports.compression = compression, 
    exports;
}({});
